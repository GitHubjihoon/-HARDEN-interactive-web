(window.__se_editor_jsonp=window.__se_editor_jsonp||[]).push([[18],{1025:function(e,t){e.exports="//editor-static.pstatic.net/e/basic.desktop/1.25.0//img/common_loading-63cbd21e.gif"},1026:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n="se3#";function r(e){return void 0===e&&(e=""),n+e}var i={get:function(e){var t=localStorage.getItem(r(e));if(null!==t){try{return JSON.parse(t)}catch(e){}return t}},set:function(e,t){var o=t;"string"!==typeof t&&(o=JSON.stringify(t)),localStorage.setItem(r(e),o)},remove:function(e){localStorage.removeItem(r(e))},clearAll:function(){localStorage.clear()},each:function(e){void 0===e&&(e=function(){});for(var t=localStorage.length,o=0;o<t;o++){var r=new RegExp(n),i=localStorage.key(o).replace(r,"");e(this.get(i),i)}}},a=i;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/local-data-storage/index.js",localName:t}})}catch(e){}}e(n,"GLOBAL_KEY_PREFIX"),e(r,"getKey"),e(i,"localDataStorage"),e(a,"default")}()},103:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(53),l=o.n(c),u=o(51),p=o(48),d=o(335),h=o(55),f=o(50),m=o(122),g=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.handleChange=this.handleChange.bind(this)},o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.documentToolbarIconType,a=t.moreViewButton,s=t.deviceType,c=t.label,u=t.labelVisible,d=t.i18n,g=t.value,y=t.focused,b=t.logAreaId,_=t.logId,v=t.type,C=t.highlight,O=s===f.t.DESKTOP,S=r===h.e.DOCUMENT,k=i===h.d.TEXT_ICON||u,I=l()("se-"+n+"-toolbar-button",((e={})["se-"+r+"-toolbar-"+v+"-button"]=!S||!a,e["se-"+r+"-toolbar-"+v+"-more-button"]=S&&a,e["se-"+i+"-toolbar-button"]=O&&S,e["se-is-selected"]=g,e)),w=k?"se-toolbar-label":"se-blind",P=this._renderTooltip(),j=d(c);return p.b.createElement(m.a,{className:I,namespace:r,type:v,logAreaId:b,logId:_,dataName:o,i18n:d,focused:y,highlight:C,handleClick:this.handleChange},p.b.createElement("span",{className:"se-toolbar-icon"}),p.b.createElement("span",{className:w,"aria-hidden":O},j),O&&P)},o._renderTooltip=function(){var e=this.props,t=(0,e.i18n)(e.title[e.value?"active":"inactive"]);return p.b.createElement("span",{className:"se-toolbar-tooltip"},t)},o.handleChange=function(e){var t=this.props,o=t.name,n=t.label,r=t.type,i=t.title,a=t.action;(0,t.onChange)({event:e,type:r,name:o,label:n,title:i,action:a,value:!t.value})},t}(p.b.Component),s()(n.prototype,"handleChange",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChange"),n.prototype),n);g.defaultProps={label:"",id:"",name:"",title:{inactive:"",active:""},namespace:"",documentToolbarIconType:"",labelVisible:!1,moreViewButton:!1,value:!1,focused:!1,className:"",highlight:{},onChange:function(){},i18n:function(e){return e}},g.propTypes={type:p.a.oneOf([h.a.TOGGLE]).isRequired,id:p.a.string,name:p.a.string,label:p.a.string,deviceType:p.a.string,action:p.a.string,title:p.a.shape({inactive:p.a.string,active:p.a.string}),labelVisible:p.a.bool,namespace:p.a.string,documentToolbarIconType:p.a.string,moreViewButton:p.a.bool,value:p.a.oneOfType([p.a.bool,p.a.string]),highlight:p.a.object,focused:p.a.bool,onChange:p.a.func,i18n:p.a.func,logAreaId:p.a.string,logId:p.a.string};var y=Object(d.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/toggle-button.jsx",localName:t}})}catch(e){}}e(g,"ToggleButton"),e(y,"default")}()},104:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(53),l=o.n(c),u=o(48),p=o(335),d=o(51),h=o(55),f=o(122),m=o(50),g=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._selected=this.props.value},o.UNSAFE_componentWillReceiveProps=function(e){this._selected=e.value},o.render=function(){var e=this,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.groups,a=t.deviceType,s=t.i18n,c=t.type,p=t.focused,d=t.labelVisible,h=t.logAreaId,g=this._selected,y="se-"+r+"-toolbar-"+c+"-container",b=d?"se-toolbar-label":"se-blind",_=i.map(function(t){var i=t.value,d=t.title,y=t.label,_=t.logId,v=g===i,C=a===m.t.DESKTOP,O=l()("se-"+r+"-toolbar-"+c+"-button","se-"+n+"-"+c+"-toolbar-button","se-"+n+"-"+i+"-toolbar-button",v?"se-is-selected":"");return u.b.createElement(f.a,{logAreaId:h,namespace:r,logId:_,type:c,dataName:o,focused:v&&p,className:O,handleClick:e.handleChange,dataValue:i,key:i,i18n:s},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:b,"aria-hidden":C},s(y)),C&&u.b.createElement("span",{className:"se-toolbar-tooltip"},s(d)))});return u.b.createElement("div",{className:y,"data-type":c,"data-name":n},_)},o.handleChange=function(e){var t=this.props,o=t.type,n=t.id,r=t.name,i=t.title,a=t.label,s=t.action;(0,t.onChange)({event:e,type:o,id:n,name:r,title:i,label:a,action:s,value:e.currentTarget.dataset.value})},t}(u.b.Component),s()(n.prototype,"handleChange",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChange"),n.prototype),n);g.defaultProps={label:"",id:"",name:"",title:"",namespace:"",labelVisible:!1,value:null,focused:!1,logAreaId:"",onChange:function(){},i18n:function(e){return e}},g.propTypes={type:u.a.oneOf([h.a.GROUP_TOGGLE]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,labelVisible:u.a.bool,action:u.a.string,title:u.a.string,namespace:u.a.string,deviceType:u.a.string,groups:u.a.oneOfType([u.a.object,u.a.array]).isRequired,value:u.a.oneOfType([u.a.string,u.a.number,u.a.bool]),focused:u.a.bool,logAreaId:u.a.string,onChange:u.a.func,i18n:u.a.func};var y=Object(p.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/group-toggle-button.jsx",localName:t}})}catch(e){}}e(g,"GroupToggleButton"),e(y,"default")}()},120:function(e,t,o){"use strict";var n=o(50),r=/^(https)/,i=function(){function e(e,t){if(!t)throw new Error("image src is null!");this._imageUrl=t,this._resultUrl="//"+e+"/?src=%22"+encodeURI(this._imageUrl)+"%22",this._type=null,this._service=null}var t=e.prototype;return t.withType=function(e){return void 0===e&&(e="w1"),this._type=e,this},t.withService=function(e){return this._service=e,this},t.build=function(){return null!=this._type&&(this._resultUrl+="&type="+this._type),null!=this._service&&(this._resultUrl+="&service="+this._service),this._resultUrl},e}(),a=function(e,t,o){void 0===t&&(t="w1"),void 0===o&&(o=null);var r=n.V.get("configAgent").get("productConfig.domains.dthumb");return new i(r,e).withType(t).withService(o).build()},s={makeDthumbHttpsUrl:function(e,t,o){return void 0===t&&(t="w1"),void 0===o&&(o=null),e?r.test(e)?e:a(e,t,o):e},makeDthumbUrl:function(e,t,o){return void 0===t&&(t="w1"),void 0===o&&(o=null),a(e,t,o)}},c=s;t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/dthumb-url-generator/index.js",localName:t}})}catch(e){}}e(r,"RX_HTTPS_PATTERN"),e(i,"BuilderForDthumbUrl"),e(a,"innertBuildDThumbUrl"),e(s,"DThumbUrlGenerator"),e(c,"default")}()},1209:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(48),a=o(335),s=o(1024),c=o.n(s),l=o(50),u=o(652),p=function(e){var t=function(t){function o(e){var o;if((o=t.call(this,e)||this).state={LazyComponent:null},!e.useCase||!e.useCase.close)throw new Error("props.useCase.close is required.");return o._flows=new u.a,o}r()(o,t);var n=o.prototype;return n.componentDidMount=function(){var t=this.props.store.opened;(e.preload||t)&&this._loadComponent()},n.componentDidUpdate=function(){var e=this.props.store.opened;!this.state.LazyComponent&&e&&this._loadComponent()},n.componentWillUnmount=function(){this._flows.abort()},n.render=function(){var e=this.state.LazyComponent,t=this.props.store,o=t.opened,n=t.unmountDelayTime,r=void 0===n?0:n;return e&&o?i.b.createElement(c.a,{mounted:o,unmountAfter:r},i.b.createElement(e,this.props)):null},n._loadComponent=function(){var t=this;this._flows.fork("loading").next(e.Loader).next(function(e){var o=e.default;t.setState({LazyComponent:o})}).fail(function(){var e=l.V.get("alertLayerService"),o=t.props,n=o.useCase,r=o.i18n;n.close(),e.open({type:"alert",title:r("errorLazy:title"),description:r("errorLazy:description")})})},o}(i.b.Component);return Object(a.b)(t)},d=p;t.a=d,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/withLazy/withLazyByIsOpen.jsx",localName:t}})}catch(e){}}e(p,"withLazyByIsOpen"),e(d,"default")}()},1211:function(e,t,o){"use strict";o.d(t,"e",function(){return r}),o.d(t,"f",function(){return i}),o.d(t,"g",function(){return a}),o.d(t,"h",function(){return s}),o.d(t,"d",function(){return c}),o.d(t,"b",function(){return l}),o.d(t,"a",function(){return u}),o.d(t,"c",function(){return g});var n=o(975),r={ctype:n.b.string.isRequired,x:n.b.number.isRequired,y:n.b.number.isRequired},i={ctype:n.b.string.isRequired,latitude:n.b.number.isRequired,longitude:n.b.number.isRequired},a={ctype:n.b.string.isRequired,src:n.b.string.isRequired},s={ctype:n.b.string.isRequired,src:n.b.string.isRequired,width:n.b.number,height:n.b.number},c={ctype:n.b.string.isRequired,placeId:n.b.string,name:n.b.string,address:n.b.string,latlng:n.b.shape(i),searchType:n.b.string,bookingUrl:n.b.string,tel:n.b.string},l={ctype:n.b.string.isRequired,title:n.b.string,tags:n.b.array.isRequired,description:n.b.string},u={ctype:n.b.string.isRequired,srcFrom:n.b.string.isRequired,externalId:n.b.string},p={ctype:n.b.string.isRequired,selectedWeeks:n.b.array.isRequired,daysOfWeek:n.b.array.isRequired},d={ctype:n.b.string.isRequired,startDay:n.b.number.isRequired,endDay:n.b.number.isRequired},h={ctype:n.b.string.isRequired,daysOfWeek:n.b.array,weekDayGroup:n.b.shape(p),dateGroup:n.b.shape(d)},f={ctype:n.b.string.isRequired,repetitionType:n.b.shape(h),time:n.b.string.isRequired},m={ctype:n.b.string.isRequired,type:n.b.string.isRequired,startDate:n.b.string.isRequired,endDate:n.b.string.isRequired,expired:n.b.bool.isRequired},g={Repetition:f,Notification:m};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/schema/src/defined-schema.js",localName:t}})}catch(e){}}e(r,"SchemaPoint"),e(i,"SchemaPosition"),e(a,"SchemaSimpleThumbnail"),e(s,"SchemaThumbnail"),e(c,"SchemaPlace"),e(l,"MediaMeta"),e(u,"ImageOrigin"),e(p,"weekDayGroup"),e(d,"dateGroup"),e(h,"RepetitionData"),e(f,"Repetition"),e(m,"Notification"),e(g,"Schedule")}()},122:function(e,t,o){"use strict";var n=o(54),r=o.n(n),i=o(0),a=o.n(i),s=o(53),c=o.n(s),l=o(48),u=o(335),p=o(55),d=o(256),h=o(208),f={TEXT:"text",ICON:"icon"},m=function(e){function t(){var t;return(t=e.call(this)||this)._ref=l.b.createRef(),t}a()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._autoHideTooltip()},o.componentWillUnmount=function(){this._timer&&clearTimeout(this._timer)},o.render=function(){var e=this.props,t=e.type,o=e.text,n=e.arrow,r=e.src,i=c()("__se-highlight-tooltip","se-highlight-tooltip","se-highlight-tooltip-position-"+n),a=c()(["se-highlight-tooltip-container",{"se-highlight-tooltip-icon-type":t===f.ICON}]);return l.b.createElement("div",{ref:this._ref,className:i},l.b.createElement("div",{className:a},t===f.ICON&&l.b.createElement("div",{className:"se-highlight-tooltip-icon"},l.b.createElement("img",{src:r})),l.b.createElement("p",{className:"se-highlight-tooltip-description",dangerouslySetInnerHTML:{__html:o}}),l.b.createElement("span",{className:"se-highlight-arrow-icon"})))},o._autoHideTooltip=function(){var e=this;this._timer=setTimeout(function(){h.b.hide(e.props.name,h.a.TOOLTIP,e._ref.current)},3e3)},t}(l.b.Component);m.defaultProps={name:"",type:"",arrow:"",text:"",src:""},m.propTypes={name:l.a.string,type:l.a.string,arrow:l.a.string,text:l.a.string,src:l.a.string};var g=Object(u.b)(m),y=g;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/highlight-tooltip.jsx",localName:t}})}catch(e){}}e(f,"TOOLTIP_TYPES"),e(3e3,"AUTO_HIDE_TOOLTIP_TIMEOUT"),e(m,"HighlightTooltip"),e(g,"default")}();var b=[p.a.LABEL_SELECT,p.a.ICON_SELECT,p.a.DROP_DOWN,p.a.COLOR_PICKER,p.a.CUSTOM_LAYER,p.a.RANGE_SLIDER,p.a.MORE_VIEW],_=function(e){function t(t){var o;return(o=e.call(this,t)||this).buttonRef=l.b.createRef(),o}a()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){this.props.focused&&this.buttonRef.current.focus()},o.render=function(){var e=this.props,t=e.disabled,o=e.dataName,n=e.className,i=e.highlight,a=e.handleClick,s=e.children,u=i&&i.badge&&!h.b.shown(o,h.a.BADGE),p=i&&i.tooltip,f=c()([n,u&&"se-highlight-toolbar-button",(u||p)&&"__se-highlight-button",p&&"se-highlight-tooltip-toolbar-button"]),m=this._resolveDataAttributes(),g=this._resolveExpandedAttributes(),y=this._resolveHighlightTooltip(p),b=this._resolveBetaIcon();return l.b.createElement(d.a,r()({type:"button",title:"",className:f,elementRef:this.buttonRef,disabled:t,onClick:a},m,g),s,b,y)},o._resolveBetaIcon=function(){return this.props.useBeta?l.b.createElement("div",{className:"se-highlight-beta-icon"}):null},o._resolveHighlightTooltip=function(e){if(!e||!e.text)return null;var t=this.props,o=t.dataName,n=t.i18n;return l.b.createElement(y,{name:o,type:e.type,arrow:e.arrow,text:n(e.text),src:e.src})},o._resolveDataAttributes=function(){var e=this.props,t=e.namespace,o=e.dataValue,n=e.dataName,r=e.dataRole,i=e.type,a=e.logAreaId,s=e.logId;return{"data-group":t+"Toolbar","data-value":o,"data-type":i,"data-name":n,"data-log":a&&s?a+"."+s:null,"data-role":r}},o._resolveExpandedAttributes=function(){var e=this.props,t=e.ariaExpanded,o=e.ariaHasPopup,n=e.type;if(b.includes(n))return{"aria-expanded":t,"aria-haspopup":o}},t}(l.b.Component);_.defaultProps={focused:!1,disabled:!1,handleClick:function(){},i18n:function(e){return e},ariaExpanded:"false",ariaHasPopup:"false"},_.propTypes={namespace:l.a.oneOf(Object.values(p.e)).isRequired,type:l.a.oneOf(Object.values(p.a)),dataRole:l.a.string,dataValue:l.a.oneOfType([l.a.string,l.a.number,l.a.bool]),dataName:l.a.string,handleClick:l.a.func,className:l.a.string,disabled:l.a.bool,focused:l.a.bool,i18n:l.a.func,logAreaId:l.a.string,logId:l.a.string,useBeta:l.a.bool,highlight:l.a.object,ariaExpanded:l.a.string,ariaHasPopup:l.a.string};var v=Object(u.b)(_);t.a=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/ToolbarButton.jsx",localName:t}})}catch(e){}}e(b,"EXPANDABLE_BUTTON_TYPES"),e(_,"ToolbarButton"),e(v,"default")}()},1242:function(e,t,o){"use strict";o.r(t);var n=o(28),r=o(67),i=o(64),a={image:{type:"default",name:"image",label:"insertMenuLayout:photo_label",logId:"photo"},sticker:{type:"default",name:"sticker",label:"insertMenuLayout:sticker_label",logId:"sticker"},horizontalLine:{type:"optional",name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label",logId:"horizt",panels:{default:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label1",logId:"horizt0"},line1:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label2",logId:"horizt1"},line2:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label3",logId:"horizt2"},line3:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label4",logId:"horizt3"},line4:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label5",logId:"horizt4"},line5:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label6",logId:"horizt5"},line6:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label7",logId:"horizt6"},line7:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label8",logId:"horizt7"}}},quotation:{type:"optional",name:"quotation",label:"insertMenuLayout:quotation_label",logId:"quotat",panels:{default:{name:"quotation",label:"insertMenuLayout:quotation_label1",logId:"quota0"},quotation_line:{name:"quotation",label:"insertMenuLayout:quotation_label2",logId:"quota1"},quotation_bubble:{name:"quotation",label:"insertMenuLayout:quotation_label3",logId:"quota2"},quotation_underline:{name:"quotation",label:"insertMenuLayout:quotation_label4",logId:"quota3"},quotation_postit:{name:"quotation",label:"insertMenuLayout:quotation_label5",logId:"quota4"},quotation_corner:{name:"quotation",label:"insertMenuLayout:quotation_label6",logId:"quota5"}}}},s={getDefinitions:function(e){var t={};return Object(r.a)(e,function(e){var o=a[e];t[e]=Object(i.a)({},o)}),t}},c=s;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/config/insert-menu-definition/index.js",localName:t}})}catch(e){}}e(a,"defaultDefinition"),e(s,"default")}();var l=o(709),u=o(50),p=o(1209),d=o(0),h=o.n(d),f=function(e){function t(){var t;return(t=e.call(this)||this)._toastLayerService=u.V.get("toastLayerService"),t}return h()(t,e),t.prototype.close=function(){this._toastLayerService.close()},t}(u.m),m=f,g=m;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(f,"ToastLayerUseCase"),e(m,"default")}();var y=o(672),b=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){},o.close=function(){this._store.hideToast()},o.warningMessage=function(e){this._store.openToast({type:y.a.WARNING,message:e}),this._hideToast()},o.infoMessage=function(e){this._store.openToast({type:y.a.INFO,message:e}),this._hideToast()},o._hideToast=function(){var e=this;setTimeout(function(){e._store.hideToast()},this._store.lastingMoment)},t}(u.d),_=b,v=_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/service/index.js",localName:t}})}catch(e){}}e(b,"ToastLayerService"),e(_,"default")}();var C=o(344),O=u.G.extend({name:"ToastLayer",view:Object(p.a)({Loader:function(){return o.e(22).then(o.bind(null,1217))}}),useCase:g,service:v,store:C.a}),S=O,k=S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/index.js",localName:t}})}catch(e){}}e(O,"ToastLayer"),e(S,"default")}();var I=o(392),w=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.close=function(){this._store.closePopup(),this._unpauseDocumentEdit()},o.open=function(e){this._pauseDocumentEdit(),this._store.openPopup(e)},o.toggle=function(e){this._store.togglePopup(e)},o.getRecentSpecialLetterList=function(e){var t=this._store,o=t.persistentPolicy,n=void 0===o?[]:o,r=t.letterGroupList,i=Object.keys(n)[0],a=n[i],s=a.key,c=a.property,l=[].concat(r[i][c]),u=l.indexOf(e);return u>-1&&l.splice(u,1),l.unshift(e),l.length>I.a.STORAGE_VALUE_MAX_LENGTH&&l.pop(),{key:s,list:l}},o.updateRecentSpecialLetterList=function(e){this._store.updateRecentSpecialLetterList(e)},o.changeLetterGroup=function(e){this._store.changeLetterGroup(e)},o.hasChangedPosition=function(){this._store.movedPopup=!0},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/service/index.js",localName:t}})}catch(e){}}(w,"SpecialLetterLayerService")}();var P=o(391),j=o(708),T=u.G.extend({name:"SpecialLetterLayer",view:Object(p.a)({Loader:function(){return o.e(43).then(o.bind(null,1257))}}),useCase:P.a,service:w,store:j.a}),L=T,E=L;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/index.js",localName:t}})}catch(e){}}e(T,"SpecialLetterLayer"),e(L,"default")}();var N=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.m),x=N,D=x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(N,"LoadingLayerUseCase"),e(x,"default")}();var R=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){void 0===e&&(e="white"),this._pauseDocumentEdit(),this._store.show(e)},o.close=function(){this._store.hide(),this._unpauseDocumentEdit()},o.isOpen=function(){return this._store.isShow},t}(u.d),A=R,M=A;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/service/index.js",localName:t}})}catch(e){}}e(R,"LoadingLayerService"),e(A,"default")}();var B,U,V,F=o(60),z=o.n(F),W=o(57),G=o.n(W),H=o(49),q=o.n(H),J=(o(61),o(16)),K=o(48),Y=(B=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"isShow",U,G()(o)),z()(o,"dimColor",V,G()(o));var n=t.state,r=void 0===n?{}:n;return o.isShow=Object(J.a)(r,"isShow",o.isShow),o.dimColor=Object(J.a)(r,"dimColor",o.dimColor),o}h()(t,e);var o=t.prototype;return o.show=function(e){this.isShow=!0,this.dimColor=e},o.hide=function(){this.isShow=!1},t}(u.e),U=q()(B.prototype,"isShow",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=q()(B.prototype,"dimColor",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"white"}}),B),X=Y,Q=X;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/store/index.js",localName:t}})}catch(e){}}e(Y,"LoadingLayerStore"),e(X,"default")}();var Z=o(335),$=o(94),ee=o(51),te={ALL_BLOCK:0,SCROLL_BLOCK:1},oe={};oe[te.ALL_BLOCK]={preventDefaultList:["keydown","keyup","mousedown","mousemove","mouseup","touchstart","touchend","touchcancel","touchmove","scroll","contextmenu","dragstart","dragover","dragend","drop"],stopPropagationList:[]},oe[te.SCROLL_BLOCK]={preventDefaultList:["keydown","keyup","mousemove","touchmove","scroll","dragstart","dragover","dragend","drop"],stopPropagationList:["mousedown","mouseup","touchstart","touchend","touchcancel"]};var ne=function(e,t){var o;return void 0===t&&(t=te.ALL_BLOCK),Object(Z.b)((o=function(o){function n(e){var n;return(n=o.call(this,e)||this)._blockMode=t,n._elRef=K.b.createRef(),n._el=null,n}h()(n,o);var r=n.prototype;return r.componentDidMount=function(){var e=this._getBlockListByMode(this._blockMode),t=e.preventDefaultList,o=e.stopPropagationList,n=this._el=this._elRef.current;this._attachBlockEvent(n,t,this._handlePreventDefault),this._attachBlockEvent(n,o,this._handleStopPropagation)},r.componentDidUpdate=function(){var e=this._getBlockListByMode(this._blockMode),t=e.preventDefaultList,o=e.stopPropagationList;if(this._el!==this._elRef.current){var n=this._el=this._elRef.current;this._detachBlockEvent(n,t,this._handlePreventDefault),this._detachBlockEvent(n,o,this._handleStopPropagation),this._attachBlockEvent(n,t,this._handlePreventDefault),this._attachBlockEvent(n,o,this._handleStopPropagation)}},r.componentWillUnmount=function(){var e=this._getBlockListByMode(this._blockMode),t=e.preventDefaultList,o=e.stopPropagationList;this._detachBlockEvent(this._el,t,this._handlePreventDefault),this._detachBlockEvent(this._el,o,this._handleStopPropagation),this._el=null},r.render=function(){return K.b.createElement("div",{ref:this._elRef},K.b.createElement(e,this.props))},r._getBlockListByMode=function(e){return oe[e]||oe[te.ALL_BLOCK]},r._attachBlockEvent=function(e,t,o){t.forEach(function(t){e.addEventListener(t,o)})},r._detachBlockEvent=function(e,t,o){t.forEach(function(t){e.removeEventListener(t,o)})},r._handlePreventDefault=function(e){return e.preventDefault(),e.stopPropagation(),!1},r._handleStopPropagation=function(e){e.stopPropagation()},n}(K.b.Component),q()(o.prototype,"_handlePreventDefault",[ee.autobind],Object.getOwnPropertyDescriptor(o.prototype,"_handlePreventDefault"),o.prototype),q()(o.prototype,"_handleStopPropagation",[ee.autobind],Object.getOwnPropertyDescriptor(o.prototype,"_handleStopPropagation"),o.prototype),o))},re=ne,ie=re;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/withModal/index.jsx",localName:t}})}catch(e){}}e(te,"BLOCK_MODE"),e(oe,"_EVENT_BY_MODE"),e(ne,"withModal"),e(re,"default")}();var ae=function(e){function t(t){var n;return n=e.call(this,t)||this,(new Image).src=o(1025),n}return h()(t,e),t.prototype.render=function(){var e=this.props.store,t=e.isShow,o=e.dimColor;return t?K.b.createElement($.a,{className:"se-popup-loading",opened:t,dimColor:o},K.b.createElement("div",{className:"se-popup-loading-icon"},K.b.createElement("span",{className:"se-blind"},this.props.i18n("loadingLayer:loading")))):null},t}(K.b.Component);ae.defaultProps={i18n:function(e){return e}},ae.propTypes={store:K.a.instanceOf(Q).isRequired,useCase:K.a.instanceOf(D).isRequired,i18n:K.a.func};var se=ie(Object(Z.b)(ae)),ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/view/index.jsx",localName:t}})}catch(e){}}e(ae,"LoadingLayerView"),e(se,"default")}();var le=u.G.extend({name:"LoadingLayer",view:ce,useCase:D,service:M,store:Q}),ue=le,pe=ue;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/index.js",localName:t}})}catch(e){}}e(le,"LoadingLayer"),e(ue,"default")}();var de=o(345),he=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){},o.close=function(){},o.confirm=function(){this._store.confirmProgress()},o.start=function(e){this._store.start(e)},o.update=function(e){this._store.update(e)},o.end=function(){this._store.end()},t}(u.d),fe=he,me=fe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/service/index.js",localName:t}})}catch(e){}}e(he,"UploadProgressLayerService"),e(fe,"default")}();var ge=o(346),ye=u.G.extend({name:"UploadProgressLayer",view:Object(p.a)({Loader:function(){return o.e(23).then(o.bind(null,1218))}}),useCase:de.a,service:me,store:ge.b}),be=ye,_e=be;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/index.js",localName:t}})}catch(e){}}e(ye,"UploadProgressLayer"),e(be,"default")}();var ve=o(347),Ce=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._store.shown||(this._pauseDocumentEdit(),this._store.open())},o.close=function(){this._unpauseDocumentEdit(),this._store.close()},t}(u.d),Oe=Ce,Se=Oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/service/index.js",localName:t}})}catch(e){}}e(Ce,"HighlightBannerLayerService"),e(Oe,"default")}();var ke=o(348),Ie=u.G.extend({name:"HighlightBannerLayer",view:Object(p.a)({Loader:function(){return o.e(24).then(o.bind(null,1219))}}),useCase:ve.a,service:Se,store:ke.a}),we=Ie,Pe=we;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/index.js",localName:t}})}catch(e){}}e(Ie,"HighlightBannerLayer"),e(we,"default")}();var je=o(349),Te=o(350),Le=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){this._store.opened||this._store.type!==Te.a.LOGIN&&(this._onClickConfirm=e.onClickConfirm||function(){},this._onClickCancel=e.onClickCancel||function(){},this._pauseDocumentEdit(),this._store.open(e))},o.close=function(){this._store.opened&&(this._store.close(),this._unpauseDocumentEdit())},o.cancel=function(){this._store.opened&&(this.close(),this._onClickCancel())},o.confirm=function(){var e=this._store,t=e.type,o=e.errorList;this._onClickConfirm({type:t,errorList:o}),this.close()},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/service/index.js",localName:t}})}catch(e){}}(Le,"AlertLayerService")}();var Ee=o(351),Ne=u.G.extend({name:"AlertLayer",view:Object(p.a)({Loader:function(){return o.e(25).then(o.bind(null,1255))},preload:!0}),useCase:je.a,service:Le,store:Ee.a}),xe=Ne,De=xe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/index.js",localName:t}})}catch(e){}}e(Ne,"AlertLayer"),e(xe,"default")}();var Re,Ae,Me,Be,Ue,Ve,Fe,ze=o(53),We=o.n(ze),Ge=o(55),He=o(209),qe=o(59),Je=o.n(qe),Ke=o(1),Ye=o.n(Ke),Xe=o(63),Qe=o(86),Ze=o(435),$e=o(208),et=o(650),tt=(Re=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"focusButtonId",Ae,G()(o)),z()(o,"activeButtonId",Me,G()(o)),z()(o,"buttonSetMap",Be,G()(o)),z()(o,"toolbarState",Ue,G()(o)),z()(o,"defaultButtonSet",Ve,G()(o));var n=t.state,r=void 0===n?{}:n;return o._pluginButtonRegistry=u.V.get("pluginButtonRegistry"),o._configAgent=u.V.get("configAgent"),o._storage=u.V.get("storagePolicy"),o.buttonSetMap=Object(J.a)(r,"buttonSetMap",o.buttonSetMap),o.activeButtonId=Object(J.a)(r,"activeButtonId",o.activeButtonId),o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o.defaultButtonSet=Object(J.a)(r,"defaultButtonSet",o.defaultButtonSet),o}h()(t,e);var o=t.prototype;return o.deactivateAllButtons=function(){this.activeButtonId=""},o.focusLastButton=function(){var e=this.buttonSetMap.buttonSet.length;this.focusButtonId=this.buttonSetMap.buttonSet[e-1]},o.blurFocusedButton=function(){this.focusButtonId=""},o.isLastButton=function(e){var t=this.buttonSetMap.buttonSet.length;return this.buttonSetMap.buttonSet[t-1]===e},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.updateButtonSet=function(e){if(Object(Xe.a)(e))return this.buttonSetMap.buttonSet.replace(this.defaultButtonSet),void this.buttonSetMap.displayButtonSet.replace(this.defaultButtonSet);var t=K.f.toJS(this.buttonSetMap.buttonSet),o=K.f.toJS(e);Object(Qe.a)(t,o)||(this.buttonSetMap.buttonSet.replace(e),this.buttonSetMap.displayButtonSet.replace(e),this.buttonSetMap.moreButtonSet=[])},o.updateDisplayButtonSet=function(e){var t=this.filterButtons(this.buttonSetMap.buttonSet);if(e<t.length){var o=t.slice(0,e-1),n=t.slice(o.length,t.length),r=o.concat("more-view");this.buttonSetMap.displayButtonSet.replace(r),this.buttonSetMap.moreButtonSet.replace(n)}},o.resetDisplayButtonSet=function(){var e=this.buttonSetMap.buttonSet;this.buttonSetMap.displayButtonSet.replace(e),this.buttonSetMap.moreButtonSet=[]},o.updateToolbarState=function(e){this.toolbarState=e},o.filterButtons=function(e){var t=this;return et.a.trimForArray(e.filter(function(e){var o=t._pluginButtonRegistry.getButtonStyleName({compType:t.toolbarState.componentType,toolbarName:"propertyToolbar",buttonName:e});return!t.disabledButtons.includes(o)}),"separator-bar")},o.updateUserConfig=function(e){var t=e.compType,o=e.toolbarName,n=e.buttonName,r="plugins.componentSettings."+t+".config.toolbar."+o+"."+Object(Ze.a)(n);e.buttonConfig=this._configAgent.get(r)},o.highlight=function(e,t){return!(!e||!t)&&$e.b.get(t,e)},o.updateHighLight=function(e){var t=this._configAgent.get("productConfig.highlight"),o=this.highlight(e.buttonName,t);o&&(e.highlight=o)},o.updateStoragePolicy=function(e){if(e.option&&e.option.storagePolicy){var t=e.option.storagePolicy,o=t.key,n=t.property,r=this._storage.get(o);e.option[n]=r,e.storageKey=o}},o._getButtonsWithButtonSet=function(e){var t=this;void 0===e&&(e=[]);var o=this.toolbarState.componentType;return this.filterButtons(e).map(function(e){var n=t._pluginButtonRegistry.getButtonInfo({compType:o,toolbarName:"propertyToolbar",buttonName:e});if(n)return t.updateUserConfig(n),t.updateHighLight(n),t.updateStoragePolicy(n),Je()({value:Object(J.a)(t.toolbarState,n.propertyName)},n)})},Ye()(t,[{key:"buttons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.displayButtonSet)}},{key:"moreButtons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.moreButtonSet)}},{key:"disabledButtons",get:function(){var e=this;return["speller","translation"].filter(function(t){return!1===e._configAgent.get("productConfig."+t)})}}]),t}(u.w),Ae=q()(Re.prototype,"focusButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Me=q()(Re.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Be=q()(Re.prototype,"buttonSetMap",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{buttonSet:[],displayButtonSet:[],moreButtonSet:[]}}}),Ue=q()(Re.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ve=q()(Re.prototype,"defaultButtonSet",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q()(Re.prototype,"buttons",[K.e],Object.getOwnPropertyDescriptor(Re.prototype,"buttons"),Re.prototype),q()(Re.prototype,"moreButtons",[K.e],Object.getOwnPropertyDescriptor(Re.prototype,"moreButtons"),Re.prototype),q()(Re.prototype,"disabledButtons",[K.e],Object.getOwnPropertyDescriptor(Re.prototype,"disabledButtons"),Re.prototype),Re),ot=tt,nt=ot;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(tt,"PropertyToolbarLayoutStore"),e(ot,"default")}();var rt,it=(Fe=function(e){function t(){var t;t=e.call(this)||this;var o=u.V.get("configAgent");return t._documentToolbarLayoutService=u.V.get("documentToolbarLayoutService"),t._propertyToolbarLayoutService=u.V.get("propertyToolbarLayoutService"),t._toolbarService=u.V.get("toolbarService"),!1!==o.get("productConfig.propertyToolbar")&&t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState,n=t.buttonSet;e._propertyToolbarLayoutService.updateButtonSet(n),e._propertyToolbarLayoutService.updateToolbarState(o)},"propertyToolbar",{delay:1})},o.handleTab=function(e,t){!1===e.shiftKey&&this._propertyToolbarLayoutService.isLastButton(t)&&(this._documentToolbarLayoutService.focusFirstButton(),e.preventDefault())},o.handleBlur=function(){this._propertyToolbarLayoutService.blurFocusedButton()},o.toggleButton=function(e){this._documentToolbarLayoutService.hideAllLayers(),this._propertyToolbarLayoutService.toggleButton(e)},o.reflowToolbar=function(e){this._propertyToolbarLayoutService.reflowToolbar(e)},t}(u.m),q()(Fe.prototype,"handleTab",[K.d],Object.getOwnPropertyDescriptor(Fe.prototype,"handleTab"),Fe.prototype),q()(Fe.prototype,"handleBlur",[K.d],Object.getOwnPropertyDescriptor(Fe.prototype,"handleBlur"),Fe.prototype),q()(Fe.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(Fe.prototype,"toggleButton"),Fe.prototype),Fe);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}(it,"PropertyToolbarLayoutUseCase")}();var at=(rt=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=e.viewMode,r=e.isFlexible,i=t.toolbarState,a=t.buttons,s=t.moreButtons,c=We()("se-toolbar","se-property-toolbar","se-property-toolbar-"+i.componentType);return K.b.createElement("div",{className:"se-header-inbox se-l-property-toolbar",onBlur:this._handleBlur},K.b.createElement(He.a,{className:c,namespace:Ge.e.PROPERTY,viewMode:n,isFlexible:r,buttons:a,moreButtons:s,logAreaId:"prt",focusButtonId:t.focusButtonId,activeButtonId:t.activeButtonId,selectedUnitIds:i.selectedUnitIds,i18n:o,onReflowToolbar:this._handleReflowToolbar,onKeyDown:this._handleKeyDown,onClickSelector:this._handleClickSelector}))},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._handleReflowToolbar=function(e){var t=e.displayButtonCount;this.props.useCase.reflowToolbar(t)},o._handleKeyDown=function(e,t){9===e.which&&this.props.useCase.handleTab(e,t)},o._handleBlur=function(){this.props.useCase.handleBlur()},t}(K.b.Component),q()(rt.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(rt.prototype,"_handleClickSelector"),rt.prototype),q()(rt.prototype,"_handleReflowToolbar",[ee.autobind],Object.getOwnPropertyDescriptor(rt.prototype,"_handleReflowToolbar"),rt.prototype),q()(rt.prototype,"_handleKeyDown",[ee.autobind],Object.getOwnPropertyDescriptor(rt.prototype,"_handleKeyDown"),rt.prototype),q()(rt.prototype,"_handleBlur",[ee.autobind],Object.getOwnPropertyDescriptor(rt.prototype,"_handleBlur"),rt.prototype),rt);at.defaultProps={store:null,i18n:function(e){return e}},at.propTypes={store:K.a.instanceOf(nt).isRequired,useCase:K.a.instanceOf(it).isRequired,i18n:K.a.func,viewMode:K.a.string,isFlexible:K.a.bool};var st=Object(Z.b)(at),ct=st;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(at,"PropertyToolbarLayoutView"),e(st,"default")}();var lt=function(e){function t(t){var o;return(o=e.call(this,t)||this)._propertyChangeService=u.V.get("propertyChangeService"),o}h()(t,e);var o=t.prototype;return o.updateButtonSet=function(e){this._store.updateButtonSet(e)},o.updateToolbarState=function(e){this._store.updateToolbarState(e)},o.focusLastButton=function(){this._store.focusLastButton()},o.blurFocusedButton=function(){this._store.blurFocusedButton()},o.isLastButton=function(e){return this._store.isLastButton(e)},o.toggleButton=function(e){this._store.toggleButton(e)},o.hideAllLayers=function(){this._store.deactivateAllButtons()},o.reflowToolbar=function(e){this._store.updateDisplayButtonSet(e)},o.resetDisplayButtonSet=function(){this._store.resetDisplayButtonSet()},t}(u.f),ut=lt,pt=ut;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(lt,"PropertyToolbarLayoutService"),e(ut,"default")}();var dt=o(80),ht={propertyToolbar:{align:Object(dt.a)("align-group"),"more-view":Object(dt.a)("more-view")}},ft=ht;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/toolbar/property-toolbar-button-set-map.js",localName:t}})}catch(e){}}(ht,"default")}();var mt=function(e){function t(){return e.call(this,{buttonSetMap:ft})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/toolbar/index.js",localName:t}})}catch(e){}}(mt,"PropertyToolbarLayoutToolbar")}();var gt=u.H.extend({name:"PropertyToolbarLayout",view:ct,useCase:it,service:pt,store:nt,toolbar:mt}),yt=gt,bt=yt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(gt,"PropertyToolbarLayout"),e(yt,"default")}();var _t,vt,Ct,Ot=function(e){function t(){var t;return(t=e.call(this)||this)._panelContainerLayerService=u.V.get("panelContainerLayerService"),t._stickerPanelLayoutService=u.V.get("stickerPanelLayoutService"),t._documentToolbarLayoutService=u.V.get("documentToolbarLayoutService"),t}h()(t,e);var o=t.prototype;return o.closePanel=function(){var e=this._panelContainerLayerService.getTarget();return this._documentToolbarLayoutService.setPanelButtonEnable(e,!1),this._stickerPanelLayoutService.close(),this._panelContainerLayerService.closePanel()},o.open=function(e){var t=(void 0===e?{}:e).option,o=void 0===t?{}:t,n=this._panelContainerLayerService.getTarget(),r=o.target||n,i=u.V.get(r+"PanelLayoutService");if(!i||!i.open)throw new Error('cannot find panel "'+r+'"');this._documentToolbarLayoutService.setPanelButtonEnable(n,!1),this._documentToolbarLayoutService.setPanelButtonEnable(r,!0),i.open(),this._panelContainerLayerService.openPanel(r,o.position)},o.close=function(){this.closePanel()},t}(u.m),St=Ot,kt=St;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(Ot,"PanelContainerLayerUseCase"),e(St,"default")}();var It=(_t=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"opened",vt,G()(o)),z()(o,"target",Ct,G()(o)),o.panelType=u.L.SIDEBAR,o.dimColor="transparent",o.unmountDelayTime=400;var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o._configAgent=u.V.get("configAgent"),o.opened=Object(J.a)(i,"opened",o.opened),o.panelType=Object(J.a)(s,"panelType",o.panelType),o.dimColor=Object(J.a)(s,"dimColor",o.dimColor),o.panelType=o._getValidValue(o._configAgent,"productConfig.panelType",o.panelType),o}h()(t,e);var o=t.prototype;return o._getValidValue=function(e,t,o){if(void 0===e&&(e={get:function(){}}),"productConfig.panelType"===t){var n=e.get(t);if(n===u.L.SIDEBAR||n===u.L.POPUP)return n}return o},o.closePanel=function(){this.target="",this.opened=!1},o.openPanel=function(e){void 0===e&&(e=""),this.opened=!0,this.target=e},t}(u.w),vt=q()(_t.prototype,"opened",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ct=q()(_t.prototype,"target",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_t),wt=It,Pt=wt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/store/index.js",localName:t}})}catch(e){}}e(It,"PanelContainerLayerStore"),e(wt,"default")}();var jt=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e,t){this.getPanelType()===u.L.POPUP&&this._pauseDocumentEdit(),this._store.openPanel(e,t)},o.close=function(){this._store.closePanel(),this.getPanelType()===u.L.POPUP&&this._unpauseDocumentEdit()},o.openPanel=function(e,t){this.open(e,t)},o.closePanel=function(){this.close()},o.opened=function(){return this._store.opened},o.getPanelType=function(){return this._store.panelType},o.getTarget=function(){return this._store.target},o.toggleLayout=function(e,t,o){var n=this._store,r=n.opened,i=n.target;i.length>0&&i!==e?(t.open(),this.openPanel(e),o&&o(e,!0)):r?(o&&o(e,!1),this.closePanel()):(t.open(),this.openPanel(e),o&&o(e,!0))},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/service/index.js",localName:t}})}catch(e){}}(jt,"PanelContainerLayerService")}();var Tt,Lt=o(649),Et=(Tt=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={mounted:!1,showUpEnabled:!1,isEventBlockerOn:!1},o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this;this._timer=setTimeout(function(){e.setState({showUpEnabled:!0,mounted:!0})},10)},t.getDerivedStateFromProps=function(e,t){return t.mounted?{showUpEnabled:e.store.opened}:null},o.componentWillUnmount=function(){this.setState({mounted:!1,showUpEnabled:!1,isEventBlockerOn:!1}),this._timer&&clearTimeout(this._timer)},o.render=function(){var e=this.props.store,t=e.panelType,o=e.opened,n=t===u.L.POPUP?this._wrapPopup(o):this._wrapSidebar(o);return K.b.createElement(K.b.Fragment,null,n)},o._wrapChildren=function(e,t){var o={onClickItem:this._handleClickItem,target:t?e:"",wrappingType:this.props.store.panelType,draggable:this.props.store.panelType===u.L.SIDEBAR};return K.b.Children.map(this.props.children,function(e){return K.b.cloneElement(e,o)})},o._wrapPopup=function(e){var t;if(!e)return null;var o=this.props,n=o.i18n,r=o.store,i=r.dimColor,a=r.target,s=We()(["se-popup-panel","se-popup-"+a,(t={},t[this.props.className]=!0,t)]);return K.b.createElement($.a,{opened:e,className:s,dimColor:i},K.b.createElement("div",{className:"se-popup-content"},this._wrapChildren(a,e)),K.b.createElement("button",{type:"button",className:"se-popup-close-button","data-log":"sely.close",onClick:this.handleClickClose},K.b.createElement("span",{className:"se-blind"},n("panelLayout:close_popup"))))},o._wrapSidebar=function(e){var t,o=this.props,n=o.i18n,r=o.store.target,i=this.state,a=i.showUpEnabled,s=i.isEventBlockerOn,c=We()(["se-sidebar",{"se-sidebar-interaction":a,"se-is-event-blocking":s}]),l=We()(((t={})["se-sidebar-container se-sidebar-container-"+r]=!0,t)),u=this._logArea(r);return K.b.createElement("aside",{className:c,onDragStart:this.enableEventBlocker,onDragEnd:this.disableEventBlocker},K.b.createElement("div",{className:l},this._wrapChildren(r,e),K.b.createElement("button",{type:"button",className:"se-sidebar-close-button","data-log":u+".close",onClick:this.handleClickClose},K.b.createElement("span",{className:"se-blind"},n("panelLayout:close_popup","")))))},o._logArea=function(e){switch(e){case"moment":return"lmot";case"search":return"lsch";case"library":return"llib";case"template":return"ltpl";default:return"lsch"}},o._handleClickItem=function(){var e=this.props,t=e.useCase;e.store.panelType===u.L.POPUP&&t.closePanel()},o.handleClickClose=function(e){Lt.a.log(e.nativeEvent),this.props.useCase.closePanel()},o.enableEventBlocker=function(){this.setState({isEventBlockerOn:!0})},o.disableEventBlocker=function(){this.setState({isEventBlockerOn:!1})},t}(K.b.Component),q()(Tt.prototype,"_wrapPopup",[ee.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"_wrapPopup"),Tt.prototype),q()(Tt.prototype,"_wrapSidebar",[ee.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"_wrapSidebar"),Tt.prototype),q()(Tt.prototype,"_handleClickItem",[ee.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"_handleClickItem"),Tt.prototype),q()(Tt.prototype,"handleClickClose",[ee.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"handleClickClose"),Tt.prototype),q()(Tt.prototype,"enableEventBlocker",[ee.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"enableEventBlocker"),Tt.prototype),q()(Tt.prototype,"disableEventBlocker",[ee.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"disableEventBlocker"),Tt.prototype),Tt);Et.defaultProps={children:null,i18n:function(e){return e}},Et.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),useCase:K.a.instanceOf(kt).isRequired,store:K.a.instanceOf(Pt).isRequired,i18n:K.a.func,className:K.a.string,draggable:K.a.bool};var Nt=Object(Z.b)(Et),xt=Nt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/view/index.jsx",localName:t}})}catch(e){}}e(Et,"PanelContainerLayerView"),e(Nt,"default")}();var Dt=u.G.extend({name:"PanelContainerLayer",view:xt,useCase:kt,store:Pt,service:jt}),Rt=Dt,At=Rt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/index.js",localName:t}})}catch(e){}}e(Dt,"PanelContainerLayer"),e(Rt,"default")}();var Mt=o(352),Bt=o(12),Ut=o.n(Bt),Vt=o(18),Ft=o.n(Vt),zt=function(){function e(e){this._config=e}return e.prototype.convert=function(e){return{ctype:"sticker",packCode:e.packCode,seq:e.seq,thumbnail:{ctype:"thumbnail",height:e.stickerInfo.imageHeight,src:e.stickerInfo.originalUrl,width:e.stickerInfo.imageWidth},format:e.animated?u.P.ANIMATED:u.P.NORMAL}},e}(),Wt=zt,Gt=Wt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/sticker-data-converter.js",localName:t}})}catch(e){}}e(zt,"AbstractDataConverter"),e(Wt,"default")}();var Ht=function(){function e(e){this._config=e}var t=e.prototype;return t.convertToDragItem=function(e){return this.convert(e)},t.convert=function(e){var t=Object(J.a)(e,"fromText"),o=[{ctype:"paragraph",nodes:[{ctype:"textNode",value:t,link:{ctype:"urlLink",url:Object(J.a)(e,"urls.link")}}],style:{ctype:"paragraphStyle",align:"center"}}];return{ctype:"image",layout:"default",align:"left",src:Object(J.a)(e,"urls.img"),width:Object(J.a)(e,"width"),height:Object(J.a)(e,"height"),alt:t,caption:o,internalResource:!0,origin:{ctype:"imageOrigin",srcFrom:Object(J.a)(e,"provider"),externalId:Object(J.a)(e,"id")},phase:"empty"}},e}(),qt=Ht,Jt=qt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/photo-data-converter.js",localName:t}})}catch(e){}}e(Ht,"PhotoDataConverter"),e(qt,"default")}();var Kt=o(77),Yt=o(507),Xt=o(120),Qt=function(){function e(e){this._config=e}var t=e.prototype;return t.convert=function(){throw new Error("[ERROR]      .")},t._makeThumbnailInfo=function(e){return e?new Promise(function(t){var o=new Image;o.onload=function(o){var n=o.currentTarget;t({ctype:"thumbnail",src:e,width:n.width,height:n.height})},o.onerror=function(){t(null)},o.src=Xt.a.makeDthumbHttpsUrl(e)}):null},t._modifyPeopleInfo=function(e){var t=this;return Object(Kt.a)(e,function(e){return{ctype:"value",value:t._restoreSpecialChar(Object(J.a)(e,"name")||e)}})},t._restoreSpecialChar=function(e){return Yt.a.restoreSpecialChar(e)},t._formatWithComma=function(e){return Yt.a.formatWithComma(e)},e}(),Zt=Qt,$t=Zt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/abstract-data-converter.js",localName:t}})}catch(e){}}e(Qt,"AbstractDataConverter"),e(Zt,"default")}();var eo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"image.url",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeOglinkInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeOglinkInfo(e)},o._makeOglinkInfo=function(e){var t=this._restoreSpecialChar(e.title),o=this._restoreSpecialChar(e.description);return{layout:"moment",title:t,domain:e.domain,link:e.url,description:o,thumbnail:{ctype:"thumbnail",src:Object(J.a)(e,"image.url"),width:Object(J.a)(e,"image.width"),height:Object(J.a)(e,"image.height")},video:!1,oglinkSign:e.oglinkSign,ctype:"oglink"}},t}($t),to=eo,oo=to;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/moment-data-converter.js",localName:t}})}catch(e){}}e(eo,"MomentDataConverter"),e(to,"default")}();var no=o(117),ro=o(105),io=o(172),ao=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(no.a)(Object(ro.a)(Object(io.a)(e,["binThumbnail2","bigThumbnail","thumbnail"])))},o._makeMaterialInfo=function(e){var t=e.title,o=e.author,n=this._restoreSpecialChar(t),r="string"==typeof o?this._restoreSpecialChar(o.replace(/\|/gi,", ").replace(/ $/gi,"")):"";return{ctype:"material",title:n,link:e.linkUrl,dataId:e.isbn,subId:e.bid,type:"book",volNo:e.volNo||"",detailInfo:[{ctype:"item",label:"",labelName:"author",values:[{ctype:"value",value:r}]},{ctype:"item",label:"",labelName:"publisher",values:[{ctype:"value",value:this._restoreSpecialChar(e.publisher)}]},{ctype:"item",label:"",labelName:"publishDay",values:[{ctype:"value",value:this._restoreSpecialChar(Yt.a.reviseDateFormat(e.publishDay))}]}]}},t}($t),so=ao,co=so;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/book-data-converter.js",localName:t}})}catch(e){}}e(ao,"BookDataConverter"),e(so,"default")}();var lo=o(524),uo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrls.poster.url",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.titles.korean),o=e.theaters?e.theaters.map(function(e){return{ctype:"value",value:lo.a.getYYYYMMDDFormat(e.day)}}):[],n=this._modifyPeopleInfo(e.directors.directors),r=this._modifyPeopleInfo(e.actors.actors);return{ctype:"material",title:t,link:e.destinationUrl,dataId:e.mcode,type:"movie",detailInfo:[{ctype:"item",label:"",labelName:"directors",values:n},{ctype:"item",label:"",labelName:"actors",values:r},{ctype:"item",label:"",labelName:"makingYear",values:o}]}},t}($t),po=uo,ho=po;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/movie-data-converter.js",localName:t}})}catch(e){}}e(uo,"MovieDataConverter"),e(po,"default")}();var fo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"image",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t={ctype:"material",title:this._restoreSpecialChar(e.title),link:e.url,dataId:e.mcode||e.os,type:"broadcast",detailInfo:[]};return t.detailInfo.push({ctype:"item",label:"",labelName:"directors",values:this._modifyPeopleInfo(e.producer)}),t.detailInfo.push({ctype:"item",label:"",labelName:"actors",values:this._modifyPeopleInfo(e.guest)}),t.detailInfo.push({ctype:"item",label:"",labelName:"makingYear",values:[{ctype:"value",value:e.year+", "+e.channel}]}),t},t}($t),mo=fo,go=mo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/tv-data-converter.js",localName:t}})}catch(e){}}e(fo,"TVDataConverter"),e(mo,"default")}();var yo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"albumImg",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.albumUrl,dataId:e.albumID,type:"music",detailInfo:[{ctype:"item",label:"",labelName:"artist",values:[{ctype:"value",value:this._restoreSpecialChar(e.artist.replace(//gi,", "))}]},{ctype:"item",label:"",labelName:"release",values:[{ctype:"value",value:this._restoreSpecialChar(Yt.a.reviseDateFormat(e.release))}]}]}},t}($t),bo=yo,_o=bo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/music-data-converter.js",localName:t}})}catch(e){}}e(yo,"MusicDataConverter"),e(bo,"default")}();var vo=o(110),Co=[[null,1,10,7,4,1,1,1,1],[null,2,11,8,5,2,2,2,2],[null,3,12,9,6,3,3,3,3]],Oo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.productTitle),o=this._convertToGoodsType(e.mpTp,e.prodTp)+"";return{ctype:"material",title:t,link:this._makeLink(o,e),dataId:e.id,type:"shopping",detailInfo:[{ctype:"item",label:"",labelName:"type",values:[{ctype:"value",value:o}]},{ctype:"item",label:"",labelName:"nPayPcType",values:[{ctype:"value",value:e.nPayPcType}]},{ctype:"item",label:"",labelName:"nPayMblType",values:[{ctype:"value",value:e.nPayMblType}]},{ctype:"item",label:"",labelName:"mallNameOrg",values:[{ctype:"value",value:this._restoreSpecialChar(e.mallNameOrg)}]},{ctype:"item",label:"",labelName:"price",values:[{ctype:"value",value:this._formatWithComma(e.price)}]}]}},o._makeLink=function(e,t){var o=this._isCompareProduct(e);return t.mallProductUrl?t.mallProductUrl:!0===o?"https://search.shopping.naver.com/catalog/"+t.id+"?section=price":"https://search.shopping.naver.com/catalog/"+t.id},o._convertToGoodsType=function(e,t){var o=Co[e];return o?o[t]:null},o._isCompareProduct=function(e){return Object(vo.a)([1,4],e)},t}($t),So=Oo,ko=So;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/shopping-data-converter.js",localName:t}})}catch(e){}}e(Co,"GOODS_TYPE_MAPPING"),e(Oo,"ShoppingDataConverter"),e(So,"default")}();var Io=o(91),wo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchNewsDetail(t);case 2:return o=e.sent,n=this._resolveThumbnailUrl(o),e.next=6,this._makeThumbnailInfo(n);case 6:return r=e.sent,i=this._makeMaterialInfo(o),r&&(i.thumbnail=r),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(no.a)(Object(ro.a)(Object(io.a)(e,["images[0].url","images.image[0].url","images.image.url"])))},o._fetchNewsDetail=function(e){return Io.a.get(this._config.newsDetailAPI,{params:{oid:e.officeId||e.subId,aid:e.articleId||e.dataId},success:function(e){return Object(J.a)(e,"items[0]")}})},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.orgUrl,dataId:e.articleId,subId:e.officeId,type:"news",detailInfo:[{ctype:"item",label:"",labelName:"subcontent",values:[{ctype:"value",value:this._restoreSpecialChar(e.subcontent)}]},{ctype:"item",label:"",labelName:"officeHname",values:[{ctype:"value",value:this._restoreSpecialChar(e.officeHname)}]}]}},t}($t),Po=wo,jo=Po;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/news-data-converter.js",localName:t}})}catch(e){}}e(wo,"NewsDataConverter"),e(Po,"default")}();var To=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=e.objectId,o=this._resolveDatas(e),n=o.title,r=o.genre,i=o.locationName,a=o.period;return{ctype:"material",type:"show",dataId:t,layout:"default",title:n,link:o.link,detailInfo:[{label:"",labelName:"genre",values:[{value:r,ctype:"value"}],ctype:"item"},{label:"",labelName:"locationName",values:[{value:i,ctype:"value"}],ctype:"item"},{label:"",labelName:"period",values:[{value:a,ctype:"value"}],ctype:"item"}]}},o._isExhibitionDefine=function(e){return"269"!==e.searchLinkParameter.pkid},o._resolveDatas=function(e){var t,o,n,r=e.rendingUrl,i=e.formattedPeriod;return!0===this._isExhibitionDefine(e)?(t=e.name,o="",n=e.locationName):(t=e.title,o=e.majorGenreName,n=e.placeInformation.name),{title:t,genre:o,locationName:n,period:i,link:r}},t}($t),Lo=To,Eo=Lo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/show-data-converter.js",localName:t}})}catch(e){}}e(To,"ShowDataConverter"),e(Lo,"default")}();var No={moment:oo,sticker:Gt,"purchased-image":Jt,photo:Jt,book:co,movie:ho,broadcast:go,music:_o,shopping:ko,news:jo,show:Eo},xo=No;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/index.js",localName:t}})}catch(e){}}(No,"default")}();var Do=function(){function e(e){this._config=Object(i.a)(e,{fetchCount:20})}return e.prototype.abort=function(){Io.b.abort()},e}(),Ro=Do,Ao=Ro;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/abstract-provider.js",localName:t}})}catch(e){}}e(Do,"AbstractDataProvider"),e(Ro,"default")}();var Mo=function(e){function t(t){var o;return(o=e.call(this,t)||this)._currentRequestInfo={},o._nextPageInfo={},o._resultState=!1,o}h()(t,e);var o=t.prototype;return o.getInitializeData=function(e){return void 0===e&&(e={}),this._fetchInitializeData(e)},o.search=function(e){if(!1===Object(Xe.a)(e.keyword))return this._search(e)},o.nextPage=function(){return this._nextPage()},o._fetchInitializeData=function(e){var t=Object(J.a)(e,"source",["U","P","OC"]).join(""),o=Object(J.a)(e,"orientation",["all"]).join(""),n=Object(J.a)(e,"paid",["F","P"]).join("");return this._nextPageInfo={providers:t,orientation:o,per_page:this._config.fetchCount,paid_type:n,page:1},this._currentRequestInfo={url:this._config.API.INITIALIZE,query:this._nextPageInfo},this._request()},o._search=function(e){var t=Object(J.a)(e,"source",["U","P","OC"]).join(""),o=Object(J.a)(e,"orientation",["all"]).join(""),n=Object(J.a)(e,"paid",["F","P"]).join("");return this._currentRequestInfo={searchOption:e,url:this._config.API.SEARCH,query:{query:e.keyword,providers:t,orientation:o,paid_type:n,per_page:this._config.fetchCount,page:e.page||1}},this._request()},o._nextPage=function(){if(this._resultState){if(!Object(Xe.a)(this._nextPageInfo||{})&&!Object(Qe.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()}else if(this._currentRequestInfo.query)return this._request()},o._request=function(){var e=this,t=this._currentRequestInfo.searchOption;return Io.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,options:{useAbort:!0},success:function(t){e._resultState=!0;var o=e._currentRequestInfo.query.page,n=t.hasMore;e._setNextPageInfo(n);var r=Object(J.a)(t,"result",[]),i=r.length?e._config.fetchCount*o:0,a=(new Date).getTime();return{items:r.map(function(e){return e.groupKey=a,e}),next:{page:e._currentRequestInfo.query.page+1,hasMore:n},count:i,total:i}},error:function(o){var n=!!o.aborted;if(n)return e._resultState=!1,{searchOption:t,isFetchNextPageError:!0,aborted:n,items:[],next:{},count:0,total:0};throw o}})},o._setNextPageInfo=function(e){e&&(this._nextPageInfo=Object(i.a)({page:this._currentRequestInfo.query.page+1},this._currentRequestInfo.query))},t}(Ao),Bo=Mo,Uo=Bo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/photo-data-provider.js",localName:t}})}catch(e){}}e(Mo,"PhotoDataProvider"),e(Bo,"default")}();var Vo=function(e){function t(t){var o;return(o=e.call(this,t)||this)._config=Object(i.a)(t,{fetchCount:20}),o._initialize(),o}h()(t,e);var o=t.prototype;return o._initialize=function(){this._nextPageInfo=null,this._tryAgainWithCurrentInfo=!1,this._baseQuery=null,this._currentRequestInfo={url:this._config.API.INITIALIZE,query:this._baseQuery}},o.getInitializeData=function(){return this._fetchInitializeData()},o.search=function(e){return this._search(e)},o.nextPage=function(){return this._nextPage()},o._fetchInitializeData=function(){return this._baseQuery={s:1,count:this._config.fetchCount},this._currentRequestInfo={url:this._config.API.INITIALIZE,query:this._baseQuery},this._request()},o._search=function(e){return this._nextPageInfo=null,this._baseQuery={q:e.keyword,count:this._config.fetchCount},this._currentRequestInfo={url:this._config.API.SEARCH,query:this._baseQuery},this._request()},o._nextPage=function(){if(this._tryAgainWithCurrentInfo){if(this._currentRequestInfo.query)return this._request()}else if(!Object(Xe.a)(this._nextPageInfo||{})&&!Object(Qe.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()},o._request=function(){var e=this;return Io.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,options:{useAbort:!0},parser:function(e){return Object(J.a)(e,"data",{})},success:function(t){return e._tryAgainWithCurrentInfo=!1,e._setNextPageInfo(t.next),t},error:function(t){var o=!!t.aborted;if(o)return e._tryAgainWithCurrentInfo=!0,{isFetchNextPageError:!0,aborted:o,items:[],next:{},count:0,total:0};throw t}})},o._setNextPageInfo=function(e){Object(Xe.a)(e)?this._nextPageInfo=null:this._nextPageInfo=Object(i.a)(e,this._baseQuery)},t}(Ao),Fo=Vo,zo=Fo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/abstract-material-provider.js",localName:t}})}catch(e){}}e(Vo,"AbstractMaterialProvider"),e(Fo,"default")}();var Wo=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(zo),Go=Wo,Ho=Go;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/book-data-provider.js",localName:t}})}catch(e){}}e(Wo,"BookDataProvider"),e(Go,"default")}();var qo=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(zo),Jo=qo,Ko=Jo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/movie-data-provider.js",localName:t}})}catch(e){}}e(qo,"MovieDataProvider"),e(Jo,"default")}();var Yo=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(zo),Xo=Yo,Qo=Xo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/tv-data-provider.js",localName:t}})}catch(e){}}e(Yo,"TVDataProvider"),e(Xo,"default")}();var Zo=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(zo),$o=Zo,en=$o;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/music-data-provider.js",localName:t}})}catch(e){}}e(Zo,"MusicDataProvider"),e($o,"default")}();var tn=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.getInitializeData=function(){var e={total:0,start:1,count:0,items:[]};return new Promise(function(t){t(e)})},t}(zo),on=tn,nn=on;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/shopping-data-provider.js",localName:t}})}catch(e){}}e(tn,"ShoppingDataProvider"),e(on,"default")}();var rn=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(zo),an=rn,sn=an;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/news-data-provider.js",localName:t}})}catch(e){}}e(rn,"NewsDataProvider"),e(an,"default")}();var cn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.getCategories=function(){throw new Error("[ERROR]      . - getCategories")},o.getStickerPack=function(){throw new Error("[ERROR]      . - getStickerPack")},t}(Ao),ln=cn,un=ln;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/abstract-sticker-provider.js",localName:t}})}catch(e){}}e(cn,"AbstractStickerProvider"),e(ln,"default")}();var pn=function(e){function t(t){var o;return(o=e.call(this,t)||this)._initialize(),o}h()(t,e);var o=t.prototype;return o._initialize=function(){this._currentRequestInfo={url:this._config.API.INITIALIZE}},o.getCategories=function(){return this._fetchInitializeData()},o.getStickerPack=function(e){return this._fetchStickerPack(e)},o._fetchInitializeData=function(){return this._currentRequestInfo={url:this._config.API.INITIALIZE,query:{}},this._request()},o._fetchStickerPack=function(e){var t=this._config.API.INITIALIZE+"/"+e.packCode;return this._currentRequestInfo={url:t},this._request()},o._request=function(){return Io.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,success:function(e){return e},error:function(e){throw e}})},t}(un),dn=pn,hn=dn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/sticker-data-provider.js",localName:t}})}catch(e){}}e(pn,"StickerDataProvider"),e(dn,"default")}();var fn={GET_TEMPORARY_KEY:"GET_TEMPORARY_KEY",GET_RECOMMEND_LIST:"GET_RECOMMEND_LIST",GET_RECOMMEND:"GET_RECOMMEND",GET_PART_TEMPLATE_LIST:"GET_PART_TEMPLATE_LIST",GET_MY_TEMPLATE_LIST:"GET_MY_TEMPLATE_LIST",GET_MY_TEMPLATE:"GET_MY_TEMPLATE",POST_MY_TEMPLATE:"ADD_MY_TEMPLATE",DELETE_MY_TEMPLATE:"DELETE_MY_TEMPLATE"};function mn(e){throw e}var gn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.get=function(e,t){switch(e){case fn.GET_RECOMMEND_LIST:return this._getRecommendList();case fn.GET_RECOMMEND:return this._getRecommend(t);case fn.GET_PART_TEMPLATE_LIST:return this._getPartTemplateList();case fn.GET_MY_TEMPLATE_LIST:return this._getMyTemplateList(t);case fn.GET_MY_TEMPLATE:return this._getMyTemplate(t)}},o.post=function(e,t){switch(e){case fn.ADD_MY_TEMPLATE:return this._addMyTemplate(t)}},o.delete=function(e,t){switch(e){case fn.DELETE_MY_TEMPLATE:return this._deleteMyTemplate(t)}},o._getRecommendList=function(){var e=Object(J.a)(this._config,"dataProvider.getRecommendList");return"function"==typeof e?e():Io.b.get(this._config.API.GET_RECOMMEND_LIST,{params:{page:1,size:1e4},options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:mn}).then(function(e){return e&&e.defaultPrevented&&mn(e),e})},o._getPartTemplateList=function(){var e=Object(J.a)(this._config,"dataProvider.getPartTemplateList");return"function"==typeof e?e():Io.b.get(this._config.API.GET_PART_TEMPLATE_LIST,{params:{page:1,size:1e4},options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:mn}).then(function(e){return e&&e.defaultPrevented&&mn(e),e})},o._getRecommend=function(e){var t=Object(J.a)(this._config,"dataProvider.getRecommend");return"function"==typeof t?t(e):Io.b.get(this._config.API.GET_RECOMMEND,{params:{templateNo:e.templateNo},options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:mn}).then(function(e){return e&&e.defaultPrevented&&mn(e),e})},o._getMyTemplateList=function(e){var t=Object(J.a)(this._config,"dataProvider.getMyTemplateList");if("function"==typeof t)return t(e);var o=e.userId;return Io.b.get(this._config.API.GET_MY_TEMPLATE_LIST,{params:{userId:o,page:1,size:1e4},options:{withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:mn}).then(function(e){return e&&e.defaultPrevented&&mn(e),e})},o._getMyTemplate=function(e){var t=Object(J.a)(this._config,"dataProvider.getMyTemplate");if("function"==typeof t)return t(e);var o=this._config.API.GET_MY_TEMPLATE;return Io.b.get(o,{params:e,options:{withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:mn}).then(function(e){return e&&e.defaultPrevented&&mn(e),e})},o._deleteMyTemplate=function(e){var t=Object(J.a)(this._config,"dataProvider.deleteMyTemplate");if("function"==typeof t)return t(e);var o=this._config.API,n=o.GET_MY_TEMPLATE,r=o.DELETE_MY_TEMPLATE;return(n===r?Io.b.delete:Io.b.post)(r,{params:e,options:{withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:mn}).then(function(e){return e&&e.defaultPrevented&&mn(e),e})},o._addMyTemplate=function(e){var t=Object(J.a)(this._config,"dataProvider.addMyTemplate");return"function"==typeof t?t(e):Io.b.post(this._config.API.ADD_MY_TEMPLATE,{data:e,options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:mn}).then(function(e){return e&&e.defaultPrevented&&mn(e),e})},t}(Ao),yn=gn,bn=yn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/template-data-provider.js",localName:t}})}catch(e){}}e(fn,"API"),e(1e4,"PAGE_SIZE"),e(mn,"throwError"),e(gn,"TemplateDataProvider"),e(yn,"default")}();var _n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._currentRequestInfo={},o._nextPageInfo={},o._resultState=!1,o}h()(t,e);var o=t.prototype;return o.getInitializedData=function(){},o.search=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._currentRequestInfo={url:this._config.API.SEARCH,query:{ordering:t.ordering,per_page:this._config.fetchCount,page:t.page||1}},e.next=3,this._request();case 3:if(!((o=e.sent).items.length>0)){e.next=8;break}return e.next=7,this._resolveUnknownSize(o.items);case 7:o.items=e.sent;case 8:return e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._resolveUnknownSize=function(e){return new Promise(function(t){e.forEach(function(o,n){if(!o.width){var r=new Image;r.onload=function(){o.width=r.width,o.height=r.height,n===e.length-1&&t(e)},r.src=o.urls.img}})})},o.nextPage=function(){if(this._resultState){if(!Object(Xe.a)(this._nextPageInfo||{})&&!Object(Qe.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()}else if(this._currentRequestInfo.query)return this._request()},o._request=function(){var e=this;return Io.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,success:function(t){e._resultState=!0;var o=e._currentRequestInfo.query.page,n=t.hasMore;e._setNextPageInfo(n);var r=Object(J.a)(t,"result",[]),i=r.length?e._config.fetchCount*o:0,a=(new Date).getTime();return{items:r.map(function(e){return e.groupKey=a,e.provider="ogqCommercial",e}),next:{page:e._currentRequestInfo.query.page+1,hasMore:n},count:i,total:i}},error:function(){return e._resultState=!1,{items:[],next:{},count:0,total:0}}})},o._setNextPageInfo=function(e){e&&(this._nextPageInfo=Object(i.a)({page:this._currentRequestInfo.query.page+1},this._currentRequestInfo.query))},t}(Ao),vn=_n,Cn=vn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/purchased-image-data-provider.js",localName:t}})}catch(e){}}e(_n,"PurchasedImageDataProvider"),e(vn,"default")}();var On=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(zo),Sn=On,kn=Sn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/show-data-provider.js",localName:t}})}catch(e){}}e(On,"ShowDataProvider"),e(Sn,"default")}();var In=function(e){function t(t){var o;return(o=e.call(this,t)||this)._currentRequestInfo={},o._nextPageInfo={},o._resultState=!1,o}h()(t,e);var o=t.prototype;return o.getInitializeData=function(){},o.search=function(e){return this._search(e)},o.nextPage=function(){return this._nextPage()},o._search=function(e){return this._nextPageInfo={itemCount:this._config.fetchCount,page:e.page||1,momentSortType:e.ordering,publicOnly:!0,exposableOnly:!0,blogId:this._config.blogId},this._currentRequestInfo={url:this._config.API.SEARCH,query:this._nextPageInfo},this._request()},o._nextPage=function(){if(this._resultState){if(!Object(Xe.a)(this._nextPageInfo||{})&&!Object(Qe.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()}else if(this._currentRequestInfo.query)return this._request()},o._request=function(){var e=this,t=this._currentRequestInfo.searchOption;return Io.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,options:this._currentRequestInfo.options,success:function(t){e._resultState=!0;var o=e._currentRequestInfo.query.page,n=Object(J.a)(t,"totalCount",0),r=n>e._config.fetchCount*o;e._setNextPageInfo(r);var i=Object(J.a)(t,"results",[]),a=i.length?e._config.fetchCount*o:0,s=(new Date).getTime(),c=lo.a.getMomentInstance;return{items:i.map(function(e){var t=c(parseInt(e.addDate)).format("YYYY.MM.DD.");return Je()({},e,{groupKey:s,createdAt:t})}),next:{page:e._currentRequestInfo.query.page+1,hasMore:r},count:a,total:n}},error:function(o){var n=!!o.aborted;if(n)return e._resultState=!1,{searchOption:t,isFetchNextPageError:!0,aborted:n,items:[],next:{},count:0,total:0};throw o}})},o._setNextPageInfo=function(e){e&&(this._nextPageInfo=Object(i.a)({page:this._currentRequestInfo.query.page+1},this._currentRequestInfo.query))},t}(Ao),wn=In,Pn=wn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/moment-data-provider.js",localName:t}})}catch(e){}}e(In,"MomentDataProvider"),e(wn,"default")}();var jn={moment:Pn,photo:Uo,book:Ho,movie:Ko,broadcast:Qo,music:en,shopping:nn,news:sn,sticker:hn,template:bn,"purchased-image":Cn,show:kn},Tn=jn;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/index.js",localName:t}})}catch(e){}}(jn,"default")}();var Ln=function(){function e(e){this.providers={},this.currentProvider=null,this.converters={},this.currentConverter=null,this.config=e}var t=e.prototype;return t.getProvider=function(){return this.currentProvider},t.changeProvider=function(e){this.currentProvider!==this.providers[e]&&(this._cancelCurrentProvider(),this._initializeDataProvider(e),this._initializeDataConverter(e))},t.abort=function(){this._cancelCurrentProvider()},t.getInitializeData=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.changeProvider(t),e.next=3,this.currentProvider.getInitializeData(o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.search=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.changeProvider(t),e.next=3,this.currentProvider.search(o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.nextPage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentProvider.nextPage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.convertToCompData=function(e){return this._convertToCompData(e)},t._convertToCompData=function(e){return this.currentConverter.convert(e)},t._initializeDataConverter=function(e){var t=xo[e],o=this.config[e];t&&(t&&void 0===this.converters[e]&&(this.converters[e]=new t(o)),this.currentConverter=this.converters[e])},t._initializeDataProvider=function(e){var t=Tn[e],o=this.config[e];void 0===this.providers[e]&&(this.providers[e]=new t(o)),this.currentProvider=this.providers[e],this.currentSearchType=e},t._cancelCurrentProvider=function(){this.currentProvider&&this.currentProvider.abort()},e}(),En=Ln,Nn=En;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/index.js",localName:t}})}catch(e){}}e(Ln,"SearchDataManager"),e(En,"default")}();var xn=function(){function e(e){this._config=e}var t=e.prototype;return t.convert=function(){throw new Error("[ERROR]      .")},t._makeThumbnailInfo=function(e){return e?new Promise(function(t){var o=new Image;o.onload=function(o){var n=o.currentTarget;t({ctype:"thumbnail",src:e,width:n.width,height:n.height})},o.onerror=function(){t(null)},o.src=Xt.a.makeDthumbHttpsUrl(e)}):null},t._modifyPeopleInfo=function(e){var t=this;return Object(Kt.a)(e,function(e){return{ctype:"value",value:t._restoreSpecialChar(Object(J.a)(e,"name")||e)}})},t._restoreSpecialChar=function(e){return Yt.a.restoreSpecialChar(e)},t._formatWithComma=function(e){return Yt.a.formatWithComma(e)},e}(),Dn=xn,Rn=Dn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/abstract-data-converter.js",localName:t}})}catch(e){}}e(xn,"AbstractDataConverter"),e(Dn,"default")}();var An=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(no.a)(Object(ro.a)(Object(io.a)(e,["bigThumbnail2","bigThumbnail","thumbnail"])))},o._makeMaterialInfo=function(e){var t=e.title,o=e.author,n=this._restoreSpecialChar(t),r="string"==typeof o?this._restoreSpecialChar(o.replace(/\|/gi,", ").replace(/ $/gi,"")):"";return{ctype:"material",title:n,link:e.linkUrl,dataId:e.isbn,subId:e.bid,type:"book",volNo:e.volNo||"",detailInfo:[{ctype:"item",label:"",labelName:"author",values:[{ctype:"value",value:r}]},{ctype:"item",label:"",labelName:"publisher",values:[{ctype:"value",value:this._restoreSpecialChar(e.publisher)}]},{ctype:"item",label:"",labelName:"publishDay",values:[{ctype:"value",value:this._restoreSpecialChar(Yt.a.reviseDateFormat(e.publishDay))}]}]}},t}(Rn),Mn=An,Bn=Mn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/book-data-converter.js",localName:t}})}catch(e){}}e(An,"BookDataConverter"),e(Mn,"default")}();var Un=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(no.a)(Object(ro.a)(Object(io.a)(e,["imageUrls.thumbnail250","imageUrls.thumbnail150","imageUrls.poster.url"])))},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.titles.korean),o=e.theaters?e.theaters.map(function(e){return{ctype:"value",value:lo.a.getYYYYMMDDFormat(e.day)}}):[],n=this._modifyPeopleInfo(e.directors.directors),r=this._modifyPeopleInfo(e.actors.actors);return{ctype:"material",title:t,link:e.destinationUrl,dataId:e.mcode,type:"movie",detailInfo:[{ctype:"item",label:"",labelName:"directors",values:n},{ctype:"item",label:"",labelName:"actors",values:r},{ctype:"item",label:"",labelName:"makingYear",values:o}]}},t}(Rn),Vn=Un,Fn=Vn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/movie-data-converter.js",localName:t}})}catch(e){}}e(Un,"MovieDataConverter"),e(Vn,"default")}();var zn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"image",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t={ctype:"material",title:this._restoreSpecialChar(e.title),link:e.url,dataId:e.mcode||e.os,type:"broadcast",detailInfo:[]};return t.detailInfo.push({ctype:"item",label:"",labelName:"directors",values:this._modifyPeopleInfo(e.producer)}),t.detailInfo.push({ctype:"item",label:"",labelName:"actors",values:this._modifyPeopleInfo(e.guest)}),t.detailInfo.push({ctype:"item",label:"",labelName:"makingYear",values:[{ctype:"value",value:e.year+", "+e.channel}]}),t},t}(Rn),Wn=zn,Gn=Wn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/tv-data-converter.js",localName:t}})}catch(e){}}e(zn,"TVDataConverter"),e(Wn,"default")}();var Hn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"albumImg",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.albumUrl,dataId:e.albumID,type:"music",detailInfo:[{ctype:"item",label:"",labelName:"artist",values:[{ctype:"value",value:this._restoreSpecialChar(e.artist.replace(//gi,", "))}]},{ctype:"item",label:"",labelName:"release",values:[{ctype:"value",value:this._restoreSpecialChar(Yt.a.reviseDateFormat(e.release))}]}]}},t}(Rn),qn=Hn,Jn=qn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/music-data-converter.js",localName:t}})}catch(e){}}e(Hn,"MusicDataConverter"),e(qn,"default")}();var Kn=[[null,1,10,7,4,1,1,1,1],[null,2,11,8,5,2,2,2,2],[null,3,12,9,6,3,3,3,3]],Yn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.productTitle),o=this._convertToGoodsType(e.mpTp,e.prodTp)+"";return{ctype:"material",title:t,link:this._makeLink(o,e),dataId:e.id,type:"shopping",detailInfo:[{ctype:"item",label:"",labelName:"type",values:[{ctype:"value",value:o}]},{ctype:"item",label:"",labelName:"nPayPcType",values:[{ctype:"value",value:e.nPayPcType}]},{ctype:"item",label:"",labelName:"nPayMblType",values:[{ctype:"value",value:e.nPayMblType}]},{ctype:"item",label:"",labelName:"mallNameOrg",values:[{ctype:"value",value:this._restoreSpecialChar(e.mallNameOrg)}]},{ctype:"item",label:"",labelName:"price",values:[{ctype:"value",value:this._formatWithComma(e.price)}]}]}},o._makeLink=function(e,t){var o=this._isCompareProduct(e);return t.mallProductUrl?t.mallProductUrl:!0===o?"https://search.shopping.naver.com/catalog/"+t.id+"?section=price":"https://search.shopping.naver.com/catalog/"+t.id},o._convertToGoodsType=function(e,t){var o=Kn[e];return o?o[t]:null},o._isCompareProduct=function(e){return Object(vo.a)([1,4],e)},t}(Rn),Xn=Yn,Qn=Xn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/shopping-data-converter.js",localName:t}})}catch(e){}}e(Kn,"GOODS_TYPE_MAPPING"),e(Yn,"ShoppingDataConverter"),e(Xn,"default")}();var Zn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchNewsDetail(t);case 2:return o=e.sent,n=this._resolveThumbnailUrl(o),e.next=6,this._makeThumbnailInfo(n);case 6:return r=e.sent,i=this._makeMaterialInfo(o),r&&(i.thumbnail=r),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(no.a)(Object(ro.a)(Object(io.a)(e,["images[0].url","images.image[0].url","images.image.url"])))},o._fetchNewsDetail=function(e){return Io.a.get(this._config.newsDetailAPI,{params:{oid:e.officeId||e.subId,aid:e.articleId||e.dataId},success:function(e){return Object(J.a)(e,"items[0]")}})},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.orgUrl,dataId:e.articleId,subId:e.officeId,type:"news",detailInfo:[{ctype:"item",label:"",labelName:"subcontent",values:[{ctype:"value",value:this._restoreSpecialChar(e.subcontent)}]},{ctype:"item",label:"",labelName:"officeHname",values:[{ctype:"value",value:this._restoreSpecialChar(e.officeHname)}]}]}},t}(Rn),$n=Zn,er=$n;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/news-data-converter.js",localName:t}})}catch(e){}}e(Zn,"NewsDataConverter"),e($n,"default")}();var tr=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=e.objectId,o=this._resolveDatas(e),n=o.title,r=o.genre,i=o.locationName,a=o.period;return{ctype:"material",type:"show",dataId:t,layout:"default",title:n,link:o.link,detailInfo:[{label:"",labelName:"genre",values:[{value:r,ctype:"value"}],ctype:"item"},{label:"",labelName:"locationName",values:[{value:i,ctype:"value"}],ctype:"item"},{label:"",labelName:"period",values:[{value:a,ctype:"value"}],ctype:"item"}]}},o._isExhibitionDefine=function(e){return"269"!==e.searchLinkParameter.pkid},o._resolveDatas=function(e){var t,o,n,r=e.rendingUrl,i=e.formattedPeriod;return!0===this._isExhibitionDefine(e)?(t=e.name,o="",n=e.locationName):(t=e.title,o=e.majorGenreName,n=e.placeInformation.name),{title:t,genre:o,locationName:n,period:i,link:r}},t}(Rn),or=tr,nr=or;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/show-data-converter.js",localName:t}})}catch(e){}}e(tr,"ShowDataConverter"),e(or,"default")}();var rr={photo:Jt,book:Bn,movie:Fn,broadcast:Gn,music:Jn,shopping:Qn,news:er,show:nr},ir=rr;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/index.js",localName:t}})}catch(e){}}(rr,"default")}();var ar=o(245),sr=ar.a.satisfies("os.name = Android && os.version = 4.4.2")&&ar.a.isSamsungBrowser(),cr=function(e){function t(t){var o;o=e.call(this,t)||this;var n=u.V.get("configAgent"),r=n.configMap.apiInfo;return o._componentFactory=u.V.get("componentFactory"),o._i18n=u.V.get("i18n"),o._fetchAuthorizedImage=r.fetchAuthorizedImage,o._searchDataManager=o._initializeSearchDataManager(r),o._dataConverter=o._initializeDataConverter(r),o._searchPanelConfig=n.get("productConfig.searchPanel"),o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this.close():this.open(),this._store.opened},o.update=function(){this._store.update()},o.append=function(){this._store.append()},o.reset=function(){this._store.reset()},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.getSearchType=function(){return this._store.searchType},o.getSearchOption=function(){return this._store.searchOption},o.changeSearchType=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this._store.changeSearchType(t),e.next=4,this.requestData(t,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.changeSearchOption=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this._store.changeSearchOption(o),e.next=4,this.requestData(t,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.resetAll=function(){this._store.resetAll()},o.keywordSearch=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this._store.changeSearchOption(o),e.next=4,this.requestData(t,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.requestData=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.paid,"photo"===t&&(r=Object(J.a)(this._searchPanelConfig,"photo.license"),o.paid=n||r||["F","P"]),!o||!o.keyword){e.next=7;break}return e.next=5,this.search(t,o);case 5:e.next=9;break;case 7:return e.next=9,this.recommendData(t,o);case 9:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.authorizedImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Io.a.get(this._fetchAuthorizedImage,{params:{productId:t},success:function(e){return!!e.imageUrl}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),o.search=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this._store.searchType){e.next=2;break}return e.abrupt("return");case 2:return n=this._store.searchType,e.next=5,this._searchDataManager.search(t,o);case 5:(r=e.sent)&&n===this._store.searchType&&this._store.update(r);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._preLoadImage=function(e){return new Promise(function(t){var o=new Image;o.onload=function(){t(!0)},o.onerror=function(){t(!1)},o.src=e})},o._getValidImageList=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=[],n=0;case 2:if(!(n<t.length)){e.next=10;break}return e.next=5,this._preLoadImage(t[n].urls.thumb);case 5:e.sent&&o.push(t[n]);case 7:n++,e.next=2;break;case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.recommendData=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this._store.searchType){e.next=2;break}return e.abrupt("return");case 2:return n=this._store.searchType,e.next=5,this._searchDataManager.getInitializeData(t,o);case 5:if(r=e.sent,!sr||"photo"!==t){e.next=10;break}return e.next=9,this._getValidImageList(r.items);case 9:r.items=e.sent;case 10:r&&n===this._store.searchType&&this._store.update(r);case 11:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._store.searchType,o=t,e.next=4,this._searchDataManager.nextPage();case 4:if(n=e.sent,!sr||"photo"!==t){e.next=9;break}return e.next=8,this._getValidImageList(n.items);case 8:n.items=e.sent;case 9:r=this._store.searchType,n&&o===r&&this._store.append(n);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.itemDataToStore=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return o=e.sent,e.abrupt("return",this.createComponent(o));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.itemDataToCompData=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.updatePaidItem=function(e){this._store.updateItemById({id:e.id,props:{purchased:!0}})},o.removeItemById=function(e){this._store.removeItemById(e)},o._initializeDataConverter=function(e){var t=ir.book,o=ir.movie,n=ir.broadcast,r=ir.music,i=ir.shopping,a=ir.news,s=ir.show;return{photo:new(0,ir.photo),book:new t,movie:new o,broadcast:new n,music:new r,shopping:new i,news:new a({newsDetailAPI:e.fetchNewsDetail}),show:new s}},o._initializeSearchDataManager=function(e){return new Nn({photo:{API:{INITIALIZE:e.fetchRecommendedImage,SEARCH:e.fetchImages}},book:{API:{INITIALIZE:e.fetchBookBestSellers,SEARCH:e.fetchBooks}},movie:{API:{INITIALIZE:e.fetchBoxOfficeMovies,SEARCH:e.fetchMovies}},broadcast:{API:{INITIALIZE:e.fetchRecommandedBroadcasts,SEARCH:e.fetchBroadcasts}},music:{API:{INITIALIZE:e.fetchNewMusic,SEARCH:e.fetchMusics}},shopping:{API:{SEARCH:e.fetchShoppingItems}},news:{API:{INITIALIZE:e.fetchPopularNews,SEARCH:e.fetchNews,NEWS_DETAIL:e.fetchNewsDetail}},show:{API:{INITIALIZE:e.fetchRecommandedShows,SEARCH:e.fetchShows}}})},o.convertToDragItem=function(e){var t=this.getSearchType();return this._dataConverter[t].convertToDragItem(e)},o.convertToCompData=function(e){var t=this.getSearchType();return this._dataConverter[t].convert(e)},o.setSearchedState=function(e){this._store.setSearchedState(e)},t}(u.f),lr=cr,ur=lr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(sr,"isDefenceSamsungBrowser"),e(cr,"SearchPanelLayoutService"),e(lr,"default")}();var pr=o(353),dr=u.H.extend({name:"SearchPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(1),o.e(26)]).then(o.bind(null,1246))}}),useCase:Mt.a,service:ur,store:pr.a}),hr=dr,fr=hr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/index.js",localName:t}})}catch(e){}}e(dr,"SearchPanelLayout"),e(hr,"default")}();var mr=o(354),gr=o(355),yr=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.V.get("configAgent"),o._i18n=u.V.get("i18n"),o._componentListStore=u.V.get("componentListStore"),o._componentFactory=u.V.get("componentFactory"),o._userId=o._configAgent.get("userInfo.userId"),o._searchDataManager=o._initializeSearchDataManager(),o._prevMomentItems=[],o._isCalledOnce=!1,o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.reset(),this._store.open(),this.search(this._store.momentOption)},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.reset=function(){this._store.reset()},o.resetAll=function(){this._store.resetAll()},o.update=function(){this._store.update()},o.append=function(){this._store.append()},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.getMomentType=function(){return this._store.momentType},o.getMomentOption=function(){return this._store.momentOption},o._initializeSearchDataManager=function(){var e=this._configAgent.configMap.apiInfo;return new Nn({moment:{API:{SEARCH:e.fetchMoments},fetchCount:gr.b,blogId:this._userId}})},o.getMomentItems=function(){return this._store.getMomentItems()},o.getCompData=function(e){return this._store.getItemByIndex(e).baseCompData},o.removeItemBy=function(e){this._store.removeItemByIndex(e)},o.getSyncUnitList=function(e){return this._store.getItemByIndex(e).syncUnitList},o.changeMomentOption=function(e){this.reset(),this._store.changeMomentOption(e),this.search(e)},o.search=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=this._store.momentType,e.next=4,this._searchDataManager.search("moment",t);case 4:n=e.sent,this._store.changeMomentOption(t),n&&o===this._store.momentType&&this._store.update(n),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),this._store.isFetchNextPageError=!0,e.abrupt("return",this._showErrorMessage(e.t0));case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this._store.momentType,e.next=4,this._searchDataManager.nextPage();case 4:(o=e.sent)&&t===this._store.momentType&&this._store.append(o),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),this._store.isFetchNextPageError=!0,e.abrupt("return",this._showErrorMessage(e.t0));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),o.itemDataToStore=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return o=e.sent,e.abrupt("return",this.createComponent(o));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.itemDataToCompData=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.convertToCompData=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._searchDataManager.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._searchDataManager.currentConverter.convertToDragItem(e)},o._showErrorMessage=function(e){if("abort"!==Object(J.a)(e,"message"))return new Error(this._i18n("momentPanelLayout:error_server_data_load"))},t}(u.f),br=yr,_r=br;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(yr,"MomentPanelLayoutService"),e(br,"default")}();var vr=o(356),Cr=u.H.extend({name:"MomentPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(1),o.e(27)]).then(o.bind(null,1256))}}),useCase:mr.a,service:_r,store:vr.a}),Or=Cr,Sr=Or;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/index.js",localName:t}})}catch(e){}}e(Cr,"MomentPanelLayout"),e(Or,"default")}();var kr=o(357),Ir=o(359),wr=o(206),Pr=o(756),jr=o(98),Tr=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.V.get("configAgent"),o._componentFactory=u.V.get("componentFactory"),o._dataProvider=o._initializeDataProvider(),o._dataConverter=new Gt,o._validPackCodeList=[],o}h()(t,e);var o=t.prototype;return o._initializeDataProvider=function(){var e=this._configAgent.get("apiInfo");return(this._configAgent.get("productConfig.stickerPanel")||{}).dataProvider||new hn({API:{INITIALIZE:e.fetchStickers}})},o.openRefreshPanel=function(e){this._pauseDocumentEdit(),this._store.openRefreshPanel(e)},o.closeRefreshPanel=function(){this._store.closeRefreshPanel(),this._unpauseDocumentEdit()},o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.loadInitializeData=function(){var e=Ft()(Ut.a.mark(function e(){var t,o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._dataProvider.getCategories();case 2:return t=e.sent,o=Object(no.a)(t.list),e.next=6,this.updateCategory(t);case 6:return this._updateValidPackCode(t.list),e.next=9,this.updateStickerPack(o);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.updateCategory=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.loadInitializeData();case 3:return e.abrupt("return",e.sent);case 6:this._store.updateCategory(t);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.updateStickerPack=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._dataProvider.getStickerPack(t);case 2:o=e.sent,n=o.list.map(function(e){return{packCode:t.packCode,seq:e.seq,stickerInfo:e,animated:t.isAnimated}}),this._store.updateStickerPack({stickerPack:n,packCode:t.packCode});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.insertItem=function(e){var t=this._dataConverter.convert(e);return this.createComponent(t)},o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.updateUsedStickerPack=function(e){if(!0!==Object(Xe.a)(e)){var t=Object(Kt.a)(e,function(e){return e.packCode}),o=Object(wr.a)(t,this._validPackCodeList);!1===Object(Xe.a)(o)&&Object(Pr.a)(e,function(e){return o.includes(e.packCode)}),this._store.updateUsedStickerPack(e)}else this._store.updateUsedStickerPack([])},o.getStickerCompData=function(e){return this._dataConverter.convert(e)},o.getUsedStickerList=function(e,t){var o=Object(jr.a)(e,t);return o>-1&&e.splice(o,1),e.unshift(t),e},o._updateValidPackCode=function(e){this._validPackCodeList=Object(Kt.a)(e,function(e){return e.packCode})},t}(u.d),Lr=Tr,Er=Lr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(Tr,"StickerPanelLayoutService"),e(Lr,"default")}();var Nr=u.H.extend({name:"StickerPanelLayout",view:Object(p.a)({Loader:function(){return o.e(28).then(o.bind(null,1252))}}),useCase:kr.a,store:Ir.a,service:Er}),xr=Nr,Dr=xr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/index.js",localName:t}})}catch(e){}}e(Nr,"StickerPanelLayout"),e(xr,"default")}();var Rr=o(360),Ar=o(142),Mr=o(153),Br=["image","video","imageNode","imageGroup","imageStrip"],Ur=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.V.get("configAgent"),o._i18n=u.V.get("i18n"),o._componentListStore=u.V.get("componentListStore"),o._componentFactory=u.V.get("componentFactory"),o._searchDataManager=o._initializeSearchDataManager(),o._prevLibraryItems=[],o._isCalledOnce=!1,o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open(),this.search(this._store.orderOption)},o.openTab=function(e){this._store.open(),this._store.changeLibraryType(e),this.search(this._store.orderOption)},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.reset=function(){this._store.reset()},o.update=function(){this._store.update()},o.append=function(){this._store.append()},o.getLibraryType=function(){return this._store.libraryType},o.getMediaItemsForLibrary=function(){return Object(Ar.a)(this._componentListStore.compList,function(e,t){if(!0===t.isLibraryComponent()){var o=t.getLibraryItemData(),n=e.keys,r=e.items;Br.includes(t.ctype)&&(Array.isArray(o)?o.forEach(function(e){n[e.data.id]=""+e.data.domain+e.data.path}):n[o.id]=o.key),o&&(Array.isArray(o)?o.forEach(function(e){r.push(e)}):r.push(o))}return e},{keys:{},items:[]})},o.updateMediaList=function(){var e=this.getMediaItemsForLibrary(),t=e.keys,o=e.items,n=Object(Mr.a)(o,function(e){return"string"==typeof e.key});this._store.updateMediaList(n,t)},o._initializeSearchDataManager=function(){var e=this._configAgent.configMap.apiInfo;return new Nn({"purchased-image":{API:{SEARCH:e.fetchPurchasedImages}}})},o.getLibraryItems=function(){return this._store.getLibraryItems()},o.getCompData=function(e){return this._store.getItemByIndex(e).baseCompData},o.removeItemBy=function(e){this._store.removeItemByIndex(e)},o.getSyncUnitList=function(e){return this._store.getItemByIndex(e).syncUnitList},o.changeLibraryType=function(e,t){this.reset(),this._store.changeLibraryType(e),this.search(t)},o.changeOrderOption=function(e){this.reset(),this._store.changeOrderOption(e),this.search(e)},o.search=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=this._store.libraryType,e.next=4,this._searchDataManager.search("purchased-image",t);case 4:(n=e.sent)&&o===this._store.libraryType&&this._store.update(n),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this._showErrorMessage(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this._store.libraryType,e.next=4,this._searchDataManager.nextPage();case 4:(o=e.sent)&&t===this._store.libraryType&&this._store.append(o),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this._showErrorMessage(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),o.itemDataToStore=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return o=e.sent,e.abrupt("return",this.createComponent(o));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.itemDataToCompData=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.convertToCompData=function(e){return this._searchDataManager.convertToCompData(e)},o._showErrorMessage=function(e){if("abort"!==Object(J.a)(e,"message"))return new Error(this._i18n("libraryPanelLayout:error_server_data_load"))},o._getAutoPopupMode=function(){return this._store.autoPopupMode},o._isActiveAutoPopup=function(){return this._getAutoPopupMode()===n.b.ACTIVE},o._isInActiveAutoPopup=function(){return this._getAutoPopupMode()===n.b.INACTIVE},o._isIncresedLibraryItems=function(){var e=this.getLibraryItems();return this._prevLibraryItems.length<e.length},o.isTimeToAutoPopup=function(e){if(void 0===e&&(e=!0),!1!==this._isCalledOnce)return!1;if(this._isActiveAutoPopup()){if(this._isIncresedLibraryItems())return this._isCalledOnce=!0,!0}else{if(this._isInActiveAutoPopup())return this._isCalledOnce=!0,!1;if(!e)return this._isCalledOnce=!0,!1;if(this._isIncresedLibraryItems())return this._isCalledOnce=!0,!0}return!1},t}(u.f),Vr=Ur,Fr=Vr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(Br,"mediaType"),e(Ur,"LibraryPanelLayoutService"),e(Vr,"default")}();var zr=o(361),Wr=u.H.extend({name:"LibraryPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(1),o.e(29)]).then(o.bind(null,1253))}}),useCase:Rr.a,service:Fr,store:zr.a}),Gr=Wr,Hr=Gr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/index.js",localName:t}})}catch(e){}}e(Wr,"LibraryPanelLayout"),e(Gr,"default")}();var qr=o(362),Jr=function(e){function t(t){var o;(o=e.call(this,t)||this)._configAgent=u.V.get("configAgent"),o._i18n=u.V.get("i18n"),o._componentFactory=u.V.get("componentFactory"),o._userId=o._configAgent.get("userInfo.userId");var n=o._configAgent.get("apiInfo"),r=o._configAgent.get("productConfig.templatePanel.dataProvider");return o._templateDataProvider=new bn({API:{GET_RECOMMEND_LIST:n.fetchRecommendedTemplates,GET_RECOMMEND:n.fetchRecommendedTemplate,GET_PART_TEMPLATE_LIST:n.fetchPartialTemplates,GET_MY_TEMPLATE_LIST:n.fetchMyTemplates,GET_MY_TEMPLATE:n.fetchMyTemplate,ADD_MY_TEMPLATE:n.addMyTemplate,DELETE_MY_TEMPLATE:n.deleteMyTemplate},dataProvider:r}),o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.showLoadingIcon=function(){this._store.showLoadingIcon()},o.hideLoadingIcon=function(){this._store.hideLoadingIcon()},o.loadRecommendList=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._store.initialize(),e.next=3,this._templateDataProvider.get(fn.GET_RECOMMEND_LIST);case 3:t=e.sent,this._store.update(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.loadPartTemplateList=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._store.initialize(),e.next=3,this._templateDataProvider.get(fn.GET_PART_TEMPLATE_LIST);case 3:t=e.sent,this._store.update(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.update=function(e){this._store.update(e)},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.getPartTemplateComponentList=function(e){var t=this;if(e.length)return e.map(function(e){return t._componentFactory.createComponentWithCompData(e)})},o.applyMyTemplate=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={userId:this._userId,templateNo:t},e.next=3,this._templateDataProvider.get(fn.GET_MY_TEMPLATE,o);case 3:if(n=e.sent,!(r=Object(J.a)(n,"documentModel"))){e.next=7;break}return e.abrupt("return",JSON.parse(r));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.applyRecommendTemplate=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={templateNo:t},e.next=3,this._templateDataProvider.get(fn.GET_RECOMMEND,o);case 3:if(n=e.sent,!(r=Object(J.a)(n,"documentModel"))){e.next=7;break}return e.abrupt("return",JSON.parse(r));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.loadMyTemplateList=function(){var e=Ft()(Ut.a.mark(function e(){var t,o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._store.initialize(),t={userId:this._userId},e.next=4,this._templateDataProvider.get(fn.GET_MY_TEMPLATE_LIST,t);case 4:o=e.sent,this._store.update(o);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.addMyTemplate=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={userId:this._userId,documentModel:JSON.stringify(t)},e.next=3,this._templateDataProvider.post(fn.ADD_MY_TEMPLATE,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.deleteMyTemplate=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={userId:this._userId,templateNo:t},e.next=3,this._templateDataProvider.delete(fn.DELETE_MY_TEMPLATE,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.getPartTemplateData=function(e){var t=this._store.getItemById(e),o=Object(J.a)(t,"documentModel");if(o)return JSON.parse(o).document.components},o.changeTemplateType=function(e){this._store.reset(),this._store.changeTemplateType(e)},t}(u.f),Kr=Jr,Yr=Kr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(Jr,"TemplatePanelLayoutService"),e(Kr,"default")}();var Xr,Qr,Zr=o(363),$r=u.H.extend({name:"TemplatePanelLayout",view:Object(p.a)({Loader:function(){return o.e(30).then(o.bind(null,1249))}}),useCase:qr.a,service:Yr,store:Zr.a}),ei=$r,ti=ei;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/index.js",localName:t}})}catch(e){}}e($r,"TemplatePanelLayout"),e(ei,"default")}();var oi=(Xr=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"viewMode",Qr,G()(o));var n=t.state,r=void 0===n?{}:n,i=u.V.get("configAgent");return o.useHelp=i.get("productConfig.help")||!1,o.usePreview=!1!==i.get("productConfig.preview"),o.viewMode=Object(J.a)(r,"viewMode",o.viewMode),o}h()(t,e);var o=t.prototype;return o.changeToNextViewMode=function(){this.changeViewMode(this.nextViewMode)},o.changeViewMode=function(e){this.viewMode=e},Ye()(t,[{key:"nextViewMode",get:function(){return this.viewMode===u.T.VIEW_MODE_PC?u.T.VIEW_MODE_MOBILE:this.viewMode===u.T.VIEW_MODE_MOBILE?u.T.VIEW_MODE_TABLET:this.viewMode===u.T.VIEW_MODE_TABLET?u.T.VIEW_MODE_PC:this.viewMode}},{key:"viewMode",get:function(){return this.viewMode}}]),t}(u.w),Qr=q()(Xr.prototype,"viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.T.VIEW_MODE_PC}}),q()(Xr.prototype,"nextViewMode",[K.e],Object.getOwnPropertyDescriptor(Xr.prototype,"nextViewMode"),Xr.prototype),Xr),ni=oi,ri=ni;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/store/index.js",localName:t}})}catch(e){}}e(oi,"ViewModeLayoutStore"),e(ni,"default")}();var ii,ai,si=o(673),ci=(ii=function(e){function t(){var t;return(t=e.call(this)||this)._viewModeLayoutService=u.V.get("viewModeLayoutService"),t._headerLayoutService=u.V.get("headerLayoutService"),t._documentToolbarLayoutService=u.V.get("documentToolbarLayoutService"),t._propertyToolbarLayoutService=u.V.get("propertyToolbarLayoutService"),t._canvasLayoutService=u.V.get("canvasLayoutService"),t._helpPanelLayoutService=u.V.get("helpPanelLayoutService")||{togglePanel:function(){}},t._panelContainerLayerService=u.V.get("panelContainerLayerService"),t._virtualEditable=u.V.get("virtualEditable"),t._contentsToolbarLayoutService=u.V.get("contentsToolbarLayoutService"),t}h()(t,e);var o=t.prototype;return o.changeViewMode=function(){var e=this,t=this._viewModeLayoutService.changeViewMode();this._headerLayoutService.changeViewMode(t),this._documentToolbarLayoutService.resetDisplayButtonSet(),this._propertyToolbarLayoutService.resetDisplayButtonSet(),this._canvasLayoutService.changeViewMode(t),setTimeout(function(){if(e._contentsToolbarLayoutService){var t=e._virtualEditable.getClientRects();e._contentsToolbarLayoutService.updateContentsToolbarPosition({clientRects:t})}},10)},o.openHelpPanel=function(){this._helpPanelLayoutService.togglePanel(),this._panelContainerLayerService.closePanel()},t}(u.m),q()(ii.prototype,"changeViewMode",[ee.history,K.d],Object.getOwnPropertyDescriptor(ii.prototype,"changeViewMode"),ii.prototype),ii),li=ci,ui=li;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(ci,"ViewModeLayoutUseCase"),e(li,"default")}();var pi=(ai=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.store,t=e.viewMode;if(!e.usePreview)return null;var o=this._getViewModeData(t),n=o.className,r=o.buttonText,i="flbbtn."+o.logId;return K.b.createElement("li",{className:"se-utils-item"},K.b.createElement("button",{type:"button",className:n,"data-log":i,onClick:this._handleClickViewMode},K.b.createElement("span",{className:"se-utils-text"},r)))},o._getViewModeData=function(e){switch(e){case u.T.VIEW_MODE_MOBILE:return{className:"se-util-button __mode-button se-util-button-device-mobile",buttonText:this.props.i18n("viewModeLayout:mobile_view"),logId:"vtablet"};case u.T.VIEW_MODE_TABLET:return{className:"se-util-button __mode-button se-util-button-device-tablet",buttonText:this.props.i18n("viewModeLayout:tablet_view"),logId:"vdesktop"};default:return{className:"se-util-button __mode-button se-util-button-device-desktop",buttonText:this.props.i18n("viewModeLayout:pc_view"),logId:"vmobile"}}},o._handleClickViewMode=function(e){this.props.useCase.changeViewMode(),Lt.a.log(e.nativeEvent)},t}(K.b.Component),q()(ai.prototype,"_handleClickViewMode",[ee.autobind],Object.getOwnPropertyDescriptor(ai.prototype,"_handleClickViewMode"),ai.prototype),ai);pi.defaultProps={i18n:function(e){return e}},pi.propTypes={i18n:K.a.func,useCase:K.a.instanceOf(ui).isRequired,store:K.a.instanceOf(ri).isRequired};var di,hi=Object(Z.b)(pi),fi=hi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/view/preview-button.jsx",localName:t}})}catch(e){}}e(pi,"PreviewButton"),e(hi,"default")}();var mi=(di=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.useHelp;return!1===n?null:K.b.createElement("li",{className:"se-utils-item"},K.b.createElement("a",{href:!0===n?"#":n,target:"_blank",className:"se-util-button se-util-button-guide","data-log":"flbbtn.help",onClick:this._handleClickHelp},K.b.createElement("span",{className:"se-utils-text"},o("viewModeLayout:help"))))},o._handleClickHelp=function(e){!0===this.props.store.useHelp&&(this.props.useCase.openHelpPanel(),e.preventDefault()),Lt.a.log(e.nativeEvent)},t}(K.b.Component),q()(di.prototype,"_handleClickHelp",[ee.autobind],Object.getOwnPropertyDescriptor(di.prototype,"_handleClickHelp"),di.prototype),di);mi.defaultProps={i18n:function(e){return e}},mi.propTypes={i18n:K.a.func,useCase:K.a.instanceOf(ui).isRequired,store:K.a.instanceOf(ri).isRequired};var gi=Object(Z.b)(mi),yi=gi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/view/help-button.jsx",localName:t}})}catch(e){}}e(mi,"HelpButton"),e(gi,"default")}();var bi=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.render=function(){return K.b.createElement(si.TransitionGroup,null,K.b.createElement(si.CSSTransition,{classNames:{appear:"se-utils-interaction-enter",appearActive:"se-utils-interaction-enter-active"},timeout:300,appear:!0},K.b.createElement("div",{className:"se-utils"},K.b.createElement("ul",{className:"se-ultils-list"},K.b.createElement(fi,this.props),K.b.createElement(yi,this.props)))))},t}(K.b.Component);bi.propTypes={store:K.a.instanceOf(ri).isRequired};var _i=Object(Z.b)(bi),vi=_i;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(bi,"ViewModeLayoutView"),e(_i,"default")}();var Ci=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.getViewMode=function(){return this._store.viewMode},o.changeViewMode=function(){return this._store.changeToNextViewMode(),this._store.viewMode},t}(u.f);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/service/index.js",localName:t}})}catch(e){}}(Ci,"ViewModeLayoutService")}();var Oi,Si,ki=u.H.extend({name:"ViewModeLayout",view:vi,useCase:ui,service:Ci,store:ri}),Ii=ki,wi=Ii;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/index.js",localName:t}})}catch(e){}}e(ki,"ViewModeLayout"),e(Ii,"default")}();var Pi=(Oi=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"visibility",Si,G()(o));var n=t.state,r=void 0===n?{}:n;return o.visibility=Object(J.a)(r,"visibility",o.visibility),o}h()(t,e);var o=t.prototype;return o.toggle=function(e){this.visibility="boolean"==typeof e?e:!this.visibility},o.show=function(){this.visibility=!0},o.hide=function(){this.visibility=!1},t}(u.w),Si=q()(Oi.prototype,"visibility",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oi),ji=Pi,Ti=ji;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/store/index.js",localName:t}})}catch(e){}}e(Pi,"LoadingProgressLayoutStore"),e(ji,"default")}();var Li=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.m),Ei=Li,Ni=Ei;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(Li,"LoadingProgressLayoutUseCase"),e(Ei,"default")}();var xi=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){return K.b.createElement("div",{className:this._isShow()},K.b.createElement("span",{className:"se-blind"},this.props.i18n("loadingProgressLayout:loading"),"."))},o._isShow=function(){var e={"se-progressbar":!0};return!0===this.props.store.visibility&&(e["se-is-on"]=!0),We()(e)},t}(K.b.Component);xi.defaultProps={children:null,i18n:function(e){return e}},xi.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),i18n:K.a.func,store:K.a.instanceOf(Ti).isRequired,useCase:K.a.instanceOf(Ni).isRequired};var Di=Object(Z.b)(xi),Ri=Di;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(xi,"LoadingProgressLayoutView"),e(Di,"default")}();var Ai=function(e){function t(t){var o;return(o=e.call(this)||this)._store=t,o}h()(t,e);var o=t.prototype;return o.show=function(){this._store.show()},o.hide=function(){this._store.hide()},t}(u.f);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/service/index.js",localName:t}})}catch(e){}}(Ai,"LoadingProgressLayoutService")}();var Mi=u.H.extend({name:"LoadingProgressLayout",view:Ri,service:Ai,store:Ti,useCase:Ni}),Bi=Mi,Ui=Bi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/index.js",localName:t}})}catch(e){}}e(Mi,"LoadingProgressLayout"),e(Bi,"default")}();var Vi=o(364),Fi=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.open()},o.updatePreview=function(e){this._store.updatePreview(e)},o.setLoading=function(e){this._store.setLoading(e)},o.changeToTextLayout=function(){this._store.changeToTextLayout()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.reset=function(){this._store.reset()},t}(u.d),zi=Fi,Wi=zi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/service/index.js",localName:t}})}catch(e){}}e(Fi,"LinkLayerService"),e(zi,"default")}();var Gi=o(254),Hi=u.G.extend({name:"LinkLayer",view:Object(p.a)({Loader:function(){return o.e(31).then(o.bind(null,1262))}}),useCase:Vi.a,service:Wi,store:Gi.a}),qi=Hi,Ji=qi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/index.js",localName:t}})}catch(e){}}e(Hi,"LinkLayer"),e(qi,"default")}();var Ki=o(365),Yi="se_";function Xi(e,t,o){return window.open(e,Yi+t,o)}var Qi={NAME_PREFIX:Yi,open:Xi},Zi=Qi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/common/wrapped-window.js",localName:t}})}catch(e){}}e(Yi,"NAME_PREFIX"),e(Xi,"open"),e(Qi,"wrappedWindow"),e(Zi,"default")}();var $i=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.openCloudSnsPopup()},o.openCloudSNSWindowPopup=function(e){var t=this;return void 0===e&&(e={}),this._store.opened||this.open(),new Promise(function(o){t._resolve=t._resolve||o,t._option=Je()({},t._option,e),t._option.type&&t._openWindowPopup(),t._setCloudSNSWindowSetting()})},o.close=function(){this._store.closeCloudSnsPopup(),this._unpauseDocumentEdit(),this._option=null},o._setCloudSNSWindowSetting=function(){var e=this,t=this._option.maxCount;window.maxFileCount=t||50,window.NPHOTO_MINI={onSubmit:function(t){var o=t&&JSON.parse(t),n=e._decodeUriIfNotCloud("ncloud",o);e._resolve(n),e._destroy()}},window.SNS={addImageUrls:function(t){var o=t.split(","),n=e._option.type,r=e._decodeUriIfNotCloud(n,o);e._resolve(r),e._destroy()}}},o._openWindowPopup=function(){var e=this._option.type,t="ncloud"===e?this._getCloudUploadUrl():this._getSnsUploadUrl(e),o=this._getConfig();this.window=Qi.open(t,e,o)},o._decodeUriIfNotCloud=function(e,t){return"ncloud"===e?t:t.map(function(e){return decodeURIComponent(e)})},o._getCloudUploadUrl=function(){var e=u.V.get("configAgent").get("editorInfo.buildProperty"),t="real"===e?"":e+".";return location.protocol+"//"+t+"photo.cloud.naver.com/v2/mini?"+this._getQueryForNCloud()},o._getSnsUploadUrl=function(e){var t=u.V.get("configAgent").get("infraInfo.photoInfra.upphotoServer");return location.protocol+"//"+t+".upphoto.naver.com/sns/view.nhn#"+e},o._getQueryForNCloud=function(){return["mediaType=I","maxCount="+(this._option.maxCount||u.V.get("configAgent").get("editorInfo.cloudMaxImageCount"))].join("&")},o._getConfig=function(){var e=870,t=610,o=(screen.availWidth-e)/2;return"top="+(screen.availHeight-t)/2+",left="+o+",width="+e+",height="+t+"\n        ,scrollbars=yes,resizable=yes,status=yes"},o._destroy=function(){this._destroyPopupSetting(),this.window&&(this.window.close(),this._resolve=null,this._option=null),this.close()},o._destroyPopupSetting=function(){window.NPHOTO_MINI=null,window.SNS=null,window.maxFileCount=null},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/service/index.js",localName:t}})}catch(e){}}($i,"CloudSnsLayerService")}();var ea=o(367),ta=u.G.extend({name:"CloudSnsLayer",view:Object(p.a)({Loader:function(){return o.e(32).then(o.bind(null,1220))}}),useCase:Ki.a,service:$i,store:ea.a}),oa=ta,na=oa;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/index.js",localName:t}})}catch(e){}}e(ta,"CloudSnsLayer"),e(oa,"default")}();var ra=o(753),ia=o(369),aa=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.openImageDetailLayer(e)},o.close=function(){this._store.closeImageDetailLayer(),this._unpauseDocumentEdit()},o.openLoadingLayer=function(){this._store.openLoadingLayer()},o.closeLoadingLayer=function(){this._store.closeLoadingLayer()},t}(u.d),sa=aa,ca=sa;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/service/index.js",localName:t}})}catch(e){}}e(aa,"ImageDetailLayerService"),e(sa,"default")}();var la=o(368),ua=u.H.extend({name:"ImageDetailLayer",view:Object(p.a)({Loader:function(){return o.e(33).then(o.bind(null,1221))}}),useCase:la.a,service:ca,store:ia.a}),pa=ua,da=pa;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/index.js",localName:t}})}catch(e){}}e(ua,"ImageDetailLayer"),e(pa,"default")}();var ha=o(394),fa=o(393),ma=o(17),ga=o.n(ma),ya=o(1042),ba=o(1192),_a=o(1193),va=o(259),Ca=function(){function e(e){this._config=e,this.reset()}var t=e.prototype;return t.reset=function(){this._pageBucketHash={},this._pageBucketSize=0},t.getAt=function(e){return this._pageBucketHash[e]},t.setAt=function(e,t){this._pageBucketSize+=t.length,this._pageBucketHash[e]=t.slice(0)},t.isLacking=function(e,t){return!this._pageBucketHash[t+1]&&e.length<=this._config.maxItemsPerPage},t.count=function(){return this._pageBucketSize},t.append=function(e){var t=Math.max(Math.ceil(this._pageBucketSize/this._config.maxItemsPerPage),1),o=this._pageBucketHash[t];this._pageBucketSize+=e.length,o?this._appendPage(e,t,o):this._createPage(e,t)},t._createPage=function(e,t){var o=this._config.maxItemsPerPage,n=e.splice(0,o);this._pageBucketHash[t]=n.slice(0);var r=e.length;0!==r&&(r>o?this._createPage(e,t+1):this._pageBucketHash[t+1]=e.slice(0))},t._appendPage=function(e,t,o){var n=this._config.maxItemsPerPage,r=o.length;if(r===n)this._createPage(e,t+1);else{var i=e.splice(0,n-r);this._pageBucketHash[t]=[].concat(this._pageBucketHash[t],i),this._createPage(e,t+1)}},e}(),Oa=Ca;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-nextpage-pool/index.js",localName:t}})}catch(e){}}e(Ca,"PlaceNextPagePool"),e(Oa,"default")}();var Sa=function(){function e(e){this._config=e,this._i18n=u.V.get("i18n"),this._language=this._i18n.language(),this._api=null,this._nextPagePool=new Ca({maxItemsPerPage:e.maxItemsPerPage}),this._initialize()}var t=e.prototype;return t.abort=function(){Io.a.abort()},t.search=function(e){if(!e)return this._makeErrorResult("INVALID_REQUEST");var t=this._generateSearchParams(e);return this._api=this._config.api.search,this._request({params:t,isFirstSearch:!0})},t.nearby=function(e,t){var o=this._generateNearByParams(e,t);return this._api=this._config.api.nearby,this._request({params:o,isFirstSearch:!0})},t.nextpage=function(e){return this._nextpage(e)},t._generateSearchParams=function(){throw new Error("[ERROR]  API     .")},t._generateNearByParams=function(){throw new Error("[ERROR]   API     .")},t._doAfterResponse=function(){throw new Error("[ERROR] API     .")},t._nextpage=function(){throw new Error("[ERROR]     .")},t._request=function(e){var t=this,o=e.isFirstSearch,n=e.page,r=void 0===n?1:n,i=e.params;return o&&this._initialize(),Io.a.get(this._api,{params:i,options:{useAbort:!0},success:function(e){return t._doAfterResponse(e,r)},error:function(e){throw e}})},t._initialize=function(){this._nextPagePool.reset(),this._itemCount=0},t._refineItem=function(e){var t=e.name,o=e.address,n=e.placeId,r=e.latlng,i=e.isDomestic,a=e.bookingUrl,s=void 0===a?"":a,c=e.tel,l=void 0===c?"":c;return{ctype:"place",latlng:Je()({ctype:"position"},r),address:o,placeId:n,name:t,bookingUrl:s,tel:l,__isDomestic:i}},t._makeSuccessResult=function(e,t){return{items:this._nextPagePool.getAt(e),pagination:{itemCount:this._itemCount,currentPage:e,hasNextPage:t}}},t._makeErrorResult=function(e){return{items:[],status:e}},e}(),ka=Sa,Ia=ka;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-search-provider.js",localName:t}})}catch(e){}}e(Sa,"AbstractSearchProvider"),e(ka,"default")}();var wa=function(e){function t(t){var o;return(o=e.call(this,t)||this)._params=null,o}h()(t,e);var o=t.prototype;return o._generateSearchParams=function(e){return this._params={query:e,siteSort:0,displayCount:this._config.maxItemsPerPage,page:1},this._params},o._generateNearByParams=function(e,t){var o=e.latitude,n=e.longitude;return this._params={siteSort:0,displayCount:this._config.maxItemsPerPage,page:1,radius:4e3,longitude:n,latitude:o},t&&(this._params.query=t,delete this._params.radius),this._params},o._nextpage=function(e){return this._nextPagePool.getAt(e)?this._makeSuccessResult(e):(this._params.page=e,this._request({isFirstSearch:!1,params:this._params,page:e}))},o._doAfterResponse=function(e,t){var o=this,n=Object(J.a)(e,"result.place");if(n){var r=n.list||[];if(0===r.length)return this._makeErrorResult("ZERO_RESULTS");var i=r.map(function(e){var t=o._refineItem({name:e.name,address:e.roadAddress||e.address||e.abbrAddress||"",placeId:e.id,latlng:{latitude:parseFloat(e.y),longitude:parseFloat(e.x)},bookingUrl:e.naverBookingUrl,tel:e.virtualTel||e.tel,isDomestic:!0});return t.searchType=e.type,t});return this._nextPagePool.setAt(t,i),this._itemCount=Math.min(parseInt(n.totalCount),2e3),this._makeSuccessResult(t,this._nextPagePool.count()<this._itemCount)}return this._makeErrorResult("ZERO_RESULTS")},t}(Ia),Pa=wa;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-search-provider.js",localName:t}})}catch(e){}}e(2e3,"MAX_SEARCH_RESULT"),e(wa,"NaverSearchProvider"),e(Pa,"default")}();var ja={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},Ta=function(){function e(e){this._config=e,this._i18n=u.V.get("i18n"),this._language=this._i18n.language()}var t=e.prototype;return t.geocode=function(e){var t=this,o={language:ja[this._language]};if("string"==typeof e)o.place_id=e;else{var n=e.latitude,r=e.longitude;o.latitude=n,o.longitude=r}return Io.a.get(this._config.api,{params:o,success:function(o){return t._doAfterResponse(o,e)},error:function(e){throw e}})},t._doAfterResponse=function(){throw new Error("[ERROR] API     .")},t._makeSuccessResult=function(e){var t=e.address,o=e.placeId,n=e.latlng,r=e.isDomestic;return{ctype:"place",latlng:Je()({ctype:"position"},n),name:t,address:t,placeId:o,__isDomestic:r}},t._makeErrorResult=function(){return null},e}(),La=Ta,Ea=La;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-geocode-provider.js",localName:t}})}catch(e){}}e(ja,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(Ta,"AbstractGeocodeProvider"),e(La,"default")}();var Na=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._doAfterResponse=function(e,t){if(Object(Xe.a)(e))return this._makeErrorResult();var o=e[0];return Object(Xe.a)(o)?this._makeErrorResult():this._makeSuccessResult({address:o.formattedAddress,placeId:"",latlng:t,isDomestic:!0})},t}(Ea),xa=Na;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-geocode-provider.js",localName:t}})}catch(e){}}e(Na,"NaverGeocodeProvider"),e(xa,"default")}();var Da=function(){function e(e){this._config=e,this._i18n=u.V.get("i18n"),this._language=this._i18n.language()}var t=e.prototype;return t.staticmap=function(e){return Io.a.get(this._config.api,{params:this._generateParams(e),success:function(e){return e.url||e.staticMapUrl},error:function(){return null}})},t._generateParams=function(e){var t=e.markers,o=e.center,n=e.zoom,r=this._config.iconUrls,i=t.map(function(e){var t=Object(J.a)(e,"latlng");return(t?t.latitude:e.latitude)+","+(t?t.longitude:e.longitude)}),a=this._generateBaseParams();if(a.markers=i,r){var s=t.length;1===s&&(a.iconUrls=r["image-marker-x1"]),s>1&&(a.iconUrls=i.map(function(e,t){return r["image-place"+(t+1)+"-x1"]}))}return o&&(a.center=o.latitude+","+o.longitude),n&&(a.zoom=n),a},t._generateBaseParams=function(){throw new Error("[ERROR]   API     .")},e}(),Ra=Da,Aa=Ra;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-static-map-provider.js",localName:t}})}catch(e){}}e(Da,"AbstractStaticMapProvider"),e(Ra,"default")}();var Ma=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._generateBaseParams=function(){var e=this._config.size;return{width:e.width,height:e.height}},t}(Aa),Ba=Ma;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-static-map-provider.js",localName:t}})}catch(e){}}e(Ma,"NaverStaticMapProvider"),e(Ba,"default")}();var Ua=o(69),Va=function(){function e(e){this._config=e,this._i18n=u.V.get("i18n"),this._language=this._i18n.language()}var t=e.prototype;return t.autocomplete=function(e){var t=this;if(!e)return this._makeErrorResult();var o=this._generateParams(e);return Io.a.get(this._config.api,{params:o,success:function(e){return t._doAfterResponse(e)},error:function(){return t._makeErrorResult()}})},t._generateParams=function(){throw new Error("[ERROR] API     .")},t._doAfterResponse=function(){throw new Error("[ERROR] API     .")},t._makeSuccessResult=function(e){return{suggestions:e}},t._makeErrorResult=function(){return{suggestions:[]}},e}(),Fa=Va,za=Fa;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-autocomplete-provider.js",localName:t}})}catch(e){}}e(Va,"AbstractAutocompleteProvider"),e(Fa,"default")}();var Wa={query:[],items:[[],[],[],[]]},Ga=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._generateParams=function(e){return{query:e}},o._doAfterResponse=function(e){var t=Object(Ua.a)({},Wa,e),o=this._getNaverACPlaceData(t);return this._makeSuccessResult(o)},o._getNaverACPlaceData=function(e){var t=[],o=[];return e.items[0].length>0?t=e.items[0]:e.items[2].length>0&&(t=e.items[2]),t.forEach(function(e){e.forEach(function(e){o.push({description:e,placeId:null})})}),o},t}(za),Ha=Ga;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-autocomplete-provider.js",localName:t}})}catch(e){}}e(Wa,"DEFAULT_AC_DATA"),e(Ga,"NaverAutocompleteProvider"),e(Ha,"default")}();var qa={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},Ja=function(e){function t(t){var o;return(o=e.call(this,t)||this)._nextPageToken=null,o}h()(t,e);var o=t.prototype;return o._generateSearchParams=function(e){return{query:e,language:qa[this._language]}},o._generateNearByParams=function(e,t){var o={location:e.latitude+","+e.longitude,language:qa[this._language],radius:5e4};return t&&(o.keyword=t),o},o._nextpage=function(e){var t=this._nextPagePool.getAt(e);return t?this._nextPageToken&&this._nextPagePool.isLacking(t,e)?this._request({isFirstSearch:!1,params:{pagetoken:this._nextPageToken},page:e}):this._makeSuccessResult(e):this._request({isFirstSearch:!1,params:{pagetoken:this._nextPageToken},page:e})},o._doAfterResponse=function(e,t){var o=this;if("OK"===e.status){var n=(e.results||[]).map(function(e){return o._refineItem({name:e.name,address:e.formatted_address||e.vicinity||"",placeId:e.place_id,latlng:{latitude:e.geometry.location.lat,longitude:e.geometry.location.lng},isDomestic:!1})});return this._nextPagePool.append(n),this._itemCount=this._nextPagePool.count(),this._nextPageToken=e.next_page_token,this._makeSuccessResult(t,!!this._nextPageToken)}return this._makeErrorResult("ZERO_RESULTS")},t}(Ia),Ka=Ja;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-search-provider.js",localName:t}})}catch(e){}}e(qa,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(Ja,"GoogleSearchProvider"),e(Ka,"default")}();var Ya=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._doAfterResponse=function(e,t){if("OK"===e.status){var o=e.results[0],n={address:o.formatted_address,placeId:o.place_id,isDomestic:!1};if("string"==typeof t){var r=o.geometry.location,i=r.lat,a=r.lng;n.latlng={latitude:i,longitude:a}}else n.latlng=t;return this._makeSuccessResult(n)}return this._makeErrorResult()},t}(Ea),Xa=Ya;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-geocode-provider.js",localName:t}})}catch(e){}}e(Ya,"GoogleGeocodeProvider"),e(Xa,"default")}();var Qa={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},Za=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._generateBaseParams=function(){var e=this._config.size;return{scale:1,size:e.width+"x"+e.height,language:Qa[this._language]}},t}(Aa),$a=Za;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-static-map-provider.js",localName:t}})}catch(e){}}e(Qa,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(Za,"GoogleStaticMapProvider"),e($a,"default")}();var es={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},ts=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._generateParams=function(e){return{input:e,language:es[this._language]}},o._doAfterResponse=function(e){if("OK"===e.status){var t=e.predictions.map(function(e){return{description:e.description,placeId:e.place_id}});return this._makeSuccessResult(t)}return this._makeErrorResult()},t}(za),os=ts;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-autocomplete-provider.js",localName:t}})}catch(e){}}e(es,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(ts,"GoogleAutocompleteProvider"),e(os,"default")}();var ns=o(266),rs=o(189),is=function(e){function t(t){var o;o=e.call(this,t)||this;var n=u.V.get("configAgent");o._api=n.get("apiInfo"),o._i18n=u.V.get("i18n"),o._componentFactory=u.V.get("componentFactory"),o._toastTimer=null,o._resolve=null;var r=rs.b[o._language],i=n.get("editorInfo.placesMapInfo"),a=n.get("productConfig.staticMapSize");return o._providers={domestic:{search:new wa({maxItemsPerPage:t.maxItemsPerPage,api:{search:o._api.fetchNaverPlaces,nearby:o._api.fetchNaverNearBy}}),geocode:new Na({api:o._api.fetchNaverGeocode}),staticmap:new Ma({api:o._api.fetchNaverStaticMap,size:a,iconUrls:i}),autocomplete:new Ga({api:o._api.fetchNaverAutocomplete})},overseas:{search:new Ja({maxItemsPerPage:t.maxItemsPerPage,api:{search:o._api.fetchGooglePlaces,nearby:o._api.fetchGoogleNearBy},language:r}),geocode:new Ya({api:o._api.fetchGoogleGeocode,language:r}),staticmap:new Za({api:o._api.fetchGoogleStaticMap,size:a,iconUrls:i,language:r}),autocomplete:new ts({api:o._api.fetchGoogleAutocomplete,language:r})}},o._nextPagePool=new Ca({maxItemsPerPage:t.maxItemsPerPage}),o._initializeOpeningOptions(),o}h()(t,e);var o=t.prototype;return o.openPlacePopup=function(e){void 0===e&&(e={}),this.open(Object.assign(e,{isUpdateMode:!1}))},o.open=function(e){void 0===e&&(e={});var t=e,o=t.isUpdateMode,n=void 0===o||o,r=ga()(t,["isUpdateMode"]);this.updateInitializeData(r),this._isUpdateMode=n,this._pauseDocumentEdit(),this._store.open()},o.getMaxPlaceCount=function(){return this._store.maxPlaceCount},o.isUpdateMode=function(){return this._isUpdateMode},o.hasPlaces=function(){return this._store.places.length>0},o.resolve=function(e){this._resolve&&this._resolve(e),this._resolve=null},o.close=function(){this._store.opened&&(this._initializeOpeningOptions(),this._store.close(),this._unpauseDocumentEdit())},o._initializeOpeningOptions=function(){this._resolve=null,this._isSuggestionSearching=!1,this._nextPagePool.reset()},o.editPlaces=function(e){var t=this;return new Promise(function(o){t._resolve=o,t.open(e)})},o.extractImageUrls=function(e){var t=[];return e.forEach(function(e){e.internalResource&&e.location&&t.push(e.path)}),t},o.updateInitializeData=function(e){this._store.updateInitializeData(e)},o.updateAutocompleteData=function(e){this._store.updateAutocompleteData(e)},o.updateSearchData=function(e){this._store.updateSearchData(e)},o.updateIndicatorStatus=function(e){this._isSuggestionSearching=!1,this._store.updateIndicatorStatus(e)},o.updateCompData=function(e){this._store.updateCompData(e)},o.updateHighlightData=function(e){this._store.updateHighlightData(e)},o.updateEditingInfoWindowData=function(e){this._store.updateEditingInfoWindowData(e)},o.addPlaces=function(e){this._store.addPlaces(e)},o.removePlace=function(e){this._store.removePlace(e)},o.resetPlaces=function(){this._store.resetPlaces()},o.showToast=function(e){var t=this;clearTimeout(this._toastTimer),this._store.showToast(e),this._toastTimer=setTimeout(function(){t._store.hideToast()},3e3)},o.startSearching=function(){this._store.updateSearchingStatus(!0)},o.stopSearching=function(){this._store.updateSearchingStatus(!1)},o.isFullPlace=function(){return this._store.isFullPlace},o.isAddedPlace=function(e){return!!this._store.places.filter(function(t){return Object(Qe.a)(t.latlng,e.latlng)&&Object(Qe.a)(t.placeId,e.placeId)})[0]},o.isIdenticalRegionOfAddedPlace=function(e){var t=this._store.places.length>0&&this._store.places[0];return!t||e.__isDomestic===t.__isDomestic},o.isIdenticalRegion=function(e){return(e.__isDomestic?rs.c.DOMESTIC:rs.c.OVERSEAS)===this._store.regionType},o.fetchCoordByIp=function(){return Io.a.get(this._api.fetchCoordByIp,{success:function(e){return e},error:function(){return null}})},o.fetchDomesticCheck=function(e){var t=e.latitude,o=e.longitude;return Io.a.get(this._api.fetchDomesticCheck,{params:{latitude:t,longitude:o},success:function(e){return e.isLocalCoordinate},error:function(){return null}})},o.fetchImageExif=function(e){return Io.a.post(this._api.fetchLocationOfImages,{data:e,options:{headers:{"Content-Type":"application/json"}},success:function(e){var t=e.filter(function(e){return e.longitude&&e.latitude});return t.length?t:null},error:function(){return null}})},o.createComponent=function(e){var t=e.places,o=e.imgUrl,n=this._store.regionType,r={ctype:"placesMap",layout:ns.a.DEFAULT,thumbnail:{src:o,ctype:"thumbnail"},searchEngine:n===rs.c.DOMESTIC?rs.d.NAVER:rs.d.GOOGLE,places:t};return this._componentFactory.createComponentWithCompData(r)},o.getSuggestion=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s,c,l,u,p;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._isSuggestionSearching=!0,o=this._makeUniqueData(t),n=o.length,r=1===t.length?6:3,i=[],a=0;case 6:if(!(a<n)){e.next=26;break}if(s=o[a],c=s.isLocalCoordinate,l={latitude:s.latitude,longitude:s.longitude},u=void 0,!c){e.next=17;break}return e.next=14,this._fetchNaverNearBy(l);case 14:u=e.sent,e.next=20;break;case 17:return e.next=19,this._fetchGoogleNearBy(l);case 19:u=e.sent;case 20:u=Object(va.a)(u.items,i,function(e,t){return e.placeId===t.placeId}),p=u.slice(0,r),i=[].concat(i,p);case 23:a++,e.next=6;break;case 26:return this._nextPagePool.append(i),this._itemCount=this._nextPagePool.count(),e.abrupt("return",{items:this._nextPagePool.getAt(1),pagination:{itemCount:this._nextPagePool.count(),currentPage:1}});case 29:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._makeUniqueData=function(e){var t=this._classifyUniqueLatLng(e),o=t.uniqueData,n=t.latlngDuplicatedHash;return this._rearrangeUniqueLatLng(o,n)},o._classifyUniqueLatLng=function(e){for(var t=[],o={},n=(e=Object(ya.a)(e)).length-1;n>=0;n--){for(var r=e[n],i=new naver.maps.LatLng(r.latitude,r.longitude),a=0,s=n-1;s>=0;s--){var c=e[s],l=new naver.maps.LatLng(c.latitude,c.longitude);naver.maps.EPSG3857.getDistance(i,l)<=250&&(a++,e.splice(s,1),n-=1)}t.push(r),o[r.latitude+","+r.longitude]=a}return{uniqueData:t,latlngDuplicatedHash:o}},o._rearrangeUniqueLatLng=function(e,t){if(e.length>=6){var o=[];Object(ba.a)(Object(_a.a)(t),function(e){return e[1]}).reverse().forEach(function(t){var n=t[0],r=Object(jr.a)(e,function(e){var t=n.split(",");return e.lat===+t[0]&&e.lng===+t[1]}),i=e.splice(r,1);i&&i.length>0&&o.push(i[0])}),e=[].concat(o,e).slice(0,5)}return e},o._fetchGoogleNearBy=function(e){return this._providers.overseas.search.nearby(e)},o._fetchNaverNearBy=function(e){return this._providers.domestic.search.nearby(e)},o.fetchAutocomplete=function(e){return this._providers[this._store.regionType].autocomplete.autocomplete(e)},o.fetchSearchByPlaceId=function(e){return this._isSuggestionSearching=!1,this.fetchGeocode(e)},o.fetchSearch=function(e){var t=this._providers[this._store.regionType].search;return this._isSuggestionSearching=!1,t.search(e)},o.fetchNextPage=function(e){return this._isSuggestionSearching?{items:this._nextPagePool.getAt(e),pagination:{itemCount:this._nextPagePool.count(),currentPage:e}}:this._providers[this._store.regionType].search.nextpage(e)},o.fetchStaticMap=function(e){var t=e[0].__isDomestic?rs.c.DOMESTIC:rs.c.OVERSEAS,o=rs.a[t],n={markers:e};return 1===e.length&&(n.zoom=o),this._providers[t].staticmap.staticmap(n)},o.fetchGeocode=function(e){return this._providers[this._store.regionType].geocode.geocode(e)},o.updateRegionType=function(e,t){t||(this._isSuggestionSearching=!1),this._store.updateRegionType(e,t)},o.isOverseas=function(){return this._store.regionType===rs.c.OVERSEAS},o.updateJsLoadErrorStatus=function(e){this._store.updateJsLoadErrorStatus(e)},o.isJsLoadError=function(){return this._store.jsErrorStatus},o.getSupportRegion=function(){return this._store.supportRegion},t}(u.d),as=is,ss=as;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/service/index.js",localName:t}})}catch(e){}}e(is,"PlaceLayerService"),e(as,"default")}();var cs={ko:{placeLayer:{domestic:"",overseas:"",prev:"",next:"",search:"",loading:" ",add:"",cancel_btn:"",apply_btn:"",drop_pin_btn:"  ",drop_pin_title:" ",drop_pin_desc:"    .",search_input_placeholder:" ",info_title:"  ",info_desc:"     .",info_title_no_result:"  .",info_desc_no_result:"    .",no_selected_location:"  1   .",no_place_name:" .",exceeded_max_limit:"  {{maxPlaceCount}}   .",exceeded_max_limit_of_image:"   .",error_no_search_result:"  .",already_added:"  .",clear_btn:" ",delete_place:" ",address:"",info_window_placeholder:"",exceeded_max_place_name:" {{maxPlaceNameLength}}  ."}},en:{placeLayer:{domestic:"Domestic",overseas:"Overseas",prev:"Previous",next:"Next",search:"Search",loading:"Loading",add:"Add",cancel_btn:"Cancel",apply_btn:"Apply",drop_pin_btn:"Drop Pin",drop_pin_title:"Drop Pin.",drop_pin_desc:"Click the map to mark the place directly.",search_input_placeholder:"Search for a location",info_title:"Search for a location.",info_desc:"or drop your own pin on the map.",info_title_no_result:"No result found.",info_desc_no_result:"Please try with another keyword.",no_selected_location:"Please add at least 1 location.",no_place_name:"Please enter a location name.",exceeded_max_limit:"You can add up to {{maxPlaceCount}} locations.",exceeded_max_limit_of_image:"Please select 1 location.",error_no_search_result:"No result found.",already_added:"This location already has been added.",clear_btn:"clear input value",delete_place:"delete place",address:"Address",info_window_placeholder:"Location name",exceeded_max_place_name:"You can insert up to {{maxPlaceNameLength}} characters."}},fr:{placeLayer:{domestic:"Domestique",overseas:"Outre-mer",prev:"Prcdent",next:"Suivant",search:"Recherche",loading:"Chargement",add:"Ajouter",cancel_btn:"Annuler",apply_btn:"[T]Apply",drop_pin_btn:"[T]Drop Pin",drop_pin_title:"[T]Drop Pin.",drop_pin_desc:"[T]Click the map to mark the place directly.",search_input_placeholder:"[T]Search for a location",info_title:"[T]Search for a location.",info_desc:"[T]or drop your own pin on the map.",info_title_no_result:"Aucun rsultat trouv.",info_desc_no_result:"[T]Please try with another keyword.",no_selected_location:"[T]Please add at least 1 location.",no_place_name:"[T]Please enter a location name.",exceeded_max_limit:"[T]You can add up to {{maxPlaceCount}} locations.",exceeded_max_limit_of_image:"[T]Please select 1 location.",already_added:"[T]This location already has been added.",error_no_search_result:"Aucun rsultat trouv.",clear_btn:"[T]clear input value",delete_place:"[T]delete place",address:"[T]Address",info_window_placeholder:"[T]Location name",exceeded_max_place_name:"Vous pouvez insrer jusqu' {{maxPlaceNameLength}} caractres."}}},ls=cs;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/i18n/index.js",localName:t}})}catch(e){}}(cs,"default")}();var us=u.G.extend({name:"PlaceLayer",view:Object(p.a)({Loader:function(){return Promise.all([o.e(72),o.e(44)]).then(o.bind(null,1245))}}),useCase:fa.a,service:ss,store:ha.a,i18nConf:ls}),ps=us,ds=ps;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/index.js",localName:t}})}catch(e){}}e(us,"PlaceLayer"),e(ps,"default")}();var hs=o(372),fs=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.open()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/service/index.js",localName:t}})}catch(e){}}(fs,"FileUploadLayerService")}();var ms=o(373),gs=u.G.extend({name:"FileUploadLayer",view:Object(p.a)({Loader:function(){return o.e(35).then(o.bind(null,1222))}}),useCase:hs.a,service:fs,store:ms.a}),ys=gs,bs=ys;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/index.js",localName:t}})}catch(e){}}e(gs,"FileUploadLayer"),e(ys,"default")}();var _s=o(375),vs=o(374),Cs=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.open()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(u.d),Os=Cs,Ss=Os;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/service/index.js",localName:t}})}catch(e){}}e(Cs,"PaidPhotoNotificationLayerService"),e(Os,"default")}();var ks=u.G.extend({name:"PaidPhotoNotificationLayer",view:Object(p.a)({Loader:function(){return o.e(36).then(o.bind(null,1223))}}),useCase:vs.a,service:Ss,store:_s.a}),Is=ks,ws=Is;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/index.js",localName:t}})}catch(e){}}e(ks,"PaidPhotoNotificationLayer"),e(Is,"default")}();var Ps,js,Ts,Ls=o(216),Es=o(1210),Ns=o(366),xs=(Ps=Object(ee.history)({sync:!1}),js=Object(ee.history)({sync:!1}),Ts=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.V.get("configAgent"),t._insertMenuLayoutService=u.V.get("insertMenuLayoutService"),t._imageUploadService=u.V.get("imageUploadService"),t._horizontalLineComponentService=u.V.get("horizontalLineComponentService"),t._quotationComponentService=u.V.get("quotationComponentService"),t._editingService=u.V.get("editingService"),t._stickerPanelLayoutService=u.V.get("stickerPanelLayoutService"),t._imageTypeLayerService=u.V.get("imageTypeLayerService"),t._componentListStore=u.V.get("componentListStore"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._imageBehavior=u.V.get("imageBehavior"),t._complexImageLayoutsEnabled=t._configAgent.get("productConfig.complexImageLayoutsEnabled"),t._documentToolbarLayoutService=u.V.get("documentToolbarLayoutService"),t._panelContainerLayerService=u.V.get("panelContainerLayerService"),t._libraryPanelLayoutService=u.V.get("libraryPanelLayoutService")||{close:function(){}},t._templatePanelLayoutService=u.V.get("templatePanelLayoutService")||{close:function(){}},t._searchPanelLayoutService=u.V.get("searchPanelLayoutService")||{close:function(){}},t._helpPanelLayoutService=u.V.get("helpPanelLayoutService")||{close:function(){}},t}h()(t,e);var o=t.prototype;return o.openInsertMenu=function(){this._insertMenuLayoutService.open()},o.closeInsertMenu=function(){this._insertMenuLayoutService.close()},o.updateActivatedButtonKey=function(e){this._insertMenuLayoutService.updateActivatedKey(e)},o.handlePanelButtonClick=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.name,n=t.value,this._insertMenuLayoutService.close(),e.t0=o,e.next="image"===e.t0?5:"sticker"===e.t0?8:"horizontalLine"===e.t0?10:"quotation"===e.t0?12:14;break;case 5:return e.next=7,this._insertImages();case 7:return e.abrupt("break",14);case 8:return this._toggleStickerPanel(),e.abrupt("break",14);case 10:return this._insertHorizontalLine(n),e.abrupt("break",14);case 12:return this._insertQuotation(n),e.abrupt("break",14);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._toggleStickerPanel=function(){this._libraryPanelLayoutService.close(),this._templatePanelLayoutService.close(),this._searchPanelLayoutService.close(),this._helpPanelLayoutService.close(),!0===this._stickerPanelLayoutService.togglePanel()?(this._documentToolbarLayoutService.setPanelButtonEnable("sticker",!0),this._panelContainerLayerService.openPanel("sticker")):(this._panelContainerLayerService.closePanel(),this._documentToolbarLayoutService.setPanelButtonEnable("sticker",!1))},o._insertQuotation=function(e){var t=this._quotationComponentService.createWithLayout(e);this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateQuotationSelectedValue(t.layout)},o._insertHorizontalLine=function(e){var t=this._horizontalLineComponentService.createComponent({layout:e});this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateHorizontalSelectedValue(t.layout)},o._insertImages=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n,r,i,a,s,c;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog({multiple:!0});case 2:if(t=e.sent,o=t.validFiles,n=o.length,r=this._selectionInfoStore.focus,i=r.compId,a=r.unitId,s=this._componentListStore.getComponentById(i),c=s.getStoreById(a),"inline-image-allowed-append"!==c.attributes.insertion||"child"!==c.selection){e.next=13;break}return e.next=12,this._insertInlineImages(t);case 12:return e.abrupt("return",e.sent);case 13:if(!this._canUseComplexLayouts(n)){e.next=15;break}return e.abrupt("return",this._imageTypeLayerService.open({type:Ns.a.FILE,payload:Je()({},t,{length:n})}));case 15:return e.next=17,this._insertImageComponents(t);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._insertImageComponents=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertImage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertInlineImages=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertInlineImage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._canUseComplexLayouts=function(e){return e>1&&this._complexImageLayoutsEnabled},t}(u.m),q()(Ts.prototype,"openInsertMenu",[K.d],Object.getOwnPropertyDescriptor(Ts.prototype,"openInsertMenu"),Ts.prototype),q()(Ts.prototype,"closeInsertMenu",[K.d],Object.getOwnPropertyDescriptor(Ts.prototype,"closeInsertMenu"),Ts.prototype),q()(Ts.prototype,"handlePanelButtonClick",[ee.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(Ts.prototype,"handlePanelButtonClick"),Ts.prototype),q()(Ts.prototype,"_toggleStickerPanel",[K.d],Object.getOwnPropertyDescriptor(Ts.prototype,"_toggleStickerPanel"),Ts.prototype),q()(Ts.prototype,"_insertQuotation",[K.d,ee.history],Object.getOwnPropertyDescriptor(Ts.prototype,"_insertQuotation"),Ts.prototype),q()(Ts.prototype,"_insertHorizontalLine",[K.d,ee.history],Object.getOwnPropertyDescriptor(Ts.prototype,"_insertHorizontalLine"),Ts.prototype),q()(Ts.prototype,"_insertImages",[K.d],Object.getOwnPropertyDescriptor(Ts.prototype,"_insertImages"),Ts.prototype),q()(Ts.prototype,"_insertImageComponents",[K.d,Ps],Object.getOwnPropertyDescriptor(Ts.prototype,"_insertImageComponents"),Ts.prototype),q()(Ts.prototype,"_insertInlineImages",[K.d,js],Object.getOwnPropertyDescriptor(Ts.prototype,"_insertInlineImages"),Ts.prototype),Ts),Ds=xs,Rs=Ds;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(xs,"InsertMenuLayoutUseCase"),e(Ds,"default")}();var As,Ms,Bs,Us,Vs,Fs,zs,Ws,Gs,Hs,qs=o(23),Js=o(72),Ks=o(170),Ys=o(154),Xs={top:0,left:0,height:0,width:0},Qs=(As=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"activated",Ms,G()(o)),z()(o,"visibility",Bs,G()(o)),z()(o,"top",Us,G()(o)),z()(o,"left",Vs,G()(o)),z()(o,"height",Fs,G()(o)),z()(o,"width",zs,G()(o)),z()(o,"opened",Ws,G()(o)),z()(o,"forceRenderFlag",Gs,G()(o)),z()(o,"activatedKey",Hs,G()(o)),o.panels=c.getDefinitions(["image","sticker","horizontalLine","quotation"]);var n=t.state,r=void 0===n?{}:n;return o._domAccessor=u.V.get("domAccessor"),o._componentListStore=u.V.get("componentListStore"),o._selectionInfoStore=u.V.get("selectionInfoStore"),o._dragAndDropStore=u.V.get("dragAndDropStore"),o._configAgent=u.V.get("configAgent"),o.panels=o._refinePanels(r),o.activated=Object(J.a)(r,"activated",o.activated),o.visibility=Object(J.a)(r,"visibility",o.visibility),o.opened=Object(J.a)(r,"opened",o.opened),o.top=Object(J.a)(r,"top",o.top),o.left=Object(J.a)(r,"left",o.left),o.height=Object(J.a)(r,"height",o.height),o.width=Object(J.a)(r,"width",o.width),o._prevClientRects=[],o._prevScrollTop=0,o._needToForceUpdate=!1,o}h()(t,e);var o=t.prototype;return o.moveTo=function(e,t){if(void 0===t&&(t=0),this._isDragging())this.hide();else{if(this._needToForceUpdate=this._isNeedToForceUpdate(e,t),this._prevScrollTop=t,this._prevClientRects=e,this._isCollapsed()&&this._isTypeFollowCursor()){var o=Object(Js.a)(e);this._isComponentMoveTo(o.top)&&this.hide(),this._setTopAtMiddle(o)}else{var n=this._getComponentClientRect();this._setTopAtBottom(n)}this._checkVisibility(),this.opened&&this.close()}},o._isNeedToForceUpdate=function(e,t){return!this._hasPrevClientRects()||this._isFocusedAfterCollapse(e)||this._isMovedAsUpOrDown(e,t)},o._hasPrevClientRects=function(){return this._prevClientRects.length>=1},o._isFocusedAfterCollapse=function(e){return this._prevClientRects.length>1&&1===e.length},o._isMovedAsUpOrDown=function(e,t){return this._prevClientRects[0].top+t!==e[0].top+this._prevScrollTop},o._isTypeFollowCursor=function(){var e=this.activateComponentType();return["text","sectionTitle"].includes(e)},o._isComponentMoveTo=function(e){return Math.abs(e-this.top)>150},o._checkVisibility=function(){this.isVisibility()?this.show():this.hide()},o._getComponentClientRect=function(){var e=this._selectionInfoStore.start,t=this._domAccessor.getComponentElement(e.compId);if(!t)return Xs;var o=t.getBoundingClientRect(),n=o.top,r=o.height;return{top:n,left:o.left,height:r,width:o.width}},o._setTopAtMiddle=function(e){var t=e.top,o=e.height,n=e.left,r=e.width,i=parseFloat(t),a=parseFloat(o);this.top=i+a/2,this.left=parseFloat(n),this.width=parseFloat(r),this.height=a,this._forceUpdate()},o._setTopAtBottom=function(e){var t=e.top,o=e.height,n=e.left,r=e.width,i=parseFloat(t),a=parseFloat(o);this.top=i+a,this.left=parseFloat(n),this.width=parseFloat(r),this.height=a,this._forceUpdate()},o._forceUpdate=function(){if(!this._needToForceUpdate)return!1;this._needToForceUpdate=!1,this.forceRenderFlag=1e5*Math.random()},o.show=function(){this.visibility=!0},o.hide=function(){this.visibility=!1},o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o._isSingleCompMode=function(){return this._selectionInfoStore.mode===u.O.SINGLE_COMP},o._isCollapsed=function(){return this._selectionInfoStore.collapsed},o._isDragging=function(){return"dragging"===this._dragAndDropStore.progress},o.activateComponentType=function(){var e=this._selectionInfoStore.toValidJSON(),t=this._componentListStore.getSelectedComponents(e);return Object(no.a)(t).ctype},o.isVisibility=function(){return!this._isDragging()&&("documentTitle"!==this.activateComponentType()&&(this._isSingleCompMode()||this._isCollapsed()))},o.updateActivatedKey=function(e){this.activatedKey=e},o._refinePanels=function(e){var t=Object(J.a)(e,"panels",this.panels);return(this._configAgent.get("plugins.excludeComponents")||[]).forEach(function(e){Object(Ks.a)(t,e)&&delete t[e]}),this._refineQuotationSubPanels(t),t},o._refineQuotationSubPanels=function(e){var t=this._configAgent.get("productConfig.quotation.layouts");if(t){var o=Object(Ys.a)(Object(J.a)(e,"quotation.panels"),t);Object(qs.a)(e,"quotation.panels",o)}},t}(u.w),Ms=q()(As.prototype,"activated",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bs=q()(As.prototype,"visibility",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Us=q()(As.prototype,"top",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vs=q()(As.prototype,"left",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fs=q()(As.prototype,"height",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zs=q()(As.prototype,"width",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ws=q()(As.prototype,"opened",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Gs=q()(As.prototype,"forceRenderFlag",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hs=q()(As.prototype,"activatedKey",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),As),Zs=Qs,$s=Zs;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/store/index.js",localName:t}})}catch(e){}}e(Xs,"emptyRect"),e(Qs,"InsertMenuLayoutStore"),e(Zs,"default")}();var ec,tc=o(54),oc=o.n(tc),nc=(ec=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e,t=this.props,o=t.panel,n=t.i18n,r=t.index,i=We()(((e={"se-insert-menu-sub-panel-button":!0})["se-insert-menu-sub-panel-button-"+o.name+"-"+r]=!0,e));return K.b.createElement("li",{className:"se-insert-menu-sub-panel-item"},K.b.createElement("button",{type:"button",className:i,onClick:this._handleSubPanelBtnClick},K.b.createElement("span",{className:"se-blind"},n(o.label))))},o._handleSubPanelBtnClick=function(e){var t=this.props,o=t.handleSubPanelClick,n=t.panel,r=t.index;o(n.name,r,e)},t}(K.b.Component),q()(ec.prototype,"_handleSubPanelBtnClick",[ee.autobind],Object.getOwnPropertyDescriptor(ec.prototype,"_handleSubPanelBtnClick"),ec.prototype),ec);nc.propTypes={index:K.a.string.isRequired,handleSubPanelClick:K.a.func.isRequired,panel:K.a.object.isRequired,i18n:K.a.func.isRequired};var rc=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this._renderSubPanel(this.props.panels),t=this._subPanelClassName(this.props.name);return K.b.createElement("ul",{className:t},e)},o._subPanelClassName=function(e){var t;return We()(((t={"se-insert-menu-sub-panel":!0})["se-insert-menu-sub-panel-"+e]=!0,t))},o._renderSubPanel=function(e){var t=this.props,o=t.handleSubPanelClick,n=t.i18n;return Object(Kt.a)(e,function(e,t){return K.b.createElement(nc,{key:t,index:t,handleSubPanelClick:o,panel:e,i18n:n})})},t}(K.b.Component);rc.defaultProps={panels:{},name:"",handleSubPanelClick:function(){}},rc.propTypes={panels:K.a.shape({}),name:K.a.string,handleSubPanelClick:K.a.func,i18n:K.a.func.isRequired};var ic=Object(Z.b)(rc),ac=ic;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/view/insert-menu-sub-panel.jsx",localName:t}})}catch(e){}}e(nc,"Item"),e(rc,"InsertMenuSubPanel"),e(ic,"default")}();var sc,cc=o(256),lc=(sc=function(e){function t(t){var o;return(o=e.call(this,t)||this).handlerPanelMouseOver=o.props.handlePanelMouseOver.bind(G()(o)),o.handlerPanelClick=o.props.handlePanelClick.bind(G()(o)),o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this._renderPanel(this.props.panels);return K.b.createElement("ul",{className:"se-insert-menu-panel",ref:this._ref},e)},o._ref=function(e){this._insertMenuPanels=e},o._renderPanel=function(e){var t=this,o=this.props,n=o.handleSubPanelClick,r=o.i18n,i=o.store.activatedKey;return Object(Kt.a)(e,function(e,o){var a,s=We()(((a={"se-insert-menu-button":!0})["se-insert-menu-button-"+e.name]=!0,a)),c=We()({"se-insert-menu-item":!0,"se-is-activated":i===o});return K.b.createElement("li",{className:c,key:o},K.b.createElement(cc.a,{type:"button",className:s,"data-log":e.logId,"data-group":"insertMenu","data-key":o,"data-name":e.name,onMouseOver:t.handlerPanelMouseOver,onClick:t.handlerPanelClick},K.b.createElement("span",{className:"se-insert-menu-button-label"},r(e.label))),K.b.createElement(ac,oc()({},e,{i18n:r,handleSubPanelClick:n})))})},t}(K.b.Component),q()(sc.prototype,"_ref",[ee.autobind],Object.getOwnPropertyDescriptor(sc.prototype,"_ref"),sc.prototype),sc);lc.defaultProps={panels:{},handlePanelClick:function(){},handleSubPanelClick:function(){}},lc.propTypes={panels:K.a.shape({}),handlePanelClick:K.a.func,handleSubPanelClick:K.a.func,i18n:K.a.func.isRequired};var uc,pc=Object(Z.b)(lc),dc=pc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/view/insert-menu-panel.jsx",localName:t}})}catch(e){}}e(lc,"InsertMenuPanel"),e(pc,"default")}();var hc=(uc=function(e){function t(){var t;return(t=e.call(this)||this)._wrapperRef=K.b.createRef(),t.state={isMenuInverted:!1},t.count=1,t}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){Es.a.on("click",this._handleOutsideClick)},o.componentDidMount=function(){this.parentNode=this._getWrapperElement().parentNode},o.componentWillUnmount=function(){Es.a.off("click",this._handleOutsideClick)},o.render=function(){var e=this.props,t=e.i18n,o=e.store,n=e.useCase;if(!o.visibility)return null;var r=this._wrapperClassName(),i={top:this._getTopPosition()},a=o.panels;return K.b.createElement("div",{className:r,style:i,ref:this._wrapperRef,"data-update-flag":o.forceRenderFlag},K.b.createElement(K.b.Fragment,null,K.b.createElement("div",{className:"se-insert-point-marker-button",onClick:this._handleToggleMarker},K.b.createElement("span",{className:"se-insert-point-marker-icon"}),K.b.createElement("span",{className:"se-blind"},t("insertMenuLayout:insert_point_marker_description"))),K.b.createElement(dc,{panels:a,handlePanelMouseOver:this._handlePanelMouseOver,handlePanelClick:this._handlePanelClick,handleSubPanelClick:this._handleSubPanelClick,i18n:t,useCase:n,store:o})))},o._getWrapperElement=function(){return this._wrapperRef.current},o._getTopPosition=function(){return this.props.store.top-this._getParentTop()+this._getParentScrollTop()},o._getParentTop=function(){return this.parentNode?this.parentNode.getBoundingClientRect().top:0},o._getParentScrollTop=function(){return this.parentNode?this.parentNode.scrollTop:0},o._wrapperClassName=function(){var e=this.state.isMenuInverted,t=this.props.store,o=t.visibility,n=t.opened;return We()({"se-insert-menu":!0,"se-insert-menu-invert":e,"se-is-activated":n,"se-is-hidden":!o})},o._handleToggleMarker=function(e){var t=this.props,o=t.store,n=t.minMarginBottom,r=t.logAreaId;if(o.opened)this.props.useCase.closeInsertMenu(),Lt.a.log(e.nativeEvent,r+".close");else{var i=this._getMarginBottomAtContent()<n;this.setState({isMenuInverted:i}),this.props.useCase.openInsertMenu(),Lt.a.log(e.nativeEvent,r+".open")}},o._handlePanelClick=function(e,t){void 0===t&&(t="default");var o=this.props,n=o.store,r=o.logAreaId,i=e.currentTarget.dataset.name,a=n.panels[i];a&&"default"===a.type&&(this.props.useCase.handlePanelButtonClick({name:i,value:t}),Lt.a.log(e.nativeEvent,r+"."+a.logId))},o._handlePanelMouseOver=function(e){var t=e.currentTarget.dataset.key;this.props.useCase.updateActivatedButtonKey(t)},o._handleSubPanelClick=function(e,t,o){void 0===t&&(t="default");var n=this.props,r=n.store,i=n.logAreaId,a=r.panels[e].panels[t];this.props.useCase.handlePanelButtonClick({name:e,value:t}),Lt.a.log(o.nativeEvent,i+"."+a.logId)},o._handleOutsideClick=function(e){var t=e.target,o=this.props.store.opened,n=Ls.a.isOutsideElementbySelector(t,".se-insert-menu");o&&n&&this.props.useCase.closeInsertMenu()},o._getMarginBottomAtContent=function(){var e=u.V.get("domAccessor").getScrollTarget(),t=this._getWrapperElement();return parseFloat(e.scrollTop+e.clientHeight)-parseFloat(t.offsetTop)},t}(K.b.Component),q()(uc.prototype,"_handleToggleMarker",[ee.autobind],Object.getOwnPropertyDescriptor(uc.prototype,"_handleToggleMarker"),uc.prototype),q()(uc.prototype,"_handlePanelClick",[ee.autobind],Object.getOwnPropertyDescriptor(uc.prototype,"_handlePanelClick"),uc.prototype),q()(uc.prototype,"_handlePanelMouseOver",[ee.autobind],Object.getOwnPropertyDescriptor(uc.prototype,"_handlePanelMouseOver"),uc.prototype),q()(uc.prototype,"_handleSubPanelClick",[ee.autobind],Object.getOwnPropertyDescriptor(uc.prototype,"_handleSubPanelClick"),uc.prototype),q()(uc.prototype,"_handleOutsideClick",[ee.autobind],Object.getOwnPropertyDescriptor(uc.prototype,"_handleOutsideClick"),uc.prototype),uc);hc.defaultProps={children:null,i18n:function(e){return e},minMarginBottom:400,logAreaId:"ipt"},hc.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),i18n:K.a.func,useCase:K.a.instanceOf(Rs).isRequired,store:K.a.instanceOf($s).isRequired,minMarginBottom:K.a.number,logAreaId:K.a.string};var fc=Object(Z.b)(hc),mc=fc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(hc,"InsertMenuLayoutView"),e(fc,"default")}();var gc=function(e){function t(t){var o;return(o=e.call(this,t)||this)._virtualEditable=u.V.get("virtualEditable"),o}h()(t,e);var o=t.prototype;return o.open=function(){this.moveTo(),this._store.open()},o.moveTo=function(e){void 0===e&&(e=this._virtualEditable.getClientRects());var t=u.V.get("domAccessor").getScrollTarget().scrollTop;this._store.moveTo(e,t)},o.close=function(){this.moveTo(),this._store.close(),this.updateActivatedKey(null)},o.updateActivatedKey=function(e){this._store.updateActivatedKey(e)},t}(u.f),yc=gc,bc=yc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/service/index.js",localName:t}})}catch(e){}}e(gc,"InsertMenuLayoutService"),e(yc,"default")}();var _c,vc,Cc,Oc,Sc,kc,Ic=u.H.extend({name:"InsertMenuLayout",view:mc,useCase:Rs,service:bc,store:$s}),wc=Ic,Pc=wc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/index.js",localName:t}})}catch(e){}}e(Ic,"InsertMenuLayout"),e(wc,"default")}();var jc,Tc=(_c=K.e.struct,vc=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"activeButtonId",Cc,G()(o)),z()(o,"buttonSet",Oc,G()(o)),z()(o,"toolbarState",Sc,G()(o)),z()(o,"refreshCount",kc,G()(o)),o._configAgent=u.V.get("configAgent"),o._pluginButtonRegistry=u.V.get("pluginButtonRegistry"),o._selectionInfoStore=u.V.get("selectionInfoStore");var n=t.state,r=void 0===n?{}:n;return o.buttonSet=Object(J.a)(r,"buttonSet",o.buttonSet),o.activeButtonId=Object(J.a)(r,"activeButtonId",o.activeButtonId),o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o}h()(t,e);var o=t.prototype;return o.refresh=function(){this.refreshCount=(this.refreshCount+1)%1e3},o.deactivateAllButtons=function(){this.activeButtonId=""},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.filterButtons=function(e){var t=this;return et.a.trimForArray(e.filter(function(e){var o=t._pluginButtonRegistry.getButtonStyleName({compType:t.toolbarState.componentType,toolbarName:"contextToolbar",buttonName:e});return!t.disabledButtons.includes(o)}),"separator-bar")},o.highlight=function(e,t){if(e&&t)return $e.b.get(t,e)},o.updateHighlight=function(e){var t=this._configAgent.get("productConfig.highlight"),o=this.highlight(e.buttonName,t);o&&(e.highlight=o)},o.updateButtonSet=function(e){this.buttonSet.replace(e)},o.updateToolbarState=function(e){this.toolbarState=e},o.hide=function(){this._reset()},o._reset=function(){this.buttonSet.replace([])},Ye()(t,[{key:"disabledButtons",get:function(){var e=this;return["speller","translation"].filter(function(t){return!1===e._configAgent.get("productConfig."+t)})}},{key:"buttons",get:function(){var e=this,t=this.toolbarState.componentType;return this.filterButtons(this.buttonSet).map(function(o){var n=e._pluginButtonRegistry.getButtonInfo({compType:t,toolbarName:"contextToolbar",buttonName:o});return e.updateHighlight(n),Je()({value:Object(J.a)(e.toolbarState,n.propertyName)},n)})}},{key:"toolbarName",get:function(){return this.toolbarState.componentType}},{key:"isActivated",get:function(){var e=this._configAgent.get("productConfig.contextToolbar");if("object"==typeof e){var t=Object(J.a)(e,"allowComponents"),o=this.toolbarState.componentType;if(t&&t.length>0&&!t.includes(o))return!1}var n=Object(J.a)(this.toolbarState,"selectedUnitIds");return!(!n||2!==n.length)&&(n[0]===n[1]&&this.buttonSet.length>0)}}]),t}(u.w),Cc=q()(vc.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oc=q()(vc.prototype,"buttonSet",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sc=q()(vc.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),kc=q()(vc.prototype,"refreshCount",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q()(vc.prototype,"disabledButtons",[K.e],Object.getOwnPropertyDescriptor(vc.prototype,"disabledButtons"),vc.prototype),q()(vc.prototype,"buttons",[_c],Object.getOwnPropertyDescriptor(vc.prototype,"buttons"),vc.prototype),q()(vc.prototype,"toolbarName",[K.e],Object.getOwnPropertyDescriptor(vc.prototype,"toolbarName"),vc.prototype),q()(vc.prototype,"isActivated",[K.e],Object.getOwnPropertyDescriptor(vc.prototype,"isActivated"),vc.prototype),vc),Lc=Tc,Ec=Lc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(1e3,"LOOP_EDGE_COUNT"),e(Tc,"ContextToolbarLayoutStore"),e(Lc,"default")}();var Nc,xc=(jc=function(e){function t(){var t;return(t=e.call(this)||this)._contextToolbarLayoutService=u.V.get("contextToolbarLayoutService"),t._toolbarService=u.V.get("toolbarService"),t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState,n=t.buttonSet;e._contextToolbarLayoutService.updateButtonSet(n),e._contextToolbarLayoutService.updateToolbarState(o)},"contextToolbar",{delay:7,compareStructural:!1})},o.toggleButton=function(e){this._contextToolbarLayoutService.toggleButton(e)},t}(u.m),q()(jc.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(jc.prototype,"toggleButton"),jc.prototype),jc),Dc=xc,Rc=Dc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(xc,"ContextToolbarLayoutUseCase"),e(Dc,"default")}();var Ac=(Nc=function(e){function t(t){var o;return(o=e.call(this,t)||this)._domAccessor=u.V.get("domAccessor"),o._contextToolbar=document.createElement("div"),o._toolbarSlot=null,o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._removeContextToolbar(),this._appendContextToolbar()},o.componentDidUpdate=function(){this._removeContextToolbar(),this._appendContextToolbar()},o.componentWillUnmount=function(){this._removeContextToolbar()},o.render=function(){var e=this.props,t=e.i18n,o=e.store,n=o.buttons,r=o.isActivated;o.refreshCount;if(!1===r)return null;var i=this._resolveToolbarClassName();return K.c.createPortal(K.b.createElement(He.a,{className:i,namespace:Ge.e.CONTEXT,i18n:t,buttons:n,logAreaId:"ct",activeButtonId:o.activeButtonId,onClickSelector:this._handleClickSelector}),this._contextToolbar)},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._appendContextToolbar=function(){this._toolbarSlot=this._getToolbarSlot(),this._toolbarSlot&&(this._toolbarSlot.style.display="block",this._toolbarSlot.appendChild(this._contextToolbar),this.props.isFlexible&&this._resolveWrapperFlexibleStyle(this._toolbarSlot))},o._removeContextToolbar=function(){this._toolbarSlot&&this._toolbarSlot.hasChildNodes()&&(this._toolbarSlot.style.display="none",this._toolbarSlot.removeChild(this._contextToolbar))},o._resolveToolbarClassName=function(){var e=this.props.store,t=e.toolbarName,o=e.toolbarState;return We()("se-toolbar","se-context-toolbar","se-context-toolbar-"+t,o.selectedUnitIds,"__se-context-toolbar","__se-cursor-unrelated")},o._resolveWrapperFlexibleStyle=function(e){var t=e.querySelector(".__se-context-toolbar");if(t){var o=this._isRefineded();t.classList[o?"add":"remove"]("se-context-toolbar-edge")}},o._getToolbarSlot=function(){var e=this._getSelectedUnitId();return u.V.get("domAccessor").findToolbarSlot(e)},o._getSelectedUnitId=function(){var e=this.props.store.toolbarState.selectedUnitIds;if(e)return e[0]},o._isRefineded=function(){var e=this._getToolbarSlot();if(!e)return!1;var t=e.querySelector(".__se-context-toolbar"),o=e.closest(".__se-unit");if(!t||!o)return!1;var n=t.offsetWidth;return o.offsetWidth<n},t}(K.b.Component),q()(Nc.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(Nc.prototype,"_handleClickSelector"),Nc.prototype),Nc);Ac.defaultProps={i18n:function(e){return e}},Ac.propTypes={i18n:K.a.func,store:K.a.instanceOf(Ec).isRequired,useCase:K.a.instanceOf(Rc).isRequired,isFlexible:K.a.bool};var Mc=Object(Z.b)(Ac),Bc=Mc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e("se-context-toolbar-edge","EDGE_CLASS"),e(Ac,"ContextToolbarLayoutView"),e(Mc,"default")}();var Uc=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.toggleButton=function(e){this._store.toggleButton(e)},o.hideAllLayers=function(){this._store.deactivateAllButtons()},o.updateToolbarState=function(e){this._store.updateToolbarState(e)},o.updateButtonSet=function(e){this._store.updateButtonSet(e)},o.refresh=function(){this._store.refresh()},o.hide=function(){this._store.hide()},t}(u.f),Vc=Uc,Fc=Vc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(Uc,"ContextToolbarLayoutService"),e(Vc,"default")}();var zc,Wc,Gc,Hc,qc,Jc,Kc=u.H.extend({name:"ContextToolbarLayout",view:Bc,useCase:Rc,service:Fc,store:Ec,setting:{config:{},state:{}}}),Yc=Kc,Xc=Yc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(Kc,"ContextToolbarLayout"),e(Yc,"default")}();var Qc=(zc=K.e.struct,Wc=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"activeButtonId",Gc,G()(o)),z()(o,"position",Hc,G()(o)),z()(o,"buttonSet",qc,G()(o)),z()(o,"toolbarState",Jc,G()(o));var n=t.state,r=void 0===n?{}:n;return o._configAgent=u.V.get("configAgent"),o._pluginButtonRegistry=u.V.get("pluginButtonRegistry"),o._storage=u.V.get("storagePolicy"),o.activeButtonId=Object(J.a)(r,"activeButtonId",o.activeButtonId),o.position=Object(J.a)(r,"position",o.position),o.buttonSet=Object(J.a)(r,"buttonSet",o.buttonSet),o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o}h()(t,e);var o=t.prototype;return o.deactivateAllButtons=function(){this.activeButtonId=""},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.filterButtons=function(e){var t=this;return et.a.trimForArray(e.filter(function(e){var o=t._pluginButtonRegistry.getButtonStyleName({compType:t.toolbarState.componentType,toolbarName:"contentsToolbar",buttonName:e});return!t.disabledButtons.includes(o)}),"separator-bar")},o.highlight=function(e,t){if(e&&t){var o=$e.b.get(t,e);return o&&(o.tooltip=!1),o}},o.updateHighlight=function(e){var t=this._configAgent.get("productConfig.highlight"),o=this.highlight(e.buttonName,t);o&&(e.highlight=o)},o.updateStoragePolicy=function(e){if(e&&e.option&&e.option.storagePolicy){var t=e.option.storagePolicy,o=t.key,n=t.property,r=this._storage.get(o);e.option[n]=r,e.storageKey=o}},o.changeToolbarPosition=function(e){this.position.top=e.top||0,this.position.left=e.left||0,"boolean"==typeof e.collapsed&&(this.position.collapsed=e.collapsed)},o.updateToolbarState=function(e){this.toolbarState=e},o.updateButtonSet=function(e){this.buttonSet.replace(e)},Ye()(t,[{key:"disabledButtons",get:function(){var e=this;return["speller","translation"].filter(function(t){return!1===e._configAgent.get("productConfig."+t)})}},{key:"buttons",get:function(){var e=this;return this.filterButtons(this.buttonSet).map(function(t){var o=e._pluginButtonRegistry.getButtonInfo({compType:e.toolbarState.componentType,toolbarName:"contentsToolbar",buttonName:t});return e.updateHighlight(o),e.updateStoragePolicy(o),Je()({value:Object(J.a)(e.toolbarState,o.propertyName)},o)})}},{key:"isVisible",get:function(){var e=this.buttonSet,t=this.toolbarState,o=this.position,n=this._configAgent.get("productConfig.contentsToolbar"),r=Object(J.a)(n,"allowComponents"),i=t.componentType,a=t.selectionMode;return!(r&&r.length>0&&!r.includes(i))&&(e.length>0&&a===u.O.BLOCK&&!o.collapsed)}}]),t}(u.w),Gc=q()(Wc.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hc=q()(Wc.prototype,"position",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{left:0,top:0,collapsed:!0}}}),qc=q()(Wc.prototype,"buttonSet",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Jc=q()(Wc.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),q()(Wc.prototype,"disabledButtons",[K.e],Object.getOwnPropertyDescriptor(Wc.prototype,"disabledButtons"),Wc.prototype),q()(Wc.prototype,"buttons",[zc],Object.getOwnPropertyDescriptor(Wc.prototype,"buttons"),Wc.prototype),q()(Wc.prototype,"isVisible",[K.e],Object.getOwnPropertyDescriptor(Wc.prototype,"isVisible"),Wc.prototype),Wc),Zc=Qc,$c=Zc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(Qc,"ContentsToolbarLayoutStore"),e(Zc,"default")}();var el,tl,ol=o(131),nl=(el=function(e){function t(){var t;return(t=e.call(this)||this)._contentsToolbarLayoutService=u.V.get("contentsToolbarLayoutService"),t._toolbarService=u.V.get("toolbarService"),t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState,n=t.buttonSet;e._contentsToolbarLayoutService.updateButtonSet(n),e._contentsToolbarLayoutService.updateToolbarState(o)},"contentsToolbar",{delay:5})},o.toggleButton=function(e){this._contentsToolbarLayoutService.toggleButton(e)},o.updateContentsToolbarPosition=function(){this._contentsToolbarLayoutService.updateContentsToolbarPosition({})},t}(u.m),q()(el.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(el.prototype,"toggleButton"),el.prototype),q()(el.prototype,"updateContentsToolbarPosition",[K.d],Object.getOwnPropertyDescriptor(el.prototype,"updateContentsToolbarPosition"),el.prototype),el);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}(nl,"ContentsToolbarLayoutUseCase")}();var rl=(tl=function(e){function t(t){var o;return(o=e.call(this,t)||this)._resize=Object(ol.a)(function(){o.props.useCase.updateContentsToolbarPosition()},50,{leading:!1}),o._domAccessor=u.V.get("domAccessor"),o._currentRef=K.b.createRef(),o._position={top:0,left:0},o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){window.addEventListener("resize",this._resize)},o.componentDidUpdate=function(){var e=this._currentRef.current;if(e&&this._shouldUpdatePosition(e)){var t=this._resolveWrapperPosition(e);this._resolveWrapperFlexibleStyle(e,t)}},o.componentWillUnmount=function(){window.removeEventListener("resize",this._resize)},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.toolbarState;if(!t.isVisible)return null;var r=this._resolveWrapperClassName();return K.b.createElement("div",{className:r,ref:this._currentRef},K.b.createElement(He.a,{className:"se-toolbar se-contents-toolbar se-contents-toolbar-"+n.componentType,namespace:Ge.e.CONTENTS,buttons:t.buttons,i18n:o,logAreaId:"ct",activeButtonId:t.activeButtonId,onClickSelector:this._handleClickSelector}))},o._getScrollElement=function(){return this._domAccessor.getScrollTarget()},o._getCanvasWrapperWidth=function(){return this._domAccessor.getCanvas().offsetWidth},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._resolveWrapperClassName=function(){var e=this.props.store,t=e.isVisible;return e.position.left,We()({"__se-cursor-unrelated":!0,"se-contents-toolbar-wrap":!0,"se-is-on":t})},o._resolveWrapperFlexibleStyle=function(e,t){e.style.top=t.top+"px",e.style.left=t.left+"px";var o=t.isOverflowLeft||t.isOverflowRight;e.classList[o?"add":"remove"]("se-contents-toolbar-wrap-edge"),t.isOverflowRight&&e.classList.add("se-contents-toolbar-wrap-edge-right")},o._resolveWrapperPositionWithStickyHeader=function(e){var t=this._getScrollElement(),o=this.props.store.position,n=o.top,r=o.left,i=t.getBoundingClientRect(),a=t===document.body,s=a?window.pageYOffset:t.scrollTop,c=a?this._domAccessor.getRootContainer().offsetTop:i.top,l=e.offsetWidth,u={top:n-c+s,left:r-i.left-l/2},p=this._domAccessor.getHeader();return p&&p.classList.contains("se-is-fixed")&&(u.top-=p.offsetHeight+parseInt(getComputedStyle(p).marginBottom,10)),u},o._resolveWrapperPosition=function(e){if(this.props.stickyHeader)return this._resolveWrapperPositionWithStickyHeader(e);var t=this.props.isFlexible,o=this._getScrollElement(),n=this.props.store.position,r=n.top,i=n.left,a=o.getBoundingClientRect(),s=Ls.a.getScrollTop(o),c=e.offsetWidth,l=r-a.top+s,u=i-a.left,p=u-c/2;if(!t)return{top:l,left:p};var d=this._getContentAndScrollTarget(),h=d.contentTarget,f=d.scrollTarget,m=f===window,g=h.getBoundingClientRect(),y=g.top,b=g.left,_=this._getCanvasWrapperWidth(),v=l;m&&(u-=b,p-=b,v=l-Ls.a.getScrollTop(f)-y);var C=u<c/2,O=u+c/2>_,S=Math.max(p,10);if(C&&(S=10),O){var k=u+c-_;S=Math.max(u-k-10,10)}return{top:v,left:S,isOverflowLeft:C,isOverflowRight:O}},o._shouldUpdatePosition=function(e){var t=e.style,o=t.top,n=t.left,r=this.props.store.position,i=r.top,a=r.left;return(this._position.top!==i||this._position.left!==a||!o||!n)&&(this._position.top=i,this._position.left=a,!0)},o._getContentAndScrollTarget=function(){var e=this._domAccessor.getScrollTarget(),t=e===document.body;return{contentTarget:t?this._domAccessor.getCanvas():this._domAccessor.getBodyContainer(),scrollTarget:t?window:e}},t}(K.b.Component),q()(tl.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(tl.prototype,"_handleClickSelector"),tl.prototype),tl);rl.defaultProps={children:null,i18n:function(e){return e}},rl.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),i18n:K.a.func,useCase:K.a.instanceOf(nl).isRequired,store:K.a.instanceOf($c).isRequired,isFlexible:K.a.bool,stickyHeader:K.a.bool};var il=Object(Z.b)(rl),al=il;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(10,"TOOLBAR_LEFT_MIN_MARGIN"),e(rl,"ContentsToolbarLayoutView"),e(il,"default")}();var sl=function(e){function t(t){var o;return(o=e.call(this,t)||this)._virtualEditable=u.V.get("virtualEditable"),o}h()(t,e);var o=t.prototype;return o.toggleButton=function(e){this._store.toggleButton(e)},o.hideAllLayers=function(){this._store.deactivateAllButtons(),this._store.updateButtonSet([])},o.updateToolbarState=function(e){this._store.updateToolbarState(e),this.updateContentsToolbarPosition({clientRects:this._virtualEditable.getClientRects()})},o.updateButtonSet=function(e){this._store.updateButtonSet(e),this.updateContentsToolbarPosition({clientRects:this._virtualEditable.getClientRects()})},o.updateCollapsed=function(e){this._store.changeToolbarPosition({collapsed:e})},o.updateContentsToolbarPosition=function(e){var t=e.clientRects,o=void 0===t?this._virtualEditable.getClientRects():t,n=e.range,r=void 0===n?{}:n,i=this._calculatePosition(o,r);i&&this._store.changeToolbarPosition(i)},o._calculatePosition=function(e,t){if(Object(Xe.a)(e))return null;var o=Object(no.a)(e),n=o.left;return{top:o.top,left:o.width/2+n,collapsed:t.collapsed}},t}(u.f),cl=sl,ll=cl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(sl,"ContentsToolbarService"),e(cl,"default")}();var ul,pl,dl=o(103),hl=(ul=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"contentBold:title_inactive",active:"contentBold:title_active"}:n,i=e.className,a=void 0===i?"text-bold":i,s=e.label,c=void 0===s?"contentBold:label":s,l=e.logId,u=void 0===l?"bold":l,p=ga()(e,["type","title","className","label","logId"]);return K.b.createElement(dl.a,oc()({type:o,title:r,className:a,label:c,logId:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleBold(e)},t}(K.b.Component),q()(ul.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(ul.prototype,"_handleChange"),ul.prototype),ul),fl=hl,ml=fl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/view/bold-button-view.jsx",localName:t}})}catch(e){}}e(hl,"BoldButtonView"),e(fl,"default")}();var gl=(pl=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"contentItalic:title_inactive",active:"contentItalic:title_active"}:n,i=e.className,a=void 0===i?"text-italic":i,s=e.label,c=void 0===s?"contentItalic:label":s,l=e.logId,u=void 0===l?"italic":l,p=ga()(e,["type","title","className","label","logId"]);return K.b.createElement(dl.a,oc()({type:o,title:r,className:a,label:c,logId:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleItalic(e)},t}(K.b.Component),q()(pl.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(pl.prototype,"_handleChange"),pl.prototype),pl),yl=gl,bl=yl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/view/italic-button-view.jsx",localName:t}})}catch(e){}}e(gl,"ItalicButtonView"),e(yl,"default")}();var _l,vl=o(187),Cl=o(385),Ol=(_l=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"contentLink:title_inactive",active:"contentLink:title_active"}:n,i=e.label,a=void 0===i?"contentLink:label":i,s=e.labelVisible,c=void 0!==s&&s,l=e.selectIfHasValue,u=void 0===l||l,p=e.onValidateValue,d=void 0===p?Yt.a.hasValue:p,h=e.custom,f=void 0===h?{CustomLayer:Cl.a,customProps:{placeholder:"contentLink:placeholder"}}:h,m=e.logId,g=void 0===m?"urllink":m,y=ga()(e,["type","title","label","labelVisible","selectIfHasValue","onValidateValue","custom","logId"]);return K.b.createElement(vl.a,oc()({type:o,title:r,label:a,labelVisible:c,selectIfHasValue:u,onValidateValue:d,custom:f,logId:g},y,{onClick:this._handleClick,onChange:this._handleChange}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeLink(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(_l.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(_l.prototype,"_handleClick"),_l.prototype),q()(_l.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(_l.prototype,"_handleChange"),_l.prototype),_l),Sl=Ol,kl=Sl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/view/link-button-view.jsx",localName:t}})}catch(e){}}e(Ol,"LinkButtonView"),e(Sl,"default")}();var Il=o(257),wl=o(684),Pl={bold:{view:ml,useCase:Il.a,propertyName:"bold",styleName:"bold"},italic:{view:bl,useCase:Il.a,propertyName:"italic",styleName:"italic"},link:{view:kl,useCase:wl.a,propertyName:"link",styleName:"link"}},jl=Pl;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Pl,"default")}();var Tl={contentsToolbar:{bold:jl.bold,italic:jl.italic,link:jl.link}},Ll=Tl;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/contents-toolbar-button-set-map.js",localName:t}})}catch(e){}}(Tl,"default")}();var El=function(e){function t(){return e.call(this,{buttonSetMap:Ll})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/index.js",localName:t}})}catch(e){}}(El,"ContentsToolbarLayoutToolbar")}();var Nl,xl,Dl=u.H.extend({name:"ContentsToolbarLayout",view:al,useCase:nl,service:ll,store:$c,toolbar:El}),Rl=Dl,Al=Rl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(Dl,"ContentsToolbarLayout"),e(Rl,"default")}();var Ml=(Nl=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"viewMode",xl,G()(o)),o.documentWidth=null;var n=t.state,r=void 0===n?{}:n;return o.viewMode=Object(J.a)(r,"viewMode",o.viewMode),o.documentWidth=u.V.get("configAgent").get("productConfig.documentWidth"),o._componentListStore=u.V.get("componentListStore"),o._dragAndDropStore=u.V.get("dragAndDropStore"),o._selectionInfoStore=u.V.get("selectionInfoStore"),o}return h()(t,e),t.prototype.changeViewMode=function(e){this.viewMode=e},Ye()(t,[{key:"componentList",get:function(){return this._componentListStore}},{key:"dragAndDrop",get:function(){return this._dragAndDropStore}},{key:"selectionInfo",get:function(){return this._selectionInfoStore}},{key:"themeName",get:function(){return u.V.get("themeStore").themeName}},{key:"hasLastText",get:function(){var e=Object(Js.a)(this._componentListStore.compList);return!!e&&"text"===e.ctype}}]),t}(u.w),xl=q()(Nl.prototype,"viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.T.VIEW_MODE_PC}}),q()(Nl.prototype,"componentList",[K.e],Object.getOwnPropertyDescriptor(Nl.prototype,"componentList"),Nl.prototype),q()(Nl.prototype,"dragAndDrop",[K.e],Object.getOwnPropertyDescriptor(Nl.prototype,"dragAndDrop"),Nl.prototype),q()(Nl.prototype,"selectionInfo",[K.e],Object.getOwnPropertyDescriptor(Nl.prototype,"selectionInfo"),Nl.prototype),q()(Nl.prototype,"themeName",[K.e],Object.getOwnPropertyDescriptor(Nl.prototype,"themeName"),Nl.prototype),q()(Nl.prototype,"hasLastText",[K.e],Object.getOwnPropertyDescriptor(Nl.prototype,"hasLastText"),Nl.prototype),Nl),Bl=Ml,Ul=Bl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/store/index.js",localName:t}})}catch(e){}}e(Ml,"CanvasLayoutStore"),e(Bl,"default")}();var Vl=o(99),Fl=function(){function e(){this._jobQueue=[],this._isProgress=!1}var t=e.prototype;return t.add=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._makeJob(t),this._addJob(o),!this._isProgress){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._nextTick();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._nextTick=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._nextJob())){e.next=7;break}return this._isProgress=!0,e.next=5,this._doWork(t);case 5:e.next=8;break;case 7:this._isProgress=!1;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._doWork=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.call(this);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._addJob=function(e){this._jobQueue.push(e)},t._nextJob=function(){return this._jobQueue.shift()},t._makeJob=function(e){var t=this;return Ft()(Ut.a.mark(function o(){return Ut.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.call(t);case 2:return o.next=4,t._nextTick();case 4:case"end":return o.stop()}},o)}))},e}(),zl=Fl,Wl=zl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/async-task-queue/index.js",localName:t}})}catch(e){}}e(Fl,"AsyncTaskQueue"),e(zl,"default")}();var Gl=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._editorStatusStore=u.V.get("editorStatusStore"),this._deviceType=u.V.get("configAgent").get("productEnv.deviceType")||"",this._taskQueue=new Wl,this._editingService=u.V.get("editingService"),this._crawlerService=u.V.get("crawlerService"),this._loadingProgressLayoutService=u.V.get("loadingProgressLayoutService"),this._eventDispatcherService=u.V.get("eventDispatcherService"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this.insertContentsFromUrl=Object(Vl.a)(this.insertContentsFromUrl,1e3,{leading:!0,trailing:!1})}var t=e.prototype;return t.insertContentsFromUrl=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isCrawlerAllowed()||!t){e.next=5;break}return e.next=4,this._insertContentsFromUrl(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._insertContentsFromUrl=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._beforeCrawling(),e.next=3,this._taskQueue.add(Ft()(Ut.a.mark(function e(){var r,i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n._crawlerService.crawlFrom(t);case 3:if(r=e.sent){e.next=7;break}return n._afterCrawling(),e.abrupt("return");case 7:i=[r],a=n._selectionInfoStore.toValidJSON(),(s=n._deviceType!==u.t.MOBILE?n._editingService.insert({sourceComponents:i,selectionInfo:a}):n._editingService.insertWithNewText({sourceComponents:i,selectionInfo:a})).errorMsg&&(o=s.errorMsg),n._afterCrawling(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),n._afterCrawling();case 17:case"end":return e.stop()}},e,null,[[0,14]])})));case 3:return e.abrupt("return",o);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._isCrawlerAllowed=function(){var e=this._selectionInfoStore.start,t=e.compId,o=e.unitId,n=this._componentListStore.getComponentById(t).getStoreById(o);return"text"===n.attributes.insertion&&n.isLinkAllowed()&&!1===n.isListParagraphByPoint(e)},t._beforeCrawling=function(){this._editorStatusStore.busy(),this._eventDispatcherService.emit(u.z.IN_PROGRESS),this._loadingProgressLayoutService&&this._loadingProgressLayoutService.show()},t._afterCrawling=function(){this._editorStatusStore.idle(),this._eventDispatcherService.emit(u.z.PROGRESS_COMPLETED),this._loadingProgressLayoutService&&this._loadingProgressLayoutService.hide()},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/crawler-behavior.js",localName:t}})}catch(e){}}(Gl,"CrawlerBehavior")}();var Hl,ql,Jl,Kl,Yl,Xl,Ql,Zl,$l,eu,tu=o(249),ou=o(37),nu=o(126),ru=(Hl=Object(ee.history)({sync:!1}),ql=Object(ee.history)({sync:!1}),Jl=Object(ee.history)({sync:!1}),Kl=Object(ee.history)({sync:!1}),Yl=Object(ee.history)({throttle:!0}),Xl=Object(ee.command)(ou.a.COMMON.INSERT_COMPONENTS),Ql=Object(ee.command)(ou.a.COMMON.PREPEND_COMPONENTS),Zl=Object(ee.command)(ou.a.COMMON.APPEND_COMPONENTS),$l=Object(ee.history)({overwriteSelection:!0}),eu=function(e){function t(){var t;return(t=e.call(this)||this)._eventDispatcherService=u.V.get("eventDispatcherService"),t._insertMenuLayoutService=u.V.get("insertMenuLayoutService"),t._copyPasteService=u.V.get("copyPasteService"),t._finderService=u.V.get("finderService"),t._configAgent=u.V.get("configAgent"),t._editingService=u.V.get("editingService"),t._virtualEditable=u.V.get("virtualEditable"),t._documentService=u.V.get("documentService"),t._canvasLayoutService=u.V.get("canvasLayoutService"),t._selectionService=u.V.get("selectionService"),t._toastLayerService=u.V.get("toastLayerService"),t._contentsToolbarLayoutService=u.V.get("contentsToolbarLayoutService"),t._contextToolbarLayoutService=u.V.get("contextToolbarLayoutService"),t._loadingLayerService=u.V.get("loadingLayerService"),t._canvasScrollingService=u.V.get("canvasScrollingService"),t._contextmenuLayerService=u.V.get("contextmenuLayerService"),t._historyService=u.V.get("historyService"),t._i18n=u.V.get("i18n"),t._alertLayerService=u.V.get("alertLayerService"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._componentListStore=u.V.get("componentListStore"),t._imageBehavior=u.V.get("imageBehavior"),t._crawlerBehavior=new Gl,t}h()(t,e);var o=t.prototype;return o.__ON_LAZY__=function(){var e;this._canvasLayoutService.attachEvents(((e={})[u.R.CHANGE_VALUE]=this._handleChangeValue.bind(this),e[u.R.LEAVE_UNIT]=this._handleLeaveUnit.bind(this),e[u.R.SELECTING_BY_MOUSE]=this._handleSelectingByMouse.bind(this),e[u.R.SELECT_END]=this._handleSelectend.bind(this),e[u.R.PASTE]=this._handlePaste.bind(this),e[u.R.AFTER_PASTE]=this._handleAfterPaste.bind(this),e[u.R.CUT]=this._handleCut.bind(this),e[u.R.COPY]=this._handleCopy.bind(this),e[u.R.CHANGE_CURSOR]=Object(Vl.a)(this._handleChangeCursor.bind(this),100),e[u.R.GLOBAL.MOUSEUP]=this._handleMouseUp.bind(this),e)),this._eventDispatcherService.on(u.z.INPUT,this._handleInput.bind(this)),this._eventDispatcherService.on(u.z.CONTENT_COUNT_TARGET_BLURRED,this._handleCountTargetBlur.bind(this)),this._eventDispatcherService.on(u.z.CONTENT_COUNT_TARGET_FOCUSED,this._handleCountTargetFocus.bind(this))},o._handleInput=function(){if(this._canvasLayoutService.shouldUpdateContentLength()){var e=this._selectionInfoStore.focus.compId;this._canvasLayoutService.setAvailableContentLength(e)}},o._handleCountTargetBlur=function(e){this._canvasLayoutService.resetAvailableContentLength(e)},o._handleCountTargetFocus=function(e){this._canvasLayoutService.setAvailableContentLength(e)},o._handleChangeCursor=function(e){if(this._insertMenuLayoutService&&this._insertMenuLayoutService.moveTo(e.clientRects),this._eventDispatcherService.emit(u.D.CHANGE_CURSOR,e),!1===e.collapsed&&this._dragAndDropService.isUpdateReadySelection()){this._contentsToolbarLayoutService&&this._contentsToolbarLayoutService.updateContentsToolbarPosition(e),this._dragAndDropService.setUpdateReadySelection(!1)}this._selectionInfoStore.shouldBlur&&(this._virtualEditable.blur(),this._selectionInfoStore.setShouldBlur(!1))},o._handleCopy=function(){var e=this._finderService.getCompStoresWithinSelection();this._copyPasteService.copy(e)},o._handleCut=function(){var e=this._finderService.getCompStoresWithinSelection();this._copyPasteService.copy(e)&&this._editingService.erase(void 0,u.u.LEFT)},o._handlePaste=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s,c,l;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ar.a.IS_IE){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),o=this._copyPasteService.checkClipboardData(t),n=o.isCopiedEditorData,r=o.isCaptureImage,i=o.isOldEditorData,a=o.isOnlyText,!r){e.next=8;break}return e.next=7,this._insertCaptureImage(t);case 7:return e.abrupt("return");case 8:if(this._loadingLayerService.open("transparent"),e.prev=9,!i){e.next=16;break}return s=this._copyPasteService.getHTMLClipboardData(t),e.next=14,this._insertOldEditorData(s);case 14:e.next=34;break;case 16:if(!n){e.next=21;break}return e.next=19,this._insertCopiedEditorData();case 19:e.next=34;break;case 21:if(!a){e.next=29;break}return e.next=24,this._copyPasteService.parseText(t);case 24:return c=e.sent,e.next=27,this._insertExternalData(c);case 27:e.next=34;break;case 29:return e.next=31,this._copyPasteService.parseResourceByEvent(t);case 31:return l=e.sent,e.next=34,this._insertExternalData(l);case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(9),e.t0.failed&&this._showServerErrorAlert();case 40:return e.prev=40,this._loadingLayerService.close(),e.finish(40);case 43:case"end":return e.stop()}},e,this,[[9,36,40,43]])}));return function(t){return e.apply(this,arguments)}}(),o._insertOldEditorData=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._copyPasteService.getOldEditorData(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:if(0!==(o=e.t0).length){e.next=8;break}return e.abrupt("return");case 8:n=this._editingService.insertByInternalPaste({sourceComponents:o}),r=n.errorMsg,this._showWarning(r);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertCopiedEditorData=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._copyPasteService.getCopiedEditorData();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:if(0!==(t=e.t0).length){e.next=8;break}return e.abrupt("return");case 8:o=this._editingService.insertByInternalPaste({sourceComponents:t}),n=o.errorMsg,this._showWarning(n);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._insertCaptureImage=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._copyPasteService.getClipboardData(t);case 2:return o=e.sent,e.next=5,this._imageBehavior.insertImage({validFiles:o,invalidFiles:[]});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertExternalData=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(o=t.sourceComponents,n=t.url,r=t.dataURIImage,0!==o.length){e.next=5;break}return e.abrupt("return");case 5:if(!r||!r.length){e.next=8;break}return e.next=8,this._imageBehavior.insertImage({validFiles:[r]});case 8:if(i=this._editingService.insertByExternalPaste({sourceComponents:o}),a=i.errorMsg,!n){e.next=13;break}return e.next=12,this._crawlerBehavior.insertContentsFromUrl(n);case 12:a=e.sent;case 13:this._showWarning(a);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._handleAfterPaste=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ar.a.IS_IE&&t){e.next=2;break}return e.abrupt("return");case 2:if(this._loadingLayerService.open("transparent"),e.prev=3,o=this._configAgent.get("productConfig.uploadIECaptureImageEnabled")||!1,!this._copyPasteService.isCopiedEditorData(t)){e.next=10;break}return e.next=8,this._insertCopiedEditorData();case 8:e.next=27;break;case 10:if(!this._copyPasteService.isOldEditorData(t)){e.next=15;break}return e.next=13,this._insertOldEditorData(t);case 13:e.next=27;break;case 15:if(!o||!this._copyPasteService.isIECaptureImage(t)){e.next=22;break}if(n=t.match(/(data:image.+)/g)||[],!(r=n[0])||!r.length){e.next=20;break}return e.next=20,this._imageBehavior.insertImage({validFiles:[r]});case 20:e.next=27;break;case 22:return e.next=24,this._copyPasteService.parseResourceByPastedData(t);case 24:return i=e.sent,e.next=27,this._insertExternalData(i);case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(3),e.t0.failed&&this._showServerErrorAlert();case 33:return e.prev=33,this._loadingLayerService.close(),e.finish(33);case 36:case"end":return e.stop()}},e,this,[[3,29,33,36]])}));return function(t){return e.apply(this,arguments)}}(),o._handleLeaveUnit=function(e){this._changeCursorByKey(e)&&e.event.preventDefault(),this._contextToolbarLayoutService&&"mousemove"!==e.event.type&&this._contextToolbarLayoutService.hide()},o._handleSelectingByMouse=function(e){this._canvasScrollingService.scrollPage(e)},o._handleMouseUp=function(){this._canvasScrollingService.forceStopAutoScroll()},o._handleChangeValue=function(e){this._editingService.isCursorMode()||this._editingService.isBlockMode()?this._writeWithTransaction(e):this._editingService.write(e),this._eventDispatcherService.emit(u.z.INPUT,e)},o._writeWithTransaction=function(e){this._editingService.write(e)},o.destroy=function(){this._canvasLayoutService.destroyVirtualEditable()},o.refresh=function(){this._canvasLayoutService.refreshVirtualEditable()},o.toggleMultiSelection=function(e){this._canvasLayoutService.toggleMultiSelection(e)},o.insertTextComp=function(e,t){this._editingService.insertTextCompPositionById(t,e)},o.insertComponentsCommand=function(e){var t=e.data,o=e.option,n=void 0===o?{}:o,r=t.components;try{this._editingService.insertComponentsWithData(this._documentService.convertComponents(r),Je()({},n,{forceRefine:!0}))}catch(e){console.error(e)}},o.prependComponentsCommand=function(e){var t=e.data,o=e.option,n=void 0===o?{}:o,r=t.components,i=n.compId,a=n.newLine,s=void 0===a||a,c=Object(nu.a)(n,["compId","newLine"])||{},l=i?this._componentListStore.getComponentById(i):this._componentListStore.getComponentByIndex(this._componentListStore.getFirstContentsIndex());if(l){var u=l.getStartPoint();u&&this._selectionInfoStore.setRange({start:u,end:u})}try{this._editingService.insertComponentsWithData(this._documentService.convertComponents(r),Je()({},c,{commandType:"prepend",disableMerge:s,forceRefine:!0}))}catch(e){console.error(e)}},o.appendComponentsCommand=function(e){var t=e.data,o=e.option,n=void 0===o?{}:o,r=t.components,i=n.compId,a=n.newLine,s=void 0===a||a,c=Object(nu.a)(n,["compId","newLine"])||{},l=i?this._componentListStore.getComponentById(i):this._componentListStore.getLastComponent();if(l){var u=l.getEndPoint();u&&this._selectionInfoStore.setRange({start:u,end:u})}try{this._editingService.insertComponentsWithData(this._documentService.convertComponents(r),Je()({},c,{commandType:"append",disableMerge:s,forceRefine:!0}))}catch(e){console.error(e)}},o._handleSelectend=function(e){this._canvasScrollingService.forceStopAutoScroll();var t=e.destination,o=e.clientRects,n=e.range,r=t.focus;n.collapsed&&(this._editingService.refineEmptyNodeInParagraph(r)&&e.preventDefault());this._contentsToolbarLayoutService&&this._contentsToolbarLayoutService.updateContentsToolbarPosition({clientRects:o,range:n})},o._changeCursorByKey=function(e){var t=e.event,o=e.direction,n=e.destination,r=e.isShrink,i=e.collapsed,a=t.type,s=n.anchor,c=n.focus;return!0===this._selectionService.isCurrentAnchorUnitId(s.unitId)&&!1===i?this._selectionService.selectAsBlock({direction:o,toPoint:c,eventType:a,isShrink:r}):this._selectionService.moveCursor({direction:o,toPoint:c,eventType:a})},o._showWarning=function(e){e&&this._toastLayerService.warningMessage(e)},o.showContextMenu=function(e){if(this._contextmenuLayerService){var t=e.target,o=e.clientX,n=e.clientY;if(Ls.a.isFocusableInputElement(t))return;this._contextmenuLayerService.open({top:n,left:o,selectAllable:this._selectionService.isSelectAllable(),undoable:this._historyService.isUndoable(),redoable:this._historyService.isRedoable(),saveAsUrl:this._getSaveAsUrlByEvent(e)}),e.preventDefault()}},o._getSaveAsUrlByEvent=function(e){var t=e.target;if(!t)return null;var o=t.classList.contains("se-image-resource"),n=t.classList.contains("se-inline-image-resource");if("IMG"===t.tagName&&(o||n)){var r=e.target.src,i=r;if(r.indexOf("?type=")>0||n)i=r.split("?type=")[0]+"?attachment";return i}return null},o._showServerErrorAlert=function(){this._alertLayerService.open({type:"alert",title:this._i18n("canvasLayout:paste_failed_title"),description:this._i18n("canvasLayout:paste_failed_desc")})},t}(tu.a),q()(eu.prototype,"_handleChangeCursor",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleChangeCursor"),eu.prototype),q()(eu.prototype,"_handleCopy",[ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleCopy"),eu.prototype),q()(eu.prototype,"_handleCut",[ee.preventOnComponentProcessing,ee.history,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleCut"),eu.prototype),q()(eu.prototype,"_handlePaste",[ee.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(eu.prototype,"_handlePaste"),eu.prototype),q()(eu.prototype,"_insertOldEditorData",[K.d,Hl],Object.getOwnPropertyDescriptor(eu.prototype,"_insertOldEditorData"),eu.prototype),q()(eu.prototype,"_insertCopiedEditorData",[K.d,ql],Object.getOwnPropertyDescriptor(eu.prototype,"_insertCopiedEditorData"),eu.prototype),q()(eu.prototype,"_insertCaptureImage",[K.d,Jl],Object.getOwnPropertyDescriptor(eu.prototype,"_insertCaptureImage"),eu.prototype),q()(eu.prototype,"_insertExternalData",[K.d,Kl],Object.getOwnPropertyDescriptor(eu.prototype,"_insertExternalData"),eu.prototype),q()(eu.prototype,"_handleAfterPaste",[ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleAfterPaste"),eu.prototype),q()(eu.prototype,"_handleLeaveUnit",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleLeaveUnit"),eu.prototype),q()(eu.prototype,"_handleSelectingByMouse",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleSelectingByMouse"),eu.prototype),q()(eu.prototype,"_handleMouseUp",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleMouseUp"),eu.prototype),q()(eu.prototype,"_handleChangeValue",[ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_handleChangeValue"),eu.prototype),q()(eu.prototype,"_writeWithTransaction",[Yl],Object.getOwnPropertyDescriptor(eu.prototype,"_writeWithTransaction"),eu.prototype),q()(eu.prototype,"destroy",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"destroy"),eu.prototype),q()(eu.prototype,"refresh",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"refresh"),eu.prototype),q()(eu.prototype,"insertTextComp",[ee.history,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"insertTextComp"),eu.prototype),q()(eu.prototype,"insertComponentsCommand",[Xl,ee.history,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"insertComponentsCommand"),eu.prototype),q()(eu.prototype,"prependComponentsCommand",[Ql,ee.history,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"prependComponentsCommand"),eu.prototype),q()(eu.prototype,"appendComponentsCommand",[Zl,ee.history,K.d],Object.getOwnPropertyDescriptor(eu.prototype,"appendComponentsCommand"),eu.prototype),q()(eu.prototype,"_handleSelectend",[K.d,$l],Object.getOwnPropertyDescriptor(eu.prototype,"_handleSelectend"),eu.prototype),q()(eu.prototype,"_showWarning",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_showWarning"),eu.prototype),q()(eu.prototype,"showContextMenu",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"showContextMenu"),eu.prototype),q()(eu.prototype,"_showServerErrorAlert",[K.d],Object.getOwnPropertyDescriptor(eu.prototype,"_showServerErrorAlert"),eu.prototype),eu),iu=ru,au=iu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(ru,"CanvasLayoutUseCase"),e(iu,"default")}();var su,cu=o(1208),lu=(su=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.dragAndDrop,n=e.isClickable,r=o.isCanvasBottomActivated,i=We()({"se-canvas-bottom":!0,"se-is-clickable-canvas-bottom-button":n}),a=We()({"se-drop-indicator":!0,"se-drop-indicator-bottom":r});return K.b.createElement("div",{className:i,onDragOver:this._handleDragOver,onClick:this._handleClick},K.b.createElement("button",{type:"button",className:"se-canvas-bottom-button __edge-area"},K.b.createElement("span",{className:"se-blind"},t("canvasLayout:addText"))),K.b.createElement("div",{className:a}))},o._handleClick=function(e){this.props.onClick(e)},o._handleDragOver=function(e){this.props.onDragOver(e)},t}(K.b.Component),q()(su.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(su.prototype,"_handleClick"),su.prototype),q()(su.prototype,"_handleDragOver",[ee.autobind],Object.getOwnPropertyDescriptor(su.prototype,"_handleDragOver"),su.prototype),su);lu.defaultProps={onClick:function(){},onDragOver:function(){},isClickable:!1},lu.propTypes={onClick:K.a.func,onDragOver:K.a.func,isClickable:K.a.bool,dragAndDrop:K.a.instanceOf(cu.a).isRequired,i18n:K.a.func.isRequired};var uu=Object(Z.b)(lu),pu=uu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/view/canvas-bottom-area.jsx",localName:t}})}catch(e){}}e(lu,"CanvasBottomArea"),e(uu,"default")}();var du,hu,fu=o(640),mu=o(641),gu=(du=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"compList",hu,G()(o)),o._componentFactory=u.V.get("componentFactory"),o._themeStore=u.V.get("themeStore");var n=t.state,r=void 0===n?{}:n;return o.compList=o._createCompStoreList(r.compList),o._hashArray=o._makeHashArray(o.compList),o}h()(t,e);var o=t.prototype;return o.destroy=function(){var e=this;Object(r.a)(this.compList,function(t,o){t.destroy&&t.destroy(),e.compList[o]=null}),this._hashArray.length=0,this._hashArray=null,this.compList.length=0,this.compList=null},o.syncUp=function(){this._hashArray.syncUpWithDataList()},o.allowPlaceholderShownCompType=function(e){return["text","sectionTitle"].includes(e)},o._makeHashArray=function(e){var t=this;return new fu.a(e,function(e){return t._handleChangeData(e)})},o._handleChangeData=function(e){u.V.get("componentIdChecker").sync(e)},o.insertComponent=function(e){this._insertComponent(e)},o.insertComponentBefore=function(e,t){var o=this.getComponentIndex(e.id);this._insertComponent(t,o)},o.insertComponentAfter=function(e,t){var o=this.getComponentIndex(e.id)+1;this._insertComponent(t,o)},o.updateComponent=function(e){this._updateComponent(e)},o.detachComponents=function(e,t){return this._hashArray.detachData(e,t)},o.replace=function(e,t){this._hashArray.replaceBetween(t,e.id,e.id)},o.replaceBetween=function(e,t,o){this._hashArray.replaceBetween(o,e.id,t.id)},o.deleteComponentById=function(e){this._deleteComponentById(e)},o.attachFirstParagraphAtEnd=function(e,t){this._attachFirstParagraphAtEnd(e,t)},o.resetCompList=function(e){var t=this._createCompStoreList(e);this.compList.replace(t),this._hashArray=this._makeHashArray(this.compList)},o.splitComponentByPoint=function(e){var t=e.compId,o=this.getComponentById(t),n=this.getComponentIndex(t)+1,r=o.splitComponent(e),i=r.front,a=r.back;return this._insertComponent(a,n),{front:i,back:a}},o.refineComponentList=function(e){var t=this.compList,o=this.getFirstComponent(),n=[],i=e.start,a=e.end,s={},c={},l=!1;if(Object(r.a)(t,function(e){if(o.id!==e.id)if("text"===e.ctype&&"text"===o.ctype){o.insert(e),n.push(e.id);var t=o.getText().id;e.id===i.compId&&(s.compId=o.id,s.unitId=t),e.id===a.compId&&(c.compId=o.id,c.unitId=t),l=!0}else o=e}),this._deleteComponentById(n),l)return{start:Object.assign(i,s),end:Object.assign(a,c)}},o.findNextSelection=function(e,t){if(t===u.u.LEFT){var o=this.getPrevComponent(e);if(!o)return;if(this.isTextType(o)||"documentTitle"===o.ctype){var n=o.getEndPoint();return{start:n,end:n}}return o.getComponentActiveRange()}var r=this.getNextComponent(e);if(r){if(this.isTextType(r)){var i=r.getStartPoint();return{start:i,end:i}}return r.getComponentActiveRange()}},o.getUpwardClosestTextTypeCompStore=function(e){for(var t=e;t;){if(["text","wrappingParagraph"].includes(t.ctype))return t;t=this.getPrevComponent(t)}return null},o.getComponentList=function(){return this.compList},o.getComponentById=function(e){return this._hashArray.getDataById(e)},o.getComponentByIndex=function(e){return this._hashArray.getDataByIndex(e)},o.getComponentIndex=function(e){return this._hashArray.getIndex(e)},o.getComponentsByCtype=function(e){return this._hashArray.filter(function(t){return t.ctype===e})},o.getComponentByCtype=function(e){var t=this._hashArray.filter(function(t){return t.ctype===e});return Object(no.a)(t)},o.getComponentsByCtypes=function(e){return void 0===e&&(e=[]),this._hashArray.filter(function(t){return e.includes(t.ctype)})},o.getComponentsByIds=function(e){return void 0===e&&(e=[]),this.filter(function(t){return e.includes(t.id)})},o.getFirstComponent=function(){return this._hashArray.getFirst()},o.getLastComponent=function(){return this._hashArray.getLast()},o.getPrevComponent=function(e){return this._hashArray.getPrev(e.id)},o.getPrevComponentById=function(e){var t=this.getComponentById(e);return this.getPrevComponent(t)},o.getNextComponent=function(e){return this._hashArray.getNext(e.id)},o.getNextComponentById=function(e){var t=this.getComponentById(e);return this.getNextComponent(t)},o.getComponentIds=function(){return this._hashArray.getKeys()},o.getComponentsBetween=function(e,t){return this._hashArray.getBetween(e,t)},o.getComponentsByCtypeUntil=function(e,t){var o=this._hashArray.getFirst().id;return this._hashArray.getBetween(o,e).filter(function(e){return e.ctype===t})},o.getComponentsByCtypeFrom=function(e,t){var o=this._hashArray.getLast().id;return this._hashArray.getBetween(e,o).filter(function(e){return e.ctype===t})},o.getSelectedComponents=function(e){var t=e.compIdMap,o=e.start,n=e.end;return e.mode===u.O.MULTI_COMP?this.getComponentsByIds(Object.keys(t)):this.getComponentsBetween(o.compId,n.compId)},o.getCompListLength=function(){return this._hashArray.getLength()},o.getContentText=function(){var e=[];return this.compList.forEach(function(t,o,n){u.s.includes(t.ctype)&&(o>0&&"text"===n[o-1].ctype&&"text"===t.ctype&&e.push("\n"),e.push(t.getPlainTextWithEmoji()))}),e.join("")},o.moveComponentToIndex=function(e,t){this.deleteComponentById(e.id),this._insertComponent(e,t)},o.moveComponentToPrev=function(e){var t=this._hashArray.getIndex(e);if("documentTitle"!==this.getFirstComponent().ctype||1!==t){var o=this._hashArray.getDataByIndex(t);this.moveComponentToIndex(o,t-1)}},o.moveComponentToNext=function(e){var t=this._hashArray.getIndex(e),o=t+1;if(!this._hashArray.isOutOfBound(o)){var n=this._hashArray.getDataByIndex(t);this.moveComponentToIndex(n,o)}},o.has=function(e){return this._hashArray.has(e)},o.isEmpty=function(){return this._hashArray.isEmpty()},o.isFirstComponent=function(e){return this.getFirstComponent().id===e.id},o.getSelectedAlign=function(e){var t=e.mode,o=this.getSelectedComponents(e).map(function(t){return t.getSelectedAlign(e)});return Je()({selectionMode:t},mu.a.mergeStyles(o))},o.collectStyle=function(e){var t=e.mode,o=Object(ro.a)(this.getSelectedComponents(e)),n=o.map(function(t){return t.collectStyle(e)}),r=mu.a.mergeStyles(n);return o.length>1&&null===r.align&&(r.align=this.getSelectedAlign(e).align),Je()({selectionMode:t},r)},o.inheritTextStyle=function(e,t){var o=this.getUpwardClosestTextTypeCompStore(e);if(o){var n=o.getCompEndPoint(),r=t.getCompStartRange(),i=o.getTextStyle(n);delete i.dropCap,delete i.align,delete i.subscript,delete i.superscript,delete i.list,t.updateStyles(i,r)}else{var a=this._themeStore.getUserDefinedStyle(t.ctype);a&&t.updateUserDefinedStyle(Object(nu.a)(a,["align"]))}},o.getDerivedTextStyle=function(e){var t=this.getComponentById(e.compId);if(t&&t.getTextStyle)return t.getTextStyle(e);var o=this.getUpwardClosestTextTypeCompStore(t);if(o){var n=o.getCompEndPoint();return o.getTextStyle(n)}return this._themeStore.getUserDefinedStyle("text")},o.getCompStoresWithinSelection=function(e){var t=this;return this.getSelectedComponents(e).map(function(o){var n=o.clone(e);return"textUnit"===n.ctype?t._componentFactory.createComponentWithCompData({ctype:"text",value:n.toValidJSON()}):n})},o._deleteComponentById=function(e){this._hashArray.remove(e)},o._insertComponent=function(e,t){this._hashArray.add(e,t)},o._updateComponent=function(e){var t=this.getComponentById(e.id);this._hashArray.replaceBetween(e,t.id,t.id)},o._attachFirstParagraphAtEnd=function(e,t){e.attachFirstParagraphAtEnd(t),t.isEmpty()&&this.deleteComponentById(t.id)},o._createCompStoreList=function(e){var t=this;return void 0===e&&(e=[]),e.map(function(e){return t._componentFactory.createComponentWithCompData(e)})},o.forEach=function(e){this._hashArray.forEach(e)},o.filter=function(e){return this._hashArray.filter(e)},o.append=function(e){var t=e.sourceComponents,o=e.point,n=this.getComponentById(o.compId);if("text"===n.attributes.insertion){var r=this.splitComponentByPoint(o).front;r.isEmpty()?this.replace(r,t):this.insertComponentAfter(r,t)}else this.insertComponentAfter(n,t)},o.isTextType=function(e){return["text","sectionTitle","wrappingParagraph"].includes(e.ctype)},o.isBackward=function(e,t){var o=this.getComponentIndex(e.compId),n=this.getComponentIndex(t.compId);return!(n<o)&&(n!==o||!(t.unitId!==e.unitId||!t.paraId)&&this.getComponentById(t.compId).getText(t.unitId).isBackward(e,t))},o.countBy=function(e){return this.compList.filter(function(t){return t.ctype===e}).length},o.getComponentsByLikeType=function(e){return this.compList.filter(function(t){var o=Object(J.a)(t,"ctype","");if("image"===e){var n=Object(J.a)(t,"wrappedSection.ctype",""),r=Object(J.a)(t,"background.image",null);return-1!==o.indexOf(e)||-1!==n.indexOf(e)||null!==r}return o===e})},o.countByLikeType=function(e){return"image"===e?this.countByIncludedImage():this.getComponentsByLikeType(e).length},o.countByIncludedImage=function(){var e=this.getComponentsByLikeType("image");return Object(Ar.a)(e,function(e,t){var o=t.ctype;return"imageGroup"===o||"imageStrip"===o?e+=Object(J.a)(t,"images",[]).reduce(function(e,t){return e+=Object(J.a)(t,"internalResource",!1)?1:0},0):"image"===o?e+=Object(J.a)(t,"internalResource","")?1:0:"wrappingParagraph"===o?e+=Object(J.a)(t,"wrappedSection.internalResource",!1)?1:0:"documentTitle"===o&&(e+=Object(J.a)(t,"background.image.internalResource",!1)?1:0),e},0)},o.getFirstContentsIndex=function(){return"documentTitle"===this.getComponentByIndex(0).ctype?1:0},o.toPlainJSON=function(){return this.compList.map(function(e){return e.toPlainJSON()})},o.toValidJSON=function(){var e=[];return this.compList.forEach(function(t){if(t.toValidJSON){var o=t.toValidJSON();Object(Xe.a)(o)||e.push(o)}else Object(Xe.a)(t)||e.push(t)}),e},Ye()(t,[{key:"shouldPlaceholderShownCompId",get:function(){var e=this,t=1===this.filter(function(e){if("documentTitle"!==e.ctype)return e}).length,o="";return this.compList.forEach(function(n){e.allowPlaceholderShownCompType(n.ctype)&&t&&(o=n.id)}),o}}]),t}(u.w),hu=q()(du.prototype,"compList",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q()(du.prototype,"shouldPlaceholderShownCompId",[K.e],Object.getOwnPropertyDescriptor(du.prototype,"shouldPlaceholderShownCompId"),du.prototype),du),yu=gu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/component-list-store.js",localName:t}})}catch(e){}}e(gu,"ComponentListStore"),e(yu,"default")}();var bu=o(668),_u=o(752),vu=o(671);function Cu(e){var t=e.list,o=e.store,n=e.rendererCollector,r=o.allowPlaceholderShownCompType,i=o.shouldPlaceholderShownCompId;return K.b.createElement(K.b.Fragment,null,t.map(function(e){var t=n.getRenderer(e.ctype),o={key:e.id,store:e};return r(e.ctype)&&(o.shouldPlaceholderShown=i===e.id),t&&t(o)}))}Cu.propTypes={list:Z.a.observableArray.isRequired,store:K.a.instanceOf(gu).isRequired,rendererCollector:K.a.object.isRequired};var Ou=Object(bu.a)(Object(bu.b)(Object(Z.b)(Cu),{getKey:function(e){return e.id},reorder:function(e,t){var o=t.selectionInfoStore.toValidJSON(),n=o.start,r=o.end;if(null===n.compId&&null===r.compId)return e;var i=t.store.getSelectedComponents(o),a=i[i.length-1],s=Object(Kt.a)(Object(vu.a)(t.list,0,Object(jr.a)(t.list,function(e){return Object(vo.a)(e,a)})+1),function(e){return e.id}),c=Object(_u.a)(s,e),l=Object(wr.a)(e,s);return c.length?[c].concat(l):[].concat(l)}}),{path:"store.compList",output:"list"}),Su=function(e){function t(t){var o;return(o=e.call(this,t)||this)._selectionInfoStore=u.V.get("selectionInfoStore"),o}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._componentRendererCollector=u.V.get("componentRendererCollector")},o.render=function(){var e=this.props.store;return K.b.createElement("article",{className:"se-components-wrap"},K.b.createElement(Ou,{store:e,selectionInfoStore:this._selectionInfoStore,rendererCollector:this._componentRendererCollector}))},t}(K.b.Component);Su.defaultProps={},Su.propTypes={store:K.a.instanceOf(gu).isRequired};var ku,Iu=Su,wu=Iu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/view/component-list-view.jsx",localName:t}})}catch(e){}}e(Cu,"List"),e(Ou,"ChunknizedObservedPage"),e(Su,"ComponentListView"),e(Iu,"default")}();var Pu=(ku=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.store,n=o.dragAndDrop,r=o.componentList,i=this._resolveCanvasClass();return K.b.createElement("section",{className:i,onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown},K.b.createElement("div",{className:"se-content-guide"}),K.b.createElement(wu,{store:r}),K.b.createElement(pu,{isClickable:!1===o.hasLastText,dragAndDrop:n,i18n:t}))},o._resolveCanvasClass=function(){var e,t=this.props,o=t.store,n=t.isFlexible,r=o.viewMode,i=o.themeName,a=o.documentWidth;return We()(((e={"se-canvas":!0})["se-canvas-width-"+a]=!!a,e["se-canvas-flexible"]=n,e["se-l-viewport-mobile"]=r===u.T.VIEW_MODE_MOBILE,e["se-l-viewport-tablet"]=[u.T.VIEW_MODE_PC,u.T.VIEW_MODE_TABLET].includes(r),e["se-l-viewport-desktop"]=r===u.T.VIEW_MODE_PC,e["se-theme-"+i]=!0,e))},o.handleContextMenu=function(e){this.props.useCase.showContextMenu(e)},o.handleMouseDown=function(e){e.ctrlKey||e.metaKey?this._handleCtrlClick(e):this._handleEdgeClick(e)},o._handleCtrlClick=function(e){var t=this._extractCompId(e);if(t){var o=this.props.store,n=o.componentList,r=o.selectionInfo;n.getComponentById(t).isSelectable?(e.nativeEvent.stopImmediatePropagation(),this.props.useCase.toggleMultiSelection(t)):r.isComponentMode()&&e.nativeEvent.stopImmediatePropagation()}},o._extractCompId=function(e){var t=e.target;return t.dataset.compid?t.dataset.compid:Ls.a.ancestor(t,function(e){var t=e.dataset.compid;return void 0!=t&&""!==t}).dataset.compid},o._handleEdgeClick=function(e){var t=e.target;if(t.classList.contains("__edge-area")){e.preventDefault();var o=t.dataset.compid,n=t.dataset.direction;this.props.useCase.insertTextComp(o,n)}},t}(K.b.Component),q()(ku.prototype,"handleContextMenu",[ee.autobind],Object.getOwnPropertyDescriptor(ku.prototype,"handleContextMenu"),ku.prototype),q()(ku.prototype,"handleMouseDown",[ee.autobind],Object.getOwnPropertyDescriptor(ku.prototype,"handleMouseDown"),ku.prototype),ku);Pu.propTypes={i18n:function(e){return e}},Pu.propTypes={useCase:K.a.instanceOf(au).isRequired,store:K.a.instanceOf(Ul).isRequired,i18n:K.a.func.isRequired,isFlexible:K.a.bool};var ju=Object(Z.b)(Pu),Tu=ju;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(Pu,"CanvasLayoutView"),e(ju,"default")}();var Lu=["table","imageGroup","oembed"],Eu=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.V.get("configAgent"),o._componentListStore=u.V.get("componentListStore"),o._selectionInfoStore=u.V.get("selectionInfoStore"),o._editorStatusStore=u.V.get("editorStatusStore"),o._virtualEditable=u.V.get("virtualEditable"),o._contentTextMaxLength=o._configAgent.get("productConfig.contentTextMaxLength")||1/0,o}h()(t,e);var o=t.prototype;return o.attachEvents=function(e){var t=this;Object.keys(e).forEach(function(o){var n=e[o];t._virtualEditable.on(o,n)}),this.refreshVirtualEditable()},o.destroyVirtualEditable=function(){this._virtualEditable.destroy()},o.refreshVirtualEditable=function(){this._virtualEditable.refresh()},o.toggleMultiSelection=function(e){this._selectionInfoStore.toggleSelect(e)},o.changeViewMode=function(e){this._componentListStore.compList.filter(function(e){return Lu.includes(e.ctype)}).forEach(function(t){t.changeViewMode(e)}),this._editorStatusStore.changeViewMode(e),this._store.changeViewMode(e),this._virtualEditable.refresh(),this._eventDispatcher.emit(u.z.DOCUMENT_VIEWPORT_RESIZED)},o.getViewMode=function(){return this._store.viewMode},o.shouldUpdateContentLength=function(){var e=this._isMaxContentLengthOptionEnabled(),t=null===this._editorStatusStore.contentTextLength;return e&&t},o.resetAvailableContentLength=function(e){if(this._isMaxContentLengthOptionEnabled()){var t=this._componentListStore.getComponentById(e);this._isTextCountTarget(t)&&t.resetAvailableContentLength()}},o.setAvailableContentLength=function(e){if(this._isMaxContentLengthOptionEnabled()){var t=this._componentListStore.getComponentById(e);if(this._isTextCountTarget(t)){var o=this._componentListStore.getContentText().length,n=t.getText().textLength,r=this._contentTextMaxLength-(o-n);this._editorStatusStore.setContentTextLength(o),t.setAvailableContentLength(r)}}},o._isMaxContentLengthOptionEnabled=function(){return!Number.isNaN(this._contentTextMaxLength)&&Number.isFinite(this._contentTextMaxLength)},o._isTextCountTarget=function(e){return u.s.includes(e.ctype)},t}(u.f),Nu=Eu,xu=Nu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/service/index.js",localName:t}})}catch(e){}}e(Lu,"VIEW_MODE_RELATED_TYPES"),e(Eu,"CanvasLayoutService"),e(Nu,"default")}();var Du=u.H.extend({name:"CanvasLayout",view:Tu,useCase:au,service:xu,store:Ul}),Ru=Du,Au=Ru;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/index.js",localName:t}})}catch(e){}}e(Du,"CanvasLayout"),e(Ru,"default")}();var Mu,Bu,Uu,Vu,Fu,zu=function(e){function t(){var t;return(t=e.call(this)||this)._headerLayoutService=u.V.get("headerLayoutService"),t}return h()(t,e),t.prototype.enableSticky=function(){this._headerLayoutService.enableSticky()},t}(u.m),Wu=zu,Gu=Wu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(zu,"HeaderLayoutUseCase"),e(Wu,"default")}();var Hu=(Mu=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,z()(t,"_sticky",Bu,G()(t)),z()(t,"_editorFocused",Uu,G()(t)),z()(t,"_documentTitleFocused",Vu,G()(t)),z()(t,"_viewMode",Fu,G()(t)),t}h()(t,e);var o=t.prototype;return o.enableSticky=function(){this._sticky=!0},o.updateFocusedCanvas=function(e){this._editorFocused=e},o.updateDocumentTitleFocused=function(e){this._documentTitleFocused=e},o.changeViewMode=function(e){this._viewMode=e},Ye()(t,[{key:"sticky",get:function(){return this._sticky}},{key:"visible",get:function(){return!this._sticky||this._editorFocused&&!1===this._documentTitleFocused}},{key:"viewMode",get:function(){return this._viewMode}}]),t}(u.w),Bu=q()(Mu.prototype,"_sticky",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Uu=q()(Mu.prototype,"_editorFocused",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vu=q()(Mu.prototype,"_documentTitleFocused",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fu=q()(Mu.prototype,"_viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.T.VIEW_MODE_PC}}),q()(Mu.prototype,"sticky",[K.e],Object.getOwnPropertyDescriptor(Mu.prototype,"sticky"),Mu.prototype),q()(Mu.prototype,"visible",[K.e],Object.getOwnPropertyDescriptor(Mu.prototype,"visible"),Mu.prototype),q()(Mu.prototype,"viewMode",[K.e],Object.getOwnPropertyDescriptor(Mu.prototype,"viewMode"),Mu.prototype),Mu),qu=Hu,Ju=qu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/store/index.js",localName:t}})}catch(e){}}e(Hu,"HeaderLayoutStore"),e(qu,"default")}();var Ku=o(250),Yu=window.CSS&&CSS.supports&&CSS.supports("position","sticky"),Xu=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={fixed:!1},o._ref=K.b.createRef(),o._titleHeight=0,o._headerHeight=0,o._fixedTop=0,o._fixedPosition=null,o.props.useCase.enableSticky(),o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this,t=u.V.get("domAccessor").getScrollTarget(window);this._handleScroll=this._onScroll.bind(this),this._scrollArea=t===document.body?window:t,this._scrollArea&&this._scrollArea.addEventListener("scroll",this._handleScroll),this._titleResizeObserver=new Ku.default(function(t){var o=t[0].contentRect.height;e._titleHeight!==o&&(e._titleHeight=o,e._updateHeaderTop())}),this._headerResizeObserver=new Ku.default(function(t){var o=t[0].contentRect.height;e._headerHeight!==o&&(e._headerHeight=o,e._updateHeaderTop())}),this._headerResizeObserver.observe(this._ref.current),this._fixedTop=this._calculateFixedTop(),Yu||this.props.layoutType!==u.I.EMBED||(this._fixedPosition="absolute")},o.componentWillUnmount=function(){this._scrollArea&&this._scrollArea.removeEventListener("scroll",this._handleScroll),this._headerResizeObserver&&this._headerResizeObserver.disconnect(),this._titleResizeObserver&&this._titleResizeObserver.disconnect()},o.render=function(){var e=this.state.fixed,t=this.props,o=t.children,n=t.editorType,r=t.store,i=r.viewMode,a=r.visible,s=K.b.Children.map(o,function(e){return e&&K.b.cloneElement(e,{viewMode:i})}),c=We()("se-header","se-header-type-"+n,"se-header-sticky",{"se-is-fixed":e,"se-l-header-mobile":i===u.T.VIEW_MODE_MOBILE,"se-l-header-tablet":[u.T.VIEW_MODE_PC,u.T.VIEW_MODE_TABLET].includes(i),"se-l-header-desktop":i===u.T.VIEW_MODE_PC}),l={position:e?this._fixedPosition:null,top:e?this._fixedTop:this._getHeaderTopFromContents(),visibility:a?"visible":"hidden"};return K.b.createElement("header",{className:c,style:l,ref:this._ref},s)},o._updateHeaderTop=function(){if(!this.state.fixed){var e=this.props.outsideScroll,t=this._getHeaderTopFromContents(),o=e?t:t-this._getScrollTop();this._ref.current.style.top=o+"px"}},o._getDocumentTitleElement=function(){return this._documentTitle&&this._documentTitle.parentNode||(this._documentTitle&&this._titleResizeObserver.unobserve(this._documentTitle),this._documentTitle=u.V.get("domAccessor").querySelector(".se-documentTitle"),this._documentTitle&&this._titleResizeObserver.observe(this._documentTitle)),this._documentTitle},o._getDocumentTitleHeight=function(){var e=this._getDocumentTitleElement();if(e){var t=getComputedStyle(e),o=parseInt(t.marginTop,10)||0,n=parseInt(t.marginBottom,10)||0;return e.offsetHeight+o+n}return 0},o._getScrollTop=function(){return this._scrollArea.scrollTop||this._scrollArea.pageYOffset||0},o._getHeaderTopFromContents=function(){return this._getDocumentTitleHeight()-this._headerHeight},o._onScroll=function(){var e=this._getScrollTop(),t=this._getHeaderTopFromContents()-e,o=t<=0;this.state.fixed!==o&&this.setState({fixed:o}),o?this._ref.current.style.top=this._fixedTop+"px":this.props.outsideScroll||(this._ref.current.style.top=t+"px")},o._calculateFixedTop=function(){return this.props.layoutType===u.I.EMBED?0:u.V.get("domAccessor").getRootContainer().offsetTop||0},t}(K.b.Component);Xu.defaultProps={children:null,editorType:u.y.BASIC,layoutType:u.I.FULL_SCREEN,outsideScroll:!1},Xu.propTypes={store:K.a.instanceOf(Ju).isRequired,useCase:K.a.instanceOf(Gu).isRequired,children:K.a.oneOfType([K.a.array,K.a.element]),editorType:K.a.string,layoutType:K.a.string,outsideScroll:K.a.bool};var Qu=Xu,Zu=Qu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/view/sticky-header-layout-view.jsx",localName:t}})}catch(e){}}e(Yu,"STICKY_SUPPORTED"),e(Xu,"StickyHeaderLayoutView"),e(Qu,"default")}();var $u=function(e){function t(t){var o;return(o=e.call(this,t)||this)._ref=K.b.createRef(),o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this;this._timer=setTimeout(function(){e._ref.current&&e._ref.current.classList.remove("se-header-interaction")},400)},o.componentWillUnmount=function(){this._timer&&clearTimeout(this._timer)},o.render=function(){var e=this.props,t=e.children,o=e.editorType,n=We()("se-header","se-header-interaction","se-header-type-"+o);return K.b.createElement("header",{className:n,ref:this._ref},t)},t}(K.b.Component);$u.defaultProps={i18n:function(e){return e},children:null,editorType:u.y.BASIC},$u.propTypes={store:K.a.instanceOf(Ju).isRequired,useCase:K.a.instanceOf(Gu).isRequired,i18n:K.a.func,children:K.a.oneOfType([K.a.array,K.a.element]),editorType:K.a.string};var ep=function(e){var t=e.sticky,o=Object(Z.b)(t?Zu:$u);return K.b.createElement(o,e)},tp=ep;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/view/index.jsx",localName:t}})}catch(e){}}e($u,"HeaderLayoutView"),e(ep,"CompositeHeaderLayoutView"),e(tp,"default")}();var op,np=o(83),rp=(op=function(e){function t(t){var o;return(o=e.call(this,t)||this)._componentListStore=u.V.get("componentListStore"),o._selectionInfoStore=u.V.get("selectionInfoStore"),o._virtualEditable=u.V.get("virtualEditable"),o._domAccessor=u.V.get("domAccessor"),o}h()(t,e);var o=t.prototype;return o.destroy=function(){this._disposerReaction&&this._disposerReaction(),this._disposerReaction=null,this._virtualEditable&&(this._virtualEditable.removeListener(u.R.FOCUS,this._handleFocus),this._virtualEditable.removeListener(u.R.BLUR,this._handleBlur))},o._handleFocus=function(){this._store.updateFocusedCanvas(!0)},o._handleBlur=function(e){var t=e.relatedTarget;!this._domAccessor.getBodyContainer().contains(t)&&this._store.updateFocusedCanvas(!1)},o._getFocusedCompId=function(){return this._selectionInfoStore.focus.compId},o._updateDocumentTitleFocused=function(e){if(this._store.sticky){var t=(this._componentListStore.getComponentById(e)||{}).ctype;this._store.updateDocumentTitleFocused("documentTitle"===t)}},o.enableSticky=function(){this._store.sticky||(this._store.enableSticky(),this._disposerReaction=K.f.reaction(this._getFocusedCompId,this._updateDocumentTitleFocused),this._virtualEditable.on(u.R.FOCUS,this._handleFocus),this._virtualEditable.on(u.R.BLUR,this._handleBlur))},o.changeViewMode=function(e){this._store.changeViewMode(e)},t}(u.f),q()(op.prototype,"_handleFocus",[np.autobind],Object.getOwnPropertyDescriptor(op.prototype,"_handleFocus"),op.prototype),q()(op.prototype,"_handleBlur",[np.autobind],Object.getOwnPropertyDescriptor(op.prototype,"_handleBlur"),op.prototype),q()(op.prototype,"_getFocusedCompId",[np.autobind],Object.getOwnPropertyDescriptor(op.prototype,"_getFocusedCompId"),op.prototype),q()(op.prototype,"_updateDocumentTitleFocused",[np.autobind],Object.getOwnPropertyDescriptor(op.prototype,"_updateDocumentTitleFocused"),op.prototype),op),ip=rp,ap=ip;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/service/index.js",localName:t}})}catch(e){}}e(rp,"HeaderLayoutService"),e(ip,"default")}();var sp=u.H.extend({name:"HeaderLayout",view:ep,useCase:Gu,service:ap,store:Ju}),cp=sp,lp=cp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/index.js",localName:t}})}catch(e){}}e(sp,"HeaderLayout"),e(cp,"default")}();var up=o(97),pp=function(){function e(){}var t=e.prototype;return t.cloneCompList=function(e){var t=[];return e.forEach(function(e){t.push(e.cloneComponent())}),t},t.createParagraphInfoList=function(e){var t=[];return e.forEach(function(e){e.getTextUnits().forEach(function(o){o.forEach(function(n){if(!n.isEmpty()){var r=[];n.nodes.forEach(function(e){"textNode"===e.ctype?r.push(e.value):r.push("\t")});var i={value:r.join(""),compId:e.id,unitId:o.id,paraId:n.id};t.push(i)}})})}),t},t.getPlainText=function(e){var t="";return e.forEach(function(e){t+=e.value,t+="\n"}),t},t.matchCheckResultWithParagraphList=function(e,t){var o=[],n=t.length,r=0,i=0;return e.forEach(function(e){e.id=u.ab.generate(),e.excluded=!1,e.corrected=!1;for(var a=r;a<n;a++){var s=t[a],c=s.value,l=e.errata,p=c.indexOf(l,i);if(p>=0){e.position={};var d=e.position;Object.assign(d,s),delete d.value,d.startOffset=p,d.endOffset=p+l.length,i=d.endOffset,r=a;break}i=0}e.position&&o.push(e)}),o},e}(),dp=pp,hp=dp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/service/spell-check-data-controller.js",localName:t}})}catch(e){}}e(pp,"SpellCheckDataController"),e(dp,"default")}();var fp=function(e){function t(t){var o;return(o=e.call(this)||this)._store=t,o._componentListStore=u.V.get("componentListStore"),o._editorStatusStore=u.V.get("editorStatusStore"),o._virtualEditable=u.V.get("virtualEditable"),o._canvasScrollingService=u.V.get("canvasScrollingService"),o._dragAndDropService=u.V.get("dragAndDropService"),o._hotkeyBinder=u.V.get("hotkeyBinder"),o._spellChecker=u.V.get("spellChecker"),o._dataController=new hp,o}h()(t,e);var o=t.prototype;return o.startSpellCheck=function(e){var t=this._dataController.cloneCompList(this._componentListStore),o=this._dataController.createParagraphInfoList(t),n=this._dataController.matchCheckResultWithParagraphList(e,o);this._enterSpellCheck(t,n)},o.getResultSpellCheck=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._dataController.getPlainText(t),e.next=3,this._spellChecker.request(o);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.checkAgain=function(e,t){var o=t.spellCheckList;this._mergeCheckList(o,e);var n=o.filter(function(e){return!1===e.corrected&&!1===e.excluded}).length>0;return n&&this._store.selectFirstErrata(),n},o.getParagraphList=function(e){e||(e=this._componentListStore);var t=this._dataController.cloneCompList(e);return this._dataController.createParagraphInfoList(t)},o._mergeCheckList=function(e,t){var o=e.length,n=0;t.forEach(function(t){for(var r=n;r<o;r++){var i=e[r];if(i.corrected&&i.correctInfo.term===t.errata)return delete i.correctInfo,i.corrected=!1,i.errata=t.errata,i.suggests=t.suggests,void(n=r)}})},o._enterSpellCheck=function(e,t){this._editorStatusStore.startReadOnly(),this._canvasScrollingService.hideWindowScroll(),this._virtualEditable.disable(),this._hotkeyBinder.pause(),this._dragAndDropService.disable(),this._store.enterSpellCheck({spellCheckDocument:e,spellCheckList:t})},o._leaveSpellCheck=function(){this._editorStatusStore.finishReadOnly(),this._store.closeSpellCheck(),this._dragAndDropService.enable(),this._hotkeyBinder.unpause(),this._virtualEditable.enable(),this._virtualEditable.refresh(),this._canvasScrollingService.restoreWindowScroll()},o.confirmSpellCheck=function(e){var t=this,o=e.spellCheckList,n=e.spellCheckDocument;o.forEach(function(e){var o=e.corrected,r=e.position;if(!1!==o){var i=t._findParagraph(n,r);t._findParagraph(t._componentListStore.compList,r).replaceAllNodes(i.nodes)}}),this._leaveSpellCheck()},o._findParagraph=function(e,t){var o=t.compId,n=t.unitId,r=t.paraId,i=Object(up.a)(e,{id:o}).getTextUnits(),a=Object(up.a)(i,{id:n}).getParagraphById(r);return a.refine(),a},o.cancelSpellCheck=function(){this._leaveSpellCheck()},o.togglePopup=function(e){this._store.togglePopup(e)},o.correctAll=function(){this._store.correctAll(),this._store.checkTargetList.length>0&&this._store.selectFirstErrata()},t}(u.f),mp=fp,gp=mp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/service/index.js",localName:t}})}catch(e){}}e(fp,"SpellCheckLayoutService"),e(mp,"default")}();var yp=o(255),bp=o(376),_p=u.H.extend({name:"SpellCheckLayout",view:Object(p.a)({Loader:function(){return o.e(37).then(o.bind(null,1258))}}),service:gp,store:yp.a,useCase:bp.a}),vp=_p,Cp=vp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/index.js",localName:t}})}catch(e){}}e(_p,"SpellCheckLayout"),e(vp,"default")}();var Op=o(377),Sp=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.open()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(u.d),kp=Sp,Ip=kp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/service/index.js",localName:t}})}catch(e){}}e(Sp,"VideoUploadLayerService"),e(kp,"default")}();var wp=o(378),Pp=u.G.extend({name:"VideoUploadLayer",view:Object(p.a)({Loader:function(){return o.e(38).then(o.bind(null,1224))},preload:!0}),useCase:Op.a,service:Ip,store:wp.a}),jp=Pp,Tp=jp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/index.js",localName:t}})}catch(e){}}e(Pp,"VideoUploadLayer"),e(jp,"default")}();var Lp=o(285),Ep=o(147),Np=function(e){function t(t){var o;return(o=e.call(this,t)||this)._componentFactory=u.V.get("componentFactory"),o._canvasScrollingService=u.V.get("canvasScrollingService"),o}h()(t,e);var o=t.prototype;return o.open=function(e){this._canvasScrollingService.hideWindowScroll(),this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit(),this._canvasScrollingService.restoreWindowScroll()},o.changeLayout=function(e){this._store.changeLayout(e)},o.updateImages=function(e){this._store.updateImages(e)},o.reorderImages=function(e){this._store.reorderImages(e)},o.getCurrentOrderLayerStore=function(){return this._store},o.getImages=function(){return this._store.getImages()},o.getEditableImage=function(){return this.getImages().map(function(e){return{id:e.id,type:"image",images:[e]}})},o.getUnitsAsImageCompStores=function(){return this._store.getUnitsAsImageCompStores()},o.deleteImage=function(e){this._store.deleteImage(e)},o.changeImageUnitToShell=function(e){this._store.changeImage(e,{phase:u.N.PROCESSING,internalResource:!0,path:""})},o.replaceImageFromData=function(e){var t=this._store.images,o=t.findIndex(function(t){return t.id===e.id}),n=this._convertToCompData(e);t[o]=this._componentFactory.createComponentWithCompData(n)},o.replaceImage=function(e){var t=this._store.images;t[t.findIndex(function(t){return t.id===e.id})]=e},o.applyEditedImages=function(e){var t=this._store.images,o=e.map(function(e){var o=t.find(function(t){return t.id===e.key});return o.applyEditedImage(e),o});this.updateImages(o)},o._convertToCompData=function(e){var t=e.fileName,o=e.fileSize,n=e.width,r=e.height;return{ctype:"image",fileName:t,alt:t,fileSize:+o,width:+n,height:+r,originalWidth:+n,originalHeight:+r,path:e.url,location:null,place:null,format:e.animatedCnt>1?u.C.ANIMATED:u.C.NORMAL,internalResource:!0,phase:u.N.DONE}},o.adjustImageGroupRatio=function(e){this._store.adjustImageGroupRatio(e)},o.updatePhase=function(e,t){e.setState({phase:t})},o.updateImageSize=function(e,t,o){e.updateImageSize(t,o)},t}(u.d),xp=Np,Dp=xp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/service/index.js",localName:t}})}catch(e){}}e(Np,"ImageGroupOrderLayerService"),e(xp,"default")}();var Rp=o(148),Ap=u.G.extend({name:"ImageGroupOrderLayer",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(47)]).then(o.bind(null,1247))}}),useCase:Ep.a,service:Dp,store:Rp.a,setting:{config:{},state:{}}}),Mp=Ap,Bp=Mp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/index.js",localName:t}})}catch(e){}}e(Ap,"ImageGroupOrderLayer"),e(Mp,"default")}();var Up=o(379),Vp=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.openLayer=function(e,t){this._store.openLayer(),this.setLayerKey(e),this.setLayerTitle(t)},o.closeLayer=function(){this._store.closeLayer()},o.toggleLayer=function(){return this._store.isLayerOpen?this._store.closeLayer():this._store.openLayer(),this._store.isLayerOpen},o.setLayerKey=function(e){this._store.setLayerKey(e)},o.setLayerTitle=function(e){this._store.setLayerTitle(e)},t}(u.f),Fp=Vp,zp=Fp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(Vp,"HelpPanelLayoutService"),e(Fp,"default")}();var Wp=o(380),Gp=u.H.extend({name:"HelpPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(71),o.e(39)]).then(o.bind(null,1244))}}),useCase:Up.a,service:zp,store:Wp.a,setting:{config:{},state:{}}}),Hp=Gp,qp=Hp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/index.js",localName:t}})}catch(e){}}e(Gp,"HelpPanelLayout"),e(Hp,"default")}();var Jp=o(438),Kp=o(683),Yp=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){this._store.open(e)},o.close=function(){this._store.close()},o.saveAsCurrentFile=function(){Object(Kp.a)(this._store.saveAsUrl)},t}(u.d),Xp=Yp,Qp=Xp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/service/index.js",localName:t}})}catch(e){}}e(Yp,"ContextmenuLayerService"),e(Xp,"default")}();var Zp=o(381),$p=u.G.extend({name:"ContextmenuLayer",view:Object(p.a)({Loader:function(){return o.e(40).then(o.bind(null,1225))}}),useCase:Jp.a,service:Qp,store:Zp.a}),ed=$p,td=ed;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/index.js",localName:t}})}catch(e){}}e($p,"ContextmenuLayer"),e(ed,"default")}();var od=o(382),nd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._store.opened||(this._pauseDocumentEdit(),this._store.open())},o.close=function(){this._store.opened&&(this._store.close(),this._unpauseDocumentEdit())},o.toggleLayer=function(){this._store.opened?this.close():this.open()},t}(u.d),rd=nd,id=rd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/service/index.js",localName:t}})}catch(e){}}e(nd,"A11yHelpLayerService"),e(rd,"default")}();var ad=o(383),sd=u.G.extend({name:"A11yHelpLayer",view:Object(p.a)({Loader:function(){return o.e(41).then(o.bind(null,1226))}}),useCase:od.a,service:id,store:ad.a}),cd=sd,ld=cd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/index.js",localName:t}})}catch(e){}}e(sd,"A11yHelpLayer"),e(cd,"default")}();var ud=o(384),pd=function(){function e(e){this._config=e}var t=e.prototype;return t.convert=function(){throw new Error("[ERROR]      .")},t._makeThumbnailInfo=function(e){return e?new Promise(function(t){var o=new Image;o.onload=function(o){var n=o.currentTarget;t({ctype:"thumbnail",src:e,width:n.width,height:n.height})},o.onerror=function(){t(null)},o.src=Xt.a.makeDthumbHttpsUrl(e)}):null},t._modifyPeopleInfo=function(e){var t=this;return Object(Kt.a)(e,function(e){return t._restoreSpecialChar(Object(J.a)(e,"name")||e)})},t._restoreSpecialChar=function(e){return Yt.a.restoreSpecialChar(e)},t._formatWithComma=function(e){return Yt.a.formatWithComma(e)},e}(),dd=pd,hd=dd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/abstract-data-converter.js",localName:t}})}catch(e){}}e(pd,"AbstractDataConverter"),e(dd,"default")}();var fd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t,o,n,r){var i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._resolveThumbnailUrl=function(e){return Object(no.a)(Object(ro.a)(Object(io.a)(e,["binThumbnail2","bigThumbnail","thumbnail"])))},o._makeMaterialInfo=function(e){var t=e.title,o=e.author;return{title:this._restoreSpecialChar(t),description:" : "+("string"==typeof o?this._restoreSpecialChar(o.replace(/\|/gi,", ").replace(/ $/gi,"")):"")+"   : "+this._restoreSpecialChar(e.publisher),url:e.linkUrl}},t}(hd),md=fd,gd=md;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/book-data-converter.js",localName:t}})}catch(e){}}e(fd,"BookDataConverter"),e(md,"default")}();var yd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t,o,n,r){var i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"imageUrls.poster.url",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.titles.korean),description:" : "+this._modifyPeopleInfo(e.directors.directors)+"   : "+this._modifyPeopleInfo(e.actors.actors),url:e.destinationUrl}},t}(hd),bd=yd,_d=bd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/movie-data-converter.js",localName:t}})}catch(e){}}e(yd,"MovieDataConverter"),e(bd,"default")}();var vd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t,o,n,r){var i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"image",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.title),description:" : "+this._modifyPeopleInfo(e.producer)+"   : "+this._modifyPeopleInfo(e.guest),url:e.url}},t}(hd),Cd=vd,Od=Cd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/tv-data-converter.js",localName:t}})}catch(e){}}e(vd,"TVDataConverter"),e(Cd,"default")}();var Sd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t,o,n,r){var i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"albumImg",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.title),description:" : "+this._restoreSpecialChar(e.artist.replace(//gi,", ")),url:e.albumUrl}},t}(hd),kd=Sd,Id=kd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/music-data-converter.js",localName:t}})}catch(e){}}e(Sd,"MusicDataConverter"),e(kd,"default")}();var wd=[[null,1,10,7,4,1,1,1,1],[null,2,11,8,5,2,2,2,2],[null,3,12,9,6,3,3,3,3]],Pd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t,o,n,r){var i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.productTitle),o=this._convertToGoodsType(e.mpTp,e.prodTp),n=this._makeLink(o,e),r=this._formatWithComma(e.price),i=this._isCompareProduct(o)?" "+r+"":e.mallNameOrg;return{title:t,description:this._restoreSpecialChar(i),url:n}},o._makeLink=function(e,t){var o=this._isCompareProduct(e);return t.mallProductUrl?t.mallProductUrl:!0===o?"https://search.shopping.naver.com/catalog/"+t.id+"?section=price":"https://search.shopping.naver.com/catalog/"+t.id},o._convertToGoodsType=function(e,t){var o=wd[e];return o?o[t]:null},o._isCompareProduct=function(e){return Object(vo.a)([1,4],e)},t}(hd),jd=Pd,Td=jd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/shopping-data-converter.js",localName:t}})}catch(e){}}e(wd,"GOODS_TYPE_MAPPING"),e(Pd,"ShoppingDataConverter"),e(jd,"default")}();var Ld=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t,o,n,r){var i,a,s,c;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchNewsDetail(t);case 2:return i=e.sent,a=this._resolveThumbnailUrl(i),e.next=6,this._makeThumbnailInfo(a);case 6:return s=e.sent,c=this._makeMaterialInfo(i),s&&(c.thumbnail=s),c.iconType=o,c.provider=n,c.categoryId=r,e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._resolveThumbnailUrl=function(e){return Object(no.a)(Object(ro.a)(Object(io.a)(e,["images[0].url","images.image[0].url","images.image.url"])))},o._fetchNewsDetail=function(e){return Io.a.get(this._config.newsDetailAPI,{params:{oid:e.officeId||e.subId,aid:e.articleId||e.dataId},success:function(e){return Object(J.a)(e,"items[0]")}})},o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.title),description:this._restoreSpecialChar(e.officeHname),url:e.orgUrl}},t}(hd),Ed=Ld,Nd=Ed;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/news-data-converter.js",localName:t}})}catch(e){}}e(Ld,"NewsDataConverter"),e(Ed,"default")}();var xd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Ft()(Ut.a.mark(function e(t,o,n,r){var i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){var t=this._resolveDatas(e);return{title:t.title,description:" : "+t.genre+"   : "+t.period,url:t.link}},o._checkExhibition=function(e){return"269"!==e.searchLinkParameter.pkid},o._resolveDatas=function(e){var t=e.rendingUrl,o=e.formattedPeriod,n=this._checkExhibition(e);return{title:n?e.name:e.title,genre:n?"":e.majorGenreName,period:o,link:t}},t}(hd),Dd=xd,Rd=Dd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/show-data-converter.js",localName:t}})}catch(e){}}e(xd,"ShowDataConverter"),e(Dd,"default")}();var Ad,Md={book:gd,movie:_d,broadcast:Od,music:Id,shopping:Td,news:Nd,show:Rd},Bd=Md;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/index.js",localName:t}})}catch(e){}}(Md,"default")}();var Ud=(Ad=function(e){function t(t){var o;(o=e.call(this,t)||this)._store=t;var n=u.V.get("configAgent").get("apiInfo"),r=o._store.category,i=r.additionalCategories,a=r.categorySet;return o._additionalCategories=i,o._categorySet=a,o._searchDataManager=o._initializeSearchDataManager(n),o._dataConverter=o._initializeDataConverter(n),o}h()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.setIsUrl=function(e){void 0===e&&(e=!0),this._store.setIsUrl(e)},o.setLoadingState=function(e){void 0===e&&(e=!1),this._store.setLoadingState(e)},o.search=function(e){void 0===e&&(e={}),this.clearSearchResult(),this.setLoadingState(!0),this._store.isFetchNextPageError=!1,this._store.isDefaultSet?this._searchDefaultCategory(e):this._search(e)},o.updateCrawledResult=function(e,t){if(!e||"image"===e.ctype){return this.setLoadingState(!1),void this._store.updateSearchResult({searchItems:[],totalCount:0,totalPage:0})}var o=e.ctype,n=e.title,r=e.description,i=e.thumbnail,a=e.thumbnailUrl,s=e.inputUrl,c=e.url,l="oembed"===o,u=i&&i.src||"",p={searchItems:[{title:n,description:r,url:l?s:c,thumbnail:{src:l?a:u},iconType:"normal",provider:this._store.getProvider(),categoryId:"web-url"}],totalCount:1,totalPage:1};this.updateKeyword(t),this.setLoadingState(!1),this.clearSearchResult(),this._store.updateSearchResult(p)},o._updateSubCategory=function(e){var t=this._getCategoriesByTabId(e);this._store.updateSubCategory(t.subCategories)},o.changeTab=function(e,t){t&&(this._store.tags=[]);var o=e?this._getTabIndexById(e):0;this._store.changeTabIndex(o),this._updateSubCategory(e),this.search()},o.changeSubCategory=function(e,t){t&&(this._store.tags=[]),this.clearSearchResult(),this._store.changeSubCategory(e),this.search({subCategoryIndex:e})},o.checkOnlyUrlTags=function(){for(var e=this._store.plainTagItem,t=0;t<e.length;t++){if("web-url"!==e[t].links[0].categoryId)return!1}return!0},o.checkAddibleTag=function(e){return!!this._store.allowTagOverlap||!this.getTags().some(function(t){return t.links[0].url===e})},o.addNewTag=function(e){Object.assign(e,{ctype:"mediaTag"}),Object.assign(e.point,{ctype:"point"}),e.links.forEach(function(e){Object.assign(e,{ctype:"mediaTagLink"}),Object.assign(e.thumbnail,{ctype:"thumbnail"})}),this._store.setIsUrl(!1),this._store.addNewTag(e),this._updateLastUsedCategory(),this.updateKeyword("")},o._updateLastUsedCategory=function(){var e=this._store,t=e.currentTabIndex,o=e.currentSubCategoryIndex;this._store.updateLastUsedCategory(t,o)},o.delTag=function(e){this._store.delTag(e)},o.updateTag=function(e,t){this._store.updateTag(e,t)},o.isFullTagItems=function(){return this._store.tags.length>=this._store.maxTagItems},o.clearSearchResult=function(){this._store.clearSearchResult()},o.clearSearchLayer=function(){this._store.clearSearchKeyword(),this._store.clearSearchResult()},o.clearSearchKeyword=function(){this._store.clearSearchKeyword()},o.updateKeyword=function(e){this._store.updateKeyword(e)},o.updatePinPoint=function(e){var t=e.dragTarget,o=e.x,n=e.y,r=Number(t.dataset.tagindex);this._store.updatePinPoint(r,o,n)},o.nextPage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setLoadingState(!0),t=this._store.currentPage,o=t+1,!this._store.isDefaultSet){e.next=12;break}return e.next=7,this._searchDataManager.nextPage();case 7:n=e.sent,this._store.setCurrentPage(o),this._searchSuccess(n),e.next=13;break;case 12:this._search({page:o});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.getAllowUrlAttach=function(){return this._store.allowUrlAttach},o.getTabIdByIndex=function(e){return this._store.getTabIdByIndex(e)},o.getTabLabelByIndex=function(e){return this._store.getTabLabelByIndex(e)},o.getTags=function(){return this._store.plainTagItem},o.getPreservedTag=function(){return this._store.preservedTags},o.getCompId=function(){return this._store.imageCompId},o.getDuplicateConfig=function(){return this._store.duplicateConfig},o.getCurrentTabIndex=function(){return this._store.currentTabIndex},o.getcurrentSubCategoryIndex=function(){return this._store.currentSubCategoryIndex},o._getTabIndexById=function(e){return this._store.getTabIndexById(e)},o._getSearchKeyword=function(){return this._store.keyword},o._getCurrentPage=function(){return this._store.currentPage},o._getCategoriesByTabId=function(e){var t=this._additionalCategories.find(function(t){return t.id===e});return{category:t,subCategories:t.subCategories}},o._getSearchAPI=function(e){void 0===e&&(e={});var t=this._store,o=t.currentTabIndex,n=t.currentSubCategoryIndex,r=void 0===n?0:n,i=this._categorySet[o],a=this._getCategoriesByTabId(i);if(a.category.api)return a.category.api;var s=e.subCategoryIndex||r;return a.subCategories[s].api},o._searchDefaultCategory=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s,c;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._store.getCurrentCategoryIdByIndex(),n=t.keyword||this._getSearchKeyword(),r=t.page||this._getCurrentPage(),i=o.replace("material-",""),a={size:10},s=10*r+1,this._store.updateKeyword(n),Object.assign(a,{keyword:n}),this._store.updateCurrentPage(r),Object.assign(a,{s:s}),e.prev=10,e.next=13,this._searchDataManager.search(i,a);case 13:c=e.sent,this._searchSuccess(c),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(10),e.abrupt("return",this.searchFail(e.t0));case 20:case"end":return e.stop()}},e,this,[[10,17]])}));return function(t){return e.apply(this,arguments)}}(),o._search=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.keyword||this._getSearchKeyword(),n=t.page||this._getCurrentPage(),r={size:10},this._store.updateKeyword(o),Object.assign(r,{keyword:o}),this._store.updateCurrentPage(n),Object.assign(r,{page:n}),i=this._getSearchAPI(t),Object.assign(r,{api:i}),e.next=11,Io.a.get(r.api,{params:{q:r.keyword,size:r.size,page:r.page},options:{query:r.keyword},success:this._searchSuccess,error:this.searchFail});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._searchSuccess=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,this._resultToTagData(t);case 3:o=e.sent,this._store.updateSearchResult({searchItems:o.items,totalCount:o.totalCount,totalPage:o.totalPage}),e.next=8;break;case 7:console.warn("The search results are empty.");case 8:this._store.isFetchNextPageError=!1,this.setLoadingState(!1);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.searchFail=function(){this._store.isFetchNextPageError=!0},o._resultToTagData=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._store.isDefaultSet,n=o?this._formatMaterialData(t):this._formatCustomData(t),!o){e.next=8;break}return e.next=5,this._materialToTag(t.items);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=this._customSearchToTag(t.items);case 9:return r=e.t0,Object.assign(n,{items:r}),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._formatCustomData=function(e){return{totalCount:e.totalCount,totalPage:e.totalPage,page:e.page,size:e.size}},o._formatMaterialData=function(e){var t=e.total,o=e.count,n=e.next;return{totalCount:t,totalPage:Math.ceil(t/10),page:Math.floor(n.s/10),size:o}},o._customSearchToTag=function(e){var t=this._store.getCurrentCategoryIdByIndex(),o=this._store.getIconType(t),n=this._store.getProvider();return e.map(function(e){return{id:e.id,title:e.title,description:e.description,url:e.url,thumbnail:{src:e.thumbnail},iconType:o,provider:n,categoryId:t,meta:e.meta}})},o._materialToTag=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._store.getCurrentCategoryIdByIndex(),n=this._store.getIconType(o),r=this._store.getProvider(),i=this._dataConverter[o],e.next=6,t.map(function(e){return i.convert(e,n,r,o)});case 6:return a=e.sent,e.abrupt("return",Promise.all(a));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.getTagChanged=function(){return JSON.stringify(this._store.preservedTags)!==JSON.stringify(this._store.plainTagItem)},o._initializeSearchDataManager=function(e){return new Nn({book:{API:{SEARCH:e.fetchBooks},fetchCount:10},movie:{API:{SEARCH:e.fetchMovies},fetchCount:10},broadcast:{API:{SEARCH:e.fetchBroadcasts},fetchCount:10},music:{API:{SEARCH:e.fetchMusics},fetchCount:10},shopping:{API:{SEARCH:e.fetchShoppingItems},fetchCount:10},news:{API:{SEARCH:e.fetchNews,NEWS_DETAIL:e.fetchNewsDetail},fetchCount:10},show:{API:{SEARCH:e.fetchShows},fetchCount:10}})},o._initializeDataConverter=function(e){var t=Bd.movie,o=Bd.broadcast,n=Bd.music,r=Bd.shopping,i=Bd.news,a=Bd.show;return{"material-book":new(0,Bd.book),"material-movie":new t,"material-broadcast":new o,"material-music":new n,"material-shopping":new r,"material-news":new i({newsDetailAPI:e.fetchNewsDetail}),"material-show":new a}},t}(u.d),q()(Ad.prototype,"_searchSuccess",[ee.autobind],Object.getOwnPropertyDescriptor(Ad.prototype,"_searchSuccess"),Ad.prototype),q()(Ad.prototype,"searchFail",[ee.autobind],Object.getOwnPropertyDescriptor(Ad.prototype,"searchFail"),Ad.prototype),Ad);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/service/index.js",localName:t}})}catch(e){}}e(10,"PAGE_SIZE"),e(Ud,"ImageTagLayerService")}();var Vd=o(443),Fd=u.G.extend({name:"ImageTagLayer",view:Object(p.a)({Loader:function(){return o.e(42).then(o.bind(null,1248))}}),useCase:ud.a,service:Ud,store:Vd.a}),zd=Fd,Wd=zd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/index.js",localName:t}})}catch(e){}}e(Fd,"ImageTagLayer"),e(zd,"default")}();var Gd,Hd=o(400),qd={default:"ko",en:"ko",ko:"en"},Jd=(Gd=function(e){function t(t){var o;(o=e.call(this,t)||this)._selectionInfoStore=u.V.get("selectionInfoStore"),o._virtualEditable=u.V.get("virtualEditable"),o._configAgent=u.V.get("configAgent"),o._translateAPI=o._configAgent.get("apiInfo").fetchTranslate;var n=(o._language||"").split("-")[0];if(n===o._store.toCode){var r=qd[n]||qd.default;o._updateStore("","",r,n)}return o}h()(t,e);var o=t.prototype;return o.open=function(){var e=Ft()(Ut.a.mark(function e(t,o,n){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=this._store.toCode),void 0===n&&(n="auto"),this._pauseDocumentEdit(),e.next=5,this._translate(t,o,n);case 5:this._open();case 6:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.setDetectionMode=function(e){this._store.setDetectionMode(e)},o.setLoadingState=function(e){this._store.loading=e},o.translate=function(e,t,o){void 0===e&&(e=this._store.sourceText),void 0===t&&(t=this._store.toCode),void 0===o&&(o=this._store.fromCode),this.setLoadingState(!0),this._translate(e,t,o)},o._translate=function(){var e=Ft()(Ut.a.mark(function e(t,o,n){var r,i,a,s,c;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._getValidText(t),i="",a=this._store.detectionMode?"auto":n,s=o,!r){e.next=11;break}return e.next=7,this._requestTranslate(r,o,a);case 7:c=e.sent,a=c.sourceLangCode?c.sourceLangCode:a,s=c.targetLangCode?c.targetLangCode:s,i=c.translatedText;case 11:this._updateStore(i,r,s,a),this.setLoadingState(!1);case 13:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o._getValidText=function(e){var t=this._store.MAX_LENGTH,o=e;return e.length>t&&(this._store.textOvered=!0,o=e.slice(0,t)),o},o._updateStore=function(e,t,o,n){this._store.update(e,t,o,n)},o._open=function(){this._store.open()},o._requestTranslate=function(){var e=Ft()(Ut.a.mark(function e(t,o,n){var r,i,a,s,c,l;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return",{sourceLangCode:n,targetLangCode:o,translatedText:t});case 2:return r={},e.next=5,this._request(t,o,n);case 5:if(i=e.sent,this._setUnknownLangCode(!1),"N2MT05"!==i.errorCode){e.next=15;break}return o=qd[o]||qd.default,e.next=11,this._request(t,o,n);case 11:i=e.sent,r.newTargetLangCode=o,e.next=16;break;case 15:"N2MT09"===i.errorCode?i={message:{result:{translatedText:t,srcLangType:o}}}:"N2MT02"===i.errorCode&&this._setUnknownLangCode(!0);case 16:return a=i.message.result,s=a.srcLangType,c=a.translatedText,l=a.tarLangType,r.targetLangCode=l,r.sourceLangCode=s,r.translatedText=c,e.abrupt("return",r);case 21:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o._request=function(){var e=Ft()(Ut.a.mark(function e(t,o,n){var r,i,a;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||"auto",i=this._translateAPI,a=i+("?source="+r+"&target="+o),e.next=6,Io.b.post(a,{data:t,options:{withCredentials:!1,headers:{"Content-Type":"text/html"}},success:function(e){return e},error:function(e){var t=JSON.parse(e.errorDetailMessage);return{message:{result:{translatedText:"",srcLangType:r,tarLangType:o}},errorCode:t.errorCode}}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o._setUnknownLangCode=function(e){this._store.unknownLangCode=e},o.resetSourceText=function(){this._store.resetSourceText()},o.resetTextOvered=function(){this._store.textOvered=!1},o.changeSourceLangCode=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.code,n=t.fromCode,r=t.toCode,o!==n){e.next=3;break}return e.abrupt("return");case 3:if(o!==r){e.next=7;break}return e.next=6,this._exchangeLangCode();case 6:return e.abrupt("return");case 7:return i=this._store,a=i.translatedText,s=i.sourceText,this.setDetectionMode("auto"===o),this._updateStore(a,s,r,o),e.next=12,this.translate();case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.changeTargetLangCode=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.code,n=t.fromCode,r=t.toCode,o!==r){e.next=3;break}return e.abrupt("return");case 3:if(o!==n){e.next=7;break}return e.next=6,this._exchangeLangCode();case 6:return e.abrupt("return");case 7:return i=this._store,a=i.translatedText,s=i.sourceText,this._updateStore(a,s,o,n),e.next=11,this.translate();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._exchangeLangCode=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n,r,i,a;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._store,o=t.fromCode,n=t.toCode,r=qd[n]||qd.default,i="auto"===o?r:o,a=n,this.setDetectionMode(!1),e.next=7,this.translate(this.sourceText,i,a);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Ye()(t,[{key:"sourceText",get:function(){var e=this._store.sourceText;return e.length<1?"":e}}]),t}(u.d),q()(Gd.prototype,"_updateStore",[K.d],Object.getOwnPropertyDescriptor(Gd.prototype,"_updateStore"),Gd.prototype),q()(Gd.prototype,"changeSourceLangCode",[K.d],Object.getOwnPropertyDescriptor(Gd.prototype,"changeSourceLangCode"),Gd.prototype),q()(Gd.prototype,"changeTargetLangCode",[K.d],Object.getOwnPropertyDescriptor(Gd.prototype,"changeTargetLangCode"),Gd.prototype),Gd),Kd=Jd,Yd=Kd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/service/index.js",localName:t}})}catch(e){}}e(qd,"FALLBACK_LANG_CODE"),e(Jd,"TranslationLayerService"),e(Kd,"default")}();var Xd=o(401),Qd=u.G.extend({name:"TranslationLayer",view:Object(p.a)({Loader:function(){return o.e(48).then(o.bind(null,1263))}}),useCase:Hd.a,service:Yd,store:Xd.a,setting:{config:{},state:{}}}),Zd=Qd,$d=Zd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/index.js",localName:t}})}catch(e){}}e(Qd,"TranslationLayer"),e(Zd,"default")}();var eh=o(267),th=o(402),oh=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.V.get("configAgent"),o._componentFactory=u.V.get("componentFactory"),o._selectionInfoStore=u.V.get("selectionInfoStore"),o._componentListStore=u.V.get("componentListStore"),o}h()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.changeAccountId=function(e){this._store.changeAccountId(e)},o.changeBannerType=function(e){this._store.changeBannerType(e)},o.changeImage=function(e){this._store.changeImage(e)},o.createTalktalkComponent=function(){var e=this._store,t=e.bannerType,o=e.selectedAccountInfo,n=e.image,r={ctype:"talktalk",layout:t,accountId:o.accountId,profileName:o.profileName},i=this._componentFactory.createComponentWithCompData(r);return t===th.a.CUSTOM&&(i.image=this._imageDataToComp(n)),i},o.editTalktalkComponent=function(){var e=this._store,t=e.bannerType,o=e.selectedAccountInfo,n=e.image,r=this._selectionInfoStore.toValidJSON(),i=this._componentListStore.getSelectedComponents(r),a=Object(no.a)(i),s={layout:t,accountId:o.accountId,profileName:o.profileName};t===th.a.CUSTOM&&a.updateImage(this._imageDataToComp(n)),a.updateAccount(s)},o._imageDataToComp=function(e){var t=this._configAgent.get("editorInfo"),o=this._configAgent.get("infraInfo.photoInfra.imageHost");return this._componentFactory.createComponentWithCompData({ctype:"image",src:""+o+e.url+"?type="+t.thumbnailType.normal,internalResource:!0,caption:null,domain:o,path:e.path+"/"+e.fileName,displayFormat:"normal",width:parseInt(e.width,10),height:parseInt(e.height,10),fileSize:parseInt(e.fileSize,10),fileName:e.fileName})},t}(u.d),nh=oh,rh=nh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/service/index.js",localName:t}})}catch(e){}}e(oh,"TalktalkEditLayerService"),e(nh,"default")}();var ih=o(268),ah=u.G.extend({name:"TalktalkEditLayer",view:Object(p.a)({Loader:function(){return o.e(49).then(o.bind(null,1264))}}),useCase:eh.a,service:rh,store:ih.a}),sh=ah,ch=sh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/index.js",localName:t}})}catch(e){}}e(ah,"TalktalkEditLayer"),e(sh,"default")}();var lh=o(397),uh=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){var t=e.onClickChange,o=e.onClickRemove;this._store.opened||(this._onClickChange=t||function(){},this._onClickRemove=o||function(){},this._pauseDocumentEdit(),this._store.open())},o.close=function(){this._store.opened&&(this._store.close(),this._unpauseDocumentEdit())},o.change=function(){this._store.opened&&(this.close(),this._onClickChange())},o.remove=function(){this._store.opened&&(this.close(),this._onClickRemove())},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/service/index.js",localName:t}})}catch(e){}}(uh,"ImageLocationEditLayerService")}();var ph,dh,hh,fh,mh,gh,yh,bh=o(398),_h=u.G.extend({name:"ImageLocationEditLayer",view:Object(p.a)({Loader:function(){return o.e(46).then(o.bind(null,1228))}}),useCase:lh.a,service:uh,store:bh.a}),vh=_h,Ch=vh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/index.js",localName:t}})}catch(e){}}e(_h,"ImageLocationEditLayer"),e(vh,"default")}();var Oh,Sh=Object(Kt.a)(n.a,function(e){return e}),kh=(ph=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"buttonSetMap",dh,G()(o)),z()(o,"focusButtonId",hh,G()(o)),z()(o,"activeButtonId",fh,G()(o)),z()(o,"activePanelButtonId",mh,G()(o)),z()(o,"selectedButtonStates",gh,G()(o)),z()(o,"toolbarState",yh,G()(o));var n=t,r=n.config,i=void 0===r?{}:r,a=n.state,s=void 0===a?{}:a;o._pluginButtonRegistry=u.V.get("pluginButtonRegistry"),o._configAgent=u.V.get("configAgent"),o._additionalButtonsMap={},o._generateAdditionalButtonsMap(),o.activePanelButtonId=Object(J.a)(s,"activePanelButtonId",o.activePanelButtonId),o.activeButtonId=Object(J.a)(s,"activeButtonId",o.activeButtonId),o.buttonSetMap=o._rearrangeButtonSet(i);var c=o._configAgent.get("productConfig.quotation.layouts"),l=o._configAgent.get("productConfig.horizontalLine.layouts");return o.selectedButtonStates=Object(J.a)(s,"state",{"horizontal-line":l?l[0]:"default",quotation:c?c[0]:"default"}),o}h()(t,e);var o=t.prototype;return o.deactivateAllButtons=function(){this.activeButtonId=""},o.updateHorizontalSelectedValue=function(e){e&&(this.selectedButtonStates["horizontal-line"]=e)},o.updateQuotationSelectedValue=function(e){e&&(this.selectedButtonStates.quotation=e)},o.focusFirstButton=function(){this.focusButtonId=this.buttonSetMap.buttonSet[0]},o.blurFocusedButton=function(){this.focusButtonId=""},o.isFirstButton=function(e){return this.buttonSetMap.buttonSet[0]===e},o.togglePanelButton=function(e){var t=this.activePanelButtonId===e;this.activePanelButtonId=t?"":e},o.setPanelButtonEnable=function(e,t){var o=this.activePanelButtonId===e;t?this.activePanelButtonId=e:o&&(this.activePanelButtonId="")},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.updateDisplayButtonSet=function(e){var t=this.buttonSetMap.buttonSet;if(e<t.length){var o=t.slice(0,e-1),n=t.slice(o.length,t.length),r=o.concat("more-view");this.buttonSetMap.displayButtonSet=r,this.buttonSetMap.moreButtonSet=n}},o.resetDisplayButtonSet=function(){var e=this.buttonSetMap.buttonSet;this.buttonSetMap.displayButtonSet.replace(e),this.buttonSetMap.moreButtonSet=[]},o.updateToolbarState=function(e){this.toolbarState=e},o.highlight=function(e,t){if(t&&e)return $e.b.get(t,e)},o.updateAdditionalButtonOption=function(e,t,o){o&&(e.option=this._additionalButtonsMap[t])},o.updateHighlight=function(e,t){var o=t?e.option.name:e.buttonName,n=t?Je()({id:e.option.name},e.option.highlight):this._configAgent.get("productConfig.highlight"),r=this.highlight(o,n);r&&(e.highlight=r)},o.resolveButtonInfoByStates=function(e,t){var o=this.selectedButtonStates[t];return o?Je()({selectedValue:o},e,{value:Object(J.a)(this.toolbarState,e.propertyName)}):Je()({},e,{value:Object(J.a)(this.toolbarState,e.propertyName)})},o._getButtonsWithButtonSet=function(e){var t=this;return void 0===e&&(e=[]),e.reduce(function(e,o){var n=t._isAdditionalButton(o),r=t._pluginButtonRegistry.getButtonInfo({compType:"default",toolbarName:"documentToolbar",buttonName:n?"additional-button":o});return r&&(t.updateAdditionalButtonOption(r,o,n),t.updateHighlight(r,n),e.push(t.resolveButtonInfoByStates(r,o))),e},[])},o._isAdditionalButton=function(e){return Object(Ks.a)(this._additionalButtonsMap,e)},o._generateAdditionalButtonsMap=function(){var e=this;(this._configAgent.get("productConfig.documentToolbar.additionalButtons")||[]).forEach(function(t){var o=t.name;e._additionalButtonsMap[o]=t})},o._rearrangeButtonSet=function(e){var t,o=this,n=this._configAgent.get("productConfig.layoutType"),r=Object(J.a)(e,"buttonSetMap",this.buttonSetMap),i=this._configAgent.get("productConfig.documentToolbar.buttonSet"),a=this._configAgent.get("plugins.excludeComponents")||[],s=Object.keys(this._additionalButtonsMap)||[],c=i||r.buttonSet||[],l=(c=c.reduce(function(e,t){return(Sh.includes(t)||o._isAdditionalButton(t))&&e.push(t),e},[])).indexOf("separator-bar");(n===u.I.EMBED&&l>-1&&c.splice(l,1),(s=Object(va.a)(s,c,function(e,t){return-1!==e.indexOf(t)})).length>0)&&(t=c).splice.apply(t,[-1===l?c.length:l,0].concat(s));return{buttonSet:c=c.filter(function(e){return!a.some(function(t){return new RegExp(t,"i").test(e)})}),displayButtonSet:c,moreButtonSet:[]}},Ye()(t,[{key:"buttons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.displayButtonSet)}},{key:"moreButtons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.moreButtonSet)}}]),t}(u.w),dh=q()(ph.prototype,"buttonSetMap",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{buttonSet:[],displayButtonSet:[],moreButtonSet:[]}}}),hh=q()(ph.prototype,"focusButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fh=q()(ph.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mh=q()(ph.prototype,"activePanelButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),gh=q()(ph.prototype,"selectedButtonStates",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yh=q()(ph.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),q()(ph.prototype,"buttons",[K.e],Object.getOwnPropertyDescriptor(ph.prototype,"buttons"),ph.prototype),q()(ph.prototype,"moreButtons",[K.e],Object.getOwnPropertyDescriptor(ph.prototype,"moreButtons"),ph.prototype),ph),Ih=kh,wh=Ih;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(Sh,"RESERVED_BTN_NAMES"),e("additional-button","ADDITIONAL_BUTTON_NAME"),e(kh,"DocumentToolbarLayoutStore"),e(Ih,"default")}();var Ph,jh=(Oh=function(e){function t(){var t;t=e.call(this)||this;var o=u.V.get("configAgent");return t._documentToolbarLayoutService=u.V.get("documentToolbarLayoutService"),t._propertyToolbarLayoutService=u.V.get("propertyToolbarLayoutService"),t._toolbarService=u.V.get("toolbarService"),!1!==o.get("productConfig.documentToolbar")&&t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState;e._documentToolbarLayoutService.updateToolbarState(o)},"documentToolbar",{delay:1})},o.handleTab=function(e,t){e.shiftKey&&this._documentToolbarLayoutService.isFirstButton(t)&&(this._propertyToolbarLayoutService.focusLastButton(),e.preventDefault())},o.handleBlur=function(){this._documentToolbarLayoutService.blurFocusedButton()},o.toggleButton=function(e){this._propertyToolbarLayoutService.hideAllLayers(),this._documentToolbarLayoutService.toggleButton(e)},o.reflowToolbar=function(e){this._documentToolbarLayoutService.reflowToolbar(e)},t}(u.m),q()(Oh.prototype,"handleTab",[K.d],Object.getOwnPropertyDescriptor(Oh.prototype,"handleTab"),Oh.prototype),q()(Oh.prototype,"handleBlur",[K.d],Object.getOwnPropertyDescriptor(Oh.prototype,"handleBlur"),Oh.prototype),q()(Oh.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(Oh.prototype,"toggleButton"),Oh.prototype),Oh),Th=jh,Lh=Th;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(jh,"DocumentToolbarLayoutUseCase"),e(Th,"default")}();var Eh=(Ph=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=e.viewMode,r=e.isFlexible,i=t.buttons,a=t.moreButtons,s=this._resolveToolbarType(),c=We()("se-toolbar","se-document-toolbar",{"se-toolbar-flexible":r});return K.b.createElement("div",{className:"se-header-inbox se-l-document-toolbar",onBlur:this._handleBlur},K.b.createElement(He.a,{className:c,namespace:Ge.e.DOCUMENT,viewMode:n,isFlexible:r,documentToolbarIconType:s,buttons:i,moreButtons:a,logAreaId:"dot",focusButtonId:t.focusButtonId,activePanelButtonId:t.activePanelButtonId,activeButtonId:t.activeButtonId,i18n:o,onReflowToolbar:this._handleReflowToolbar,onKeyDown:this._handleKeyDown,onClickSelector:this._handleClickSelector}))},o._resolveToolbarType=function(){return!1===this.props.useDocumentToolbarButtonText?Ge.d.ICON:Ge.d.TEXT_ICON},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._handleReflowToolbar=function(e){var t=e.displayButtonCount;this.props.useCase.reflowToolbar(t)},o._handleKeyDown=function(e,t){9===e.which&&this.props.useCase.handleTab(e,t)},o._handleBlur=function(){this.props.useCase.handleBlur()},t}(K.b.Component),q()(Ph.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(Ph.prototype,"_handleClickSelector"),Ph.prototype),q()(Ph.prototype,"_handleReflowToolbar",[ee.autobind],Object.getOwnPropertyDescriptor(Ph.prototype,"_handleReflowToolbar"),Ph.prototype),q()(Ph.prototype,"_handleKeyDown",[ee.autobind],Object.getOwnPropertyDescriptor(Ph.prototype,"_handleKeyDown"),Ph.prototype),q()(Ph.prototype,"_handleBlur",[ee.autobind],Object.getOwnPropertyDescriptor(Ph.prototype,"_handleBlur"),Ph.prototype),Ph);Eh.defaultProps={i18n:function(e){return e},useDocumentToolbarButtonText:!0},Eh.propTypes={store:K.a.instanceOf(wh).isRequired,useCase:K.a.instanceOf(Lh).isRequired,i18n:K.a.func,viewMode:K.a.string,isFlexible:K.a.bool,useDocumentToolbarButtonText:K.a.bool};var Nh=Object(Z.b)(Eh),xh=Nh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(Eh,"DocumentToolbarLayoutView"),e(Nh,"default")}();var Dh=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.focusFirstButton=function(){this._store.focusFirstButton()},o.blurFocusedButton=function(){this._store.blurFocusedButton()},o.isFirstButton=function(e){return this._store.isFirstButton(e)},o.toggleButton=function(e){this._store.toggleButton(e)},o.togglePanelButton=function(e){this._store.togglePanelButton(e)},o.setPanelButtonEnable=function(e,t){this._store.setPanelButtonEnable(e,t)},o.hideAllLayers=function(){this._store.deactivateAllButtons()},o.updateHorizontalSelectedValue=function(e){this._store.updateHorizontalSelectedValue(e)},o.updateQuotationSelectedValue=function(e){this._store.updateQuotationSelectedValue(e)},o.reflowToolbar=function(e){this._store.updateDisplayButtonSet(e)},o.resetDisplayButtonSet=function(){this._store.resetDisplayButtonSet()},o.updateToolbarState=function(e){this._store.updateToolbarState(e)},t}(u.f),Rh=Dh,Ah=Rh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(Dh,"DocumentToolbarLayoutService"),e(Rh,"default")}();var Mh,Bh,Uh,Vh=o(700),Fh=(Mh=Object(ee.history)({sync:!1}),Bh=Object(ee.history)({sync:!1}),Uh=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.V.get("configAgent"),t._imageUploadService=u.V.get("imageUploadService"),t._imageTypeLayerService=u.V.get("imageTypeLayerService"),t._imageBehavior=u.V.get("imageBehavior"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._componentListStore=u.V.get("componentListStore"),t._complexImageLayoutsEnabled=t._configAgent.get("productConfig.complexImageLayoutsEnabled"),t}h()(t,e);var o=t.prototype;return o.insertImage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n,r,i,a,s,c,l;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog({multiple:!0});case 2:if(t=e.sent,o=t.validFiles,n=t.invalidFiles,r=o.length,i=this._selectionInfoStore.focus,a=i.compId,s=i.unitId,c=this._componentListStore.getComponentById(a),l=c.getStoreById(s),"inline-image-allowed-append"!==l.attributes.insertion||"child"!==l.selection){e.next=15;break}return e.next=13,this._insertInlineImage({validFiles:o,invalidFiles:n});case 13:e.next=21;break;case 15:if(!this._canUseComplexLayouts(r)){e.next=19;break}this._openImageTypeLayer({validFiles:o,invalidFiles:n,length:o.length}),e.next=21;break;case 19:return e.next=21,this._insertImage({validFiles:o,invalidFiles:n});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openImageTypeLayer=function(e){this._imageTypeLayerService.open({type:Ns.a.FILE,payload:e})},o._insertInlineImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertInlineImage(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertImage(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._canUseComplexLayouts=function(e){return e>1&&this._complexImageLayoutsEnabled},t}(u.m),q()(Uh.prototype,"insertImage",[ee.sentryCatch,ee.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(Uh.prototype,"insertImage"),Uh.prototype),q()(Uh.prototype,"_openImageTypeLayer",[K.d],Object.getOwnPropertyDescriptor(Uh.prototype,"_openImageTypeLayer"),Uh.prototype),q()(Uh.prototype,"_insertInlineImage",[Mh,K.d],Object.getOwnPropertyDescriptor(Uh.prototype,"_insertInlineImage"),Uh.prototype),q()(Uh.prototype,"_insertImage",[Bh,K.d],Object.getOwnPropertyDescriptor(Uh.prototype,"_insertImage"),Uh.prototype),Uh);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/buttons/use-case/image-insert-use-case.js",localName:t}})}catch(e){}}(Fh,"ImageInsertUseCase")}();var zh={image:{view:Vh.a,useCase:Fh,styleName:"image"}},Wh=zh;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(zh,"default")}();var Gh={documentToolbar:{"text-format-drop-down":Object(dt.a)("text-format-drop-down"),image:Wh.image,"social-media-image":Object(dt.a)("social-media-image"),sticker:Object(dt.a)("sticker"),video:Object(dt.a)("video"),"horizontal-line":Object(dt.a)("horizontal-line"),quotation:Object(dt.a)("quotation"),map:Object(dt.a)("map"),oglink:Object(dt.a)("oglink"),file:Object(dt.a)("file"),audio:Object(dt.a)("audio"),schedule:Object(dt.a)("schedule"),code:Object(dt.a)("code"),table:Object(dt.a)("table"),formula:Object(dt.a)("formula"),search:Object(dt.a)("search"),moment:Object(dt.a)("moment"),library:Object(dt.a)("library"),template:Object(dt.a)("template"),"additional-button":Object(dt.a)("additional-button"),"more-view":Object(dt.a)("more-view"),talktalk:Object(dt.a)("talktalk"),"separator-bar":Object(dt.a)("separator-bar")}},Hh=Gh;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/document-toolbar-button-set-map.js",localName:t}})}catch(e){}}(Gh,"default")}();var qh=function(e){function t(){return e.call(this,{buttonSetMap:Hh})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/index.js",localName:t}})}catch(e){}}(qh,"DocumentToolbarLayoutToolbar")}();var Jh=u.H.extend({name:"DocumentToolbarLayout",view:xh,useCase:Lh,service:Ah,store:wh,toolbar:qh}),Kh=Jh,Yh=Kh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(Jh,"DocumentToolbarLayout"),e(Kh,"default")}();var Xh,Qh,Zh,$h=o(744),ef=o(81),tf=o(82),of=o(141),nf=o(101),rf=o(975),af=o(191),sf=o(1261),cf=(Xh=function(e){h()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:null,selection:null,insertion:"text",drop:"text",paste:"text",lineBreak:{enter:"hard-and-insert-empty-line-at-end",shiftEnter:"line-break-in-paragraph"},erasure:"text"},o.isSelectable=!1,z()(o,"layout",Qh,G()(o)),z()(o,"title",Zh,G()(o)),o._componentFactory=u.V.get("componentFactory"),o._configAgent=u.V.get("configAgent");var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o.attributes=Object(Ua.a)(o.attributes,s.attributes),o.layout=Object(J.a)(i,"layout",i.layout||o.layout),o.title=o._createTextUnit(i,s),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,title:this.title.toPlainJSON()}},t._createTextUnit=function(e,t){var o={state:e.title,config:Object(i.a)({},t.title,{attributes:{selection:"text",insertion:"text",drop:"text",paste:"text",lineBreak:{enter:"hard-and-insert-empty-line-at-end",shiftEnter:"line-break-in-paragraph"},erasure:"text"},filterTextStyle:{fontSizeCode:af.b.conditionalAllowed(["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38"]),backgroundColor:af.b.NOT_ALLOWED,strikeThrough:af.b.NOT_ALLOWED,subscript:af.b.NOT_ALLOWED,superscript:af.b.NOT_ALLOWED,dropCap:af.b.NOT_ALLOWED}})},n=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),r=Object(J.a)(n,"title.textStyle",{}),a=o.config.filterTextStyle;return o.config.filterTextStyle=Object(Ua.a)(a,r),new sf.a(o)},t.attachLastParagraphAtStart=function(e){var t=this.getText(),o=e.getText();t.attachParagraphAtStart(o.detachLastParagraph())},t.setText=function(e){var t=this.title.getStyleFilter();this.title=e,this.title.updateStyleFilter(t),this.updateTheme()},t.insert=function(e,t){void 0===t&&(t={});var o=this.getText(),n=e.getText();if("text"===e.ctype&&n.getParagraphsLength()>1){var r=t.mergePoint||this.getEndPoint(),i=o.getPositionByPoint(r);if(i===af.d.TEXT_START){var a=e.getStartPoint(),s=e.getEndPoint();return this.attachLastParagraphAtStart(e),{start:a,end:Object.assign(s,{compId:this.id})}}if(i===af.d.TEXT_END)return this.attachFirstParagraphAtEnd(e),{start:r,end:e.getEndPoint()}}var c=o.mergeWith(n,t);return c.start.compId=this.id,c.end.compId=this.id,c},t.changeLink=function(e,t){var o=this.refineSelection(t);return this.getText().changeLink(this.checkProtocol(e),o)},t.changeLayout=function(e){this.layout=e,this.updateTheme()},t.updateProperty=function(e,t){var o=e.link,n=e.layout,r=ga()(e,["link","layout"]);if(n&&this.changeLayout(n),Object(nf.a)(this,r),o)return this.changeLink(o,t)},t.getStoreById=function(e){return e===this.id?this:e===this.title.id?this.title:null},t.getText=function(){return this.title},t.hasDropCapInParagraph=function(e){return this.getText().hasDropCapInParagraph(e)},t.hasInlineImageInParagraph=function(e){return this.getText().hasInlineImageInParagraph(e)},t.hasInlineImageOnly=function(){return this.getText().hasInlineImageOnly()},t._updateParagraphStyle=function(e,t){return this.getText().updateWholeParagraphStyle(e),t},t.isRepresentativeImage=function(){return this.getText().isRepresentativeImage()},t.hasRepresentativeImage=function(){return this.getText().hasRepresentativeImage()},t.setRepresentativeImage=function(e){var t=e.paraId,o=e.nodeId;this.getText().setRepresentativeImage(t,o)},t.releaseRepresentativeImage=function(e){this.getText().releaseRepresentativeImage(e)},t.getRepresentativeId=function(){var e=this,t=this.getText().getRepresentativeId();return Object(Kt.a)(t,function(t){return""+e.id+t})},t.setAvailableContentLength=function(e){this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){this.getText().resetAvailableContentLength()},t.collectStyle=function(t){var o=e.prototype.collectStyle.call(this,t);return o.textLayout=this.layout,o},Ye()(o,[{key:"textLength",get:function(){return this.getText().textLength}},{key:"translationEnabled",get:function(){return"none"!==this.title.selection}}]),o}(Object(u.X)(u.j)),Qh=q()(Xh.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),Zh=q()(Xh.prototype,"title",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xh);cf.ctype="sectionTitle",cf.schema={id:rf.a.string.isRequired,ctype:rf.a.string.isRequired,layout:rf.a.string.isRequired,title:rf.a.textUnit.isRequired};var lf,uf=cf,pf=uf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/store/index.js",localName:t}})}catch(e){}}e(cf,"SectionTitleComponentStore"),e(uf,"default")}();var df,hf=(lf=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.V.get("configAgent"),t._libraryPanelLayoutService=u.V.get("libraryPanelLayoutService"),t._toastLayerService=u.V.get("toastLayerService"),t._eventDispatcherService=u.V.get("eventDispatcherService"),t._i18n=u.V.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}h()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;u.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(u.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(u.c),q()(lf.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(lf.prototype,"setRepresentativeImage"),lf.prototype),lf),ff=hf,mf=ff;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/use-case/index.js",localName:t}})}catch(e){}}e(hf,"SectionTitleComponentUseCase"),e(ff,"default")}();var gf={useToolbarSlot:!1},yf=(df=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.title,a=t.layout,s=this._getAdditionalOption(i),c=this._resolveSectionClassName({ctype:r,layout:a});return K.b.createElement(ef.a,{id:n,ctype:r,layout:a,i18n:o},K.b.createElement(tf.a,{compId:n,compStore:t},K.b.createElement("div",{className:c},K.b.createElement(of.a,{text:i,compId:n,additionalOption:s,options:gf,onLimitTextLength:this._handleContentLengthLimit,onClickRepresentative:this._handleClickRepresentative}))))},o._resolveSectionClassName=function(e){var t,o=e.ctype,n=e.layout;return We()(((t={})["se-section se-section-"+o]=!!o,t["se-l-"+(n||"default")]=!0,t))},o._getAdditionalOption=function(e){var t=this.props,o=t.i18n;return{placeholder:t.shouldPlaceholderShown&&e.unchangedFirstNodeStyle?o("sectionTitleComponent:placeholder"):null,uploadProgressTitle:o("sectionTitleComponent:upload_process_title"),representativeTitle:o("sectionTitleComponent:representative")}},o._handleClickRepresentative=function(e){var t=e.paraId,o=e.nodeId,n=this.props.store;this.props.useCase.setRepresentativeImage({compId:n.id,unitId:n.id,paraId:t,nodeId:o})},o._handleContentLengthLimit=function(){this.props.useCase.showOverContentLengthLimitWarn()},t}(K.b.Component),q()(df.prototype,"_handleClickRepresentative",[ee.autobind],Object.getOwnPropertyDescriptor(df.prototype,"_handleClickRepresentative"),df.prototype),q()(df.prototype,"_handleContentLengthLimit",[ee.autobind],Object.getOwnPropertyDescriptor(df.prototype,"_handleContentLengthLimit"),df.prototype),df);yf.defaultProps={i18n:function(e){return e},shouldPlaceholderShown:!1},yf.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,store:K.a.instanceOf(pf).isRequired,useCase:K.a.instanceOf(mf).isRequired,shouldPlaceholderShown:K.a.bool};var bf=Object(Z.b)(yf),_f=bf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/view/index.jsx",localName:t}})}catch(e){}}e(gf,"textUnitOptions"),e(yf,"SectionTitleComponentView"),e(bf,"default")}();var vf=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),Cf=vf,Of=Cf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/service/index.js",localName:t}})}catch(e){}}e(vf,"SectionTitleComponentService"),e(Cf,"default")}();var Sf={propertyToolbar:{"text-format":Object(dt.a)("text-format"),"font-family":Object(dt.a)("font-family"),"font-size":Object(dt.a)("font-size"),bold:Object(dt.a)("bold"),italic:Object(dt.a)("italic"),underline:Object(dt.a)("underline"),"font-color":Object(dt.a)("font-color"),"align-drop-down-with-justify":Object(dt.a)("align-drop-down-with-justify"),"line-height":Object(dt.a)("line-height"),"special-letter":Object(dt.a)("special-letter"),"text-link":Object(dt.a)("text-link"),"translation-right-label":Object(dt.a)("translation-right-label"),speller:Object(dt.a)("speller"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{},contentsToolbar:{"section-title-layout":Object(dt.a)("section-title-layout"),"to-text":Object(dt.a)("to-text"),"font-family":Object(dt.a)("font-family"),"font-size":Object(dt.a)("font-size"),bold:Object(dt.a)("bold"),italic:Object(dt.a)("italic"),"font-color":Object(dt.a)("font-color"),"to-quotation":Object(dt.a)("to-quotation"),"cycle-align":Object(dt.a)("cycle-align-with-justify"),translation:Object(dt.a)("translation"),"separator-bar":Object(dt.a)("separator-bar")}},kf=Sf;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/toolbar/section-title-button-set-map.js",localName:t}})}catch(e){}}(Sf,"default")}();var If={propertyToolbar:function(e){var t=["text-format","font-family","font-size","separator-bar","bold","italic","underline","font-color","separator-bar","align-drop-down-with-justify","line-height","separator-bar","special-letter","text-link"];return e.selectedComponents.every(function(e){return e.translationEnabled})&&t.push("separator-bar","translation-right-label"),t.push("separator-bar","speller"),t},contentsToolbar:function(e){var t=e.selectedComponents,o=e.defaultButtonSet;if(t.filter(function(e){return"sectionTitle"===e.ctype}).length===t.length){var n=o||["font-family","separator-bar","font-size","separator-bar","bold","italic","separator-bar","font-color","separator-bar","to-quotation","separator-bar","cycle-align"];return t.every(function(e){return e.translationEnabled})&&n.push("separator-bar","translation"),n}return[]}},wf=If;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/toolbar/section-title-button-resolver.js",localName:t}})}catch(e){}}(If,"default")}();var Pf=function(e){function t(){return e.call(this,{buttonSetMap:kf,buttonResolver:wf})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Pf,"SectionTitleComponentToolbar")}();var jf=u.q.extend({name:"SectionTitleComponent",view:_f,useCase:mf,service:Of,store:pf,toolbar:Pf}),Tf=jf,Lf=Tf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/index.js",localName:t}})}catch(e){}}e(jf,"SectionTitleComponent"),e(Tf,"default")}();var Ef,Nf,xf,Df,Rf,Af,Mf=o(84),Bf=(Ef=Object(ee.history)({sync:!1}),Nf=Object(ee.history)({sync:!1}),xf=Object(ee.history)({sync:!1}),Df=Object(ee.history)({sync:!1}),Rf=Object(ee.history)({sync:!1}),Af=function(e){function t(){var t;return(t=e.call(this)||this)._documentTitleComponentService=u.V.get("documentTitleComponentService"),t._eventDispatcherService=u.V.get("eventDispatcherService"),t._imageUploadService=u.V.get("imageUploadService"),t._toastLayerService=u.V.get("toastLayerService"),t._canvasLayoutService=u.V.get("canvasLayoutService"),t._cloudSnsLayerService=u.V.get("cloudSnsLayerService"),t._libraryPanelLayoutService=u.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._imageBehavior=u.V.get("imageBehavior"),t._imageEditService=u.V.get("imageEditService"),t}h()(t,e);var o=t.prototype;return o._openPhotoEditorByDirect=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documentTitleComponentService.getComponentStore(),n=this._documentTitleComponentService.getBackgroundImageData(),r=o.toValidJSON(),e.next=5,this._imageEditService.editImage({activeCompId:n.id,editableImages:[r],direct:t});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cropCoverImage=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditorByDirect("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterCoverImage=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditorByDirect("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustCoverImage=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditorByDirect("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;u.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.deleteBackground=function(){this._documentTitleComponentService.deleteBackgroundImage()},o.uploadBackground=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return t=e.sent,o=this._documentTitleComponentService.getComponentStore().id,e.abrupt("return",this._imageBehavior.insertBackground(o,t).then(function(){n._canvasLayoutService.refreshVirtualEditable()}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.uploadBackgroundFromSNS=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cloudSnsLayerService.openCloudSNSWindowPopup({maxCount:1});case 2:return t=e.sent,o=this._documentTitleComponentService.getComponentStore().id,e.next=6,this._imageBehavior.insertBackgroundFromUrls(o,t).then(function(){n._canvasLayoutService.refreshVirtualEditable()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.startEditingBackgroundPosition=function(){this._documentTitleComponentService.startEditingBackgroundPosition()},o.fixBackgroundPosition=function(e){this._documentTitleComponentService.updateBackgroundPosition(e),this._documentTitleComponentService.stopEditingBackgroundPosition()},o.revertBackgroundPosition=function(){this._documentTitleComponentService.stopEditingBackgroundPosition()},o.showToast=function(e){this._toastLayerService.warningMessage(e)},t}(u.c),q()(Af.prototype,"cropCoverImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,Ef,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"cropCoverImage"),Af.prototype),q()(Af.prototype,"filterCoverImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,Nf,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"filterCoverImage"),Af.prototype),q()(Af.prototype,"adjustCoverImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,xf,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"adjustCoverImage"),Af.prototype),q()(Af.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"setRepresentativeImage"),Af.prototype),q()(Af.prototype,"deleteBackground",[ee.history,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"deleteBackground"),Af.prototype),q()(Af.prototype,"uploadBackground",[Df,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"uploadBackground"),Af.prototype),q()(Af.prototype,"uploadBackgroundFromSNS",[ee.preventOnComponentProcessing,Rf,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"uploadBackgroundFromSNS"),Af.prototype),q()(Af.prototype,"fixBackgroundPosition",[ee.history,K.d],Object.getOwnPropertyDescriptor(Af.prototype,"fixBackgroundPosition"),Af.prototype),q()(Af.prototype,"showToast",[K.d],Object.getOwnPropertyDescriptor(Af.prototype,"showToast"),Af.prototype),Af),Uf=Bf,Vf=Uf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/use-case/index.js",localName:t}})}catch(e){}}e(Bf,"DocumentTitleComponentUseCase"),e(Uf,"default")}();var Ff,zf,Wf,Gf,Hf,qf,Jf,Kf=o(1211),Yf=o(399),Xf={LEFT:"left",CENTER:"center"},Qf={};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/consts/index.js",localName:t}})}catch(e){}}e(Xf,"ALIGN"),e(Qf,"default")}();var Zf=(Ff=function(e){h()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).backgroundConfig={uploadDND:!0,uploadSNS:!0,uploadLocal:!0,reposition:!0},o.attributes={cursor:"query",selection:"isolated",insertion:"append",erasure:"unerasable",drop:"query",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"}},o.isSelectable=!1,o.allowedComponentAlign=[Xf.LEFT,Xf.CENTER],z()(o,"layout",zf,G()(o)),z()(o,"background",Wf,G()(o)),z()(o,"title",Gf,G()(o)),z()(o,"subTitle",Hf,G()(o)),z()(o,"phase",qf,G()(o)),z()(o,"representativeEnabled",Jf,G()(o));var n=t,r=n.state,a=void 0===r?{}:r,s=n.config,c=void 0===s?{}:s;return o._configAgent=u.V.get("configAgent"),o.backgroundConfig=Object(i.a)({},c.background,o.backgroundConfig),o.lineBreakable=Object(J.a)(c,"lineBreakable",o.lineBreakable),o.attributes=Object(Ua.a)(o.attributes,c.attributes),o.updateConfig(),o.layout=a.layout||c.layout||o.layout,o.title=o._createTitleTextUnit(a.title,c.title),o.subTitle=o._createSubTitleTextUnit(a.subTitle,c.subTitle),o.background=o._resolveBackground(a.background),o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,background:K.f.toJS(this.background),phase:this.phase,title:this.title.toPlainJSON(),subTitle:this.subTitle?this.subTitle.toPlainJSON():null}},t._resolveBackground=function(e){if(e&&e.image){var t=Object(i.a)({},e),o=t.image;return t.image=new Yf.a({state:o,config:{attributes:{erasure:"query"}}}),t}},t._createTitleTextUnit=function(e,t){var o=this._isSubTitleEnabled()?{enter:"next-unit",shiftEnter:"next-unit"}:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},n={state:e,config:Object(i.a)({},t,{attributes:{cursor:null,selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:o,erasure:"trapped-text"},maxLength:100,filterTextStyle:{fontFamily:af.b.FOLLOW_CURRENT_STYLE,fontSizeCode:af.b.FOLLOW_CURRENT_STYLE,fontColor:af.b.NOT_ALLOWED,backgroundColor:af.b.NOT_ALLOWED,bold:af.b.NOT_ALLOWED,italic:af.b.NOT_ALLOWED,underline:af.b.NOT_ALLOWED,strikeThrough:af.b.NOT_ALLOWED,subscript:af.b.NOT_ALLOWED,superscript:af.b.NOT_ALLOWED,dropCap:af.b.NOT_ALLOWED,link:af.b.NOT_ALLOWED,list:af.b.NOT_ALLOWED}})},r=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),a=Object(J.a)(r,"title.textStyle",{}),s=n.config.filterTextStyle;return n.config.filterTextStyle=Object(Ua.a)(s,a),new sf.a(n)},t._createSubTitleTextUnit=function(e,t){var o=!this._isSubTitleEnabled(),n={state:e,config:Object(i.a)({},t,{attributes:{cursor:null,selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"backward-escapable-text"},maxLength:250,disable:o,filterTextStyle:{fontFamily:af.b.FOLLOW_CURRENT_STYLE,fontSizeCode:af.b.FOLLOW_CURRENT_STYLE,fontColor:af.b.NOT_ALLOWED,backgroundColor:af.b.NOT_ALLOWED,bold:af.b.NOT_ALLOWED,italic:af.b.NOT_ALLOWED,underline:af.b.NOT_ALLOWED,strikeThrough:af.b.NOT_ALLOWED,subscript:af.b.NOT_ALLOWED,superscript:af.b.NOT_ALLOWED,dropCap:af.b.NOT_ALLOWED,link:af.b.NOT_ALLOWED,list:af.b.NOT_ALLOWED}})},r=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),a=Object(J.a)(r,"subTitle.textStyle",{}),s=n.config.filterTextStyle;return n.config.filterTextStyle=Object(Ua.a)(s,a),new sf.a(n)},t.updateStyle=function(e){this._isParagraphStyle(e)?e.align&&this.allowedComponentAlign.includes(e.align)&&(this.getText().updateWholeParagraphStyle(e),this.align=e.align):this.getText().updateWholeCharacterStyle(e)},t.applyUserDefinedStyle=function(e){var t=this.getText();if(t.isEmpty()){var o={start:t.getStartPoint(),end:t.getEndPoint()};this.updateStyles(e,o);var n=e.align;n&&this.allowedComponentAlign.includes(n)&&(this.align=n)}},t.reset=function(){this.updatePhase(u.N.DONE)},t.applyEditedImage=function(e){var t=this.background.image,o=e.photos[0];if(o.modified){var n=o.height,r=o.width,i=o.domain,a=o.path,s=this.thumbnailType?"?type="+this.thumbnailType:"",c=Je()({},t,{src:""+i+a+s,path:a,originalWidth:r,originalHeight:n});this._replaceBackgroundImage(c)}},t.queryDragAndDrop=function(e){var t=e.type,o=e.dropPoint,n=e.items,r=["library","aside"].includes(t)&&n.length&&"image"===n[0].ctype,i=this.backgroundConfig.uploadDND;return("external-file"===t||r)&&i?{items:[n[0]],insertCommand:"query",insertPoint:o,direction:u.x.DOCUMENT_BACKGROUND}:null},t.queryCursor=function(e){var t=e.direction,o=e.toPoint.unitId===this.id,n=null;return(t===u.u.LEFT||t===u.u.UP)&&o&&(n={start:this.getStartPoint(),end:this.getStartPoint()}),{type:"range",range:n}},t.putCursor=function(e){this._changeSelectionToChild(),(e.unitId===this.title.id?this.title:this.subTitle).putCursor(e)},t.getNextUnit=function(){return this.subTitle},t.getPrevUnit=function(){return this.title},t.merge=function(e){var t=Object(no.a)(e);return this.insertBackgroundImage(t),{components:[this]}},t.insert=function(e,t){void 0===t&&(t={});var o=this.getText(),n=e.getText(),r=o.mergeWith(n,t);return r.start.compId=this.id,r.end.compId=this.id,r},t.erase=function(e,t){var o={};!0===this._isBackgroundTarget(e)?this.deleteBackgroundImage():o=this.getText().erase(e,t);var n={start:{compId:this.id},end:{compId:this.id}};return Object(i.a)(n,o)},t.queryErasure=function(){return this.deleteBackgroundImage(),{result:"move",range:this.getCompEndRange()}},t.refineSelection=function(e){return e},t.insertBackgroundImage=function(e){this.background=K.f.observable({ctype:"background",image:new Yf.a({state:e,config:{attributes:{erasure:"query"}}}),point:{ctype:"point",x:50,y:50}})},t._replaceBackgroundImage=function(e){this.background=K.f.observable({ctype:"background",image:new Yf.a({state:e,config:{attributes:{erasure:"query"}}}),point:this.background.point})},t.updateBackgroundPosition=function(e){var t=e.backgroundPositionX,o=e.backgroundPositionY;this.background.point.x=parseFloat(t),this.background.point.y=parseFloat(o)},t.deleteBackgroundImage=function(){this.background=null,this.updatePhase(u.N.DONE)},t.getRepresentativeId=function(){var e=[];if(this.background){var t=this.background.image.getRepresentativeId();e.push(this.id+"|"+t)}return e},t.hasBackgroundImage=function(){return""!==Object(J.a)(this,"background.image.src","")},t.hasEditableBackgroundImage=function(){var e=Object(J.a)(this,"background.image",{}),t=e.format,o=e.internalResource;return"normal"===t&&!0===o},t.clone=function(e){var t=this.getText().clone(e);return t.resetStyle(),t},t.selectAsBlock=function(e,t){this.deselect(),e.unitId===this.title.id?(this.title.selectAsBlock(e,t),this._changeSelectionToChild()):e.unitId===this.subTitle.id?(this.subTitle.selectAsBlock(e,t),this._changeSelectionToChild()):this._changeSelectionToBlock()},t.setRepresentativeImage=function(){this.background.image.setRepresentativeImage()},t.releaseRepresentativeImage=function(){this.background.image.releaseRepresentativeImage()},t.getRepresentativeInnerData=function(){return this.background.image.getRepresentativeInnerData()},t.updateTheme=function(t,o){if(e.prototype.updateTheme.call(this,t,o),this.themeStyle&&this.themeStyle[this.layout]&&!this.align){var n=this.themeStyle[this.layout].title;this.align=n.align}},t.getStoreById=function(e){return e===this.id?this:e===this.title.id?this.title:this.background&&e===this.background.image.id?this.background.image:e===this.subTitle.id?this.subTitle:null},t._isBackgroundTarget=function(e){return Object(J.a)(e,"start.unitId")===Object(J.a)(this,"background.image.id")},t.deselect=function(){this._changeSelectionToNone(),this.title.deselect(),this.subTitle.deselect()},t.getText=function(e){return e?this[e]:"none"!==this.subTitle.selection?this.subTitle:this.title},t.getDocumentTitle=function(){return this.title.getPlainTextWithEmoji()},t.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},t.isRepresentativeImage=function(){return this.representativeEnabled&&!0===Object(J.a)(this,"background.image.internalResource",!1)},t.hasRepresentativeImage=function(){return Object(J.a)(this,"background.image.represent",!1)},t.collectStyle=function(e){var t=this.getText().collectStyle(e),o=Object(J.a)(this,"background.image.src","");return Object(i.a)({src:o},t)},t.isLibraryComponent=function(){var e=!!Object(J.a)(this,"background.image.src",!1),t=!!Object(J.a)(this,"background.image.internalResource",!1);return e&&t},t.getLibraryItemData=function(){var e=Object(J.a)(this.toValidJSON(),"background.image"),t=e.domain,o=e.path,n=Object(i.a)({phase:"done"},e);return{id:this.id,key:""+t+o,thumbnail:Object(J.a)(this,"background.image.src"),data:n}},t.getFontSizeCode=function(){return this.getFirstParagraph().getFirstNode().computedStyle.fontSizeCode},t._isSubTitleEnabled=function(){return"flex"===this.layout},t._isFocusedOnText=function(){return"none"!==this.title.selection||"none"!==this.subTitle.selection},Ye()(o,[{key:"isDndUploadEnable",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.uploadDND}},{key:"isSnsUploadEnabled",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.uploadSNS}},{key:"isLocalUploadEnabled",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.uploadLocal}},{key:"isBackgroundMovable",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.reposition}},{key:"translationEnabled",get:function(){return this._isFocusedOnText()}}]),o}(u.j),zf=q()(Ff.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),Wf=q()(Ff.prototype,"background",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gf=q()(Ff.prototype,"title",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Hf=q()(Ff.prototype,"subTitle",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qf=q()(Ff.prototype,"phase",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.N.DONE}}),Jf=q()(Ff.prototype,"representativeEnabled",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q()(Ff.prototype,"isDndUploadEnable",[K.e],Object.getOwnPropertyDescriptor(Ff.prototype,"isDndUploadEnable"),Ff.prototype),q()(Ff.prototype,"isSnsUploadEnabled",[K.e],Object.getOwnPropertyDescriptor(Ff.prototype,"isSnsUploadEnabled"),Ff.prototype),q()(Ff.prototype,"isLocalUploadEnabled",[K.e],Object.getOwnPropertyDescriptor(Ff.prototype,"isLocalUploadEnabled"),Ff.prototype),q()(Ff.prototype,"isBackgroundMovable",[K.e],Object.getOwnPropertyDescriptor(Ff.prototype,"isBackgroundMovable"),Ff.prototype),Ff);Zf.ctype="documentTitle",Zf.schema={id:rf.a.string.isRequired,layout:rf.a.string.isRequired,ctype:rf.a.string.isRequired,title:rf.a.textUnit.isRequired,subTitle:rf.a.textUnit,background:rf.a.shape({ctype:rf.a.string.isRequired,image:rf.a.shape(Yf.a.schema).isRequired,point:rf.a.shape(Kf.e).isRequired}),align:rf.a.string};var $f,em=Zf,tm=em;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/store/index.js",localName:t}})}catch(e){}}e(Zf,"DocumentTitleComponentStore"),e(em,"default")}();var om=($f=function(e){function t(t){var o;return(o=e.call(this,t)||this)._uniqueEventKey="click.__se-draggable-background",o._globalEventProxy=Es.a,o._handleDragStart=o._handleDragStart.bind(G()(o)),o._handleDragMove=o._handleDragMove.bind(G()(o)),o._handleDragEnd=o._handleDragEnd.bind(G()(o)),o._handleClickDraggableBackgroundOutside=o._handleClickDraggableBackgroundOutside.bind(G()(o)),o}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){var e=this.props.backgroundPoint;this.setState({draggable:!1,initialX:0,initialY:0,isLockHorizontal:!1,isLockVertical:!1,backgroundPositionX:e.x,backgroundPositionY:e.y,standardBackgroundPositionX:e.x,standardBackgroundPositionY:e.y})},o.componentDidMount=function(){this._globalEventProxy.on(this._uniqueEventKey,this._handleClickDraggableBackgroundOutside)},o.UNSAFE_componentWillReceiveProps=function(e){var t=e.isEditing,o=e.backgroundImage,n=e.backgroundPoint;t!==this.props.isEditing&&(this._updateBackgroundStates(o),this._resetPosition(n))},o.componentWillUnmount=function(){this._globalEventProxy.off(this._uniqueEventKey)},o.render=function(){var e=this.props,t=e.targetClassName,o=e.backgroundClassName,n=e.targetChildren,r=e.backgroundChildren,i=this._makeBackgroundStyle(),a="__se-draggable-background "+o;return K.b.createElement("div",{className:a,ref:this._ref,style:i},this._appendTempElement(),r,K.b.createElement("div",{className:t,onMouseDown:this._handleDragStart},n))},o._ref=function(e){this._background=e},o._hasBackgroundImage=function(){return!Object(Xe.a)(this.props.backgroundImage)},o._makeBackgroundStyle=function(){if(!1===this._hasBackgroundImage())return{};var e=this.props,t=e.backgroundImage,o=e.backgroundPoint,n=o.x,r=o.y;return this.props.isEditing&&(n=this.state.backgroundPositionX,r=this.state.backgroundPositionY),{backgroundImage:"url('"+t.src.replace(/'/g,"\\'")+"')",backgroundPositionX:n+"%",backgroundPositionY:r+"%"}},o._appendTempElement=function(){if(this.state.draggable){return K.b.createElement("div",{className:"__background-dim",style:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:20,background:"rgba(255,255,255,0)"},onMouseMove:this._handleDragMove,onMouseUp:this._handleDragEnd})}},o._handleDragStart=function(e){this._updateInitPosition(e)},o._handleDragMove=function(e){var t=this._calculateBackgroundPosition(e);this._updateBackgroundPosition(t)},o._handleDragEnd=function(){var e={backgroundPositionX:this.state.backgroundPositionX,backgroundPositionY:this.state.backgroundPositionY};this.props.onChangePosition(e),this._updateStandardBackgroundPosition()},o._updateBackgroundStates=function(e){var t=this._getBackgroundSizeState(e),o=this._getBackgroundLockState(t);this.setState(Je()({},t,o))},o._getBackgroundSizeState=function(e){var t=e.originalWidth/e.originalHeight,o=parseFloat(this._background.clientWidth),n=parseFloat(this._background.clientHeight),r=o/n,i=o,a=n;return t>r?i=a*t:t<r&&(a=i/t),{viewWidth:o,viewHeight:n,resizedWidth:i,resizedHeight:a}},o._getBackgroundLockState=function(e){var t=e.viewWidth/e.viewHeight,o=e.resizedWidth/e.resizedHeight;return{isLockHorizontal:t>=o,isLockVertical:t<=o}},o._updateInitPosition=function(e){this.setState({draggable:!0,initialX:e.clientX,initialY:e.clientY})},o._updateStandardBackgroundPosition=function(){this.setState({draggable:!1,standardBackgroundPositionX:this.state.backgroundPositionX,standardBackgroundPositionY:this.state.backgroundPositionY})},o._updateBackgroundPosition=function(e){var t=this.state,o=t.isLockHorizontal,n=t.isLockVertical;!1===o&&this.setState({backgroundPositionX:e.positionX}),!1===n&&this.setState({backgroundPositionY:e.positionY})},o._resetPosition=function(e){this.setState({backgroundPositionX:e.x,backgroundPositionY:e.y,standardBackgroundPositionX:e.x,standardBackgroundPositionY:e.y})},o._calculateBackgroundPosition=function(e){var t=this.state,o=t.initialX,n=t.initialY,r=t.resizedWidth,i=t.resizedHeight,a=t.standardBackgroundPositionX,s=t.standardBackgroundPositionY,c=(o-e.clientX)/r*100,l=(n-e.clientY)/i*100,u=parseFloat(a)+c,p=parseFloat(s)+l;return u>100?u=100:u<0&&(u=0),p>100?p=100:p<0&&(p=0),{positionX:u,positionY:p}},o._handleClickDraggableBackgroundOutside=function(){this.props.isEditing&&this.props.onClickOutside()},t}(K.b.Component),q()($f.prototype,"_ref",[ee.autobind],Object.getOwnPropertyDescriptor($f.prototype,"_ref"),$f.prototype),$f);om.defaultProps={isEditing:!1,backgroundClassName:"",targetClassName:"",backgroundChildren:null,targetChildren:null,onChangePosition:function(){},onClickOutside:function(){},position:{},backgroundImage:{},backgroundPoint:{}},om.propTypes={isEditing:K.a.bool,backgroundClassName:K.a.string,targetClassName:K.a.string,backgroundChildren:K.a.oneOfType([K.a.string,K.a.element]),targetChildren:K.a.oneOfType([K.a.string,K.a.element]),onChangePosition:K.a.func,onClickOutside:K.a.func,position:K.a.object,backgroundImage:K.a.object,backgroundPoint:K.a.object};var nm=Object(Z.b)(om),rm=nm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/draggable-background/index.jsx",localName:t}})}catch(e){}}e(om,"DraggableBackground"),e(nm,"default")}();var im=function(e){var t=e.background,o=e.i18n,n=e.isEditing,r=e.onChangePosition,i=e.onClickOutside,a=e.isBackgroundMovable;if(t&&t.image){if(a)return K.b.createElement(rm,{backgroundClassName:"se-title-cover __se-cursor-unrelated",targetClassName:"se-cover-moving-message",backgroundChildren:K.b.createElement("div",{className:"se-title-cover-dim"}),targetChildren:o("documentTitleComponent:image_move_notice"),isEditing:n,backgroundImage:t.image,backgroundPoint:t.point,onChangePosition:r,onClickOutside:i});var s=t.image,c=t.point,l={};return Object(Xe.a)(s)||(l={backgroundImage:"url('"+s.src.replace(/'/g,"\\'")+"')",backgroundPositionX:c.x+"%",backgroundPositionY:c.y+"%"}),K.b.createElement("div",{className:"__se-draggable-background se-title-cover __se-cursor-unrelated",style:l},K.b.createElement("div",{className:"se-title-cover-dim"}))}return null};im.propTypes={isEditing:K.a.bool,onChangePosition:K.a.func,onClickOutside:K.a.func,background:K.a.object,i18n:K.a.func,isBackgroundMovable:K.a.bool};var am=Object(Z.b)(im),sm=am;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/document-title-background.jsx",localName:t}})}catch(e){}}e(im,"DocumentTitleBackground"),e(am,"default")}();var cm=function(e){var t=e.enabled,o=e.isRepresentative,n=e.i18n,r=e.onClick,i=We()({"se-set-rep-image-button":!0,"se-is-selected":o});return t?K.b.createElement("button",{type:"button",className:i,title:n("documentTitleComponent:delegate_image_setting_title"),onClick:r},K.b.createElement("span",{className:"se-set-rep-image-button-text"},n("documentTitleComponent:delegate_image_setting"))):null};cm.propTypes={enabled:K.a.bool,onClick:K.a.func,isRepresentative:K.a.bool,i18n:K.a.func};var lm=Object(Z.b)(cm),um=lm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/representative-button.jsx",localName:t}})}catch(e){}}e(cm,"RepresentativeButton"),e(lm,"default")}();var pm=function(e){var t=e.i18n,o=e.store,n=e.onClickLocalUpload,r=e.onClickSnsUpload,i=e.onClickRepresentativeButton,a=e.onClickReposition,s=e.onClickCrop,c=e.onClickFilter,l=e.onClickAdjust,u=e.onClickDelete,p=e.onClickCancel,d=e.onClickConfirm,h=o.representativeEnabled,f="flex"===o.layout;return K.b.createElement("div",{className:"se-cover-button-wrap"},K.b.createElement("div",{className:"se-cover-attach-button-container"},o.isLocalUploadEnabled&&K.b.createElement("span",{className:"se-cover-button se-cover-button-local-image-upload",title:t("documentTitleComponent:background_upload"),onClick:n}),o.isSnsUploadEnabled&&K.b.createElement("span",{className:"se-cover-button se-cover-button-sns-image-upload",title:t("documentTitleComponent:background_image_load"),onClick:r})),K.b.createElement("div",{className:"se-cover-edit-button-container"},K.b.createElement(um,{i18n:t,enabled:!!h&&o.isRepresentativeImage(),isRepresentative:Object(J.a)(o,"background.image.represent",!1),onClick:i}),o.isBackgroundMovable&&K.b.createElement("span",{className:"se-cover-button se-cover-button-set-position",title:t("documentTitleComponent:background_position_move_title"),onClick:a},K.b.createElement("span",{className:"se-cover-button-label"},t("documentTitleComponent:background_position_move"))),f&&o.hasEditableBackgroundImage()&&K.b.createElement(K.b.Fragment,null,K.b.createElement("span",{className:"se-cover-button se-cover-button-set-crop",title:t("documentTitleComponent:background_image_crop"),onClick:s}),K.b.createElement("span",{className:"se-cover-button se-cover-button-set-filter",title:t("documentTitleComponent:background_image_filter"),onClick:c}),K.b.createElement("span",{className:"se-cover-button se-cover-button-set-adjust",title:t("documentTitleComponent:background_image_adjust"),onClick:l})),K.b.createElement("span",{className:"se-cover-button se-cover-button-del-image",title:t("documentTitleComponent:background_image_delete_title"),onClick:u})),K.b.createElement("div",{className:"se-cover-moving-button-container"},K.b.createElement("span",{className:"se-cover-button se-cover-button-discard-position",title:t("documentTitleComponent:background_position_cancel_title"),onClick:p},t("documentTitleComponent:cancel")),K.b.createElement("span",{className:"se-cover-button se-cover-button-confirm-position",title:t("documentTitleComponent:background_position_save_title"),onClick:d},t("documentTitleComponent:confirm"))))};pm.propTypes={store:K.a.instanceOf(tm),isLocalUploadEnabled:K.a.bool,isSnsUploadEnabled:K.a.bool,isRepresentativeEnabled:K.a.bool,isRepresentative:K.a.bool,isBackgroundMovable:K.a.bool,onClickLocalUpload:K.a.func,onClickSnsUpload:K.a.func,onClickRepresentativeButton:K.a.func,onClickReposition:K.a.func,onClickCrop:K.a.func,onClickFilter:K.a.func,onClickAdjust:K.a.func,onClickDelete:K.a.func,onClickCancel:K.a.func,onClickConfirm:K.a.func,i18n:K.a.func};var dm,hm=pm,fm=hm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/document-title-buttons.jsx",localName:t}})}catch(e){}}e(pm,"DocumentTitleButtons"),e(hm,"default")}();var mm={useToolbarSlot:!1},gm=["image","external-file","aside","library"],ym=(dm=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={isEditing:!1},o._prevBackgroundId=null,o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.componentDidUpdate=function(){var e=this.props.store.background,t=Object(J.a)(e,"image.id");this._prevBackgroundId!==t&&(this._disposeReactionBackground&&this._disposeReactionBackground(),this._disposeReactionBackground=K.f.reaction(function(){return e},this._handleReactionBackground,{fireImmediately:!0}),this._prevBackgroundId=t)},o.componentWillUnmount=function(){this._disposeReactionBackground&&this._disposeReactionBackground()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=this._resolveWrapperClassName(),a=this._renderTitle(),s=this._renderSubtitle();return K.b.createElement(ef.a,{store:t,id:n,ctype:r,className:i,head:this._renderBackground(),tail:this._renderButtons(),i18n:o},K.b.createElement(Mf.a,{blockWrapperProps:t,draggable:"false"},a,s))},o._renderTitle=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.title,i={placeholder:o("documentTitleComponent:title_placeholder")},a=t.getFontSizeCode(),s=We()("se-title-text","se-module-"+a+"-min-height-for-ie");return K.b.createElement(of.a,{text:r,compId:n,className:s,options:mm,additionalOption:i,onLimitTextLength:this._handleLimitOverTitle})},o._renderSubtitle=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.subTitle;if(r.disable)return null;var i={placeholder:o("documentTitleComponent:sub_title_placeholder")},a=We()("se-subtitle-text");return K.b.createElement(of.a,{text:r,compId:n,className:a,options:mm,additionalOption:i,onLimitTextLength:this._handleLimitOverSubTitle})},o._getAdditionalOption=function(){return{placeholder:(0,this.props.i18n)("documentTitleComponent:title_placeholder")}},o._renderBackground=function(){var e=this.props.store;return K.b.createElement(sm,{i18n:this.props.i18n,isEditing:this.state.isEditing,background:this.props.store.background,onChangePosition:this._handleChangePosition,onClickOutside:this._handleClickBackgroundOutside,isBackgroundMovable:e.isBackgroundMovable})},o._renderButtons=function(){return fm({i18n:this.props.i18n,store:this.props.store,onClickLocalUpload:this._handleClickImageBtn,onClickSnsUpload:this._handleClickSNSBtn,onClickRepresentativeButton:this._handleClickRepresent,onClickReposition:this._handleClickPositionBtn,onClickCrop:this._handleClickCropBtn,onClickFilter:this._handleClickFilterBtn,onClickAdjust:this._handleClickAdjustBtn,onClickDelete:this._handleClickDelBtn,onClickCancel:this._handleClickCancel,onClickConfirm:this._handleClickConfirm})},o._resolveWrapperClassName=function(){var e=this.state.isEditing,t=this.props.store,o=t.dragAndDrop,n=o.dragDataType,r=gm.includes(n),i=!0===t.isDndUploadEnable&&o.isOnDrop&&r,a=this._hasBackgroundImage()&&!1===e;return We()({"__se-cursor-inverted":a,"se-documentTitle-cover-image":a,"se-documentTitle-cover-image se-is-cover-moving":e,"se-is-drop-activated":i})},o._handleClickRepresent=function(e){this.props.useCase.setRepresentativeImage({compId:this.props.store.id}),Lt.a.log(e.nativeEvent,"ttlct.rep")},o._handleChangePosition=function(e){this.setState({backgroundPosition:e})},o._hasBackgroundImage=function(){var e=this.props.store;return""!==Object(J.a)(e,"background.image.src","")},o._handleClickCropBtn=function(){this.props.useCase.cropCoverImage()},o._handleClickFilterBtn=function(){this.props.useCase.filterCoverImage()},o._handleClickAdjustBtn=function(){this.props.useCase.adjustCoverImage()},o._handleClickDelBtn=function(e){this.props.useCase.deleteBackground(),Lt.a.log(e.nativeEvent,"ttlct.pdel")},o._handleClickImageBtn=function(e){this.props.useCase.uploadBackground(),Lt.a.log(e.nativeEvent,"ttlct.photo")},o._handleClickSNSBtn=function(){this.props.useCase.uploadBackgroundFromSNS()},o._handleClickPositionBtn=function(e){this.props.useCase.startEditingBackgroundPosition(),this._startEditing(),Lt.a.log(e.nativeEvent,"ttlct.move")},o._handleClickConfirm=function(e){this.props.useCase.fixBackgroundPosition(this.state.backgroundPosition),this._stopEditing(),Lt.a.log(e.nativeEvent,"ttlct.moveok")},o._handleClickCancel=function(e){this.props.useCase.revertBackgroundPosition(),this._stopEditing(),Lt.a.log(e.nativeEvent,"ttlct.movecancel")},o._handleClickBackgroundOutside=function(){this._cancelEditingMode()},o._handleLimitOverTitle=function(){var e=this.props,t=e.i18n,o=e.store;this.props.useCase.showToast(t("documentTitleComponent:warning_limit_over_title_text",{maxLength:o.title.maxLength}))},o._handleLimitOverSubTitle=function(){var e=this.props,t=e.i18n,o=e.store;this.props.useCase.showToast(t("documentTitleComponent:warning_limit_over_sub_title_text",{maxLength:o.subTitle.maxLength}))},o._handleReactionBackground=function(){this.props.useCase.repaintCursor()},o._startEditing=function(){var e=this.props.store.background.point;this.setState({isEditing:!0,backgroundPosition:{backgroundPositionX:e.x||"50%",backgroundPositionY:e.y||"50%"}})},o._stopEditing=function(){this.setState({isEditing:!1})},o._cancelEditingMode=function(){this.props.useCase.revertBackgroundPosition(),this._stopEditing()},t}(K.b.Component),q()(dm.prototype,"_renderButtons",[ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(dm.prototype,"_renderButtons"),dm.prototype),q()(dm.prototype,"_handleClickRepresent",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickRepresent"),dm.prototype),q()(dm.prototype,"_handleChangePosition",[ee.autobind,ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(dm.prototype,"_handleChangePosition"),dm.prototype),q()(dm.prototype,"_handleClickCropBtn",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickCropBtn"),dm.prototype),q()(dm.prototype,"_handleClickFilterBtn",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickFilterBtn"),dm.prototype),q()(dm.prototype,"_handleClickAdjustBtn",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickAdjustBtn"),dm.prototype),q()(dm.prototype,"_handleClickDelBtn",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickDelBtn"),dm.prototype),q()(dm.prototype,"_handleClickImageBtn",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickImageBtn"),dm.prototype),q()(dm.prototype,"_handleClickSNSBtn",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickSNSBtn"),dm.prototype),q()(dm.prototype,"_handleClickPositionBtn",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickPositionBtn"),dm.prototype),q()(dm.prototype,"_handleClickConfirm",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickConfirm"),dm.prototype),q()(dm.prototype,"_handleClickCancel",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickCancel"),dm.prototype),q()(dm.prototype,"_handleClickBackgroundOutside",[ee.autobind,ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(dm.prototype,"_handleClickBackgroundOutside"),dm.prototype),q()(dm.prototype,"_handleLimitOverTitle",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleLimitOverTitle"),dm.prototype),q()(dm.prototype,"_handleLimitOverSubTitle",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleLimitOverSubTitle"),dm.prototype),q()(dm.prototype,"_handleReactionBackground",[ee.autobind],Object.getOwnPropertyDescriptor(dm.prototype,"_handleReactionBackground"),dm.prototype),dm);ym.defaultProps={i18n:function(e){return e},dragAndDrop:{isDropEnabled:!1,isExternalImage:!1,direction:"",compId:"",unitId:""}},ym.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,useCase:K.a.instanceOf(Vf).isRequired,store:K.a.instanceOf(tm).isRequired,dragAndDrop:K.a.object};var bm=Object(Z.b)(ym),_m=bm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/index.jsx",localName:t}})}catch(e){}}e(mm,"textUnitOptions"),e(gm,"DRAG_TYPE"),e(ym,"DocumentTitleComponentView"),e(bm,"default")}();var vm=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.V.get("configAgent"),t._componentListStore=u.V.get("componentListStore"),t._componentFactory=u.V.get("componentFactory"),t._virtualEditable=u.V.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.updateBackgroundImage=function(e){var t=this._uploadDataToComp(e);this.getComponentStore().insertBackgroundImage(t)},o._uploadDataToComp=function(e){var t=this._configAgent.get("editorInfo"),o=e.domain||this._configAgent.get("infraInfo.photoInfra.imageHost"),n=e.animatedCnt>1?"animated":"normal";return this._componentFactory.createComponentWithCompData({ctype:"image",src:""+o+e.url+"?type="+t.thumbnailType.normal,internalResource:!0,caption:null,domain:o,path:e.path+"/"+e.fileName,format:n,displayFormat:n,width:parseInt(e.width,10),height:parseInt(e.height,10),fileSize:parseInt(e.fileSize,10),allowVR360OrPanorama:!1})},o.deleteBackgroundImage=function(){this.getComponentStore().deleteBackgroundImage()},o.reset=function(){this.getComponentStore().reset()},o.updateBackgroundPosition=function(e){this.getComponentStore().updateBackgroundPosition(e)},o.startEditingBackgroundPosition=function(){this._virtualEditable.disable()},o.stopEditingBackgroundPosition=function(){this._virtualEditable.enable()},o.getComponentStore=function(){return this._componentListStore.getComponentByCtype("documentTitle")},o.getBackgroundImageId=function(){return this.getComponentStore().toValidJSON().background.image.id},o.getBackgroundImageData=function(){return this.getComponentStore().toValidJSON().background.image},t}(u.a),Cm=vm,Om=Cm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/service/index.js",localName:t}})}catch(e){}}e(vm,"DocumentTitleComponentService"),e(Cm,"default")}();var Sm,km=o(188),Im=(Sm=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.LABEL_SELECT:t,n=e.title,r=void 0===n?"titleFontSizeCode:title":n,i=e.label,a=void 0===i?"titleFontSizeCode:label":i,s=e.hasIcon,c=void 0!==s&&s,l=e.value,u=void 0===l?"fs38":l,p=e.logId,d=void 0===p?"size":p,h=e.options,f=void 0===h?{fs26:{label:"titleFontSizeCode:label_fs26",logId:"size26"},fs32:{label:"titleFontSizeCode:label_fs32",logId:"size32"},fs38:{label:"titleFontSizeCode:label_fs38",logId:"size38"}}:h,m=ga()(e,["type","title","label","hasIcon","value","logId","options"]);return K.b.createElement(km.a,oc()({type:o,title:r,label:a,hasIcon:c,value:u,logId:d,options:f},m,{onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeFontSize(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(Sm.prototype,"_handleClickOption",[ee.autobind],Object.getOwnPropertyDescriptor(Sm.prototype,"_handleClickOption"),Sm.prototype),Sm),wm=Im,Pm=wm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/buttons/view/document-title-font-size-button-view.jsx",localName:t}})}catch(e){}}e(Im,"TitleSizeButtonView"),e(wm,"default")}();var jm,Tm,Lm,Em=o(210),Nm=o(265),xm=(jm=Object(ee.history)({sync:!1}),Tm=Object(ee.history)({sync:!1}),Lm=function(e){function t(){var t;return(t=e.call(this)||this)._documentTitleComponentService=u.V.get("documentTitleComponentService"),t._imageEditService=u.V.get("imageEditService"),t._alertLayerService=u.V.get("alertLayerService"),t._canvasLayoutService=u.V.get("canvasLayoutService"),t._imageUploadService=u.V.get("imageUploadService"),t._imageBehavior=u.V.get("imageBehavior"),t}h()(t,e);var o=t.prototype;return o.changeImage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return t=e.sent,o=this._documentTitleComponentService.getComponentStore().id,e.next=6,this._imageBehavior.insertBackground(o,t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._documentTitleComponentService.getComponentStore(),o=this._documentTitleComponentService.getBackgroundImageData(),n=t.toValidJSON(),e.next=5,this._imageEditService.editImage({activeCompId:o.id,editableImages:[n]});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._handleFailUploadBackground=function(e){var t=this;this._alertLayerService.open({type:"alert",title:e.cause,description:e.description,onClickConfirm:function(){t._canvasLayoutService.refreshVirtualEditable()}}),this._documentTitleComponentService.reset(),this._imageUploadService.reset()},t}(u.m),q()(Lm.prototype,"changeImage",[ee.sentryCatch,jm,K.d],Object.getOwnPropertyDescriptor(Lm.prototype,"changeImage"),Lm.prototype),q()(Lm.prototype,"editImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,Tm,K.d],Object.getOwnPropertyDescriptor(Lm.prototype,"editImage"),Lm.prototype),q()(Lm.prototype,"_handleFailUploadBackground",[ee.autobind],Object.getOwnPropertyDescriptor(Lm.prototype,"_handleFailUploadBackground"),Lm.prototype),Lm);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/buttons/use-case/document-title-button-use-case.js",localName:t}})}catch(e){}}(xm,"DocumentTitleButtonUseCase")}();var Dm={"title-font-size":{view:Pm,useCase:Il.a,propertyName:"fontSizeCode",styleName:"font-size-code"},"background-image-replacement":{view:Nm.a,useCase:xm,propertyName:"",styleName:"image-replacement"},"background-image-edit":{view:Em.a,useCase:xm,propertyName:"",styleName:"image-edit"}},Rm=Dm;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Dm,"default")}();var Am={propertyToolbar:{"font-family":Object(dt.a)("font-family"),"title-font-size":Rm["title-font-size"],"align-drop-down-without-right":Object(dt.a)("align-drop-down-without-right"),"background-image-replacement":Rm["background-image-replacement"],"background-image-edit":Rm["background-image-edit"],"special-letter":Object(dt.a)("special-letter"),"translation-right-label":Object(dt.a)("translation-right-label"),speller:Object(dt.a)("speller"),"separator-bar":Object(dt.a)("separator-bar")}},Mm=Am;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/document-title-button-map.js",localName:t}})}catch(e){}}(Am,"default")}();var Bm={propertyToolbar:function(e){var t=e.selectedComponents,o=["font-family","title-font-size","separator-bar","align-drop-down-without-right","separator-bar","special-letter"];return t.every(function(e){return e.translationEnabled})&&o.push("separator-bar","translation-right-label"),o.push("separator-bar","speller"),1===t.length&&t[0].hasBackgroundImage()&&(o.push("separator-bar","background-image-replacement"),t[0].hasEditableBackgroundImage()&&o.push("separator-bar","background-image-edit")),o}},Um=Bm;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/document-title-button-resolver.js",localName:t}})}catch(e){}}(Bm,"default")}();var Vm=function(e){function t(){return e.call(this,{buttonSetMap:Mm,buttonResolver:Um})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Vm,"DocumentTitleComponentToolbar")}();var Fm=u.q.extend({name:"DocumentTitleComponent",view:_m,useCase:Vf,service:Om,store:tm,toolbar:Vm}),zm=Fm,Wm=zm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/index.js",localName:t}})}catch(e){}}e(Fm,"DocumentTitleComponent"),e(zm,"default")}();var Gm=o(150),Hm={LEFT:"left",CENTER:"center",RIGHT:"right"},qm={DEFAULT:"default"},Jm={FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},Km={NORMAL:"normal",VR360:"vr360",PANORAMA:"panorama"},Ym={ImageAlign:Hm,ImageLayout:qm,ImageContentMode:Jm,ImageFormat:Km};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/consts/index.js",localName:t}})}catch(e){}}e(Hm,"ImageAlign"),e(qm,"ImageLayout"),e(Jm,"ImageContentMode"),e(Km,"ImageFormat"),e(Ym,"default")}();var Xm=o(269),Qm=o(192),Zm=o(747),$m=function(e){var t=e.i18n,o=e.images,n=e.onDoubleClick,r=e.onClickRepresent,i=e.onClickDelete,a=e.onCompleteImage;return o.map(function(e){var o=e.representativeEnabled,s={showLocationButton:e.showLocationButton,showRepresentative:!!o&&e.isRepresentativeImage()};return K.b.createElement(Zm.a,{key:e.id,style:{width:e.widthPercentage+"%"},onDoubleClick:n,onClickRepresentative:r,onClickDelete:i,onCompleteImage:a,additionalOption:s,labelLink:t("imageUnit:label_link"),labelThumbnail:t("imageUnit:label_thumbnail"),labelDeleteImage:t("imageUnit:label_delete_image"),labelThisIs360VR:t("imageUnit:label_this_is_360vr"),labelUse360vr:t("imageUnit:label_use_360vr"),i18n:t,store:e})})},eg=$m,tg=eg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/view/images.jsx",localName:t}})}catch(e){}}e($m,"Images"),e(eg,"default")}();var og,ng,rg,ig,ag,sg,cg,lg=o(106),ug=o(121),pg=o(171),dg=o(513),hg=Object(u.Z)(u.h),fg=Object(u.X)(hg),mg=(og=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"query",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"query"},o.domain="",o.thumbnailTypeMap={},o.imageMiniumHeight=0,o.contentStandardWidth=0,z()(o,"caption",ng,G()(o)),z()(o,"images",rg,G()(o)),z()(o,"layout",ig,G()(o)),z()(o,"contentMode",ag,G()(o)),z()(o,"phase",sg,G()(o)),z()(o,"align",cg,G()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o._config=s,o._configAgent=u.V.get("configAgent"),o._componentFactory=u.V.get("componentFactory"),o.thumbnailTypeMap=o._configAgent.get("editorInfo.thumbnailType")||o.thumbnailTypeMap,o.imageMiniumHeight=o._configAgent.get("editorInfo.imageMiniumHeight")||o.imageMiniumHeight,o.contentStandardWidth=o._configAgent.get("productConfig.contentStandardWidth")||o.contentStandardWidth,o.attributes=Object(Ua.a)(o.attributes,s.attributes),o.showLocationButton=!1,o.caption=o._createTextUnitStore(i.caption,s);var c={attributes:{cursor:"selectable-unit",selection:"selectable-unit",erasure:"query"}};return o.images=Object(Kt.a)(i.images,function(e){return o._componentFactory.createComponentWithCompData(e,c)}),o.layout=i.layout||o.layout,o.contentMode=i.contentMode||o.contentMode,o.align=i.align||o.align,o.updateWidthRatio(o.images),o}h()(t,e);var o=t.prototype;return o.filterStyle=function(e){this.caption.filterStyle(e)},o.setState=function(){return this},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.images.forEach(function(e){e.updateConfig&&e.updateConfig()})},o.updateData=function(e){var t=this;e.images.forEach(function(e){var o=t.images.find(function(t){return t.id===e.id});Object(lg.a)(o,e)})},o.changeContentMode=function(e){this.contentMode=e},o.changeLink=function(e,t){if(void 0===e&&(e={}),!0===this.caption.isFocused)return this.caption.changeLink(this.checkProtocol(e),t);if(!0===this._isImageUnit(t)){var o=t.start.unitId;this._findImageUnitByUnitId(o).link=e.value?this.checkProtocol(e).value:null}},o.updateProperty=function(e,t){var o=e.contentMode,n=e.link,r=ga()(e,["contentMode","link"]);if(o&&this.changeContentMode(o),Object(nf.a)(this,r),n)return this.changeLink(n,t)},o.queryDragAndDrop=function(e){var t=e.items,o=e.dropPoint,n=e.focus,r=e.insertDirection,i=e.itemIds,a=e.isOnEdge,s=t.some(function(e){return"image"!==e.ctype}),c=t.length>1,l=3===this.images.length,p=!c&&!s&&!l,d=this.images.findIndex(function(e){return e.id===n.unitId}),h=t[0].id===n.unitId&&!s&&!c&&d>-1,f=i.includes(this.id);if(a)return n.compId===n.unitId&&this.id===n.compId?null:(o.unitId=this.id,{insertCommand:r===u.x.BOTTOM?"append":"prepend",insertPoint:o,direction:r});if(h){var m=d-this.images.findIndex(function(e){return e.id===o.unitId});if(0===m)return null;if(1===m&&o.offset>0)return null;if(-1===m&&0===o.offset)return null;var g=0===o.offset?u.x.LEFT:u.x.RIGHT;return{insertCommand:"query",insertPoint:o,direction:g}}return f?null:p?{insertCommand:"query",insertPoint:o,direction:0===o.offset?u.x.LEFT:u.x.RIGHT}:this._isAppendable({items:t,hasOtherType:s,isFull:l,focus:n})?(o.unitId=this.id,{insertCommand:r===u.x.BOTTOM?"append":"prepend",insertPoint:o,direction:r}):null},o._isAppendable=function(e){var t=e.hasOtherType,o=e.isFull,n=e.focus,r=this.images.some(function(e){return e.id===n.unitId});return t||o||r},o.merge=function(e,t){var o=e.every(function(e){return"image"===e.ctype});if(e.length<=2&&o){var n,r=t.unitId,i=t.offset;e.forEach(function(e){Object.assign(e.attributes,{cursor:"selectable-unit",selection:"selectable-unit",erasure:"query"}),e.format!==u.C.PANORAMA&&e.format!==u.C.VR360||(e.displayFormat=u.C.NORMAL,e._resolveThumbnailType())});var a=[].concat(e),s=this.images.findIndex(function(e){return e.id===r});if(s>=0&&i>=1?s=0===i?Math.max(s-1,0):Math.min(s+1,2):s<0&&(s=0),(n=this.images).splice.apply(n,[s,0].concat(a)),this.updateWidthRatio(this.images),1===a.length){var c=a[0],l=this.caption.isEmpty()?c.caption:this.caption,p=dg.a.dropProperty(l.toValidJSON(),"id");this.caption=this._createTextUnitStore(p,this._config),this.updateTheme()}return{components:[this]}}return{components:[this].concat(e)}},o.mergeWith=function(e,t){var o,n=t.mergePoint,r=n.unitId,i=n.offset,a=[].concat(e),s=this.images.findIndex(function(e){return e.id===r});return s>=0&&1===i?s+=1:s<0&&(s=0),(o=this.images).splice.apply(o,[s,0].concat(a)),this.updateWidthRatio(this.images),this},o.queryErasure=function(e){if(this._isImageUnit(e)){if(this._removeImageUnit(e),1===this.images.length){var t=this.images.pop().toValidJSON();t.id=this.id;var o=this._componentFactory.createComponentWithCompData(t);return{result:"replace",component:o,range:o.getComponentActiveRange()}}return{result:"replace",component:this,range:this.getComponentActiveRange()}}if(this._isSelectedComponent())return{result:"self",component:null,range:null}},o._removeImageUnit=function(e){var t=this.images.filter(function(t){return t.id!==e.start.unitId});this.images=this.updateWidthRatio(t)},o.changeImage=function(e,t){var o=e.start.unitId;this._findImageUnitByUnitId(o).setState(t)},o.applyEditedImage=function(e){var t=this,o=e.photos.map(function(e){return e.modified?t._refineIntoImageData(e):e});this.updateData({compId:e.key,images:o}),this.updateWidthRatio(this.images)},o._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,originalWidth:r,originalHeight:n,path:a,id:t,src:""+i+a+(this.thumbnailTypeMap.normal?"?type="+this.thumbnailTypeMap.normal:"")}},o.getStoreById=function(e){if(e===this.id)return this;if(e===this.caption.id)return this.caption;var t=this.images.find(function(t){return t.id===e});return t||null},o.getSelectedAlign=function(){return{align:this.align}},o.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,contentMode:this.contentMode,width:this.width,height:this.height,align:t};if(e&&!0===this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(pg.a)(n,function(e){return""===e||null===e});o.caption=r}if(!0===this._isImageUnit(e)){var i=Object(up.a)(this.images,{id:e.start.unitId});o.link={value:i.link},o.src=i.src}return o},o.isBiggerThanContentWidth=function(e){return Number(e)>=Number(this.contentStandardWidth)},o._findImageUnitByUnitId=function(e){return this.images.filter(function(t){return t.id===e})[0]},o._isSelectedComponent=function(){return"single"===this.selection||"multi"===this.selection||"block"===this.selection},o._isImageUnit=function(e){return!!this._findImageUnitByUnitId(e.start.unitId)},o.updateWidthRatio=function(e){if(0===e.length)return!1;var t=e,o=t[0].height;t.forEach(function(e){var t=o/e.height;e._normalHeight=e.height*t,e._normalWidth=e.width*t});var n=t.reduce(function(e,t){return("number"==typeof e?e:e._normalWidth)+("number"==typeof t?t:t._normalWidth)});return t.forEach(function(e){e.widthPercentage=e._normalWidth/n*100,delete e._normalHeight,delete e._normalWidth}),t},o.clone=function(e){if(this.caption.isFocused)return this.caption.clone(e);if(this.isUnitFocused){var t=this._findFocusedUnit().clone();return t.resetWidthPercentage(),t}return this._isSelectedComponent()?this._componentFactory.createComponentWithCompData(this.toValidJSON()):void 0},o._findFocusedUnit=function(){return Object(up.a)(this.images,function(e){return"single"===e.selection})},o.isRepresentativeImage=function(){return Object(ug.a)(this.images,function(e){return e.isRepresentativeImage()})},o.hasRepresentativeImage=function(){return Object(ug.a)(this.images,function(e){return e.hasRepresentativeImage()})},o.setRepresentativeImage=function(e){var t=e.unitId,o=this._findImageUnitByUnitId(t);o||(o=Object(up.a)(this.images,function(e){return e.isRepresentativeImage()})),o&&o.setRepresentativeImage()},o.releaseRepresentativeImage=function(e){var t=e.unitId,o=this._findImageUnitByUnitId(t);o&&o.releaseRepresentativeImage()},o.getRepresentativeId=function(){var e=this;return Object(Kt.a)(this.images,function(t){return e.id+"|"+t.getRepresentativeId()})},o.getRepresentativeInnerData=function(){var e=Object(up.a)(this.images,function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},o.isLibraryComponent=function(){return Object(ug.a)(this.images,function(e){return!0===e.isLibraryComponent()})},o.getLibraryItemData=function(){var e=this;return Object(ro.a)(Object(Kt.a)(this.images,function(t){if(t.isLibraryComponent())return Object.assign(t.getLibraryItemData(),{id:e.id})}))},o.deselect=function(){this.images.forEach(function(e){return e.deselect()}),this.caption.deselect(),this._changeSelectionToNone()},o._createTextUnitStore=function(e,t){var o={state:e,config:Object(i.a)({},t.caption,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},filterTextStyle:{fontFamily:af.b.NOT_ALLOWED,fontSizeCode:af.b.NOT_ALLOWED,fontColor:af.b.NOT_ALLOWED,backgroundColor:af.b.NOT_ALLOWED,italic:af.b.NOT_ALLOWED,underline:af.b.NOT_ALLOWED,strikeThrough:af.b.NOT_ALLOWED,subscript:af.b.NOT_ALLOWED,superscript:af.b.NOT_ALLOWED,dropCap:af.b.NOT_ALLOWED}})},n=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),r=Object(J.a)(n,"caption.textStyle",{}),a=o.config.filterTextStyle;return o.config.filterTextStyle=Object(Ua.a)(a,r),new sf.a(o)},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,caption:this.caption.toPlainJSON(),images:this.images.map(function(e){return e.toPlainJSON()}),layout:this.layout,phase:this.phase,contentMode:this.contentMode,align:this.align}},Ye()(t,[{key:"isUnitFocused",get:function(){return Object(ug.a)(this.images,function(e){return"single"===e.selection})}},{key:"isFocused",get:function(){return this.caption.isFocused||this.isUnitFocused||"none"!==this.selection}},{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),t}(fg),ng=q()(og.prototype,"caption",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rg=q()(og.prototype,"images",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ig=q()(og.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qm.DEFAULT}}),ag=q()(og.prototype,"contentMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Jm.EXTEND}}),sg=q()(og.prototype,"phase",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.N.DONE}}),cg=q()(og.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q()(og.prototype,"isUnitFocused",[K.e],Object.getOwnPropertyDescriptor(og.prototype,"isUnitFocused"),og.prototype),q()(og.prototype,"isFocused",[K.e],Object.getOwnPropertyDescriptor(og.prototype,"isFocused"),og.prototype),og);mg.ctype="imageStrip",mg.schema={id:rf.a.string.isRequired,ctype:rf.a.string.isRequired,layout:rf.a.string.isRequired,contentMode:rf.a.string.isRequired,images:rf.a.arrayOf(rf.a.shape(Yf.a.schema)).isRequired,caption:rf.a.captionTextUnit,align:rf.a.string};var gg,yg,bg,_g=mg,vg=_g;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/store/index.js",localName:t}})}catch(e){}}e(hg,"RepresentativeCompStore"),e(fg,"LinkWritableAndRepresentativeCompStore"),e(mg,"ImageStripComponentStore"),e(_g,"default")}();var Cg,Og=(gg=Object(ee.history)({sync:!1}),yg=Object(ee.history)({sync:!1}),bg=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=u.V.get("editingService"),t._imageStripComponentService=u.V.get("imageStripComponentService"),t._imageUploadService=u.V.get("imageUploadService"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._imageEditService=u.V.get("imageEditService"),t._libraryPanelLayoutService=u.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._imageBehavior=u.V.get("imageBehavior"),t}h()(t,e);var o=t.prototype;return o.deleteImageUnit=function(e){this._editingService.erase(e)},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;u.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.changeImage=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return n=e.sent,this._imageStripComponentService.changeImageUnitToShell(),e.next=6,this._imageBehavior.changeImage({targetStoreId:t,selectedImages:n},{onEachUpload:function(e){var t=e.code,n=e.response;"SUCCESS"===t&&r._imageStripComponentService.updateShellImageUnit(n,o)}}).then(function(e){if(e.invalidImageErrors.length>0){var t=r._selectionInfoStore.toValidJSON();r._imageStripComponentService.updateComponentPhase(u.N.DONE,o),r._editingService.erase(t)}});case 6:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageEditService.editImage({activeCompId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(u.c),q()(bg.prototype,"deleteImageUnit",[ee.history,K.d],Object.getOwnPropertyDescriptor(bg.prototype,"deleteImageUnit"),bg.prototype),q()(bg.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(bg.prototype,"setRepresentativeImage"),bg.prototype),q()(bg.prototype,"changeImage",[gg,K.d],Object.getOwnPropertyDescriptor(bg.prototype,"changeImage"),bg.prototype),q()(bg.prototype,"editImage",[ee.preventOnDocumentProcessing,yg,K.d],Object.getOwnPropertyDescriptor(bg.prototype,"editImage"),bg.prototype),bg),Sg=Og,kg=Sg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/use-case/index.js",localName:t}})}catch(e){}}e(Og,"ImageStripComponentUseCase"),e(Sg,"default")}();var Ig=(Cg=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout||qm.DEFAULT,a=t.contentMode||Jm.FIT,s=this._resolveWrapperClassName();return K.b.createElement(ef.a,{store:t,id:n,ctype:r,layout:i,contentMode:a,className:s,i18n:o},K.b.createElement(tf.a,{compId:n,compStore:t},K.b.createElement(Mf.a,{blockWrapperProps:t},Object(Qm.a)({}),K.b.createElement("div",{className:"se-imageStrip-container"},tg({i18n:o,images:t.images,onDoubleClick:this._handleDblClickImage,onClickRepresent:this._handleClickRepresent,onClickDelete:this._handleClickDeleteImageUnit,onCompleteImage:this._handleCompleteImage})),K.b.createElement(Xm.a,{store:t,i18n:o,additionalOption:{placeholder:this.props.i18n("imageStripComponent:placeholder_caption")},onLimitTextLength:this._handleLimitTextLength}))))},o._resolveWrapperClassName=function(){var e,t=this.props.store.images.length;return We()(((e={})["se-imageStrip"+t]=!0,e))},o._handleDblClickImage=function(e,t){var o=this.props,n=o.store,r=o.useCase;t.internalResource?r.editImage(t.id):r.changeImage(t.id,n.id)},o._handleClickRepresent=function(e,t){e.preventDefault(),e.stopPropagation();var o=this.props,n=o.store;o.useCase.setRepresentativeImage({compId:n.id,unitId:t.id}),Lt.a.log(e.nativeEvent,"imsct.rep")},o._handleClickDeleteImageUnit=function(e,t){var o,n=this.props,r=n.store;n.useCase.deleteImageUnit({compIdMap:(o={},o[r.id]={},o),start:{compId:r.id,unitId:t.id,paraId:null,nodeId:null,offset:0},end:{compId:r.id,unitId:t.id,paraId:null,nodeId:null,offset:1}}),Lt.a.log(e.nativeEvent,"imsct.x")},o._handleCompleteImage=function(){this.props.useCase.repaintCursor()},t}(K.b.Component),q()(Cg.prototype,"_handleDblClickImage",[ee.autobind],Object.getOwnPropertyDescriptor(Cg.prototype,"_handleDblClickImage"),Cg.prototype),q()(Cg.prototype,"_handleClickRepresent",[ee.autobind],Object.getOwnPropertyDescriptor(Cg.prototype,"_handleClickRepresent"),Cg.prototype),q()(Cg.prototype,"_handleClickDeleteImageUnit",[ee.autobind],Object.getOwnPropertyDescriptor(Cg.prototype,"_handleClickDeleteImageUnit"),Cg.prototype),q()(Cg.prototype,"_handleCompleteImage",[ee.autobind],Object.getOwnPropertyDescriptor(Cg.prototype,"_handleCompleteImage"),Cg.prototype),Cg);Ig.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func.isRequired,store:K.a.instanceOf(vg).isRequired,useCase:K.a.instanceOf(kg).isRequired};var wg=Object(Z.b)(Ig),Pg=wg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/view/index.jsx",localName:t}})}catch(e){}}e(Ig,"ImageStripComponentView"),e(wg,"default")}();var jg=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.V.get("configAgent"),t._componentListStore=u.V.get("componentListStore"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._i18n=u.V.get("i18n"),t}h()(t,e);var o=t.prototype;return o.updateData=function(e){this.getComponentStore(e.compId).updateData(e)},o.updateComponentPhase=function(e,t){this.getComponentStore(t).updatePhase(e)},o.isImageCompIncluded=function(e,t){var o=e.compId,n=t.compId;if(n===o)return!0;var r=this._componentListStore.getComponentById(o);return"imageStrip"===r.ctype&&r.images.some(function(e){return e.id===n})},o.getSelectedCompStore=function(){var e=this._selectionInfoStore.start.compId;return this.getComponentStore(e)},o.getCompStoreByCompId=function(e){return this.getComponentStore(e)},o.getImageComponent=function(e,t){return e.getStoreById(t)},o.getSelectedImage=function(){var e=this.getSelectedCompStore(),t=this._selectionInfoStore.toValidJSON().start;return this.getImageComponent(e,t.unitId)},o.isComponentActivated=function(){var e=this._selectionInfoStore.toValidJSON().start;return e.compId===e.unitId},o._updateImageStripWithRatio=function(e){var t=this.getCompStoreByCompId(e);t.updateWidthRatio(t.images)},o.updateShellImageUnit=function(e,t){var o=this.getCompStoreByCompId(t).images,n=Object(up.a)(o,{id:e.id});this.updateShellImageUnitBy(e,n,t)},o.updateShellImageUnitBy=function(e,t,o){var n=this._configAgent.get("infraInfo.photoInfra.imageHost"),r=e.animatedCnt>1,i={alt:e.fileName,height:parseInt(e.height,10),width:parseInt(e.width,10),originalWidth:parseInt(e.width,10),originalHeight:parseInt(e.height,10),path:e.path+"/"+e.fileName,fileSize:Number(e.fileSize),format:r?u.C.ANIMATED:u.C.NORMAL,fileName:e.fileName,internalResource:!0,phase:u.N.DONE,domain:e.domain||t.domain||n};r||(i.displayFormat=u.C.NORMAL),t.setState(i),this._updateImageStripWithRatio(o)},o.changeImageUnitToShell=function(){var e=this.getSelectedCompStore(),t=this._selectionInfoStore.toValidJSON();e.changeImage(t,{phase:u.N.PROCESSING,internalResource:!0,path:""})},o.getShellUnitInfoOfImageStripComp=function(e){var t=this._componentListStore.getComponentById(e.start.compId).images.filter(function(e){return e.phase!==u.N.DONE});return 0===t.length?{}:{id:t[0].id,unitStores:t}},o.getInternalResourceImages=function(){return this.getSelectedCompStore().images.filter(function(e){return!0===e.internalResource})},t}(u.a),Tg=jg,Lg=Tg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/service/index.js",localName:t}})}catch(e){}}e(jg,"ImageStripComponentService"),e(Tg,"default")}();var Eg,Ng,xg,Dg,Rg,Ag,Mg=o(261),Bg=o(262),Ug=o(263),Vg=o(264),Fg=o(719),zg=(Eg=Object(ee.history)({sync:!1}),Ng=Object(ee.history)({sync:!1}),xg=Object(ee.history)({sync:!1}),Dg=Object(ee.history)({sync:!1}),Rg=Object(ee.history)({sync:!1}),Ag=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=u.V.get("editingService"),t._imageUploadService=u.V.get("imageUploadService"),t._componentListStore=u.V.get("componentListStore"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._imageStripComponentService=u.V.get("imageStripComponentService"),t._imageEditService=u.V.get("imageEditService"),t._imageComponentService=u.V.get("imageComponentService"),t._imageBehavior=u.V.get("imageBehavior"),t}h()(t,e);var o=t.prototype;return o.changeImage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n,r=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._imageStripComponentService.getSelectedCompStore(),o=this._imageStripComponentService.getSelectedImage(),e.next=4,this._imageUploadService.openFileDialog();case 4:return n=e.sent,this._imageStripComponentService.changeImageUnitToShell(),e.next=8,this._imageBehavior.changeImage({targetStoreId:o.id,selectedImages:n},{onEachUpload:function(e){var o=e.code,n=e.response;"SUCCESS"===o&&r._imageStripComponentService.updateShellImageUnit(n,t.id)}}).then(function(e){if(e.invalidImageErrors.length>0){var o=r._selectionInfoStore.toValidJSON();r._imageStripComponentService.updateComponentPhase(u.N.DONE,t.id),r._editingService.erase(o)}});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageStripComponentService.getInternalResourceImages(),n=this._imageStripComponentService.isComponentActivated(),r=this._imageStripComponentService.getSelectedImage(),i=n?o[0].id:r.id,e.next=6,this._imageEditService.editImage({activeCompId:i,direct:t});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(u.m),q()(Ag.prototype,"changeImage",[ee.sentryCatch,ee.preventOnComponentProcessing,Eg,K.d],Object.getOwnPropertyDescriptor(Ag.prototype,"changeImage"),Ag.prototype),q()(Ag.prototype,"editImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,Ng,K.d],Object.getOwnPropertyDescriptor(Ag.prototype,"editImage"),Ag.prototype),q()(Ag.prototype,"adjustImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,xg,K.d],Object.getOwnPropertyDescriptor(Ag.prototype,"adjustImage"),Ag.prototype),q()(Ag.prototype,"cropImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,Dg,K.d],Object.getOwnPropertyDescriptor(Ag.prototype,"cropImage"),Ag.prototype),q()(Ag.prototype,"filterImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,Rg,K.d],Object.getOwnPropertyDescriptor(Ag.prototype,"filterImage"),Ag.prototype),Ag);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/buttons/use-case/image-strip-button-use-case.js",localName:t}})}catch(e){}}(zg,"ImageStripButtonUseCase")}();var Wg={"image-edit-right-label":{view:Em.a,useCase:zg,propertyName:"",styleName:"image-edit"},"image-edit":{view:Mg.a,useCase:zg,propertyName:"",styleName:"image-edit"},"image-adjust":{view:Bg.a,useCase:zg,styleName:"image-adjust"},"image-crop":{view:Ug.a,useCase:zg,styleName:"image-crop"},"image-filter":{view:Vg.a,useCase:zg,styleName:"image-filter"},"image-replacement-right-label":{view:Nm.a,useCase:zg,propertyName:"",styleName:"image-replacement"},"image-replacement":{view:Fg.a,useCase:zg,propertyName:"",styleName:"image-replacement"}},Gg=Wg,Hg=Gg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(Wg,"buttons"),e(Gg,"default")}();var qg={propertyToolbar:{"image-replacement-right-label":Hg["image-replacement-right-label"],"image-edit-right-label":Hg["image-edit-right-label"],align:Object(dt.a)("align-group"),"caption-align":Object(dt.a)("caption-align-group"),"content-mode-without-default":Object(dt.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(dt.a)("content-mode-group-fit-and-extend"),"wrapping-layout":Object(dt.a)("wrapping-layout-drop-down"),"image-link":Object(dt.a)("image-link"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"caption-bold":Object(dt.a)("caption-bold"),"special-letter":Object(dt.a)("special-letter"),"caption-link":Object(dt.a)("caption-link"),"caption-align":Object(dt.a)("caption-align"),"image-replacement":Hg["image-replacement"],"image-edit":Hg["image-edit"],"content-mode":Object(dt.a)("content-mode-group"),"content-mode-without-default":Object(dt.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(dt.a)("content-mode-group-fit-and-extend"),delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar"),translation:Object(dt.a)("translation")}},Jg=qg;function Kg(e,t){var o=t.start.unitId;return Object(up.a)(e.images,{id:o})}function Yg(e,t){return t?"normal"===t.displayFormat&&!0===t.internalResource:Object(ug.a)(e.images,function(e){return"normal"===e.displayFormat&&!0===e.internalResource})}!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/image-strip-button-set-map.js",localName:t}})}catch(e){}}(qg,"default")}();var Xg=function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=[];if(1===t.length){var r=Object(no.a)(t),i=Kg(r,o),a=!!i,s=Yg(r,i);r.isCaptionFocused()?n.push("caption-align","separator-bar"):n.push("align","separator-bar"),!0===a&&n.push("separator-bar","image-replacement-right-label"),!0===s&&n.push("separator-bar","image-edit-right-label"),n.push("separator-bar","content-mode-fit-and-extend"),!0===a&&n.push("separator-bar","image-link")}else n.push("align","separator-bar","content-mode-fit-and-extend");return n},Qg=function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=[];if(t.length>1)return n;var r=Object(no.a)(t);if(r.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}var i=o.start.unitId===r.id,a=Kg(r,o),s=!!a,c=Yg(r,a);return i?(!0===c&&n.push("image-edit","separator-bar"),!1===s&&(n.push("content-mode-fit-and-extend"),n.push("separator-bar","delete")),n):(!0===s&&n.push("image-replacement"),!0===c&&n.push("image-edit"),n)},Zg={propertyToolbar:Xg,contextToolbar:Qg},$g=Zg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/image-strip-button-resolver.js",localName:t}})}catch(e){}}e(Kg,"getActivatedImage"),e(Yg,"checkHasEditableImage"),e(Xg,"propertyToolbarButtonSetResolver"),e(Qg,"contextToolbarButtonSetResolver"),e(Zg,"default")}();var ey=function(e){function t(){return e.call(this,{buttonSetMap:Jg,buttonResolver:$g})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/index.js",localName:t}})}catch(e){}}(ey,"ImageStripComponentToolbar")}();var ty=u.q.extend({name:"ImageStripComponent",view:Pg,useCase:kg,service:Lg,store:vg,toolbar:ey}),oy=ty,ny=oy;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/index.js",localName:t}})}catch(e){}}e(ty,"ImageStripComponent"),e(oy,"default")}();var ry=o(73),iy=o(715),ay=o(714),sy=o(139),cy={LEFT:"left",CENTER:"center",RIGHT:"right"},ly={DEFAULT:"default"},uy={NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},py={NORMAL:"normal",VR360:"vr360"},dy={VideoAlign:cy,VideoLayout:ly,VideoContentMode:uy,VideoFormat:py};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/consts/index.js",localName:t}})}catch(e){}}e(cy,"VideoAlign"),e(ly,"VideoLayout"),e(uy,"VideoContentMode"),e(py,"VideoFormat"),e(dy,"default")}();var hy,fy,my,gy,yy,by,_y,vy,Cy,Oy,Sy,ky,Iy,wy,Py,jy,Ty,Ly,Ey,Ny,xy,Dy,Ry,Ay,My,By=o(88),Uy=o(217),Vy=Object(u.Z)(Object(u.X)(u.h)),Fy=(hy=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.documentWidth=null,z()(o,"vid",fy,G()(o)),z()(o,"layout",my,G()(o)),z()(o,"contentMode",gy,G()(o)),z()(o,"fileSize",yy,G()(o)),z()(o,"playTime",by,G()(o)),z()(o,"template",_y,G()(o)),z()(o,"internalResource",vy,G()(o)),z()(o,"vendor",Cy,G()(o)),z()(o,"originalWidth",Oy,G()(o)),z()(o,"originalHeight",Sy,G()(o)),z()(o,"width",ky,G()(o)),z()(o,"height",Iy,G()(o)),z()(o,"format",wy,G()(o)),z()(o,"source",Py,G()(o)),z()(o,"represent",jy,G()(o)),z()(o,"caption",Ty,G()(o)),z()(o,"align",Ly,G()(o)),z()(o,"thumbnail",Ey,G()(o)),z()(o,"mediaMeta",Ny,G()(o)),z()(o,"serviceData",xy,G()(o)),z()(o,"videoInfraServiceId",Dy,G()(o)),z()(o,"viewMode",Ry,G()(o)),z()(o,"imageLoaded",Ay,G()(o)),z()(o,"representativeEnabled",My,G()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o._config=s,o._configAgent=u.V.get("configAgent"),o._componentFactory=u.V.get("componentFactory"),o._editorStatusStore=u.V.get("editorStatusStore"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.videoMinimumWidth=s.videoMinimumWidth||o._configAgent.get("editorInfo.videoMinimumWidth"),o.videoMinimumHeight=s.videoMinimumHeight||o._configAgent.get("editorInfo.videoMinimumHeight"),o.attributes=Object(Ua.a)(o.attributes,s.attributes),o.vid=Object(J.a)(i,"vid",o.vid),o.layout=Object(J.a)(i,"layout",o.layout),o.fileSize=Object(J.a)(i,"fileSize",o.fileSize),o.playTime=Object(J.a)(i,"playTime",o.playTime),o.template=Object(J.a)(i,"template",o.template),o.internalResource=Object(J.a)(i,"internalResource",o.internalResource),o.vendor=Object(J.a)(i,"vendor",o.vendor),o.contentMode=Object(J.a)(i,"contentMode"),o.width=Object(J.a)(i,"width"),o.height=Object(J.a)(i,"height"),o.originalWidth=Object(J.a)(i,"originalWidth",o.width),o.originalHeight=Object(J.a)(i,"originalHeight",o.height),o.viewMode=o._editorStatusStore.viewMode,o.updateConfig(),o.originalWidth&&o.originalHeight?o.width&&o.height?o._resolveWidthAndHeight({width:o.width,height:o.height}):(o.width=o.originalWidth,o.height=o.originalHeight,o._resolveWidthAndHeight({width:o.width,height:o.height})):(o.width=o.documentWidth,o.height=Math.floor(9*o.width/16),o.originalWidth=o.width,o.originalHeight=o.height,o.contentMode=uy.FIT),o.format=Object(J.a)(i,"format",o.format),o.source=Object(J.a)(i,"source",o.source),o.represent=Object(J.a)(i,"represent",o.represent),o.align=Object(J.a)(i,"align",o.align),o.caption=o._createCaptionTextUnitStore(i,s),o.thumbnail=Object(lg.a)(o.thumbnail,i.thumbnail),o.viewMode=Object(J.a)(i,"viewMode",o.viewMode);var c=o._configAgent.get("infraInfo.videoInfra.serviceId");return o.videoInfraServiceId=c?c.toString():null,i.mediaMeta&&(o.mediaMeta=Object(lg.a)({ctype:"mediaMeta"},i.mediaMeta),o.mediaMeta.tags=Object(J.a)(o.mediaMeta,"tags",[])),i.serviceData&&!Object(Xe.a)(i.serviceData)&&(o.serviceData=Object(J.a)(i,"serviceData",null)),o.contentMode?o._resolveSizeByContentMode():o._resolveContentModeBySize(),o.maxVideoTitleLength=40,o}h()(t,e);var o=t.prototype;return o.setState=function(e){var t=e.width,o=e.height,n=e.caption,r=e.mediaMeta,i=e.serviceData,a=e.thumbnail;if(n){var s=new sf.a({state:n});delete e.caption,this.caption=s}return this.layout=Object(J.a)(e,"layout",this.layout),this.contentMode=Object(J.a)(e,"contentMode",this.contentMode),this.fileSize=Object(J.a)(e,"fileSize",this.fileSize),this.playTime=Object(J.a)(e,"playTime",this.playTime),this.template=Object(J.a)(e,"template",this.template),this.internalResource=Object(J.a)(e,"internalResource",this.internalResource),this.vendor=Object(J.a)(e,"vendor",this.vendor),this._resolveWidthAndHeight({width:t,height:o}),this.originalWidth=Object(J.a)(e,"originalWidth",this.originalWidth),this.originalHeight=Object(J.a)(e,"originalHeight",this.originalHeight),this.format=Object(J.a)(e,"format",this.format),this.source=Object(J.a)(e,"source",this.source),this.represent=Object(J.a)(e,"represent",this.represent),this.align=Object(J.a)(e,"align",this.align),this.videoInfraServiceId=Object(J.a)(e,"videoInfraServiceId",this.videoInfraServiceId),this.thumbnail=Object(lg.a)(this.thumbnail,a),this.maxVideoTitleLength=Object(J.a)(e,"maxVideoTitleLength",this.maxVideoTitleLength),r&&(this.mediaMeta=Object(lg.a)({ctype:"mediaMeta"},r),this.mediaMeta.tags=Object(J.a)(this.mediaMeta,"tags",[])),i&&!Object(Xe.a)(i)&&(this.serviceData=Object(J.a)(e,"serviceData",null)),t&&this._resolveContentModeBySize(),this},o.changeContentMode=function(e){this.contentMode=e,this._resolveSizeByContentMode()},o.changeSize=function(e){var t=e.width,o=e.height,n=e.isReset,r=this.width/this.height,i=t,a=o,s=!0;i?a||(a=t/r):i=o*r,n&&(i=this.originalWidth,a=this.originalHeight,s=!1),this._resolveWidthAndHeight({width:i,height:a,hasBoundedBelowSize:s}),this._resolveContentModeBySize()},o.changeLink=function(e,t){return void 0===e&&(e={}),!0===this.caption.isFocused?this.caption.changeLink(this.checkProtocol(e),t):(this.link=e.value?this.checkProtocol(e).value:null,[this.getStartPoint()])},o.updateProperty=function(e,t){var o=e.contentMode,n=e.resizing,r=e.link,i=ga()(e,["contentMode","resizing","link"]);if(o&&this.changeContentMode(o),n&&this.changeSize(n),Object(nf.a)(this,i),r)return this.changeLink(r,t)},o.updateMediaMeta=function(e){this.mediaMeta=Object(lg.a)({ctype:"mediaMeta"},e)},o.updateServiceData=function(e){e&&!Object(Xe.a)(e)&&(this.serviceData=e)},o.normalizeData=function(e){null!==this.mediaMeta&&void 0!==this.mediaMeta||this.updateMediaMeta({title:"",description:"",tags:[]});var t=this.mediaMeta.title;Object(Xe.a)(t)&&(this.mediaMeta=Je()({},this.mediaMeta,{title:e.substring(0,this.maxVideoTitleLength)}))},o.getMaxVideoTitleLength=function(){return this.maxVideoTitleLength},o.getMediaMeta=function(){if(this.mediaMeta){var e=this.mediaMeta,t=e.title,o=e.description,n=e.tags;return{title:t,description:o,tags:K.f.toJS(n)}}return{title:"",description:"",tags:[]}},o.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,align:t,contentMode:this.contentMode,size:{width:this.width,height:this.height}};if(e&&!0===this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(pg.a)(n,function(e){return""===e||null===e});o.caption=r}return o},o.getSelectedAlign=function(){return{align:this.align}},o._resolveContentModeBySize=function(){var e;e=this.isBiggerThanDocumentWidth(this.width)||this.isWidthEqualToDocumentWidth(this.width)?uy.FIT:uy.NORMAL,this.contentMode=e},o._resolveSizeByContentMode=function(){var e=this.documentWidth/this.width,t=uy.NORMAL,o=uy.FIT,n=uy.EXTEND,r=uy.PAGEFULL;if(this.contentMode===t)if(this.width<this.documentWidth)this._updateSize(this.width,this.height);else if(this.width>this.documentWidth||this.originalWidth>=this.documentWidth){var i=.75*this.documentWidth,a=this.height*e*.75;this._updateSize(i,a)}else this.originalWidth<this.documentWidth&&this._resolveWidthAndHeight({width:this.originalWidth,height:this.originalHeight});else if([o,n,r].includes(this.contentMode)){var s=Math.floor(this.height*e);this._updateSize(this.documentWidth,s)}},o._resolveWidthAndHeight=function(e){var t=e.width,o=void 0===t?this.width:t,n=e.height,r=void 0===n?this.height:n,i=e.hasBoundedBelowSize,a=void 0!==i&&i,s=this.width/this.height,c=o,l=r;if(a&&l<this.videoMinimumHeight&&(c=(l=this.videoMinimumHeight)*s),a&&c<this.videoMinimumWidth)l=(c=this.videoMinimumWidth)/s;else if(c>this.documentWidth){var u=this.documentWidth/o;c=this.documentWidth,l=Math.floor(r*u)}this._updateSize(c,l)},o._updateSize=function(e,t){this.width=Math.floor(e),this.height=Math.floor(t)},o.isWidthEqualToDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e===this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height===this.documentWidth},o.isBiggerThanDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e>this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height>this.documentWidth},o.isSmallerThanMinimumHeight=function(e,t){return void 0===e&&(e=""),this._isNumber(t)?t<this.videoMinimumHeight:!!this._isNumber(e)&&e*this.height/this.width<this.videoMinimumHeight},o.isSmallerThanMinimumWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e<this.videoMinimumWidth:!!this._isNumber(t)&&t*this.width/this.height<this.videoMinimumWidth},o._isNumber=function(e){return"number"==typeof e},o.isLibraryComponent=function(){return!0===this.internalResource},o.getLibraryItemData=function(){return{id:this.id,key:this.vid,thumbnail:Object(J.a)(this,"thumbnail.src"),data:this.toValidJSON()}},o.getRepresentativeImageURL=function(){return Object(J.a)(this,"thumbnail.src")},o.getRepresentativeInnerData=function(){return this.toValidJSON()},o.updateViewMode=function(e){this.viewMode=e},o.completeImageLoad=function(){this.imageLoaded=!0},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},o.isRepresentativeImage=function(){return e.prototype.isRepresentativeImage.call(this)&&!this.isSmallerThanMinimumSize(this.width,this.height)},o.isSmallerThanMinimumSize=function(e,t){return this.isSmallerThanMinimumWidth(e,t)||this.isSmallerThanMinimumHeight(e,t)},o._createCaptionTextUnitStore=function(e,t){var o={state:e.caption,config:Object(i.a)({},t.caption,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},maxLength:1/0,filterTextStyle:{fontFamily:af.b.NOT_ALLOWED,fontSizeCode:af.b.NOT_ALLOWED,fontColor:af.b.NOT_ALLOWED,backgroundColor:af.b.NOT_ALLOWED,italic:af.b.NOT_ALLOWED,underline:af.b.NOT_ALLOWED,strikeThrough:af.b.NOT_ALLOWED,subscript:af.b.NOT_ALLOWED,superscript:af.b.NOT_ALLOWED,dropCap:af.b.NOT_ALLOWED,list:af.b.NOT_ALLOWED}})},n=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),r=Object(J.a)(n,"caption.textStyle",{}),a=o.filterTextStyle;return o.filterTextStyle=Object(Ua.a)(a,r),new sf.a(o)},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,vid:this.vid,layout:this.layout,contentMode:this.contentMode,fileSize:this.fileSize,playTime:this.playTime,template:this.template,internalResource:this.internalResource,vendor:this.vendor,originalWidth:this.originalWidth,originalHeight:this.originalHeight,width:this.width,height:this.height,format:this.format,source:this.source,represent:this.represent,caption:this.caption.toPlainJSON(),align:this.align,thumbnail:K.f.toJS(this.thumbnail),mediaMeta:K.f.toJS(this.mediaMeta),serviceData:K.f.toJS(this.serviceData),videoInfraServiceId:this.videoInfraServiceId,viewMode:this.viewMode}},Ye()(t,[{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),t}(Object(u.W)(Vy)),fy=q()(hy.prototype,"vid",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),my=q()(hy.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),gy=q()(hy.prototype,"contentMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return uy.FIT}}),yy=q()(hy.prototype,"fileSize",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),by=q()(hy.prototype,"playTime",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_y=q()(hy.prototype,"template",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vy=q()(hy.prototype,"internalResource",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cy=q()(hy.prototype,"vendor",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Oy=q()(hy.prototype,"originalWidth",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sy=q()(hy.prototype,"originalHeight",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ky=q()(hy.prototype,"width",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Iy=q()(hy.prototype,"height",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wy=q()(hy.prototype,"format",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"normal"}}),Py=q()(hy.prototype,"source",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jy=q()(hy.prototype,"represent",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ty=q()(hy.prototype,"caption",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ly=q()(hy.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ey=q()(hy.prototype,"thumbnail",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"thumbnail",alt:"",src:""}}}),Ny=q()(hy.prototype,"mediaMeta",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xy=q()(hy.prototype,"serviceData",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dy=q()(hy.prototype,"videoInfraServiceId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ry=q()(hy.prototype,"viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.T.VIEW_MODE_PC}}),Ay=q()(hy.prototype,"imageLoaded",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),My=q()(hy.prototype,"representativeEnabled",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hy);Fy.ctype="video",Fy.schema={id:rf.a.string.isRequired,ctype:rf.a.string.isRequired,layout:rf.a.string.isRequired,align:rf.a.string,contentMode:rf.a.string.isRequired,fileSize:rf.a.number,playTime:rf.a.number,internalResource:rf.a.bool.isRequired,vendor:rf.a.string,thumbnail:rf.a.shape(Kf.h),originalWidth:rf.a.number,originalHeight:rf.a.number,width:rf.a.number,height:rf.a.number,caption:rf.a.captionTextUnit,format:rf.a.string.isRequired,source:rf.a.string,represent:rf.a.bool.isRequired,vid:rf.a.string.isRequired,mediaMeta:rf.a.shape(Kf.b),serviceData:rf.a.object,videoInfraServiceId:rf.a.string};var zy=Fy,Wy=zy;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/store/index.js",localName:t}})}catch(e){}}e(Vy,"LinkWritableAndRepresentativeCompStore"),e(Fy,"VideoComponentStore"),e(zy,"default")}();var Gy=function(e,t){var o=e.store,n=e.onLoad,r=e.onError,i=o.thumbnail,a=o.width,s=o.height,c=o.selection;return K.b.createElement("div",{className:"se-video-thumbnail"},K.b.createElement(By.b,{src:i.src,type:"none"!==c||t.readOnly?By.a.normal:By.a.lazyLoad,alt:i.alt,className:"se-video-thumbnail-resource",originalWidth:a,originalHeight:s,onLoad:n,onError:r}))};Gy.contextType=Uy.a,Gy.propTypes={store:K.a.instanceOf(Wy),onLoad:K.a.func,onError:K.a.func};var Hy,qy=Object(Z.b)(Gy),Jy=qy;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/video-thumbnail.jsx",localName:t}})}catch(e){}}e(Gy,"VideoThumbnail"),e(qy,"default")}();var Ky=(Hy=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={activatedVideoInfo:!1,isLongTitle:!1,isLongDesc:!1,prevTags:[],isLongTags:!1},o.refMetaTitleText=K.b.createRef(),o.refMetaDeskText=K.b.createRef(),o.refMetaTagText=K.b.createRef(),o.titleTextWidth=0,o.metaInfoWrapperWidth=0,o.prevMetaInfo={},o.tagWrapperHeight=0,o}h()(t,e),t.getDerivedStateFromProps=function(e,t){var o=e.store.mediaMeta,n=t.prevTags,r=JSON.stringify(o&&o.tags?o.tags:[]);return r!==JSON.stringify(n||[])?Je()({},t,{prevTags:JSON.parse(r)}):t};var o=t.prototype;return o.componentDidMount=function(){this._updateTitleState(),this._updateMetaInfo(),this._updateDescState(),this._updateTagState()},o.componentDidUpdate=function(e){var t=this.props,o=t.mediaTitle,n=t.viewMode,r=t.contentMode,i=t.store,a=Object(J.a)(i.mediaMeta,"description"),s=Object(J.a)(i.mediaMeta,"tags"),c=this._isTitleOnly(),l=e.mediaTitle!==o,u=e.viewMode!==n,p=e.contentMode!==r,d=this.prevMetaInfo.description!==a,h=this.prevMetaInfo.tags!==s,f=u||p||(d||h);!l||!c&&c||this._updateTitleState(),!l&&f&&(this._updateMetaInfoWrapperWidthState(),this._updateMetaInfo()),(l||d||h)&&(this._updateDescState(),this._updateMetaInfo()),(l||d||h)&&this._updateTagState()},o.render=function(){this.state.prevTags;var e=this._renderVideoPlayInfo(),t=this._renderVideoMetaInfo();return K.b.createElement(K.b.Fragment,null,e,t)},o._updateMetaInfo=function(){this.prevMetaInfo=this.props.store.mediaMeta||{}},o._updateTitleState=function(){if(!this.props.mediaTitle)return null;this.titleTextWidth=this.refMetaTitleText.current.clientWidth,this.metaInfoWrapperWidth=this.refMetaTitleText.current.parentNode.clientWidth,this.titleTextWidth>this.metaInfoWrapperWidth?this.setState({activatedVideoInfo:!1,isLongTitle:!0}):this.setState({activatedVideoInfo:!1,isLongTitle:!1})},o._updateDescState=function(){var e=this.refMetaDeskText.current;e&&(e.scrollWidth>e.clientWidth?this.setState({activatedVideoInfo:!1,isLongDesc:!0}):this.setState({activatedVideoInfo:!1,isLongDesc:!1}))},o._isTagsExceededWidth=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"tags",[]),o=Object(J.a)(this.refMetaTagText,"current",{}),n=Object(J.a)(o,"children",[]);if(t.length>0&&n.length>0)for(var r=n[0].getBoundingClientRect().top,i=0;i<n.length;i++){var a=n[i],s=a.getBoundingClientRect(),c=a.getClientRects();if(s.top!==r||c.length>1&&c[0].top!==c[c.length-1].top)return!0}return!1},o._updateTagState=function(){this._isTagsExceededWidth()?this.setState(function(e){return Je()({},e,{activatedVideoInfo:!1,isLongTags:!0})}):this.setState(function(e){return Je()({},e,{activatedVideoInfo:!1,isLongTags:!1})})},o._updateMetaInfoWrapperWidthState=function(){if(!this.props.mediaTitle)return null;this.metaInfoWrapperWidth=this.refMetaTitleText.current.parentNode.clientWidth,this.titleTextWidth>this.metaInfoWrapperWidth?this.setState({isLongTitle:!0}):this.setState({isLongTitle:!1})},o._renderVideoPlayInfo=function(){var e=this.props,t=e.verticalThumbnail,o=e.store,n=o.playTime,r=o.originalWidth,i=o.originalHeight,a=!t&&this._videoThumbnailRatio(r,i);return K.b.createElement("div",{className:"se-video-play-info",style:{paddingTop:a}},n&&K.b.createElement("span",{className:"se-video-time"},lo.a.getHMSFormat(n)))},o._renderVideoMetaInfo=function(){var e=this._renderVideoTitle(),t=this._renderVideoDescription(),o=this._renderVideoTags();if(e||t||o){var n=this._resolveVideoInfoClassName(),r=this._renderToggleButton();return K.b.createElement("div",{className:n},r,t,e,o)}},o._renderVideoDescription=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"description",""),o=this._isOnlyWhitespace(t),n=this._isDescOnly(),r=We()({"se-video-description":!0,"se-video-description-only":n,"se-video-description-long":n&&this.state.isLongDesc});if(t&&!o)return K.b.createElement("p",{ref:this.refMetaDeskText,className:r},t)},o._renderVideoTitle=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"title","");if(!Object(Xe.a)(t)){var o=Object(J.a)(e,"description",""),n=this._isOnlyWhitespace(o),r=this.state.isLongTitle,i=this._isTitleOnly(),a=We()({"se-video-title":!0,"se-video-title-only":i,"se-video-title-long":r&&n});return K.b.createElement("div",{className:a},K.b.createElement("span",{className:"se-video-title-text-dummy",ref:this.refMetaTitleText},t),K.b.createElement("strong",{className:"se-video-title-text"},t))}},o._renderVideoTags=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"tags",[]),o=0===t.length,n=this._isTagOnly(),r=We()({"se-video-tag-wrap":!0,"se-video-tag-only":n,"se-video-tag-long":n&&this.state.isLongTags});if(!o)return K.b.createElement("div",{ref:this.refMetaTagText,className:r},this._renderVideoTagItem(t))},o._renderVideoTagItem=function(e){return e.map(function(e,t){return K.b.createElement("span",{className:"se-video-tag",key:t},e)})},o._isNeedToogleButton=function(){var e=this._isTitleOnly(),t=this._isDescOnly(),o=this._isTagOnly(),n=!this.state.isLongTitle,r=!this.state.isLongDesc,i=!this.state.isLongTags,a=this._emptyServiceData();return!(e&&n||t&&r||o&&i)||!a},o._renderToggleButton=function(){var e=this.props.i18n,t=this._getNClickTagName();return this._isNeedToogleButton()?K.b.createElement("button",{type:"button",className:"se-video-info-toggle-button",onClick:this._handleOpenMetaInfo,onDoubleClick:this._handleOpenMetaInfo,"data-log":t},K.b.createElement("span",{className:"se-blind"},e("videoComponent:mediaMeta_more_label"))):null},o._resolveVideoInfoClassName=function(){return We()({"se-video-info-wrap":!0,"se-is-activated":this.state.activatedVideoInfo})},o._isOnlyWhitespace=function(e){return 0===e.trim().length},o._isTitleOnly=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"description",""),o=Object(J.a)(e,"tags",[]);return Object(Xe.a)(t)&&0===o.length},o._isDescOnly=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"tags",[]),o=Object(J.a)(e,"title","");return Object(Xe.a)(o)&&0===t.length},o._isTagOnly=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"description",""),o=Object(J.a)(e,"title","");return Object(Xe.a)(t)&&Object(Xe.a)(o)},o._emptyServiceData=function(){var e=this.props.store.serviceData;return Object(Xe.a)(e)||Object(ug.a)(e,function(e){return Object(Xe.a)(e)})},o._videoThumbnailRatio=function(e,t){return t/e*100+"%"},o._getNClickTagName=function(){return this.state.activatedVideoInfo?"vioct.mvmetasimple":"vioct.mvmetadetail"},o._handleOpenMetaInfo=function(e){var t=this._getNClickTagName();e.stopPropagation(),this.setState({activatedVideoInfo:!this.state.activatedVideoInfo}),this.props.refreshVirtualEditable(),Lt.a.log(e.nativeEvent,t)},t}(K.b.Component),q()(Hy.prototype,"_handleOpenMetaInfo",[ee.autobind],Object.getOwnPropertyDescriptor(Hy.prototype,"_handleOpenMetaInfo"),Hy.prototype),Hy);Ky.propTypes={store:K.a.instanceOf(Wy),verticalThumbnail:K.a.bool,width:K.a.number,contentMode:K.a.string,viewMode:K.a.string,mediaTitle:K.a.string,i18n:K.a.func,refreshVirtualEditable:K.a.func};var Yy,Xy=Object(Z.b)(Ky),Qy=Xy;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/video-info.jsx",localName:t}})}catch(e){}}e(Ky,"VideoInfo"),e(Xy,"default")}();var Zy=(Yy=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.V.get("configAgent"),t._eventDispatcherService=u.V.get("eventDispatcherService"),t._videoComponentService=u.V.get("videoComponentService"),t._canvasLayoutService=u.V.get("canvasLayoutService"),t._videoUploadService=u.V.get("videoUploadService"),t._videoUploadLayerService=u.V.get("videoUploadLayerService"),t._libraryPanelLayoutService=u.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._alertLayerService=u.V.get("alertLayerService"),t._i18n=u.V.get("i18n"),t}h()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;u.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.showWarningOverflowMaxLength=function(e){this._eventDispatcherService.emit("onWarning",e)},o.subscribeViewModeChange=function(e){this._eventDispatcherService.on(u.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.unsubscribeViewModeChange=function(e){this._eventDispatcherService.off(u.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.refreshViewMode=function(e){var t=this._canvasLayoutService.getViewMode();this._videoComponentService.updateViewMode(e,t)},o.openVideoMetaEditLayer=function(){if(!1===this._configAgent.get("modules.videoUploader.config.featureMetaEdit"))return!1;var e=this._videoComponentService.getMediaMeta(),t=this._videoComponentService.getServiceData();this._videoUploadLayerService.open(),this._videoUploadService.openMetaEditor(e,t,{confirm:this._onConfirmVideoMetaEditLayer.bind(this),error:this._onErrorVideoMetaEditLayer.bind(this),close:this._onCloseVideoMetaEditLayer.bind(this)})},o._onCloseVideoMetaEditLayer=function(){this._videoUploadLayerService.close()},o._onConfirmVideoMetaEditLayer=function(e){var t=e.mediaMeta,o=e.serviceData;this._videoComponentService.updateServiceData(o),this._videoComponentService.updateMediaMeta(t),this._videoUploadLayerService.close()},o._onErrorVideoMetaEditLayer=function(){this._videoUploadLayerService.close(),this._alertLayerService.open({type:"alert",title:this._i18n("videoComponent:error_meta_title"),description:this._i18n("videoComponent:error_meta_description")})},o.completeImageLoad=function(e){this._videoComponentService.completeImageLoad(e)},o.refreshVirtualEditable=function(){this._canvasLayoutService.refreshVirtualEditable()},t}(u.c),q()(Yy.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(Yy.prototype,"setRepresentativeImage"),Yy.prototype),q()(Yy.prototype,"showWarningOverflowMaxLength",[K.d],Object.getOwnPropertyDescriptor(Yy.prototype,"showWarningOverflowMaxLength"),Yy.prototype),q()(Yy.prototype,"subscribeViewModeChange",[K.d],Object.getOwnPropertyDescriptor(Yy.prototype,"subscribeViewModeChange"),Yy.prototype),q()(Yy.prototype,"unsubscribeViewModeChange",[K.d],Object.getOwnPropertyDescriptor(Yy.prototype,"unsubscribeViewModeChange"),Yy.prototype),q()(Yy.prototype,"openVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(Yy.prototype,"openVideoMetaEditLayer"),Yy.prototype),q()(Yy.prototype,"_onConfirmVideoMetaEditLayer",[ee.history],Object.getOwnPropertyDescriptor(Yy.prototype,"_onConfirmVideoMetaEditLayer"),Yy.prototype),q()(Yy.prototype,"_onErrorVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(Yy.prototype,"_onErrorVideoMetaEditLayer"),Yy.prototype),q()(Yy.prototype,"completeImageLoad",[K.d],Object.getOwnPropertyDescriptor(Yy.prototype,"completeImageLoad"),Yy.prototype),Yy),$y=Zy,eb=$y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/use-case/index.js",localName:t}})}catch(e){}}e(Zy,"VideoComponentUseCase"),e($y,"default")}();var tb=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.V.get("configAgent"),o._onRender=o._configAgent.get("plugins.componentSettings.video.config.onRenderServiceData"),o}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.compId,o=e.serviceData,n=this._onRender&&this._onRender({compId:t,serviceData:o});return n?K.b.createElement("div",{className:"se-service-data-wrap",dangerouslySetInnerHTML:{__html:n}}):null},t}(K.b.Component);tb.propTypes={compId:K.a.string,serviceData:K.a.object};var ob,nb=Object(Z.b)(tb),rb=nb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/video-service-data.jsx",localName:t}})}catch(e){}}e(tb,"VideoServiceData"),e(nb,"default")}();var ib=(ob=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={isThumbError:!1},o._placeholder=null,o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this.props,t=e.shouldForceRefresh,o=e.useCase;t&&this.props.useCase.refreshAfterLazy(),o.subscribeViewModeChange(this._handleViewModeChange)},o.componentWillUnmount=function(){this.props.useCase.unsubscribeViewModeChange(this._handleViewModeChange)},o.render=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=t.id,i=t.ctype,a=t.layout||ly.DEFAULT,s=t.contentMode||uy.FIT,c=this._resolveVideoClassName(),l=this._resolveComponentSectionStyle(),u=this._renderRepresentationButton();return K.b.createElement(ef.a,{id:r,ctype:i,layout:a,contentMode:s,i18n:n},K.b.createElement(tf.a,{compId:r,compStore:t},K.b.createElement(Mf.a,{blockWrapperProps:t,style:l,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,onDoubleClick:this._handleDoubleClick},K.b.createElement(ry.a,{ctype:i,className:c,draggable:"true"},K.b.createElement(Jy,{store:t,onLoad:this._handleImageOnLoad,onError:this._handleImageOnError}),this._renderVideoInfo(),this._renderServiceData(),Object(iy.a)({enabled:"vr360"===this.props.store.format,labelThisIs360VR:this.props.i18n("videoComponent:vr_360_video")}),u,o,K.b.createElement(sy.a,{compStore:t,isReady:!0,i18n:n})),K.b.createElement(Xm.a,{store:t,i18n:n,additionalOption:this._getAdditionalOption(),onLimitTextLength:this._handleLimitOverTitle}))))},o._renderRepresentationButton=function(){var e=this.props,t=e.store,o=e.i18n,n={showRepresentative:!!t.representativeEnabled&&t.isRepresentativeImage()};return K.b.createElement(ay.a,{store:t,additionalOption:n,labelThumbnail:o("videoComponent:representative"),status:this.state.isThumbError?null:"complete",onClick:this._handleClickRepresent})},o._renderVideoInfo=function(){var e=this.props.store;if(!e.mediaMeta&&e.serviceData)return K.b.createElement("div",{className:"se-video-info-wrap se-is-activated"});var t=this.props.i18n,o=e.originalWidth,n=e.originalHeight,r=this._isVertical(o,n);return K.b.createElement(Qy,{store:e,verticalThumbnail:r,contentMode:e.contentMode,mediaTitle:e.mediaMeta&&e.mediaMeta.title||"",viewMode:e.viewMode,i18n:t,refreshVirtualEditable:this._handleRefresh})},o._renderServiceData=function(){var e=this.props.store,t=e.id,o=e.serviceData;return K.b.createElement(rb,{compId:t,serviceData:o})},o._handleRefresh=function(){this.props.useCase.refreshVirtualEditable()},o._getAdditionalOption=function(){return this._placeholder?{placeholder:this._placeholder}:(this._placeholder=this.props.i18n("videoComponent:caption_placeholder"),{placeholder:this._placeholder})},o._handleViewModeChange=function(){var e=this.props,t=e.useCase,o=e.store;t.refreshViewMode(o)},o._resolveComponentSectionStyle=function(){var e=this.props.store,t=e.contentMode,o=e.width,n=e.viewMode,r=o,i=this._isBiggerThanDocument(o),a={};return t!==uy.NORMAL||i||n!==u.T.VIEW_MODE_PC||(a.maxWidth=r+"px"),a},o._resolveVideoClassName=function(){var e=this.props.store,t=e.originalWidth,o=e.originalHeight,n=e.width,r=e.height,i=r<101||n<101,a=r>280&&n>400&&520<=n,s=r>280&&520<n;return We()({"se-module-video-vertical":this._isVertical(t,o),"se-module-video-thumb-error":!0===this.state.isThumbError,"se-module-video-small":i,"se-module-video-middle":a,"se-module-video-large":s})},o._isBiggerThanDocument=function(e){return e>=this.props.store.documentWidth},o._isVertical=function(e,t){return e<=t},o._handleImageOnLoad=function(){var e=this.props,t=e.store,o=e.useCase;o.completeImageLoad(t.id),o.repaintCursor()},o._handleImageOnError=function(){var e=this.props,t=e.store,o=e.useCase;this.setState({isThumbError:!0}),o.completeImageLoad(t.id),o.repaintCursor()},o._handleClickRepresent=function(e){var t=this.props.store;this.props.useCase.setRepresentativeImage({compId:t.id,unitId:t.id}),Lt.a.log(e.nativeEvent,"vioct.rep")},o._handleLimitOverTitle=function(){var e=this.props.i18n("videoComponent:warning_limit_over_title_text",{maxlength:this.props.store.caption.maxLength});this.props.useCase.showWarningOverflowMaxLength(e)},o._handleDoubleClick=function(){this.props.useCase.openVideoMetaEditLayer()},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),q()(ob.prototype,"_renderRepresentationButton",[ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(ob.prototype,"_renderRepresentationButton"),ob.prototype),q()(ob.prototype,"_handleRefresh",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleRefresh"),ob.prototype),q()(ob.prototype,"_handleViewModeChange",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleViewModeChange"),ob.prototype),q()(ob.prototype,"_handleImageOnLoad",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleImageOnLoad"),ob.prototype),q()(ob.prototype,"_handleImageOnError",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleImageOnError"),ob.prototype),q()(ob.prototype,"_handleClickRepresent",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleClickRepresent"),ob.prototype),q()(ob.prototype,"_handleLimitOverTitle",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleLimitOverTitle"),ob.prototype),q()(ob.prototype,"_handleDoubleClick",[ee.autobind,ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(ob.prototype,"_handleDoubleClick"),ob.prototype),q()(ob.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleMoveToPrev"),ob.prototype),q()(ob.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(ob.prototype,"_handleMoveToNext"),ob.prototype),ob);ib.defaultProps={i18n:function(e){return e}},ib.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,store:K.a.instanceOf(Wy).isRequired,useCase:K.a.instanceOf(eb).isRequired,children:K.a.oneOfType([K.a.element,K.a.array])};var ab=Object(Z.b)(ib),sb=ab;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/index.jsx",localName:t}})}catch(e){}}e(ib,"VideoComponentView"),e(ab,"default")}();var cb=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=u.V.get("selectionInfoStore"),t._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createVideoComponent=function(e){var t=Je()({ctype:"video"},e);return this._componentFactory.createComponentWithCompData(t)},o.getMediaMeta=function(){var e=this._selectionInfoStore.toValidJSON().start,t=this.getComponentStore(e.compId);if(t.mediaMeta){var o=t.mediaMeta,n=o.title,r=o.description,i=o.tags;return{title:n,description:r,tags:K.f.toJS(i)}}return{title:"",description:"",tags:[]}},o.updateMediaMeta=function(e){var t=this._selectionInfoStore.toValidJSON().start;this.getComponentStore(t.compId).updateMediaMeta(e)},o.getServiceData=function(){var e=this._selectionInfoStore.toValidJSON().start,t=this.getComponentStore(e.compId).serviceData||{};return K.f.toJS(t)},o.updateServiceData=function(e){var t=this._selectionInfoStore.toValidJSON().start;this.getComponentStore(t.compId).updateServiceData(e)},o.completeImageLoad=function(e){this.getComponentStore(e).completeImageLoad()},o.checkLimitedSize=function(e){var t=e.value,o=t.width,n=t.height,r=!1,i=!1,a=!1;return(t.isApplyAllChecked?this._getAllVideoComponents():this._getSelectedVideoCompList()).forEach(function(e){!r&&e.isBiggerThanDocumentWidth(o,n)?r=!0:!a&&e.isSmallerThanMinimumWidth(o,n)&&(a=!0),!i&&e.isSmallerThanMinimumHeight(o,n)&&(i=!0)}),{hasBiggerThanContentWidth:r,hasSmallerThanMinHeight:i,hasSmallerThanMinWidth:a}},o._getAllVideoComponents=function(){return this._componentListStore.getComponentsByCtype("video")},o._getSelectedVideoCompList=function(){var e=this._selectionInfoStore.toValidJSON().compIdMap,t=Object.keys(e);return this._componentListStore.compList.filter(function(e){return t.includes(e.id)}).filter(function(e){return"video"===e.ctype})},o.updateViewMode=function(e,t){e.updateViewMode(t)},t}(u.a),lb=cb,ub=lb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/service/index.js",localName:t}})}catch(e){}}e(cb,"VideoComponentService"),e(lb,"default")}();var pb,db,hb=o(62),fb=(pb=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"videoMeta:title":n,i=e.label,a=void 0===i?"videoMeta:label":i,s=e.labelVisible,c=void 0===s||s,l=e.logId,u=void 0===l?"mvmeta":l,p=ga()(e,["type","title","label","labelVisible","logId"]);return K.b.createElement(hb.a,oc()({type:o,title:r,label:a,logId:u,labelVisible:c},p,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.openVideoMetaEditLayer(e)},t}(K.b.Component),q()(pb.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(pb.prototype,"_handleClick"),pb.prototype),pb),mb=fb,gb=mb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/view/video-meta-right-label-button-view.jsx",localName:t}})}catch(e){}}e(fb,"VideoMetaRightLabelButtonView"),e(mb,"default")}();var yb,bb=(db=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"videoMeta:title":n,i=e.label,a=void 0===i?"videoMeta:label":i,s=e.logId,c=void 0===s?"mvmeta":s,l=ga()(e,["type","title","label","logId"]);return K.b.createElement(hb.a,oc()({type:o,title:r,label:a,logId:c},l,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.openVideoMetaEditLayer(e)},t}(K.b.Component),q()(db.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(db.prototype,"_handleClick"),db.prototype),db),_b=bb,vb=_b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/view/video-meta-button-view.jsx",localName:t}})}catch(e){}}e(bb,"VideoMetaButtonView"),e(_b,"default")}();var Cb=(yb=function(e){function t(){var t;return(t=e.call(this)||this)._videoUploadLayerService=u.V.get("videoUploadLayerService"),t._videoUploadService=u.V.get("videoUploadService"),t._videoComponentService=u.V.get("videoComponentService"),t._alertLayerService=u.V.get("alertLayerService"),t._i18n=u.V.get("i18n"),t}h()(t,e);var o=t.prototype;return o.openVideoMetaEditLayer=function(){var e=this._videoComponentService.getMediaMeta(),t=this._videoComponentService.getServiceData();this._videoUploadLayerService.open(),this._videoUploadService.openMetaEditor(e,t,{confirm:this._onConfirmVideoMetaEditLayer.bind(this),error:this._onErrorVideoMetaEditLayer.bind(this),close:this._onCloseVideoMetaEditLayer.bind(this)})},o._onCloseVideoMetaEditLayer=function(){this._videoUploadLayerService.close()},o._onConfirmVideoMetaEditLayer=function(e){var t=e.mediaMeta,o=e.serviceData;this._videoComponentService.updateServiceData(o),this._videoComponentService.updateMediaMeta(t),this._videoUploadLayerService.close()},o._onErrorVideoMetaEditLayer=function(){this._videoUploadLayerService.close(),this._alertLayerService.open({type:"alert",title:this._i18n("videoComponent:error_meta_title"),description:this._i18n("videoComponent:error_meta_description")})},t}(u.m),q()(yb.prototype,"openVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(yb.prototype,"openVideoMetaEditLayer"),yb.prototype),q()(yb.prototype,"_onConfirmVideoMetaEditLayer",[ee.history,K.d],Object.getOwnPropertyDescriptor(yb.prototype,"_onConfirmVideoMetaEditLayer"),yb.prototype),q()(yb.prototype,"_onErrorVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(yb.prototype,"_onErrorVideoMetaEditLayer"),yb.prototype),yb);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/use-case/video-meta-button-use-case.js",localName:t}})}catch(e){}}(Cb,"VideoMetaButtonUseCase")}();var Ob={"video-meta-right-label":{view:gb,useCase:Cb,styleName:"video-meta"},"video-meta":{view:vb,useCase:Cb,styleName:"video-meta"}},Sb=Ob,kb=Sb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(Ob,"buttons"),e(Sb,"default")}();var Ib={propertyToolbar:{"video-resizing":Object(dt.a)("video-resizing"),align:Object(dt.a)("align-group"),"caption-align":Object(dt.a)("caption-align-group"),"content-mode-without-pagefull":Object(dt.a)("content-mode-group-without-pagefull"),"video-meta-right-label":kb["video-meta-right-label"],"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),"caption-bold":Object(dt.a)("caption-bold"),"special-letter":Object(dt.a)("special-letter"),"caption-link":Object(dt.a)("caption-link"),"caption-align":Object(dt.a)("caption-align"),"content-mode-without-pagefull":Object(dt.a)("content-mode-group-without-pagefull"),delete:Object(dt.a)("delete"),"video-meta":kb["video-meta"],"separator-bar":Object(dt.a)("separator-bar"),translation:Object(dt.a)("translation")},overlayToolbar:{"content-mode":Object(dt.a)("content-mode-group-without-default"),delete:Object(dt.a)("delete")}},wb=Ib;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/video-button-set-map.js",localName:t}})}catch(e){}}(Ib,"default")}();var Pb={propertyToolbar:function(e){var t=e.selectedComponents,o=1===t.length;return o&&t[0].isCaptionFocused()?["caption-align","separator-bar","video-resizing","separator-bar","video-meta-right-label","separator-bar","content-mode-without-pagefull"]:o?["align","separator-bar","video-resizing","separator-bar","video-meta-right-label","separator-bar","content-mode-without-pagefull"]:["align","separator-bar","video-resizing","separator-bar","content-mode-without-pagefull"]},contextToolbar:function(e){var t=e.selectedComponents,o=["video-meta","separator-bar","content-mode-without-pagefull","separator-bar","delete"];if(1===t.length){var n=t[0];if(n.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}n.contentMode===uy.NORMAL&&o.unshift("cycle-align","separator-bar")}return o},overlayToolbar:function(){return{fixedButtonSets:{top:["content-mode"],bottom:["delete"]}}}},jb=Pb;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/video-button-resolver.js",localName:t}})}catch(e){}}(Pb,"default")}();var Tb=function(e){function t(){return e.call(this,{buttonSetMap:wb,buttonResolver:jb})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Tb,"VideoComponentToolbar")}();var Lb=u.q.extend({name:"VideoComponent",view:sb,service:ub,store:Wy,toolbar:Tb,useCase:eb}),Eb=Lb,Nb=Eb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/index.js",localName:t}})}catch(e){}}e(Lb,"VideoComponent"),e(Eb,"default")}();var xb=o(652),Db={},Rb=function(e,t){var o=null,n=function(n){function r(t){var r;return(r=n.call(this,t)||this).state={LazyComponent:o},r._flows=new xb.a,o?G()(r):(r._flows.fork("loading").next(e).next(function(e){var t=e.default;o=t,r.setState({LazyComponent:o})}),r)}h()(r,n);var i=r.prototype;return i.componentWillUnmount=function(){this._flows.abort()},i.render=function(){var e=this.state.LazyComponent,o=this.props.store.ctype,n=!0;return e?(Db[o]&&(n=!1),Db[o]=!0,K.b.createElement(e,oc()({shouldForceRefresh:n},this.props,t))):null},r}(K.b.Component);return Object(Z.b)(n)},Ab=Rb,Mb=Ab;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/withLazy/withLazyByCompId.jsx",localName:t}})}catch(e){}}e(Db,"completed"),e(Rb,"withLazyByCompId"),e(Ab,"default")}();var Bb=o(415),Ub=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=u.V.get("selectionInfoStore"),t}h()(t,e);var o=t.prototype;return o.changeToTextLayout=function(e){this.getComponentStore(e).changeToTextLayout()},o.changeToImageTypeLayout=function(e){this.getComponentStore(e).changeLayoutWithThumbnail()},o.getFirstSelectedCompId=function(){return this._selectionInfoStore.toValidJSON().start.compId},t}(u.a),Vb=Ub,Fb=Vb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/service/index.js",localName:t}})}catch(e){}}e(Ub,"OglinkComponentService"),e(Vb,"default")}();var zb=o(444),Wb={propertyToolbar:{align:Object(dt.a)("align-group"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")},overlayToolbar:{delete:Object(dt.a)("delete")}},Gb=Wb;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/toolbar/oglink-button-set-map.js",localName:t}})}catch(e){}}(Wb,"default")}();var Hb={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["cycle-align","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},qb=Hb;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/toolbar/oglink-button-resolver.js",localName:t}})}catch(e){}}(Hb,"default")}();var Jb=function(e){function t(){return e.call(this,{buttonSetMap:Gb,buttonResolver:qb})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Jb,"OglinkComponentToolbar")}();var Kb=u.q.extend({name:"OglinkComponent",view:Mb(function(){return o.e(54).then(o.bind(null,1233))}),useCase:Bb.a,service:Fb,store:zb.a,toolbar:Jb}),Yb=Kb,Xb=Yb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/index.js",localName:t}})}catch(e){}}e(Kb,"OglinkComponent"),e(Yb,"default")}();var Qb=o(406),Zb=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}return h()(t,e),t.prototype.createComponent=function(e){return this._componentFactory.createComponentWithCompData(Je()({ctype:"horizontalLine"},e))},t}(u.a),$b=Zb,e_=$b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/service/index.js",localName:t}})}catch(e){}}e(Zb,"HorizontalLineComponentService"),e($b,"default")}();var t_,o_=o(407),n_=o(104),r_=(t_=function(e){function t(){var t;t=e.call(this)||this;var o=u.V.get("configAgent");return t._allowLayouts=o.get("productConfig.horizontalLine.layouts"),t}h()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.type,n=void 0===o?Ge.a.GROUP_TOGGLE:o,r=t.title,i=void 0===r?"horizontalLineLayout:title":r,a=t.label,s=void 0===a?"horizontalLineLayout:label":a,c=t.value,l=void 0===c?"default":c,u=t.logId,p=void 0===u?"horizt":u,d=t.groups,h=void 0===d?[{value:"default",title:"horizontalLineLayout:default_title",label:"horizontalLineLayout:default_label",logId:"horizt0"},{value:"line1",title:"horizontalLineLayout:line1_title",label:"horizontalLineLayout:line1_label",logId:"horizt1"},{value:"line2",title:"horizontalLineLayout:line2_title",label:"horizontalLineLayout:line2_label",logId:"horizt2"},{value:"line3",title:"horizontalLineLayout:line3_title",label:"horizontalLineLayout:line3_label",logId:"horizt3"},{value:"line4",title:"horizontalLineLayout:line4_title",label:"horizontalLineLayout:line4_label",logId:"horizt4"},{value:"line5",title:"horizontalLineLayout:line5_title",label:"horizontalLineLayout:line5_label",logId:"horizt5"},{value:"line6",title:"horizontalLineLayout:line6_title",label:"horizontalLineLayout:line6_label",logId:"horizt6"},{value:"line7",title:"horizontalLineLayout:line7_title",label:"horizontalLineLayout:line7_label",logId:"horizt7"}]:d,f=ga()(t,["type","title","label","value","logId","groups"]),m=h;return this._allowLayouts&&(m=m.filter(function(t){return e._allowLayouts.includes(t.value)})),K.b.createElement(n_.a,oc()({type:n,title:i,label:s,value:l,logId:p,groups:m},f,{onChange:this._handleClick}))},o._handleClick=function(e){this.props.useCase.changeLayout(e)},t}(K.b.Component),q()(t_.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(t_.prototype,"_handleClick"),t_.prototype),t_),i_=r_,a_=i_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/buttons/view/horizontal-line-layout-button-view.jsx",localName:t}})}catch(e){}}e(r_,"HorizontalLineLayoutButtonView"),e(i_,"default")}();var s_=o(260),c_={"horizontal-line-layout":{view:a_,useCase:s_.a,propertyName:"layout",styleName:"horizontal-line"}},l_=c_,u_=l_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(c_,"buttons"),e(l_,"default")}();var p_={propertyToolbar:{align:Object(dt.a)("align-group"),"horizontal-line-layout":u_["horizontal-line-layout"],"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),"horizontal-line-layout":u_["horizontal-line-layout"],delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")},overlayToolbar:{delete:Object(dt.a)("delete")}},d_=p_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/horizontal-line-button-set-map.js",localName:t}})}catch(e){}}(p_,"default")}();var h_={propertyToolbar:function(e){var t=e.configAgent.get("productConfig.horizontalLine.layouts");return t&&1===t.length?["align"]:["align","separator-bar","horizontal-line-layout"]},contextToolbar:function(e){var t=e.configAgent.get("productConfig.horizontalLine.layouts");return t&&1===t.length?["cycle-align","separator-bar","delete"]:["cycle-align","separator-bar","horizontal-line-layout","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},f_=h_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/horizontal-line-button-resolver.js",localName:t}})}catch(e){}}(h_,"default")}();var m_=function(e){function t(){return e.call(this,{buttonSetMap:d_,buttonResolver:f_})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/index.js",localName:t}})}catch(e){}}(m_,"HorizontalLineComponentToolbar")}();var g_=u.q.extend({name:"HorizontalLineComponent",view:Mb(function(){return o.e(50).then(o.bind(null,1229))}),useCase:Qb.a,service:e_,store:o_.a,toolbar:m_}),y_=g_,b_=y_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/index.js",localName:t}})}catch(e){}}e(g_,"HorizontalLineComponent"),e(y_,"default")}();var __,v_,C_,O_,S_,k_,I_,w_=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.c),P_=w_,j_=P_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/use-case/index.js",localName:t}})}catch(e){}}e(w_,"StickerComponentUseCase"),e(P_,"default")}();var T_=(__=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},z()(o,"format",v_,G()(o)),z()(o,"layout",C_,G()(o)),z()(o,"packCode",O_,G()(o)),z()(o,"seq",S_,G()(o)),z()(o,"align",k_,G()(o)),z()(o,"thumbnail",I_,G()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o.attributes=Object(Ua.a)(o.attributes,s.attributes),o.format=Object(J.a)(i,"format",o.format),o.layout=Object(J.a)(i,"layout",o.layout),o.packCode=Object(J.a)(i,"packCode",o.packCode),o.seq=Object(J.a)(i,"seq",o.seq),o.align=Object(J.a)(i,"align",o.align),o.thumbnail=Object(lg.a)(o.thumbnail,i.thumbnail),o}return h()(t,e),t.prototype.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,format:this.format,packCode:this.packCode,seq:this.seq,align:this.align,thumbnail:K.f.toJS(this.thumbnail)}},t}(u.g),v_=q()(__.prototype,"format",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.P.NORMAL}}),C_=q()(__.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),O_=q()(__.prototype,"packCode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S_=q()(__.prototype,"seq",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),k_=q()(__.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I_=q()(__.prototype,"thumbnail",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"thumbnail",height:0,src:"",width:0}}}),__);T_.ctype="sticker",T_.schema={id:rf.a.string.isRequired,ctype:rf.a.string.isRequired,layout:rf.a.string.isRequired,align:rf.a.string,packCode:rf.a.string.isRequired,seq:rf.a.number.isRequired,thumbnail:rf.a.shape(Kf.h),format:rf.a.string};var L_,E_,N_,x_=T_,D_=x_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/store/index.js",localName:t}})}catch(e){}}e(T_,"StickerComponentStore"),e(x_,"default")}();var R_=(N_=E_=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.selection,a=t.format===u.P.ANIMATED?"pa":"p",s=t.thumbnail.src+"?type="+a+"100_100",c=t.packCode+"-"+t.seq;return K.b.createElement(ef.a,{id:n,ctype:r,i18n:o},K.b.createElement(tf.a,{compId:n,compStore:t},K.b.createElement(Mf.a,{blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},K.b.createElement(ry.a,{ctype:r},K.b.createElement(By.b,{src:s,alt:c,className:"se-sticker-image",type:"none"!==i||this.context.readOnly?By.a.normal:By.a.lazyLoad,onLoad:this._handleLoadImage,onError:this._handleErrorImage})))))},o._handleLoadImage=function(){this.props.useCase.repaintCursor()},o._handleErrorImage=function(){this.props.useCase.repaintCursor()},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),E_.contextType=Uy.a,L_=N_,q()(L_.prototype,"_handleLoadImage",[ee.autobind],Object.getOwnPropertyDescriptor(L_.prototype,"_handleLoadImage"),L_.prototype),q()(L_.prototype,"_handleErrorImage",[ee.autobind],Object.getOwnPropertyDescriptor(L_.prototype,"_handleErrorImage"),L_.prototype),q()(L_.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(L_.prototype,"_handleMoveToPrev"),L_.prototype),q()(L_.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(L_.prototype,"_handleMoveToNext"),L_.prototype),L_);R_.defaultProps={i18n:function(e){return e}},R_.propTypes={shouldForceRefresh:K.a.bool,useCase:K.a.instanceOf(j_).isRequired,store:K.a.instanceOf(D_).isRequired,i18n:K.a.func};var A_=Object(Z.b)(R_),M_=A_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/view/index.jsx",localName:t}})}catch(e){}}e(R_,"StickerComponentView"),e(A_,"default")}();var B_=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),U_=B_,V_=U_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/service/index.js",localName:t}})}catch(e){}}e(B_,"StickerComponentService"),e(U_,"default")}();var F_={propertyToolbar:{align:Object(dt.a)("align-group"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")}},z_=F_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/toolbar/sticker-button-set-map.js",localName:t}})}catch(e){}}(F_,"default")}();var W_={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(e){var t=e.selectedComponents,o=[],n=e.configAgent.get("productConfig.documentWidth");1===t.length&&(t[0].thumbnail.width<n&&o.push("cycle-align"));return o.push("separator-bar","delete"),o}},G_=W_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/toolbar/sticker-button-resolver.js",localName:t}})}catch(e){}}(W_,"default")}();var H_=function(e){function t(){return e.call(this,{buttonSetMap:z_,buttonResolver:G_})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/toolbar/index.js",localName:t}})}catch(e){}}(H_,"StickerComponentToolbar")}();var q_=u.q.extend({name:"StickerComponent",view:M_,useCase:j_,store:D_,service:V_,toolbar:H_}),J_=q_,K_=J_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/index.js",localName:t}})}catch(e){}}e(q_,"StickerComponent"),e(J_,"default")}();var Y_=o(745),X_=o(408),Q_=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),Z_=Q_,$_=Z_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/service/index.js",localName:t}})}catch(e){}}e(Q_,"OembedComponentService"),e(Z_,"default")}();var ev=o(409),tv={propertyToolbar:{align:Object(dt.a)("align-group"),"caption-align":Object(dt.a)("caption-align-group"),"content-mode-without-extend-pagefull":Object(dt.a)("content-mode-group-without-extend-pagefull"),"content-mode-without-pagefull":Object(dt.a)("content-mode-group-without-pagefull"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"content-mode-without-extend-pagefull":Object(dt.a)("content-mode-group-without-extend-pagefull"),"content-mode-without-pagefull":Object(dt.a)("content-mode-group-without-pagefull"),"cycle-align":Object(dt.a)("cycle-align"),delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")},overlayToolbar:{"content-mode-group-without-default":Object(dt.a)("content-mode-group-without-default"),delete:Object(dt.a)("delete")}},ov=tv;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/toolbar/oembed-button-set-map.js",localName:t}})}catch(e){}}(tv,"default")}();var nv=o(212);function rv(e){return Object(ug.a)(e,function(e){return"rich"===e.type})}function iv(e){return Object(ug.a)(e,function(e){return nv.e.includes(e.providerName.toLowerCase())})}function av(e){return Object(ug.a)(e,function(e){return e.isOembedNotSupported})}var sv={propertyToolbar:function(e){var t=e.selectedComponents,o=t[0].isCaptionFocused()?"caption-align":"align",n=[].concat(o),r=rv(t),i=iv(t);return av(t)||i&&r?(n.push("separator-bar"),n):(r?n.push("separator-bar","content-mode-without-extend-pagefull"):n.push("separator-bar","content-mode-without-pagefull"),n)},contextToolbar:function(e){var t=e.selectedComponents,o=[],n=rv(t),r=iv(t),i=av(t);return 1===t.length&&t[0].contentMode===nv.b.NORMAL&&o.push("cycle-align"),i||r&&n?(o.push("separator-bar","delete"),o):(n?o.push("separator-bar","content-mode-without-extend-pagefull"):o.push("separator-bar","content-mode-without-pagefull"),o.push("separator-bar","delete"),o)},overlayToolbar:function(e){var t=e.selectedComponents[0]||{},o=t.type;return t.isScriptRenderType&&o===nv.d.RICH?{fixedButtonSets:{top:["delete"]}}:{fixedButtonSets:{top:["content-mode-group-without-default"],bottom:["delete"]}}}},cv=sv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/toolbar/oembed-button-resolver.js",localName:t}})}catch(e){}}e(rv,"_isRichType"),e(iv,"_isScriptTypeProvider"),e(av,"_isOembedNotSupported"),e(sv,"default")}();var lv=function(e){function t(){return e.call(this,{buttonSetMap:ov,buttonResolver:cv})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/toolbar/index.js",localName:t}})}catch(e){}}(lv,"OembedComponentToolbar")}();var uv=u.q.extend({name:"OembedComponent",view:Mb(function(){return o.e(51).then(o.bind(null,1230))}),useCase:X_.a,service:$_,store:ev.a,toolbar:lv}),pv=uv,dv=pv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/index.js",localName:t}})}catch(e){}}e(uv,"OembedComponent"),e(pv,"default")}();var hv=o(411),fv=o(412),mv={propertyToolbar:{align:Object(dt.a)("align-group"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{delete:Object(dt.a)("delete")}},gv=mv;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/toolbar/material-button-set-map.js",localName:t}})}catch(e){}}(mv,"default")}();var yv={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["delete"]}},bv=yv;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/toolbar/material-button-resolver.js",localName:t}})}catch(e){}}(yv,"default")}();var _v,vv=function(e){function t(){return e.call(this,{buttonSetMap:gv,buttonResolver:bv})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/toolbar/index.js",localName:t}})}catch(e){}}(vv,"MaterialComponentToolbar")}();var Cv=(_v=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveAuthor()||t,i=this._resolvePublisher()||t,a=this._resolveRelease()||t,s=this._resolveThumbnailClassName();return K.b.createElement(ry.a,{ctype:"material",className:"se-material-book"},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:author")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:publisher")),K.b.createElement("dd",{className:"se-material-detail-description"},i),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:book_release")),K.b.createElement("dd",{className:"se-material-detail-description"},a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(By.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return We()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return Yt.a.restoreSpecialChar(this.props.item.title)},o._resolveAuthor=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e).replace(/\|/gi,", ").replace(/ $/gi,"")},o._resolvePublisher=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[2].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return Yt.a.restoreSpecialChar(Object(Kt.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(_v.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(_v.prototype,"_handleThumbnailLoad"),_v.prototype),q()(_v.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(_v.prototype,"_handleThumbnailError"),_v.prototype),_v);Cv.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{},{}],isBigSizeImage:!1}},Cv.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var Ov,Sv=Object(Z.b)(Cv),kv=Sv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/book-material-item.jsx",localName:t}})}catch(e){}}e(Cv,"BookMaterialItem"),e(Sv,"default")}();var Iv=(Ov=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveDirector()||t,i=this._resolveActors()||t,a=this._resolveRelease()||t,s=this._resolveThumbnailClassName();return K.b.createElement(ry.a,{ctype:"material",className:"se-material-movie"},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:director")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:actor")),K.b.createElement("dd",{className:"se-material-detail-description"},i),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:movie_release")),K.b.createElement("dd",{className:"se-material-detail-description"},a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(By.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return We()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return Yt.a.restoreSpecialChar(this.props.item.title)},o._resolveDirector=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveActors=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[2].values",[]);return this._detailReleaseToString(e)},o._detailReleaseToString=function(e){var t=this.props.i18n;return 0===e.length?t("materialComponent:movie_not_open"):e.map(function(e,o){return o?t("materialComponent:release_again",{date:e.value}):e.value}).join(" / ")},o._detailInfoToString=function(e){return Yt.a.restoreSpecialChar(Object(Kt.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(Ov.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(Ov.prototype,"_handleThumbnailLoad"),Ov.prototype),q()(Ov.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(Ov.prototype,"_handleThumbnailError"),Ov.prototype),Ov);Iv.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{},{}],isBigSizeImage:!1}},Iv.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var wv,Pv=Object(Z.b)(Iv),jv=Pv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/movie-material-item.jsx",localName:t}})}catch(e){}}e(Iv,"MovieMaterialItem"),e(Pv,"default")}();var Tv=(wv=function(e){function t(){var t;return(t=e.call(this)||this).state={noImage:!1},t}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveDirector()||t,i=this._resolveActors()||t,a=this._resolveRelease()||t,s=this._resolveThumbnailClassName();return K.b.createElement(ry.a,{ctype:"material",className:"se-material-broadcast"},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:producer")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:actor")),K.b.createElement("dd",{className:"se-material-detail-description"},i),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:tv_release")),K.b.createElement("dd",{className:"se-material-detail-description"},a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(By.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return We()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return Yt.a.restoreSpecialChar(this.props.item.title)},o._resolveDirector=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveActors=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[2].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return Yt.a.restoreSpecialChar(Object(Kt.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(wv.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(wv.prototype,"_handleThumbnailLoad"),wv.prototype),q()(wv.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(wv.prototype,"_handleThumbnailError"),wv.prototype),wv);Tv.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{},{}],isBigSizeImage:!1}},Tv.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var Lv,Ev=Object(Z.b)(Tv),Nv=Ev;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/tv-material-item.jsx",localName:t}})}catch(e){}}e(Tv,"TVMaterialItem"),e(Ev,"default")}();var xv=(Lv=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveArtist()||t,i=this._resolveRelease(),a=this._resolveThumbnailClassName();return K.b.createElement(ry.a,{ctype:"material",className:"se-material-music"},K.b.createElement("div",{className:a},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:artist")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:music_release")),K.b.createElement("dd",{className:"se-material-detail-description"},i)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(By.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return We()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return Yt.a.restoreSpecialChar(this.props.item.title)},o._resolveArtist=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return Yt.a.restoreSpecialChar(Object(Kt.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(Lv.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(Lv.prototype,"_handleThumbnailLoad"),Lv.prototype),q()(Lv.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(Lv.prototype,"_handleThumbnailError"),Lv.prototype),Lv);xv.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{}],isBigSizeImage:!1}},xv.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var Dv,Rv=Object(Z.b)(xv),Av=Rv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/music-material-item.jsx",localName:t}})}catch(e){}}e(xv,"MusicMaterialItem"),e(Rv,"default")}();var Mv=["1","2"],Bv=(Dv=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this._renderThumbnailImage(),t=this._resolveTitle(),o=this._renderDetailInfo(),n=this._resolveThumbnailClassName();return K.b.createElement(ry.a,{ctype:"material",className:"se-material-shopping"},K.b.createElement("div",{className:n},e,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},t),o)),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(By.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return We()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return Yt.a.restoreSpecialChar(this.props.item.title)},o._renderDetailInfo=function(){var e="",t=this.props.i18n,o=this._getDetailInfoData("price"),n=this._getDetailInfoData("mallNameOrg"),r=this._renderPrice(o),i=this._renderCheapistPrice(o);if(!0===this._isCompareProduct())e=K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},t("materialComponent:price")),K.b.createElement("dd",{className:"se-material-detail-description se-material-detail-shopping-price"},t("materialComponent:price_compare")," ",i));else if(!0===this._hasMallName()){var a=this._renderNaverPayIcon();e=K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},t("materialComponent:mall_name")),K.b.createElement("dd",{className:"se-material-detail-description se-material-detail-shopping-shop"},n,a),K.b.createElement("dt",{className:"se-material-detail-title"},t("materialComponent:price")),K.b.createElement("dd",{className:"se-material-detail-description se-material-detail-shopping-price"},r))}return e},o._renderNaverPayIcon=function(){var e=this.props.i18n,t=this._getDetailInfoData("nPayMblType"),o=this._getDetailInfoData("nPayPcType"),n=!1,r="se-material-npay",i=e("materialComponent:avaiable_npay");return u.V.get("configAgent").isMobile()?Mv.includes(t)&&(n=!0,"2"===t&&(r="se-material-npay se-material-npay-plus",i=e("materialComponent:avaiable_npay_plus"))):Mv.includes(o)&&(n=!0,"2"===o&&(r="se-material-npay se-material-npay-plus",i=e("materialComponent:avaiable_npay_plus"))),n?K.b.createElement("em",{className:r},K.b.createElement("span",{className:"se-blind"},i)):null},o._renderCheapistPrice=function(e){return this.props.i18n("materialComponent:cheapist_price",{price:Yt.a.formatWithComma(e)})},o._renderPrice=function(e){return this.props.i18n("materialComponent:print_price",{price:Yt.a.formatWithComma(e)})},o._isCompareProduct=function(){var e=parseInt(this._getDetailInfoData("type"),10);return Object(vo.a)([1,4],e)},o._getDetailInfoData=function(e){var t=this.props.item.detailInfo;return Object(J.a)(Object(up.a)(t,{labelName:e}),"values[0].value","")},o._hasMallName=function(){return!!this._getDetailInfoData("mallNameOrg")},o._isAvailableNPay=function(){return"1"===this._getDetailInfoData("nPayMblType")},t}(K.b.Component),q()(Dv.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(Dv.prototype,"_handleThumbnailLoad"),Dv.prototype),q()(Dv.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(Dv.prototype,"_handleThumbnailError"),Dv.prototype),Dv);Bv.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[],isBigSizeImage:!1}},Bv.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var Uv=Object(Z.b)(Bv),Vv=Uv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/shopping-material-item.jsx",localName:t}})}catch(e){}}e("1","NAVER_PAY_TYPE"),e("2","NAVER_PAY_PLUS_TYPE"),e(Mv,"AVAILABLE_NAVER_PAY"),e(Bv,"ShoppingMaterialItem"),e(Uv,"default")}();var Fv,zv=o(410),Wv={W480:"w480",FF500_300:"ff500_300"},Gv={THUMBNAIL_TYPE:Wv};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/consts/index.js",localName:t}})}catch(e){}}e(Wv,"THUMBNAIL_TYPE"),e(Gv,"default")}();var Hv=(Fv=function(e){function t(){var t;return(t=e.call(this)||this).state={src:null,noImage:!1},t}h()(t,e),t.getDerivedStateFromProps=function(e,t){var o={src:(e.item.thumbnail||{}).src||null,noImage:t.noImage};return o.src?o.src!==t.src&&(o.noImage=!1):o.noImage=!0,o};var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveNewsSummary()||t,i=this._resolveSource()||t,a=this._resolveWrapperClassName(),s=this._resolveThumbnailClassName();return K.b.createElement(ry.a,{ctype:"material",className:a},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:news_summary")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:office_name")),K.b.createElement("dd",{className:"se-material-detail-description"},i)))),K.b.createElement("div",{className:"se-material-frame"}))},o._resolveWrapperClassName=function(){var e=this.props.item.isBigSizeImage;return We()({"se-material-news":!1===e,"se-material-news-bSize":!0===e})},o._renderThumbnailImage=function(){if(!this.state.noImage){var e=this.props.item.thumbnail,t={src:Object(J.a)(e,"src",""),type:Wv.FF500_300,className:"se-sidebar-material-thumbnail-resource",title:this._resolveTitle(),onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError};return K.b.createElement(zv.a,t)}},o._resolveThumbnailClassName=function(){return We()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return Yt.a.restoreSpecialChar(this.props.item.title)},o._resolveNewsSummary=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveSource=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return Yt.a.restoreSpecialChar(Object(Kt.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(Fv.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(Fv.prototype,"_handleThumbnailLoad"),Fv.prototype),q()(Fv.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(Fv.prototype,"_handleThumbnailError"),Fv.prototype),Fv);Hv.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{}],isBigSizeImage:!1}},Hv.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var qv,Jv=Object(Z.b)(Hv),Kv=Jv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/news-material-item.jsx",localName:t}})}catch(e){}}e(Hv,"NewsMaterialItem"),e(Jv,"default")}();var Yv=(qv=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=(0,this.props.i18n)("materialComponent:not_registerd"),t=We()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage}),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveGenre()||e,i=this._resolveLocation()||e,a=this._resolvePeriod()||e;return K.b.createElement(ry.a,{ctype:"material",className:"se-material-show"},K.b.createElement("div",{className:t},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},this._renderDetails("show_genre",r),this._renderDetails("show_location",i),this._renderDetails("show_period",a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=this.props.item,o=Object(J.a)(t,"thumbnail.src",""),n=Xt.a.makeDthumbHttpsUrl(o);if(!1===this.state.noImage)return K.b.createElement(By.b,{className:"se-sidebar-material-thumbnail-resource",src:n,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._renderDetails=function(e,t){var o=this.props.i18n;return K.b.createElement(K.b.Fragment,null,K.b.createElement("dt",{className:"se-material-detail-title"},o("materialComponent:"+e)),K.b.createElement("dd",{className:"se-material-detail-description"},t))},o._resolveTitle=function(){return this.props.item.title},o._resolveGenre=function(){var e=this.props.item;return Object(J.a)(e,"detailInfo[0].values[0].value","")},o._resolveLocation=function(){var e=this.props.item;return Object(J.a)(e,"detailInfo[1].values[0].value","")},o._resolvePeriod=function(){var e=this.props.item;return Object(J.a)(e,"detailInfo[2].values[0].value","")},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},t}(K.b.Component),q()(qv.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(qv.prototype,"_handleThumbnailLoad"),qv.prototype),q()(qv.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(qv.prototype,"_handleThumbnailError"),qv.prototype),qv);Yv.defaultProps={i18n:function(e){return e},onCompleteImage:function(){}},Yv.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var Xv=Object(Z.b)(Yv),Qv=Xv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/show-material-item.jsx",localName:t}})}catch(e){}}e(Yv,"ShowMaterialItem"),e(Xv,"default")}();var Zv={book:kv,movie:jv,broadcast:Nv,music:Av,shopping:Vv,news:Kv,show:Qv},$v=Zv;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/index.js",localName:t}})}catch(e){}}(Zv,"default")}();var eC=u.q.extend({name:"MaterialComponent",view:Mb(function(){return o.e(52).then(o.bind(null,1231))},{subComponents:{materialItemMap:$v}}),useCase:hv.a,store:fv.a,toolbar:vv}),tC=eC,oC=tC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/index.js",localName:t}})}catch(e){}}e(eC,"MaterialComponent"),e(tC,"default")}();var nC=o(416),rC=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t._componentListStore=u.V.get("componentListStore"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._virtualEditable=u.V.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.getSelectedComponents=function(){var e=this._selectionInfoStore.toValidJSON();return this._componentListStore.getSelectedComponents(e)},o._replace=function(e,t,o){void 0===o&&(o=[]);var n=this._componentListStore,r=[].concat(o),i=n.getComponentById(e),a=n.getComponentById(t);n.replaceBetween(i,a,r)},o.getSelectedWrappedSection=function(){return Object(no.a)(this.getSelectedComponents()).wrappedSection},o.composeWrappingComponent=function(e){var t,o=this._selectionInfoStore.toValidJSON(),n=this._componentListStore.getComponentById(o.start.compId),r=this._componentListStore.getNextComponent(n),i=n.toValidJSON();r&&"text"===r.ctype?t=r.id:((r=this._componentFactory.createComponentByCtype("text")).updateStyle({align:n.align},r.getCompStartRange()),this._componentListStore.inheritTextStyle(n,r),t=n.id);var a=r.getText().toValidJSON(),s=this._componentFactory.createComponentWithCompData({ctype:"wrappingParagraph",layout:e,wrappedSection:i,text:a});this._replace(n.id,t,s);var c=s.getTextStartRange();this._selectionInfoStore.setRange(c)},o.decomposeWrappingComponent=function(){var e=this;this.getSelectedComponents().forEach(function(t){if("wrappingParagraph"===t.ctype){var o=t.decomposeWrapped(),n=e._getRangeAfterDecompose(t);e._replace(t.id,t.id,o),e._selectionInfoStore.setRange(n);var r=e._selectionInfoStore.toValidJSON();e._componentListStore.refineComponentList(r)}})},o._getRangeAfterDecompose=function(e){var t=e.findSelectedSlot();if("text"===t.attributes.insertion){var o=this._selectionInfoStore.toValidJSON();return{start:Object.assign(o.start,{compId:t.id}),end:Object.assign(o.end,{compId:t.id})}}return t.getComponentActiveRange()},o.changeWrappingLayout=function(e){var t=this._selectionInfoStore.toValidJSON();this.getSelectedComponents().forEach(function(o){"wrappingParagraph"===o.ctype&&o.updateProperty({layout:e},t)}),this._virtualEditable.refresh()},o.isStartFromFirstParagraph=function(){var e=this._selectionInfoStore.toValidJSON().start;return this._componentListStore.getComponentById(e.compId).isFirstParagraph(e)},o.isSelectingWrappedSection=function(){var e=this._selectionInfoStore.toValidJSON();return this._componentListStore.getComponentById(e.start.compId).isSelectingWrappedSection()},t}(u.a),iC=rC,aC=iC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/service/index.js",localName:t}})}catch(e){}}e(rC,"WrappingParagraphComponentService"),e(iC,"default")}();var sC,cC,lC,uC,pC,dC,hC,fC=o(273),mC=o(705),gC=o(687),yC=o(689),bC=o(690),_C=o(688),vC=o(691),CC=o(697),OC=o(698),SC=o(696),kC=o(692),IC=o(693),wC=o(116),PC=(sC=Object(ee.history)({sync:!1}),cC=Object(ee.history)({sync:!1}),lC=Object(ee.history)({sync:!1}),uC=Object(ee.history)({sync:!1}),pC=Object(ee.history)({sync:!1}),dC=function(e){function t(){var t;return(t=e.call(this)||this)._imageBehavior=u.V.get("imageBehavior"),t._imageComponentService=u.V.get("imageComponentService"),t._imageUploadService=u.V.get("imageUploadService"),t._imageEditService=u.V.get("imageEditService"),t._wrappingParagraphComponentService=u.V.get("wrappingParagraphComponentService"),t._propertyChangeService=u.V.get("propertyChangeService"),t._editingService=u.V.get("editingService"),t._canvasLayoutService=u.V.get("canvasLayoutService"),t}h()(t,e);var o=t.prototype;return o.changeImage=function(){var e=Ft()(Ut.a.mark(function e(){var t,o,n,r=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._wrappingParagraphComponentService.getSelectedWrappedSection(),e.next=3,this._imageUploadService.openFileDialog();case 3:return o=e.sent,n=t.toPlainJSON(),e.abrupt("return",this._imageBehavior.changeImage({targetStoreId:t.id,selectedImages:o},{onEachUpload:wC.a}).then(function(e){var o=e.succeededImages;return 0===o.length?r._imageComponentService.changeImageByState(t,n):r._imageComponentService.changeImage(t,o[0].response),e}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||this._imageComponentService.getFirstSelectedImageComp().id,e.next=3,this._imageEditService.editImage({activeCompId:t,direct:o});case 3:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t,"adjust");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t,"crop");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t,"filter");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.changeSize=function(e){this._propertyChangeService.changeSize(e),this._wrappingParagraphComponentService.decomposeWrappingComponent()},o.changeQuotationLayout=function(e){var t=e.value;this._propertyChangeService.updateProperty({wrappedSection:{layout:t}})},o.changeWrappingLayout=function(e){var t=e.value;this._wrappingParagraphComponentService.changeWrappingLayout(t)},o.changeTextFormat=function(e){var t=e.value,o="text"===t,n=this._wrappingParagraphComponentService.isSelectingWrappedSection();!o||n?((this._wrappingParagraphComponentService.isStartFromFirstParagraph()||n)&&this._wrappingParagraphComponentService.decomposeWrappingComponent(),this._propertyChangeService.changeTextFormat(t)):this._canvasLayoutService.refreshVirtualEditable()},o.erase=function(){this._editingService.erase()},t}(u.m),q()(dC.prototype,"changeImage",[ee.sentryCatch,sC,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"changeImage"),dC.prototype),q()(dC.prototype,"editImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,cC,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"editImage"),dC.prototype),q()(dC.prototype,"adjustImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,lC,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"adjustImage"),dC.prototype),q()(dC.prototype,"cropImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,uC,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"cropImage"),dC.prototype),q()(dC.prototype,"filterImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,pC,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"filterImage"),dC.prototype),q()(dC.prototype,"changeSize",[ee.history,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"changeSize"),dC.prototype),q()(dC.prototype,"changeQuotationLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"changeQuotationLayout"),dC.prototype),q()(dC.prototype,"changeWrappingLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"changeWrappingLayout"),dC.prototype),q()(dC.prototype,"changeTextFormat",[ee.history,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"changeTextFormat"),dC.prototype),q()(dC.prototype,"erase",[ee.history,K.d],Object.getOwnPropertyDescriptor(dC.prototype,"erase"),dC.prototype),dC);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/buttons/use-case/wrapping-paragraph-button-use-case.js",localName:t}})}catch(e){}}(PC,"WrappingParagraphButtonUseCase")}();var jC=(hC=function(e){function t(){var t;return(t=e.call(this)||this)._propertyChangeService=u.V.get("propertyChangeService"),t._wrappingParagraphComponentService=u.V.get("wrappingParagraphComponentService"),t}h()(t,e);var o=t.prototype;return o.changeWrappingLayout=function(){this._wrappingParagraphComponentService.decomposeWrappingComponent()},o.changeContentMode=function(e){var t=e.value;this._propertyChangeService.updateProperty({wrappedSection:{contentMode:t}}),this._wrappingParagraphComponentService.decomposeWrappingComponent()},t}(u.m),q()(hC.prototype,"changeWrappingLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(hC.prototype,"changeWrappingLayout"),hC.prototype),q()(hC.prototype,"changeContentMode",[ee.history,K.d],Object.getOwnPropertyDescriptor(hC.prototype,"changeContentMode"),hC.prototype),hC);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/buttons/use-case/decompose-wrapping-paragraph-button-use-case.js",localName:t}})}catch(e){}}(jC,"DecomposeWrappingParagraphButtonUseCase")}();var TC=o(704),LC={"image-edit-right-label":{view:Em.a,useCase:PC,styleName:"image-edit"},"image-edit":{view:Mg.a,useCase:PC,styleName:"image-edit"},"image-adjust":{view:Bg.a,useCase:PC,styleName:"image-adjust"},"image-crop":{view:Ug.a,useCase:PC,styleName:"image-crop"},"image-filter":{view:Vg.a,useCase:PC,styleName:"image-filter"},"image-replacement-right-label":{view:Nm.a,useCase:PC,styleName:"image-replacement"},"image-resizing":{view:mC.a,useCase:PC,propertyName:"size",styleName:"resizing"},"content-mode":{view:gC.a,useCase:jC,styleName:"object-arrangement"},"content-mode-group-fit-and-extend":{view:bC.a,useCase:jC,styleName:"object-arrangement"},"content-mode-group-without-pagefull":{view:yC.a,useCase:jC,styleName:"object-arrangement"},"content-mode-without-default":{view:_C.a,useCase:jC,styleName:"object-arrangement"},"content-mode-only-justify":{view:vC.a,useCase:jC,styleName:"object-arrangement-fit"},"wrapping-layout-drop-down":{view:CC.a,useCase:PC,propertyName:"wrappingLayout",styleName:"text-arrangement"},"wrapping-layout-group":{view:OC.a,useCase:PC,propertyName:"wrappingLayout",styleName:"text-arrangement"},"text-format":{view:SC.a,useCase:PC,propertyName:"textFormat",styleName:"text-format"},delete:{view:kC.a,useCase:PC,styleName:"delete"},"quotation-layout":{view:IC.a,useCase:PC,propertyName:"layout",styleName:"quotation"},"to-quotation":{view:TC.a,useCase:PC,styleName:"to-quotation"}},EC=LC,NC=EC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(LC,"buttons"),e(EC,"default")}();var xC={propertyToolbar:{"image-replacement-right-label":NC["image-replacement-right-label"],"image-edit-right-label":NC["image-edit-right-label"],"image-edit":NC["image-edit"],"image-resizing":NC["image-resizing"],align:Object(dt.a)("align-group"),"align-drop-down-with-justify":Object(dt.a)("align-drop-down-with-justify"),list:Object(dt.a)("list"),"content-mode":NC["content-mode"],"content-mode-fit-and-extend":NC["content-mode-group-fit-and-extend"],"content-mode-without-pagefull":NC["content-mode-group-without-pagefull"],"wrapping-layout":NC["wrapping-layout-drop-down"],"image-link":Object(dt.a)("image-link"),"text-format":NC["text-format"],"font-size":Object(dt.a)("font-size"),bold:Object(dt.a)("bold"),italic:Object(dt.a)("italic"),underline:Object(dt.a)("underline"),"font-color":Object(dt.a)("font-color"),"quotation-layout":NC["quotation-layout"],"content-mode-only-justify":NC["content-mode-only-justify"],"line-height":Object(dt.a)("line-height"),"special-letter":Object(dt.a)("special-letter"),"font-family":Object(dt.a)("font-family"),strikethrough:Object(dt.a)("strikethrough"),"background-color":Object(dt.a)("background-color"),"drop-cap":Object(dt.a)("drop-cap"),superscript:Object(dt.a)("superscript"),subscript:Object(dt.a)("subscript"),"text-link":Object(dt.a)("text-link"),speller:Object(dt.a)("speller"),"separator-bar":Object(dt.a)("separator-bar"),"translation-right-label":Object(dt.a)("translation-right-label")},contextToolbar:{"image-edit":NC["image-edit"],"wrapping-layout-group":NC["wrapping-layout-group"],"quotation-layout":Object(dt.a)("quotation-layout"),"caption-bold":Object(dt.a)("caption-bold"),"special-letter":Object(dt.a)("special-letter"),"caption-link":Object(dt.a)("caption-link"),"caption-align":Object(dt.a)("caption-align"),delete:NC.delete,"separator-bar":Object(dt.a)("separator-bar"),translation:Object(dt.a)("translation")},contentsToolbar:{"font-family":Object(dt.a)("font-family"),"font-size":Object(dt.a)("font-size"),bold:Object(dt.a)("bold"),italic:Object(dt.a)("italic"),"font-color":Object(dt.a)("font-color"),"to-quotation":NC["to-quotation"],"cycle-align":Object(dt.a)("cycle-align-with-justify"),"separator-bar":Object(dt.a)("separator-bar"),translation:Object(dt.a)("translation")}},DC=xC;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/wrapping-paragraph-button-set-map.js",localName:t}})}catch(e){}}(xC,"default")}();var RC=o(404);function AC(e,t){var o=t.start.unitId;return e.id===o||e.hasUnit(o)}function MC(e){return Object(RC.a)(e.map(function(e){return(e.value||e.text.value).paragraphs.map(function(e){return{id:e.id,list:e.isListParagraph()}})}))}function BC(e,t){var o=Object(jr.a)(e,function(e){return e.id===t.start.paraId}),n=Object(jr.a)(e,function(e){return e.id===t.end.paraId});return o<n?{lowIndex:o,highIndex:n}:{lowIndex:n,highIndex:o}}function UC(e,t){var o=MC(e),n=BC(o,t),r=n.lowIndex,i=n.highIndex,a=r===i,s=!1;if(!(r<0||i<0)){for(var c=r;c<=i;c++)!0===o[c].list&&(s=!0);return s&&a||!s}}var VC=function(e){var t=e.selectedComponents,o=[],n=t.length,r=Object(ug.a)(t,function(e){return["normal","animated"].includes(e.wrappedSection.displayFormat)}),i=t.some(function(e){return"normal"===e.wrappedSection.displayFormat&&!0===e.wrappedSection.internalResource});return o.push("align"),1===n&&o.push("separator-bar","image-replacement-right-label"),i&&o.push("separator-bar","image-edit-right-label"),r?(o.push("separator-bar","content-mode-without-pagefull"),o.push("separator-bar","wrapping-layout"),o.push("separator-bar","image-link")):o.push("separator-bar","content-mode-fit-and-extend"),o},FC=function(e){var t=[];return"normal"===e.displayFormat&&e.internalResource&&t.push("image-edit","separator-bar"),t.push("wrapping-layout-group","separator-bar","delete"),t},zC=function(e){var t=e.payload,o=e.translationEnabled,n=t.selectionInfoStore,r=n.start.unitId===n.end.unitId,i="cursor"===n.mode||"block"===n.mode,a=["text-format","font-size","separator-bar","bold","italic","underline","font-color","separator-bar","quotation-layout","separator-bar","content-mode-only-justify","wrapping-layout","separator-bar","line-height","special-letter"];return o&&i&&r&&a.push("separator-bar","translation-right-label"),a.push("separator-bar","speller"),a},WC=function(){return["wrapping-layout-group","separator-bar","delete"]},GC=function(e){var t=["text-format","font-family","font-size","separator-bar","bold","italic","underline","strikethrough","font-color","background-color","separator-bar","align-drop-down-with-justify","line-height","list","separator-bar","drop-cap","superscript","subscript","special-letter","text-link","separator-bar"];return e&&t.push("separator-bar","translation-right-label"),t.push("separator-bar","speller"),t},HC=function(e){var t=["caption-align","separator-bar","caption-bold","special-letter","caption-link"];return e&&t.push("separator-bar","translation"),t},qC={propertyToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=t[0].wrappedSection,r=t.filter(function(e){return"wrappingParagraph"===e.ctype}),i=r.length===t.length,a=r.every(function(e){return e.checkNoWrappedCompSelected()}),s=r.every(function(e){return e.checkFocusedOnQuot(o)}),c=r.every(function(e){var t=e.translationEnabled,n=UC(r,o);return t&&i&&a&&n||t&&s});return AC(n,o)?"image"===n.ctype?VC(e):"quotation"===n.ctype?zC({payload:e,translationEnabled:c}):void 0:GC(c)},contextToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=t[0].wrappedSection,r=1===t.length,i=t.every(function(e){return e.translationEnabled});return r&&AC(n,o)?"image"===n.ctype?n.isCaptionFocused()?HC(i):FC(n):"quotation"===n.ctype?["wrapping-layout-group","separator-bar","delete"]:void 0:[]},contentsToolbar:function(e){var t=e.selectionInfoStore,o=e.selectedComponents,n=o[0].wrappedSection,r=o.filter(function(e){return"wrappingParagraph"===e.ctype}),i=!1===AC(n,t),a=r.length===o.length,s=r.every(function(e){return e.checkNoWrappedCompSelected(t)}),c=r.every(function(e){var o=e.translationEnabled,n=UC(r,t);return o&&a&&s&&n});if(i&&a){var l=["font-family","separator-bar","font-size","separator-bar","bold","italic","separator-bar","font-color","separator-bar","to-quotation","separator-bar","cycle-align"];return c&&l.push("separator-bar","translation"),l}return[]}},JC=qC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/wrapping-paragraph-button-resolver.js",localName:t}})}catch(e){}}e(AC,"isSelectingWrappedSection"),e(MC,"getParaMap"),e(BC,"getIndexOfSelectionInMap"),e(UC,"checkNoMultiList"),e(VC,"imagePropertyToolbarButtonResolver"),e(FC,"imageContextToolbarButtonResolver"),e(zC,"quotationPropertyToolbarButtonResolver"),e(WC,"quotationContextToolbarButtonResolver"),e(GC,"textPropertyToolbarButtonResolver"),e(HC,"captionContextToolbarButtonResolver"),e(qC,"default")}();var KC=function(e){function t(){return e.call(this,{buttonSetMap:DC,buttonResolver:JC})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/index.js",localName:t}})}catch(e){}}(KC,"WrappingParagraphComponentToolbar")}();var YC=u.q.extend({name:"WrappingParagraphComponent",view:Mb(function(){return o.e(55).then(o.bind(null,1234))}),useCase:nC.a,service:aC,store:fC.a,toolbar:KC}),XC=YC,QC=XC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/index.js",localName:t}})}catch(e){}}e(YC,"WrappingParagraphComponent"),e(XC,"default")}();var ZC=o(418),$C=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.updateCodeContents=function(e,t){this.getComponentStore(e).updateCodeContents(t)},t}(u.a),eO=$C,tO=eO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/service/index.js",localName:t}})}catch(e){}}e($C,"CodeComponentService"),e(eO,"default")}();var oO,nO,rO=o(445),iO=(oO=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"codeLayout:title":n,i=e.label,a=void 0===i?"codeLayout:label":i,s=e.groups,c=void 0===s?[{value:"default",title:"codeLayout:default_title",label:"codeLayout:default_label",logId:"scskin1"},{value:"code_stripe",title:"codeLayout:stripe_title",label:"codeLayout:stripe_label",logId:"scskin2"},{value:"code_black",title:"codeLayout:black_title",label:"codeLayout:black_label",logId:"scskin3"}]:s,l=e.value,u=void 0===l?"default":l,p=ga()(e,["type","title","label","groups","value"]);return K.b.createElement(n_.a,oc()({type:o,title:r,label:a,groups:c,value:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeLayout(e)},t}(K.b.Component),q()(oO.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(oO.prototype,"_handleChange"),oO.prototype),oO),aO=iO,sO=aO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/buttons/view/code-layout-button-view.jsx",localName:t}})}catch(e){}}e(iO,"CodeLayoutButtonView"),e(aO,"default")}();var cO=(nO=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.LABEL_SELECT:t,n=e.title,r=void 0===n?"codeFontSizeCode:title":n,i=e.label,a=void 0===i?"codeFontSizeCode:label":i,s=e.hasIcon,c=void 0!==s&&s,l=e.value,u=void 0===l?"fs15":l,p=e.logId,d=void 0===p?"size":p,h=e.options,f=void 0===h?{fs13:{label:"codeFontSizeCode:label_fs13",logId:"size13"},fs15:{label:"codeFontSizeCode:label_fs15",logId:"size15"},fs16:{label:"codeFontSizeCode:label_fs16",logId:"size16"}}:h,m=ga()(e,["type","title","label","hasIcon","value","logId","options"]);return K.b.createElement(km.a,oc()({type:o,title:r,label:a,hasIcon:c,value:u,logId:d,options:f},m,{onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeFontSize(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(nO.prototype,"_handleClickOption",[ee.autobind],Object.getOwnPropertyDescriptor(nO.prototype,"_handleClickOption"),nO.prototype),nO),lO=cO,uO=lO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/buttons/view/code-font-size-button-view.jsx",localName:t}})}catch(e){}}e(cO,"CodeFontSizeButtonView"),e(lO,"default")}();var pO={"code-font-size":{view:uO,useCase:Il.a,propertyName:"fontSizeCode",styleName:"font-size-code",i18n:{ko:{codeFontSizeCode:{title:"  ",label:" ",label_fs16:"16",label_fs15:"15",label_fs13:"13"}},en:{codeFontSizeCode:{title:"Change Font Size",label:"Font Size",label_fs16:"16",label_fs15:"15",label_fs13:"13"}},fr:{codeFontSizeCode:{title:"Changer la taille de la police",label:"Taille de police",label_fs16:"16",label_fs15:"15",label_fs13:"13"}}}},"code-layout":{view:sO,useCase:s_.a,propertyName:"layout",styleName:"code",i18n:{ko:{codeLayout:{title:"  ",label:" ",default_title:" ",default_label:" ",stripe_title:"  ",stripe_label:"  ",black_title:"  ",black_label:"  "}},en:{codeLayout:{title:"Change Code Type",label:"Code Type",default_title:"Default Type",default_label:"Default Type",stripe_title:"Horizontal Line Background Type",stripe_label:"Horizontal Line Background Type",black_title:"Black Background Type",black_label:"Black Background Type"}},fr:{codeLayout:{title:"Changer le type de code",label:"Type de code",default_title:"Type par dfaut",default_label:"Type par dfaut",stripe_title:"Type d'arrire-plan de ligne horizontale",stripe_label:"Type d'arrire-plan de ligne horizontale",black_title:"Type d'arrire-plan noir",black_label:"Type d'arrire-plan noir"}}}}},dO=pO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(pO,"default")}();var hO={propertyToolbar:{"code-font-size":dO["code-font-size"],"code-layout":dO["code-layout"],"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"code-layout":dO["code-layout"],delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")}},fO=hO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/code-button-set-map.js",localName:t}})}catch(e){}}(hO,"default")}();var mO={propertyToolbar:function(){return["code-font-size","separator-bar","code-layout"]},contextToolbar:function(){return["code-layout","separator-bar","delete"]}},gO=mO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/code-button-resolver.js",localName:t}})}catch(e){}}(mO,"default")}();var yO=function(e){function t(){return e.call(this,{buttonSetMap:fO,buttonResolver:gO})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/index.js",localName:t}})}catch(e){}}(yO,"AudioComponentToolbar")}();var bO=u.q.extend({name:"CodeComponent",view:Mb(function(){return o.e(57).then(o.bind(null,1235))}),useCase:ZC.a,service:tO,store:rO.a,toolbar:yO}),_O=bO,vO=_O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/index.js",localName:t}})}catch(e){}}e(bO,"CodeComponent"),e(_O,"default")}();var CO=o(419),OO=function(e){function t(){var t;return(t=e.call(this)||this)._api=u.V.get("configAgent").get("apiInfo"),t._componentListStore=u.V.get("componentListStore"),t}h()(t,e);var o=t.prototype;return o.updateComponent=function(e){this.getComponentStore(e.id).setState(e)},o.removeMapImage=function(e){this.getComponentStore(e).removeMapImage()},o.newSchedule=function(e){var t=e.compId,o=e.callback,n=this.getComponentStore(t);1===this._componentListStore.getComponentsByCtype("schedule").filter(function(e){return n.scheduleId===e.scheduleId}).length||null===n.scheduleId?this.addSchedule({compId:t,callback:o}):o.success()},o._toPlainPlacesMapJSON=function(e){return e&&e.toPlainJSON?e.toPlainJSON():e},o.addSchedule=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s,c,l,u,p,d,h,f,m;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.compId,n=t.callback,r=this._api.addSchedule,i=this.getComponentStore(o),a=i.title,s=i.content,c=i.startAt,l=i.endAt,u=i.linkUrl,p=i.dateOnly,d=i.placesMap,h=i.repetition,f=i.notification,m=this._toPlainPlacesMapJSON(d),e.next=7,Io.a.post(r,{data:{title:a,content:s,startAt:c,endAt:l,linkUrl:u,dateOnly:p,placesMap:m,repetition:h,notification:f},options:{headers:{"Content-Type":"application/json"}},success:function(e){i.scheduleId=e.scheduleId,n.success()},error:function(){n.error()}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.updateSchedule=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s,c,l,u,p,d,h;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.getComponentStore(t),n=this._api.updateSchedule+"/"+o.scheduleId,r=o.title,i=o.content,a=o.startAt,s=o.endAt,c=o.linkUrl,l=o.dateOnly,u=o.placesMap,p=o.repetition,d=o.notification,h=this._toPlainPlacesMapJSON(u),e.next=6,Io.a.put(n,{data:{title:r,content:i,startAt:a,endAt:s,linkUrl:c,dateOnly:l,placesMap:h,repetition:p,notification:d},options:{headers:{"Content-Type":"application/json"}},success:function(e){o.scheduleId=e.scheduleId}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(u.a),SO=OO,kO=SO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/service/index.js",localName:t}})}catch(e){}}e(OO,"ScheduleComponentService"),e(SO,"default")}();var IO,wO,PO=o(420),jO=(IO=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"scheduleEdit:title":n,i=e.label,a=void 0===i?"scheduleEdit:label":i,s=e.logId,c=void 0===s?"edit":s,l=e.labelVisible,u=void 0===l||l,p=ga()(e,["type","title","label","logId","labelVisible"]);return K.b.createElement(hb.a,oc()({type:o,title:r,label:a,logId:c,labelVisible:u},p,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.editScheduleLayer(e)},t}(K.b.Component),q()(IO.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(IO.prototype,"_handleClick"),IO.prototype),IO),TO=jO,LO=TO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/view/schedule-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(jO,"ScheduleEditRightLabelButtonView"),e(TO,"default")}();var EO=(wO=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"scheduleEditWithoutLabel:title":n,i=e.logId,a=void 0===i?"edit":i,s=ga()(e,["type","title","logId"]);return K.b.createElement(hb.a,oc()({type:o,title:r,logId:a},s,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.editScheduleLayer(e)},t}(K.b.Component),q()(wO.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(wO.prototype,"_handleClick"),wO.prototype),wO),NO=EO,xO=NO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/view/schedule-edit-button-view.jsx",localName:t}})}catch(e){}}e(EO,"ScheduleEditButtonView"),e(NO,"default")}();var DO=function(){function e(){this._finderService=u.V.get("finderService"),this._scheduleLayerService=u.V.get("scheduleLayerService")}return e.prototype.editScheduleLayer=function(){var e=this._finderService.getSelectedComponents()[0];e&&this._scheduleLayerService.open(e)},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/use-case/schedule-edit-button-use-case.js",localName:t}})}catch(e){}}(DO,"ScheduleEditButtonUseCase")}();var RO={"schedule-edit-right-label":{view:LO,useCase:DO,styleName:"schedule-edit"},"schedule-edit":{view:xO,useCase:DO,styleName:"schedule-edit"}},AO=RO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(RO,"default")}();var MO={propertyToolbar:{align:Object(dt.a)("align-group"),"schedule-edit-right-label":AO["schedule-edit-right-label"],"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),"schedule-edit":AO["schedule-edit"],delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")}},BO=MO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/schedule-button-set-map.js",localName:t}})}catch(e){}}(MO,"default")}();var UO={propertyToolbar:function(e){var t=["align"];return 1===e.selectedComponents.length&&t.push("separator-bar","schedule-edit-right-label"),t},contextToolbar:function(){return["cycle-align","separator-bar","schedule-edit","separator-bar","delete"]}},VO=UO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/schedule-button-resolver.js",localName:t}})}catch(e){}}(UO,"default")}();var FO=function(e){function t(){return e.call(this,{buttonSetMap:BO,buttonResolver:VO})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/index.js",localName:t}})}catch(e){}}(FO,"ScheduleComponentToolbar")}();var zO=u.q.extend({name:"ScheduleComponent",view:Mb(function(){return o.e(58).then(o.bind(null,1259))}),useCase:CO.a,service:kO,store:PO.a,toolbar:FO}),WO=zO,GO=WO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/index.js",localName:t}})}catch(e){}}e(zO,"ScheduleComponent"),e(WO,"default")}();var HO=o(422),qO=o(423),JO=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createFileComponent=function(e){var t={ctype:"file",fileName:e.name,fileSize:e.size};return this._componentFactory.createComponentWithCompData(t)},o.updateComponent=function(e,t){this.getComponentStore(e).updateFile(t)},o.updateProgress=function(e,t){var o=this.getComponentStore(e);if(o&&t.lengthComputable){var n=t.loaded,r=t.total;o.setState({count:Math.round(n/r*100),totalCount:100})}},t}(u.a),KO=JO,YO=KO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/service/index.js",localName:t}})}catch(e){}}e(JO,"FileComponentService"),e(KO,"default")}();var XO={propertyToolbar:{align:Object(dt.a)("align-group"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")},overlayToolbar:{delete:Object(dt.a)("delete")}},QO=XO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/toolbar/file-button-set-map.js",localName:t}})}catch(e){}}(XO,"default")}();var ZO={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["cycle-align","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},$O=ZO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/toolbar/file-button-resolver.js",localName:t}})}catch(e){}}(ZO,"default")}();var eS=function(e){function t(){return e.call(this,{buttonSetMap:QO,buttonResolver:$O})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/toolbar/index.js",localName:t}})}catch(e){}}(eS,"FileComponentToolbar")}();var tS=u.q.extend({name:"FileComponent",view:Mb(function(){return o.e(59).then(o.bind(null,742))}),useCase:HO.a,service:YO,store:qO.a,toolbar:eS}),oS=tS,nS=oS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/index.js",localName:t}})}catch(e){}}e(tS,"FileComponent"),e(oS,"default")}();var rS=o(434),iS=function(e){function t(){var t;return(t=e.call(this)||this)._componentListStore=u.V.get("componentListStore"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._componentFactory=u.V.get("componentFactory"),t._virtualEditable=u.V.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.createComponent=function(){return this._componentFactory.createComponentByCtype("table")},o.mergeCells=function(){var e=this._selectionInfoStore.toValidJSON().focus,t=this._componentListStore.getComponentById(e.compId).mergeCells();this._selectionInfoStore.setRange(t),this._virtualEditable.refresh()},o.splitRowCells=function(){var e=this._selectionInfoStore.toValidJSON().focus;this._componentListStore.getComponentById(e.compId).splitRowCells(),this._virtualEditable.refresh()},o.splitColumnCells=function(){var e=this._selectionInfoStore.toValidJSON().focus;this._componentListStore.getComponentById(e.compId).splitColumnCells(),this._virtualEditable.refresh()},o.insertColumn=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).insertColumnById(e);this._selectionInfoStore.setAnchorAndFocus(o),this._virtualEditable.refresh()},o.insertRow=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).insertRowById(e);this._selectionInfoStore.setAnchorAndFocus(o),this._virtualEditable.refresh()},o.adjustToEqualWidth=function(){var e=this._selectionInfoStore.toValidJSON().focus;this._componentListStore.getComponentById(e.compId).adjustToEqualWidth(),this._virtualEditable.refresh()},o.selectRowByIds=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).selectRowByIds(e);this._selectionInfoStore.setAnchorAndFocus(o)},o.selectColByIds=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).selectColByIds(e);this._selectionInfoStore.setAnchorAndFocus(o)},o.selectAll=function(){var e=this._selectionInfoStore.toValidJSON().focus,t=this._componentListStore.getComponentById(e.compId).selectAll();this._selectionInfoStore.setAnchorAndFocus(t)},t}(u.a),aS=iS,sS=aS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/service/index.js",localName:t}})}catch(e){}}e(iS,"TableComponentService"),e(aS,"default")}();var cS,lS,uS=o(281),pS=o(284),dS=(cS=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.COLOR_PICKER:t,n=e.title,r=void 0===n?"cellBackgroundColor:label":n,i=e.label,a=void 0===i?"cellBackgroundColor:label":i,s=e.useCurrentColor,c=void 0!==s&&s,l=e.option,u=void 0===l?{recentColors:[]}:l,p=e.value,d=void 0===p?"":p,h=e.defaultValue,f=void 0===h?"#fff":h,m=e.logId,g=void 0===m?"cellcolor":m,y=ga()(e,["type","title","label","useCurrentColor","option","value","defaultValue","logId"]);return K.b.createElement(pS.a,oc()({type:o,title:r,label:a,useCurrentColor:c,option:u,value:d,defaultValue:f,logId:g},y,{onChange:this._handleChange,recentColors:u.recentColors}))},o._handleChange=function(e){this.props.useCase.changeCellBackgroundColor(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(cS.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(cS.prototype,"_handleChange"),cS.prototype),cS),hS=dS,fS=hS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/cell-background-color-button.jsx",localName:t}})}catch(e){}}e(dS,"CellBackgroundColorButton"),e(hS,"default")}();var mS=(lS=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"tableAlign:title":n,i=e.label,a=void 0===i?"tableAlign:label":i,s=e.groups,c=void 0===s?[{value:"left",title:"tableAlign:left_title",label:"tableAlign:left_label",logId:"cellleft"},{value:"center",title:"tableAlign:center_title",label:"tableAlign:center_label",logId:"cellcenter"},{value:"right",title:"tableAlign:right_title",label:"tableAlign:right_label",logId:"cellright"}]:s,l=e.value,u=void 0===l?"left":l,p=ga()(e,["type","title","label","groups","value"]);return K.b.createElement(n_.a,oc()({type:o,title:r,label:a,groups:c,value:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeTableAlign(e)},t}(K.b.Component),q()(lS.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(lS.prototype,"_handleChange"),lS.prototype),lS),gS=mS,yS=gS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-align-button.jsx",localName:t}})}catch(e){}}e(mS,"TableAlignButton"),e(gS,"default")}();var bS,_S=o(1046),vS=o.n(_S),CS=o(387),OS=o(122),SS=(bS=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t._mapStateFromProps(e)})},o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.label,a=t.isActivated,s=t.moreViewButton,c=t.i18n,l=t.title,u=t.focused,p=t.logAreaId,d=t.logId,h=t.type,f=c(i),m=We()("se-"+r+"-toolbar-"+h+"-container"),g=We()("se-"+n+"-toolbar-button",((e={})["se-"+r+"-toolbar-"+h+"-button"]=!s,e["se-"+r+"-toolbar-"+h+"-more-button"]=s,e),{"se-is-activated":a}),y=this._rangeSlideOption();return K.b.createElement("div",{className:m},K.b.createElement(OS.a,{focused:u,namespace:r,type:h,dataName:o,logAreaId:p,logId:d,className:g,i18n:c,handleClick:this._handleClickButton,ariaExpanded:""+a,ariaHasPopup:"true"},K.b.createElement("span",{className:"se-toolbar-icon"}),K.b.createElement("span",{className:"se-blind","aria-hidden":"true"},f),K.b.createElement("span",{className:"se-toolbar-tooltip"},c(l))),a&&y)},o._rangeSlideOption=function(){var e=this.props,t=e.name,o=e.label,n=(0,e.i18n)(o),r=this.state,i=r.min,a=r.max,s=r.value,c=We()("se-range-slider-option",["se-range-slider-option-"+t]),l=Number(s).toFixed(0);return K.b.createElement("div",{className:c},K.b.createElement("div",{className:"se-range-slider-area"},K.b.createElement("strong",{className:"se-range-slider-label"},n),K.b.createElement("div",{className:"se-range-slider"},K.b.createElement(vS.a,{value:Number(s),min:i,max:a,onChange:this._handleChangeSliderValue,onChangeComplete:this._handleChangeComplete})),K.b.createElement("div",{className:"se-range-slider-value"},K.b.createElement(CS.a,{className:"se-range-slider-value-input",min:i,max:a,value:Number(l),title:n,onChange:this._handleChangeInputValue,onConfirm:this._handleConfirmInputValue}),K.b.createElement("div",{className:"se-range-slider-value-unit"},"%"))))},o._mapStateFromProps=function(e){return{min:e.min,max:e.max,value:e.value}},o._handleChangeComplete=function(e){this._triggerChangeValue(e,!0)},o._handleClickButton=function(e){var t=this.props,o=t.type,n=t.label,r=t.id,i=t.name,a=t.title,s=t.action,c=t.isActivated;this.props.onClickSelector({event:e,type:o,label:n,id:r,name:i,action:s,title:a,isActivated:c})},o._handleChangeSliderValue=function(e){this.setState({value:e})},o._handleChangeInputValue=function(e){this.setState({value:e})},o._handleConfirmInputValue=function(e){this._triggerChangeValue(e)},o._triggerChangeValue=function(e,t){var o=this.props,n=o.type,r=o.label,a=o.id,s=o.name,c=o.action,l=o.isActivated,u=this._correctNumericalValue(this.state.value),p=Object(i.a)({event:e,type:n,label:r,id:a,name:s,action:c,isActivated:l,remainActive:t,value:u});this.props.onChange(p)},o._correctNumericalValue=function(e){var t=this.state,o=t.min,n=t.max;return e>n?(this.setState({value:n}),n):e<o?(this.setState({value:o}),o):e},t}(K.b.Component),q()(bS.prototype,"_handleChangeComplete",[ee.autobind],Object.getOwnPropertyDescriptor(bS.prototype,"_handleChangeComplete"),bS.prototype),q()(bS.prototype,"_handleClickButton",[ee.autobind],Object.getOwnPropertyDescriptor(bS.prototype,"_handleClickButton"),bS.prototype),q()(bS.prototype,"_handleChangeSliderValue",[ee.autobind],Object.getOwnPropertyDescriptor(bS.prototype,"_handleChangeSliderValue"),bS.prototype),q()(bS.prototype,"_handleChangeInputValue",[ee.autobind],Object.getOwnPropertyDescriptor(bS.prototype,"_handleChangeInputValue"),bS.prototype),q()(bS.prototype,"_handleConfirmInputValue",[ee.autobind],Object.getOwnPropertyDescriptor(bS.prototype,"_handleConfirmInputValue"),bS.prototype),bS);SS.defaultProps={label:"",id:"",name:"",namespace:"",title:"",value:1,isActivated:!1,focused:!1,moreViewButton:!1,onChange:function(){},onClickSelector:function(){},i18n:function(e){return e}},SS.propTypes={type:K.a.oneOf([Ge.a.RANGE_SLIDER]).isRequired,id:K.a.string,name:K.a.string,namespace:K.a.string,label:K.a.string,action:K.a.string,title:K.a.string,value:K.a.number,min:K.a.number,max:K.a.number,isActivated:K.a.bool,moreViewButton:K.a.bool,focused:K.a.bool,onChange:K.a.func,onClickSelector:K.a.func,i18n:K.a.func,logAreaId:K.a.string,logId:K.a.string};var kS,IS=Object(Z.b)(SS),wS=IS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/range-slider-button.jsx",localName:t}})}catch(e){}}e(SS,"RangeSliderButton"),e(IS,"default")}();var PS=(kS=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.RANGE_SLIDER:t,n=e.title,r=void 0===n?"tableWidth:title":n,i=e.label,a=void 0===i?"tableWidth:label":i,s=e.min,c=void 0===s?10:s,l=e.max,u=void 0===l?100:l,p=e.value,d=void 0===p?100:p,h=e.logId,f=void 0===h?"tablesize":h,m=ga()(e,["type","title","label","min","max","value","logId"]);return K.b.createElement(wS,oc()({type:o,title:r,label:a,min:c,max:u,value:d,logId:f},m,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeTableWidth(e)},t}(K.b.Component),q()(kS.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(kS.prototype,"_handleChange"),kS.prototype),kS),jS=PS,TS=jS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-width-button.jsx",localName:t}})}catch(e){}}e(PS,"TableWidthButton"),e(jS,"default")}();var LS=o(686),ES=o(389),NS=o(138),xS=o(388);function DS(e){switch(e){case Ge.a.BASIC:return hb.a;case Ge.a.SEPARATOR_BAR:return LS.a;case Ge.a.TOGGLE:return dl.a;case Ge.a.GROUP_TOGGLE:return n_.a;case Ge.a.LABEL_SELECT:return km.a;case Ge.a.ICON_SELECT:return ES.a;case Ge.a.COLOR_PICKER:return pS.a;case Ge.a.DROP_DOWN:return NS.a;case Ge.a.CUSTOM_LAYER:return vl.a;case Ge.a.CYCLE_TOGGLE:return xS.a;case Ge.a.RANGE_SLIDER:return wS}}var RS=function(){var e=DS(this.props.type);return K.b.createElement(e,this.props)};RS.defaultProps={},RS.propTypes={type:K.a.oneOf([Ge.a.BASIC,Ge.a.SEPARATOR_BAR,Ge.a.TOGGLE,Ge.a.GROUP_TOGGLE,Ge.a.LABEL_SELECT,Ge.a.ICON_SELECT,Ge.a.COLOR_PICKER,Ge.a.DROP_DOWN,Ge.a.CUSTOM_LAYER,Ge.a.CYCLE_TOGGLE,Ge.a.RANGE_SLIDER]).isRequired,value:K.a.oneOfType([K.a.object,K.a.string,K.a.number,K.a.bool])};var AS=Object(Z.b)(RS),MS=AS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/index.jsx",localName:t}})}catch(e){}}e(DS,"getByType"),e(RS,"Button"),e(AS,"default")}();var BS,US=o(685),VS=o(743),FS=o(258),zS=(BS=function(e){function t(){var t;return(t=e.call(this)||this)._refLayer=K.b.createRef(),t._refColorPickerLayer=K.b.createRef(),t._domAccessor=u.V.get("domAccessor"),t}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props)),this.setState({colorPickerReposition:!1})},o.UNSAFE_componentWillReceiveProps=function(e){this.setState(this._mapStateFromProps(e))},o.componentDidUpdate=function(){this._updateColorPickerLayerPositionState()},o.render=function(){var e=this.props,t=e.applyLabel,o=e.borderLabel,n=e.i18n,r=this._renderBorderStyle(),i=this._renderColorPicker();return K.b.createElement(FS.a,{forwardRef:this._refLayer,className:"se-custom-layer-option se-custom-layer-option-table-border"},K.b.createElement("strong",{className:"se-table-border-option-title"},n(o)),K.b.createElement("div",{className:"se-table-border-option"},r,i),K.b.createElement("div",{className:"se-table-border-option-button-container"},K.b.createElement("button",{type:"button","data-role":"confirm",className:"se-table-border-option-apply-button",onClick:this._handleConfirm},K.b.createElement("span",{className:"se-table-border-option-apply-label"},n(t)))))},o._updateColorPickerLayerPositionState=function(){var e=this._domAccessor.getCanvas().getBoundingClientRect().right,t=this._refColorPickerLayer.current._refLayer.current.getBoundingClientRect().right>e;if(!t)return null;this.setState({colorPickerRepositioned:t})},o._renderColorPicker=function(){var e=this.props,t=e.namespace,o=e.name,n=e.i18n,r=this.state,i=r.value,a=r.recentColors,s=r.openColorPicker,c=r.logAreaId,l=We()({"se-table-border-color-option":!0,"se-is-activated":s}),u=We()({"se-color-picker-option-reposition":this.state.colorPickerRepositioned}),p={backgroundColor:i.color},d=c+".cellbrcolor";return K.b.createElement("div",{className:l},K.b.createElement(cc.a,{type:"button","data-group":t+"Toolbar","data-name":o,className:"se-table-border-color-button",onClick:this._handleClickColorPicker,"data-log":d,style:p,"aria-expanded":s,"aria-haspopup":"true"},K.b.createElement("span",{className:"se-blind"},i.color)),K.b.createElement(VS.a,{color:i.color,className:u,ref:this._refColorPickerLayer,recentColors:a,onChangeColor:this._handleChangeColor,i18n:n}))},o._renderBorderStyle=function(){var e=this.props,t=e.namespace,o=e.name,n=e.options,r=e.i18n,i=this.state,a=i.value,s=i.openOptionLayer,c=a.borderStyle,l=We()(["se-"+o+"-option",{"se-is-activated":s}]),u=We()(["se-"+o+"-button","se-"+o+"-"+c+"-button"]),p=n[c],d=p?r(p.label):"",h=this._renderOptionList();return K.b.createElement("div",{className:l},K.b.createElement(cc.a,{type:"button","data-group":t+"Toolbar","data-name":o,className:u,onClick:this._handleClickStyleOption,"aria-expanded":s,"aria-haspopup":"true"},K.b.createElement("span",{className:"se-table-border-style-option-label"},d)),K.b.createElement("ul",{className:"se-table-border-style-option-list",role:"listbox"},h))},o._renderOptionList=function(){var e=this,t=this.props,o=t.options,n=t.name,r=t.namespace,i=t.i18n,a=t.logAreaId,s=this.state.borderStyle;return Object.keys(o).map(function(t,c){var l=t+"_"+c;return K.b.createElement(US.a,{optionId:t,options:o,optionType:Ge.c.TEXT,name:n,namespace:r,value:s,key:l,logAreaId:a,i18n:i,onClickOptionList:e._handleChangeBorder})})},o._isRepositionedLayer=function(){return!!this._refLayer.current.style.length},o._handleClickStyleOption=function(){this.setState(function(e){return{openOptionLayer:!e.openOptionLayer}}),this._isRepositionedLayer()&&this.setState({openColorPicker:!1})},o._handleClickColorPicker=function(){this.setState(function(e){return{openColorPicker:!e.openColorPicker}}),this._isRepositionedLayer()&&this.setState({openOptionLayer:!1})},o._handleChangeColor=function(e){var t=this.props.recentColors,o=t.indexOf(e.value);o>-1&&t.splice(o,1),t.unshift(e.value),t.length>this._RECENT_COLOR_LENGTH&&t.pop();var n={color:e.value,borderStyle:this.state.value.borderStyle};this.setState({value:n,openColorPicker:!1}),this.props.onConfirm({event:e.event,recentColors:t,value:n,remainActive:!0})},o._handleChangeBorder=function(e){var t=e.currentTarget.getAttribute("data-value"),o={color:this.state.value.color,borderStyle:t};this.setState({value:o,openOptionLayer:!1}),this.props.onConfirm({event:e,value:o,remainActive:!0}),e.preventDefault()},o._handleConfirm=function(){this.props.onClose()},o._mapStateFromProps=function(e){return{openOptionLayer:e.openOptionLayer,openColorPicker:e.openColorPicker,value:{color:e.value.color||e.defaultValue.color,borderStyle:e.value.style||e.defaultValue.style},recentColors:e.recentColors}},t}(K.b.Component),q()(BS.prototype,"_handleClickStyleOption",[ee.autobind],Object.getOwnPropertyDescriptor(BS.prototype,"_handleClickStyleOption"),BS.prototype),q()(BS.prototype,"_handleClickColorPicker",[ee.autobind],Object.getOwnPropertyDescriptor(BS.prototype,"_handleClickColorPicker"),BS.prototype),q()(BS.prototype,"_handleChangeColor",[ee.autobind],Object.getOwnPropertyDescriptor(BS.prototype,"_handleChangeColor"),BS.prototype),q()(BS.prototype,"_handleChangeBorder",[ee.autobind],Object.getOwnPropertyDescriptor(BS.prototype,"_handleChangeBorder"),BS.prototype),q()(BS.prototype,"_handleConfirm",[ee.autobind],Object.getOwnPropertyDescriptor(BS.prototype,"_handleConfirm"),BS.prototype),BS);zS.defaultProps={options:{},openOptionLayer:!1,openColorPicker:!1,value:{},defaultValue:{color:"",style:""},name:"",namespace:"",recentColors:[],onConfirm:function(){},onClose:function(){},i18n:function(e){return e},borderLabel:"",applyLabel:""},zS.propTypes={options:K.a.oneOfType([K.a.array,K.a.object]),openOptionLayer:K.a.bool,openColorPicker:K.a.bool,defaultValue:K.a.object,value:K.a.object,name:K.a.string,namespace:K.a.string,recentColors:K.a.oneOfType([K.a.array,K.a.object]),onConfirm:K.a.func,onClose:K.a.func,i18n:K.a.func,borderLabel:K.a.string,applyLabel:K.a.string,logAreaId:K.a.string};var WS,GS=zS,HS=GS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/table-border-style.jsx",localName:t}})}catch(e){}}e(zS,"TableBorderStyle"),e(GS,"default")}();var qS,JS=(WS=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"tableBorder:title_inactive",active:"tableBorder:title_active"}:n,i=e.label,a=void 0===i?"tableBorder:label":i,s=e.labelVisible,c=void 0!==s&&s,l=e.option,u=void 0===l?{recentColors:[]}:l,p=e.logId,d=void 0===p?"cellbr":p,h=e.custom,f=void 0===h?{CustomLayer:HS,customProps:{name:"table-border-style",options:{thinLine:{label:"tableBorder:thinLine_label",logId:"cellbrtype0"},thickLine:{label:"tableBorder:thickLine_label",logId:"cellbrtype1"},dottedLine:{label:"tableBorder:dottedLine_label",logId:"cellbrtype2"},doubleLine:{label:"tableBorder:doubleLine_label",logId:"cellbrtype3"},thickDoubleLine:{label:"tableBorder:thickDoubleLine_label",logId:"cellbrtype4"},none:{label:"tableBorder:none_label",logId:"cellbrnone"}},defaultValue:{color:"#000",style:"none"},borderLabel:"tableBorder:border_label",applyLabel:"tableBorder:apply_label"}}:h,m=ga()(e,["type","title","label","labelVisible","option","logId","custom"]);return K.b.createElement(MS,oc()({type:o,title:r,label:a,labelVisible:c,option:u,logId:d,custom:f},m,{onClick:this._handleClick,onChange:this._handleChange,recentColors:u.recentColors}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeTableBorder(e)},t}(K.b.Component),q()(WS.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(WS.prototype,"_handleClick"),WS.prototype),q()(WS.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(WS.prototype,"_handleChange"),WS.prototype),WS),KS=JS,YS=KS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-border-button.jsx",localName:t}})}catch(e){}}e(JS,"TableBorderButton"),e(KS,"default")}();var XS,QS=(qS=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"tableStyle:title_inactive",active:"tableStyle:title_active"}:n,i=e.label,a=void 0===i?"tableStyle:label":i,s=e.value,c=void 0===s?"":s,l=e.logId,u=void 0===l?"tableskin":l,p=e.options,d=void 0===p?{default:{label:"tableStyle:default_title",logId:"tableskin0"},table_layout1:{label:"tableStyle:layout1_title",logId:"tableskin1"},table_layout2:{label:"tableStyle:layout2_title",logId:"tableskin2"},table_layout3:{label:"tableStyle:layout3_title",logId:"tableskin3"},table_layout4:{label:"tableStyle:layout4_title",logId:"tableskin4"},table_layout5:{label:"tableStyle:layout5_title",logId:"tableskin5"},table_layout6:{label:"tableStyle:layout6_title",logId:"tableskin6"},table_layout7:{label:"tableStyle:layout7_title",logId:"tableskin7"}}:p,h=ga()(e,["type","title","label","value","logId","options"]);return K.b.createElement(NS.a,oc()({type:o,title:r,label:a,value:c,logId:u,options:d},h,{onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeLayout(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(qS.prototype,"_handleClickOption",[ee.autobind],Object.getOwnPropertyDescriptor(qS.prototype,"_handleClickOption"),qS.prototype),qS),ZS=QS,$S=ZS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-style-button.jsx",localName:t}})}catch(e){}}e(QS,"TableStyleButton"),e(ZS,"default")}();var ek=(XS=function(e){function t(){var t;return(t=e.call(this)||this)._propertyChangeService=u.V.get("propertyChangeService"),t._storageService=u.V.get("storageService"),t}h()(t,e);var o=t.prototype;return o.changeTableWidth=function(e){var t=e.value;this._propertyChangeService.updateProperty({resizing:t})},o.changeTableAlign=function(e){this._propertyChangeService.updateStyle(e)},o.changeTableBorder=function(e){var t=e.value,o=e.storageKey,n=e.recentColors;this._propertyChangeService.updateProperty({tableBorder:t}),n&&this._storageService.setStorageData(o,n)},o.changeCellBackgroundColor=function(e){var t=e.value,o=e.recentColors,n=e.storageKey;this._propertyChangeService.updateProperty({cellBackgroundColor:t}),this._storageService.setStorageData(n,o)},o.changeLayout=function(e){var t=e.value;this._propertyChangeService.changeLayout(t)},t}(u.m),q()(XS.prototype,"changeTableWidth",[ee.history,K.d],Object.getOwnPropertyDescriptor(XS.prototype,"changeTableWidth"),XS.prototype),q()(XS.prototype,"changeTableAlign",[ee.history,K.d],Object.getOwnPropertyDescriptor(XS.prototype,"changeTableAlign"),XS.prototype),q()(XS.prototype,"changeTableBorder",[ee.history,K.d],Object.getOwnPropertyDescriptor(XS.prototype,"changeTableBorder"),XS.prototype),q()(XS.prototype,"changeCellBackgroundColor",[ee.history,K.d],Object.getOwnPropertyDescriptor(XS.prototype,"changeCellBackgroundColor"),XS.prototype),q()(XS.prototype,"changeLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(XS.prototype,"changeLayout"),XS.prototype),XS);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/use-case/table-buttons-use-case.js",localName:t}})}catch(e){}}(ek,"TableButtonsUseCase")}();var tk={"table-align":{view:yS,useCase:ek,propertyName:"tableAlign",styleName:"table-align"},"table-width":{view:TS,useCase:ek,propertyName:"tableWidth",styleName:"table-width"},"table-border":{view:YS,useCase:ek,propertyName:"border",styleName:"table-border",option:{storagePolicy:{key:"tableBorder",property:"recentColors"}}},"table-style":{view:$S,useCase:ek,propertyName:"layout",styleName:"table-style"},"cell-background-color":{view:fS,useCase:ek,propertyName:"cellBackgroundColor",styleName:"cell-background-color",option:{storagePolicy:{key:"cellBackgroundColor",property:"recentColors"}}}},ok=tk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(tk,"default")}();var nk={propertyToolbar:{"font-family":Object(dt.a)("font-family"),"font-size":Object(dt.a)("font-size"),bold:Object(dt.a)("bold"),italic:Object(dt.a)("italic"),underline:Object(dt.a)("underline"),strikethrough:Object(dt.a)("strikethrough"),"font-color":Object(dt.a)("font-color"),"align-drop-down":Object(dt.a)("align-drop-down"),"line-height":Object(dt.a)("line-height"),"special-letter":Object(dt.a)("special-letter"),"text-link":Object(dt.a)("text-link"),list:Object(dt.a)("list"),"table-align":ok["table-align"],"table-width":ok["table-width"],"cell-background-color":ok["cell-background-color"],"table-border":ok["table-border"],"table-style":ok["table-style"],"translation-right-label":Object(dt.a)("translation-right-label"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{delete:Object(dt.a)("delete")}},rk=nk;function ik(e){var t=e[0].getAllCellStores();return Object(RC.a)(t.map(function(e){return e.value.paragraphs.map(function(e){return{id:e.id,list:e.isListParagraph()}})}))}function ak(e,t){var o=Object(jr.a)(e,function(e){return e.id===t.start.paraId}),n=Object(jr.a)(e,function(e){return e.id===t.end.paraId});return o<n?{lowIndex:o,highIndex:n}:{lowIndex:n,highIndex:o}}function sk(e,t){var o=ik(e),n=ak(o,t),r=n.lowIndex,i=n.highIndex,a=r===i,s=!1;if(!(r<0||i<0)){for(var c=r;c<=i;c++)!0===o[c].list&&(s=!0);return s&&a||!s}}!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/table-button-set-map.js",localName:t}})}catch(e){}}(nk,"default")}();var ck={propertyToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=["font-family","font-size","separator-bar","bold","italic","underline","strikethrough","font-color","separator-bar","align-drop-down","line-height","list"];"cursor"!==o.mode&&"block"!==o.mode||(n.push("separator-bar","special-letter","text-link"),t.every(function(e){var n=e.translationEnabled,r=sk(t,o);return n&&r})&&n.push("separator-bar","translation-right-label"));return n.push("separator-bar","table-align","table-width","separator-bar","cell-background-color","table-border","table-style","separator-bar"),n},contextToolbar:function(){return["delete"]}},lk=ck;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/table-button-resolver.js",localName:t}})}catch(e){}}e(ik,"getParaMap"),e(ak,"getIndexOfSelectionInMap"),e(sk,"checkNoMultiList"),e(ck,"default")}();var uk=function(e){function t(){return e.call(this,{buttonSetMap:rk,buttonResolver:lk})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/index.js",localName:t}})}catch(e){}}(uk,"TableComponentToolbar")}();var pk=o(417),dk=u.q.extend({name:"TableComponent",view:Mb(function(){return o.e(56).then(o.bind(null,1250))}),useCase:pk.a,service:sS,store:uS.a,toolbar:uk}),hk=dk,fk=hk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/index.js",localName:t}})}catch(e){}}e(dk,"TableComponent"),e(hk,"default")}();var mk=o(424),gk={LEFT:"left",CENTER:"center",RIGHT:"right"},yk={DEFAULT:"DEFAULT",INSERT:"INSERT",DELETE:"DELETE",UPDATE:"UPDATE"},bk={FormulaAlign:gk,FormulaEditTypes:yk};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/consts/index.js",localName:t}})}catch(e){}}e(gk,"FormulaAlign"),e(yk,"FormulaEditTypes"),e(bk,"default")}();var _k=function(e){function t(){var t;return(t=e.call(this)||this)._componentListStore=u.V.get("componentListStore"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.activeCompData=function(){var e=this._selectionInfoStore.start.compId;return this.getComponentStore(e)},o.getFormulaCompList=function(){return this._getAllFormulaComponents().map(function(e){return{mode:yk.DEFAULT,id:e.id,fontSize:e.fontSizeCode.replace("fs",""),latex:e.latex,thumbnail:e.thumbnail}})},o._convertToFormulaEditorFormat=function(e){return e.map(function(e){return{mode:yk.DEFAULT,id:e.id,fontSize:e.fontSizeCode.replace("fs",""),latex:e.latex,thumbnail:e.thumbnail}})},o.getFormulaListWithNewFormula=function(){var e={mode:yk.INSERT},t=this._selectionInfoStore.start.compId,o=this._componentListStore.getNextComponentById(t),n=this._componentListStore.getComponentsByCtypeUntil(t,"formula"),r=o?this._componentListStore.getComponentsByCtypeFrom(o.id,"formula"):[];return{compList:[].concat(this._convertToFormulaEditorFormat(n),[e],this._convertToFormulaEditorFormat(r)),newFormula:e}},o._getAllFormulaComponents=function(){return this._componentListStore.getComponentsByCtype("formula")},o.createComponent=function(e){var t=e.thumbnail||{};return this._componentFactory.createComponentWithCompData({ctype:"formula",html:e.html,latex:e.latex,fontSizeCode:e.fontSizeCode,thumbnail:{ctype:"thumbnail",src:t.src,width:Number(t.width),height:Number(t.height)}})},o.updateComponent=function(e){this.getComponentStore(e.id).updateFormulaData(e)},t}(u.a),vk=_k,Ck=vk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/service/index.js",localName:t}})}catch(e){}}e(_k,"FormulaComponentService"),e(vk,"default")}();var Ok,Sk,kk=o(425),Ik=(Ok=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"formulaEdit:title":n,i=e.label,a=void 0===i?"formulaEdit:label":i,s=e.labelVisible,c=void 0===s||s,l=e.logId,u=void 0===l?"edit":l,p=ga()(e,["type","title","label","labelVisible","logId"]);return K.b.createElement(hb.a,oc()({type:o,title:r,label:a,logId:u,labelVisible:c},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editFormula()},t}(K.b.Component),q()(Ok.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Ok.prototype,"_handleClick"),Ok.prototype),Ok),wk=Ik,Pk=wk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/buttons/view/formula-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(Ik,"FormulaEditRightLabelButtonView"),e(wk,"default")}();var jk=(Sk=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"formulaEdit:title":n,i=e.logId,a=void 0===i?"edit":i,s=ga()(e,["type","title","logId"]);return K.b.createElement(hb.a,oc()({type:o,title:r,logId:a},s,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editFormula()},t}(K.b.Component),q()(Sk.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Sk.prototype,"_handleClick"),Sk.prototype),Sk),Tk=jk,Lk=Tk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/buttons/view/formula-edit-button-view.jsx",localName:t}})}catch(e){}}e(jk,"FormulaEditButtonView"),e(Tk,"default")}();var Ek=o(390),Nk={"formula-edit-right-label":{view:Pk,useCase:Ek.a,propertyName:"",styleName:"formula-edit"},"formula-edit":{view:Lk,useCase:Ek.a,propertyName:"",styleName:"formula-edit"}},xk=Nk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Nk,"default")}();var Dk={propertyToolbar:{align:Object(dt.a)("align-group"),"formula-edit":xk["formula-edit-right-label"],"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),"formula-edit":xk["formula-edit"],delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")}},Rk=Dk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/formula-button-set-map.js",localName:t}})}catch(e){}}(Dk,"default")}();var Ak={propertyToolbar:function(){return["align","separator-bar","formula-edit"]},contextToolbar:function(){return["cycle-align","separator-bar","formula-edit","separator-bar","delete"]}},Mk=Ak;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/formula-button-resolver.js",localName:t}})}catch(e){}}(Ak,"default")}();var Bk=function(e){function t(){return e.call(this,{buttonSetMap:Rk,buttonResolver:Mk})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Bk,"FormulaComponentToolbar")}();var Uk=u.q.extend({name:"FormulaComponent",view:Mb(function(){return o.e(60).then(o.bind(null,1236))}),useCase:mk.a,service:Ck,store:kk.a,toolbar:Bk}),Vk=Uk,Fk=Vk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/index.js",localName:t}})}catch(e){}}e(Uk,"FormulaComponent"),e(Vk,"default")}();var zk=o(413),Wk=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createAudioComponent=function(e){var t={ctype:"audio",src:e.src,fileName:e.name,fileSize:e.size};return this._componentFactory.createComponentWithCompData(t)},o.updateComponent=function(e,t){var o=this.getComponentStore(e);o&&o.updateAudio(t)},o.updateProgress=function(e,t){var o=this.getComponentStore(e);if(o&&t.lengthComputable){var n=t.loaded,r=t.total;o.setState({count:Math.round(n/r*100),totalCount:100})}},t}(u.a),Gk=Wk,Hk=Gk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/service/index.js",localName:t}})}catch(e){}}e(Wk,"AudioComponentService"),e(Gk,"default")}();var qk=o(414),Jk={propertyToolbar:{align:Object(dt.a)("align-group"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{"cycle-align":Object(dt.a)("cycle-align"),delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")},overlayToolbar:{delete:Object(dt.a)("delete")}},Kk=Jk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/toolbar/audio-button-set-map.js",localName:t}})}catch(e){}}(Jk,"default")}();var Yk={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["cycle-align","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},Xk=Yk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/toolbar/audio-button-resolver.js",localName:t}})}catch(e){}}(Yk,"default")}();var Qk=function(e){function t(){return e.call(this,{buttonSetMap:Kk,buttonResolver:Xk})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Qk,"AudioComponentToolbar")}();var Zk=u.q.extend({name:"AudioComponent",view:Mb(function(){return o.e(53).then(o.bind(null,1232))}),useCase:zk.a,service:Hk,store:qk.a,toolbar:Qk}),$k=Zk,eI=$k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/index.js",localName:t}})}catch(e){}}e(Zk,"AudioComponent"),e($k,"default")}();var tI,oI,nI=o(140),rI=K.f.toJS,iI=(tI=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"data",oI,G()(o)),o.attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"};var n=t.state,r=void 0===n?{}:n;o.align=Object(J.a)(r,"align","left"),o.subtype=Object(J.a)(r,"subtype",""),o.data=Object(J.a)(r,"data",o.data),o.layout="default",o._configAgent=u.V.get("configAgent");var a=(o._configAgent.get("plugins.customComponents")||[]).find(function(e){return e.type===o.subtype});if(a&&(o._render=a.onRender,o._onLoad=a.onLoad,o._onDelete=a.onDelete),o.attributes.erasure=o._onDelete?"confirm":"self",o._onLoad){var s=!0===r.copied;delete r.copied,o._onLoad({data:K.f.toJS(o.data),copied:s,updateDataDidLoad:function(e){o.data=Object(i.a)(e,o.data)}})}return o}h()(t,e);var o=t.prototype;return o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,align:this.align,subtype:this.subtype,layout:this.layout,data:rI(this.data)}},o.toValidJSON=function(e){void 0===e&&(e={fromCopy:!1});var t={id:this.id,ctype:this.ctype,align:this.align,subtype:this.subtype,layout:this.layout,data:rI(this.data)};return e.fromCopy&&(t.copied=!0),t},o.collectStyle=function(){return{layout:this.layout,align:this.align}},o.getSubType=function(){return this.subtype},o.getCustomData=function(){return rI(this.data)},o.updateCustomData=function(e){e&&"object"==typeof e&&(this.data=e)},o.getComponentActiveRange=function(){return{start:this.getCompStartPoint(),end:this.getCompEndPoint()}},o.getCompStartRange=function(){return this.getComponentActiveRange()},o.getCompEndRange=function(){return this.getComponentActiveRange()},o.getCompStartPoint=function(){return this.getStartPoint()},o.getCompEndPoint=function(){return this.getEndPoint()},o.getEndCollapsedRange=function(){return this.getComponentActiveRange()},o.clone=function(){var e=this.toValidJSON();return this._componentFactory.createComponentWithCompData(e)},o.updateStyle=function(e){var t=e.align;t&&this.changeAlign(t)},o.queryCursor=function(){},o.queryDragAndDrop=function(){},o.confirmErasure=function(){var e=this;return new Promise(function(t){var o=e._onDelete(e.toPlainJSON());o&&o.then?o.then(function(e){return t(!1!==e)}).catch(function(e){return t(!1!==e)}):t(!1!==o)})},o.refineSelection=function(){},o.erase=function(){},o.getDomString=function(){return this._render?this._render({data:K.f.toJS(this.data)}):null},t}(u.g),oI=q()(tI.prototype,"data",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),tI);iI.ctype="custom",iI.schema={id:rf.a.string.isRequired,align:rf.a.string,ctype:rf.a.string.isRequired,layout:rf.a.string.isRequired,subtype:rf.a.string.isRequired,data:rf.a.object.isRequired};var aI=iI,sI=aI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/store/index.js",localName:t}})}catch(e){}}e(rI,"toJS"),e(iI,"CustomComponentStore"),e(aI,"default")}();var cI,lI=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.c),uI=lI,pI=uI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/use-case/index.js",localName:t}})}catch(e){}}e(lI,"CustomComponentUseCase"),e(uI,"default")}();var dI=(cI=function(e){function t(){var t;return(t=e.call(this)||this).count=0,t}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.dragAndDrop,a=(t.data,this._getCustomElements());return K.b.createElement(ef.a,{id:n,ctype:r,i18n:o},K.b.createElement(tf.a,{compId:n,dragInfo:i},K.b.createElement(Mf.a,{blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},K.b.createElement(ry.a,{ctype:r},a))))},o._getCustomElements=function(){var e=this.props.store.getDomString();return e?K.b.createElement("div",{dangerouslySetInnerHTML:{__html:e}}):K.b.createElement("div",null,this.count++)},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),q()(cI.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(cI.prototype,"_handleMoveToPrev"),cI.prototype),q()(cI.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(cI.prototype,"_handleMoveToNext"),cI.prototype),cI);dI.defaultProps={i18n:function(e){return e}},dI.propTypes={store:K.a.instanceOf(sI).isRequired,useCase:K.a.instanceOf(pI).isRequired,i18n:K.a.func};var hI=Object(Z.b)(dI),fI=hI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/view/index.jsx",localName:t}})}catch(e){}}e(dI,"CustomComponentView"),e(hI,"default")}();var mI,gI=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),yI=gI,bI=yI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/service/index.js",localName:t}})}catch(e){}}e(gI,"CustomComponentService"),e(yI,"default")}();var _I=(mI=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"customEditButton:title":n,i=e.label,a=void 0===i?"customEditButton:label":i,s=e.logId,c=void 0===s?"edit":s,l=ga()(e,["type","title","label","logId"]);return K.b.createElement(hb.a,oc()({},l,{type:o,title:r,label:a,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.onClick()},t}(K.b.Component),q()(mI.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(mI.prototype,"_handleClick"),mI.prototype),mI);_I.propTypes={useCase:K.a.object};var vI,CI=_I,OI=CI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/view/custom-edit-button.jsx",localName:t}})}catch(e){}}e(_I,"CustomEditButton"),e(CI,"default")}();var SI=(vI=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"customEditButton:title":n,i=e.label,a=void 0===i?"customEditButton:label":i,s=e.logId,c=void 0===s?"edit":s,l=e.labelVisible,u=void 0===l||l,p=ga()(e,["type","title","label","logId","labelVisible"]);return K.b.createElement(hb.a,oc()({},p,{type:o,title:r,label:a,labelVisible:u,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.onClick()},t}(K.b.Component),q()(vI.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(vI.prototype,"_handleClick"),vI.prototype),vI);SI.propTypes={useCase:K.a.object};var kI,II=SI,wI=II;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/view/custom-edit-right-label-button.jsx",localName:t}})}catch(e){}}e(SI,"CustomRightLabelButton"),e(II,"default")}();var PI=(kI=function(){function e(){this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentListStore=u.V.get("componentListStore"),this._customComponents=u.V.get("configAgent").get("plugins.customComponents"),this._editorStatusStore=u.V.get("editorStatusStore"),this._virtualEditable=u.V.get("virtualEditable"),this._dragAndDropService=u.V.get("dragAndDropService"),this._hotkeyBinder=u.V.get("hotkeyBinder"),this._eventDispatcherService=u.V.get("eventDispatcherService")}var t=e.prototype;return t._pauseDocumentEdit=function(){this._virtualEditable.disable(),this._hotkeyBinder.pause(),this._editorStatusStore.pause(),this._dragAndDropService.disable(),this._eventDispatcherService.emit(u.z.PAUSED)},t._unpauseDocumentEdit=function(){this._dragAndDropService.enable(),this._hotkeyBinder.unpause(),this._editorStatusStore.unpause(),this._virtualEditable.enable(),this._virtualEditable.refresh(),this._eventDispatcherService.emit(u.z.RESUMED)},t.onClick=function(){var e=this._selectionInfoStore.toValidJSON();if("single"===e.mode){var t=e.start.compId,o=this._componentListStore.getComponentById(t);if(o){var n=(this._customComponents||[]).find(function(e){return e.type===o.subtype});if(n){var r=n.onEdit;this._pauseDocumentEdit(),r&&r({compId:t,data:o.getCustomData()}),this._unpauseDocumentEdit()}}}},e}(),q()(kI.prototype,"onClick",[ee.preventOnComponentProcessing,ee.history,K.d],Object.getOwnPropertyDescriptor(kI.prototype,"onClick"),kI.prototype),kI),jI=PI,TI=jI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/use-case/custom-edit-button-use-case.js",localName:t}})}catch(e){}}e(PI,"CustomEditButtonUseCase"),e(jI,"default")}();var LI={"custom-edit":{view:OI,useCase:TI,styleName:"custom-edit"},"custom-edit-right-label":{view:wI,useCase:TI,styleName:"custom-edit"}},EI=LI,NI=EI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(LI,"buttons"),e(EI,"default")}();var xI={propertyToolbar:{align:Object(dt.a)("align-group"),edit:NI["custom-edit-right-label"],"separator-bar":Object(dt.a)("separator-bar"),delete:Object(dt.a)("delete-with-selection")},contextToolbar:{align:Object(dt.a)("cycle-align"),edit:NI["custom-edit"],"separator-bar":Object(dt.a)("separator-bar"),delete:Object(dt.a)("delete-with-selection")}},DI=xI;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/custom-button-set-map.js",localName:t}})}catch(e){}}(xI,"default")}();var RI={propertyToolbar:{desktop:["align"],mobile:["delete"]},contextToolbar:{desktop:[],mobile:[]}},AI=function(e,t,o,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var r=Object(wr.a)(Object(J.a)(t,"toolbar."+e+".exclude",[]),n);return Object(wr.a)(o,r)},MI=function(e,t,o,n,r){void 0===r&&(r={});var i=o.find(function(t){return t.type===e}),a=Object(J.a)(RI,"propertyToolbar."+t,[]),s=AI("propertyToolbar",i,n,a);return Array.isArray(r.right)&&(r.right=AI("propertyToolbar",i,r.right,a)),Array.isArray(r.left)&&(r.left=AI("propertyToolbar",i,r.left,a)),t===u.t.MOBILE?{buttonSet:s,fixedButtonSets:r}:s},BI=function(e,t,o,n){var r=o.find(function(t){return t.type===e});return AI("contextToolbar",r,n,Object(J.a)(RI,"contextToolbar."+t,[]))},UI={propertyToolbar:function(e){var t=e.configAgent,o=e.selectedComponents;if(o&&0!==o.length){var n=t.get("productEnv.deviceType"),r=t.get("plugins.customComponents"),i=o[0].subtype,a=[],s=n!==u.t.MOBILE?{right:[]}:{right:["delete"]};return o.length>1?a.push("align"):a.push("align","separator-bar","edit"),MI(i,n,r,a,s)}},contextToolbar:function(e){var t=e.configAgent,o=e.selectedComponents;if(o&&0!==o.length){var n=t.get("productEnv.deviceType"),r=t.get("plugins.customComponents"),i=o[0].subtype,a=[];return o.length>1?a.push("align","separator-bar","delete"):a.push("align","separator-bar","edit","separator-bar","delete"),BI(i,n,r,a)}}},VI=UI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/custom-button-resolver.js",localName:t}})}catch(e){}}e(RI,"NOT_ALLOW_EXCLUDE_BUTTONS"),e(AI,"getMergedButtenSet"),e(MI,"makePropertyButtonSet"),e(BI,"makeContextButtonSet"),e(UI,"default")}();var FI=function(e){function t(){return e.call(this,{buttonSetMap:DI,buttonResolver:VI})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/index.js",localName:t}})}catch(e){}}(FI,"CustomComponentToolbar")}();var zI=u.q.extend({name:"CustomComponent",view:fI,useCase:pI,service:bI,store:sI,toolbar:FI}),WI=zI,GI=WI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/index.js",localName:t}})}catch(e){}}e(zI,"CustomComponent"),e(WI,"default")}();var HI,qI,JI=o(723),KI=o(725),YI=(HI=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"talktalkEdit:title":n,i=e.label,a=void 0===i?"talktalkEdit:label":i,s=e.logId,c=void 0===s?"edit":s,l=e.labelVisible,u=void 0===l||l,p=ga()(e,["type","title","label","logId","labelVisible"]);return K.b.createElement(hb.a,oc()({type:o,title:r,label:a,logId:c,labelVisible:u},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editTalktalk()},t}(K.b.Component),q()(HI.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(HI.prototype,"_handleClick"),HI.prototype),HI),XI=YI,QI=XI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/view/talktalk-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(YI,"TalktalkEditRightLabelButton"),e(XI,"default")}();var ZI,$I=(qI=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?Ge.a.BASIC:t,n=e.title,r=void 0===n?"talktalkEdit:title":n,i=e.logId,a=void 0===i?"edit":i,s=ga()(e,["type","title","logId"]);return K.b.createElement(MS,oc()({type:o,title:r,logId:a},s,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editTalktalk()},t}(K.b.Component),q()(qI.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(qI.prototype,"_handleClick"),qI.prototype),qI),ew=$I,tw=ew;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/view/talktalk-edit-button-view.jsx",localName:t}})}catch(e){}}e($I,"TalktalkEditButtonView"),e(ew,"default")}();var ow=(ZI=function(){function e(){this._talktalkEditLayerService=u.V.get("talktalkEditLayerService"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentListStore=u.V.get("componentListStore")}return e.prototype.editTalktalk=function(){var e=this._selectionInfoStore.toValidJSON(),t=this._componentListStore.getSelectedComponents(e),o=Object(no.a)(t).toValidJSON();this._talktalkEditLayerService.open({bannerType:o.layout,accountId:o.accountId,image:o.image})},e}(),q()(ZI.prototype,"editTalktalk",[K.d],Object.getOwnPropertyDescriptor(ZI.prototype,"editTalktalk"),ZI.prototype),ZI),nw=ow,rw=nw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/use-case/talktalk-edit-button-use-case.js",localName:t}})}catch(e){}}e(ow,"TalktalkEditButtonUseCase"),e(nw,"default")}();var iw={"talktalk-edit":{view:QI,useCase:rw,styleName:"talktalk-edit"},"talktalk-edit-without-label":{view:tw,useCase:rw,styleName:"talktalk-edit"}},aw=iw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/index.js",localName:t}})}catch(e){}}(iw,"default")}();var sw={propertyToolbar:{align:Object(dt.a)("align-group"),talktalk:aw["talktalk-edit"],"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{align:Object(dt.a)("cycle-align"),talktalk:aw["talktalk-edit-without-label"],delete:Object(dt.a)("delete"),"separator-bar":Object(dt.a)("separator-bar")}},cw=sw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/talktalk-button-set-map.js",localName:t}})}catch(e){}}(sw,"default")}();var lw={propertyToolbar:function(){return["align","separator-bar","talktalk"]},contextToolbar:function(){return["align","separator-bar","talktalk","separator-bar","delete"]}},uw=lw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/talktalk-button-resolver.js",localName:t}})}catch(e){}}(lw,"default")}();var pw=function(e){function t(){return e.call(this,{buttonSetMap:cw,buttonResolver:uw})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/index.js",localName:t}})}catch(e){}}(pw,"TalktalkComponentToolbar")}();var dw=u.q.extend({name:"TalktalkComponent",view:Mb(function(){return o.e(61).then(o.bind(null,1237))}),store:JI.a,useCase:KI.a,toolbar:pw}),hw=dw,fw=hw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/index.js",localName:t}})}catch(e){}}e(dw,"TalktalkComponent"),e(hw,"default")}();var mw=o(726),gw={propertyToolbar:{align:Object(dt.a)("align-group"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{delete:Object(dt.a)("delete")}},yw=gw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/toolbar/anniversary-section-button-set-map.js",localName:t}})}catch(e){}}(gw,"default")}();var bw={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["delete"]}},_w=bw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/toolbar/anniversary-section-button-resolver.js",localName:t}})}catch(e){}}(bw,"default")}();var vw=function(e){function t(){return e.call(this,{buttonSetMap:yw,buttonResolver:_w})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/toolbar/index.js",localName:t}})}catch(e){}}(vw,"AnniversarySectionComponentToolbar")}();var Cw=o(727),Ow=u.q.extend({name:"AnniversarySectionComponent",view:Mb(function(){return o.e(62).then(o.bind(null,1238))}),store:mw.a,useCase:Cw.a,toolbar:vw}),Sw=Ow,kw=Sw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/index.js",localName:t}})}catch(e){}}e(Ow,"AnniversarySectionComponent"),e(Sw,"default")}();var Iw=o(728),ww={propertyToolbar:{align:Object(dt.a)("align-group"),"separator-bar":Object(dt.a)("separator-bar")},contextToolbar:{delete:Object(dt.a)("delete")}},Pw=ww;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/toolbar/mr-blog-button-set-map.js",localName:t}})}catch(e){}}(ww,"default")}();var jw={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["delete"]}},Tw=jw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/toolbar/mr-blog-button-resolver.js",localName:t}})}catch(e){}}(jw,"default")}();var Lw=function(e){function t(){return e.call(this,{buttonSetMap:Pw,buttonResolver:Tw})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/toolbar/index.js",localName:t}})}catch(e){}}(Lw,"MrBlogComponentToolbar")}();var Ew=o(729),Nw=u.q.extend({name:"MrBlogComponent",view:Mb(function(){return o.e(63).then(o.bind(null,1239))}),store:Iw.a,useCase:Ew.a,toolbar:Lw}),xw=Nw,Dw=xw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/index.js",localName:t}})}catch(e){}}e(Nw,"MrBlogComponent"),e(xw,"default")}();var Rw=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"};var n=t.state,r=void 0===n?{}:n;if("unknown"===r.ctype)throw new Error("Occured critical issue about component data in unknown!");return o.ctype="unknown",o.unknownCompData=r,o.id!==o.unknownCompData.id&&Object.assign(o.unknownCompData,{id:o.id}),o}h()(t,e);var o=t.prototype;return o._cloneComponentData=function(){return JSON.parse(JSON.stringify(this.unknownCompData))},o.getRealCtype=function(){return this.unknownCompData.ctype},o.toPlainJSON=function(){return this._cloneComponentData()},o.toValidJSON=function(){return this._cloneComponentData()},o.collectStyle=function(){return{layout:"default"}},o.getComponentActiveRange=function(){return{start:this.getCompStartPoint(),end:this.getCompEndPoint()}},o.getCompStartRange=function(){return this.getComponentActiveRange()},o.getCompEndRange=function(){return this.getComponentActiveRange()},o.getCompStartPoint=function(){return this.getStartPoint()},o.getCompEndPoint=function(){return this.getEndPoint()},o.getEndCollapsedRange=function(){return this.getComponentActiveRange()},o.clone=function(){var e=this.toValidJSON();return this._componentFactory.createComponentWithCompData(e)},o.updateStyle=function(){},o.queryCursor=function(){},o.queryDragAndDrop=function(){},o.refineSelection=function(){},o.erase=function(){},t}(u.b);Rw.ctype="unknown",Rw.schema={id:rf.a.string.isRequired,layout:rf.a.string.isRequired,ctype:rf.a.string.isRequired,value:rf.a.textUnit.isRequired};var Aw=Rw,Mw=Aw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/store/index.js",localName:t}})}catch(e){}}e(Rw,"UnknownComponentStore"),e(Aw,"default")}();var Bw,Uw=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.c),Vw=Uw,Fw=Vw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/use-case/index.js",localName:t}})}catch(e){}}e(Uw,"UnknownComponentUseCase"),e(Vw,"default")}();var zw=(Bw=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.dragAndDrop,a=t.getRealCtype(),s=this._getGuideDescription(o,a),c=this._resolveWrapperClassName();return K.b.createElement(ef.a,{id:n,ctype:r,i18n:o},K.b.createElement(tf.a,{compId:n,dragInfo:i},K.b.createElement(Mf.a,{blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},K.b.createElement(ry.a,{ctype:r,className:c},K.b.createElement("div",null,s)))))},o._getGuideDescription=function(e,t){return u.V.get("configAgent").get("productEnv.deviceType")===u.t.DESKTOP?e("unknownComponent:title")+" ("+t+")":e("unknownComponent:from_text",{ctype:e.getResource(e.language(),"unknownComponent")["ctype_"+t]||e("unknownComponent:ctype_unknown")})},o._resolveWrapperClassName=function(){return We()({"se-section":!0,"se-l-default":!0,"__se-unit":!0})},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),q()(Bw.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(Bw.prototype,"_handleMoveToPrev"),Bw.prototype),q()(Bw.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(Bw.prototype,"_handleMoveToNext"),Bw.prototype),Bw);zw.defaultProps={i18n:function(e){return e}},zw.propTypes={store:K.a.instanceOf(Mw).isRequired,useCase:K.a.instanceOf(Fw).isRequired,i18n:K.a.func};var Ww=Object(Z.b)(zw),Gw=Ww;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/view/index.jsx",localName:t}})}catch(e){}}e(zw,"UnknownComponentView"),e(Ww,"default")}();var Hw=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),qw=Hw,Jw=qw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/service/index.js",localName:t}})}catch(e){}}e(Hw,"UnknownComponentService"),e(qw,"default")}();var Kw={propertyToolbar:{delete:Object(dt.a)("delete-with-selection")}},Yw=Kw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/toolbar/unknown-button-set-map.js",localName:t}})}catch(e){}}(Kw,"default")}();var Xw={propertyToolbar:function(){var e=[];return u.V.get("configAgent").get("productEnv.deviceType")===u.t.MOBILE?{fixedButtonSets:{right:["delete"]}}:(e.push("delete"),e)}},Qw=Xw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/toolbar/unknown-button-resolver.js",localName:t}})}catch(e){}}(Xw,"default")}();var Zw=function(e){function t(){return e.call(this,{buttonSetMap:Yw,buttonResolver:Qw})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Zw,"UnknownComponentToolbar")}();var $w=u.q.extend({name:"UnknownComponent",view:Gw,useCase:Fw,service:Jw,store:Mw,toolbar:Zw}),eP=$w,tP=eP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/index.js",localName:t}})}catch(e){}}e($w,"UnknownComponent"),e(eP,"default")}();var oP={layouts:[Au,lp,k,pe,_e,Pe,De,At.extend({setting:{config:{layoutType:"sidebar"}}}),wi,fr,Sr,Dr.extend({setting:{config:{enableEscapeKey:!0}}}),Hr,ti.extend({setting:{config:{usePreview:!0}}}),Ui,Ji.extend({setting:{config:{enableEscapeKey:!0}}}),na.extend({setting:{config:{enableEscapeKey:!0}}}),da.extend({setting:{config:{enableEscapeKey:!0}}}),ra.a.extend({setting:{config:{enableEscapeKey:!0}}}),bs.extend({setting:{config:{enableEscapeKey:!0}}}),ws.extend({setting:{config:{enableEscapeKey:!0}}}),Cp,Tp.extend({setting:{config:{enableEscapeKey:!0}}}),qp,td,ld.extend({setting:{config:{enableEscapeKey:!0}}}),Wd.extend({setting:{config:{enableEscapeKey:!0}}}),Pc.extend({setting:{state:{panels:c.getDefinitions(["image","sticker","horizontalLine","quotation"])}}}),Xc,Al,Yh.extend({setting:{config:{buttonSetMap:{buttonSet:[n.a.IMAGE,n.a.SOCIAL_IMAGE,n.a.STICKER,n.a.VIDEO,n.a.AUDIO,n.a.HORIZONTAL_LINE,n.a.QUOTATION,n.a.MAP,n.a.OGLINK,n.a.FILE,n.a.SCHEDULE,n.a.CODE,n.a.TABLE,n.a.FORMULA,n.a.SEPARATOR_BAR,n.a.SEARCH,n.a.LIBRARY,n.a.TEMPLATE]}}}}),bt.extend({setting:{state:{defaultButtonSet:["align"]}}}),E.extend({setting:{config:{defaultLetterGroup:"used",letterGroupList:l.a.getDefinitions(["used","general","num","round","hangul","greece","japan"]),persistentPolicy:{used:{key:"special-letter/used-letter",property:"items"}},enableEscapeKey:!0}}}),ds.extend({setting:{config:{maxPageSize:5,maxItemsPerPage:7,maxItemsOfAutocomplete:8,enableEscapeKey:!0}}}),Lp.a.extend({setting:{config:{maxGroupImageLength:10,dimColor:"transparent",enableEscapeKey:!0}}}),Ch,Bp,$d,ch.extend({setting:{config:{enableEscapeKey:!0}}})],components:[Wm,$h.a,Lf.extend({setting:{config:{title:{filterTextStyle:{backgroundColor:"NOT_ALLOWED",strikeThrough:"NOT_ALLOWED",subscript:"NOT_ALLOWED",superscript:"NOT_ALLOWED",dropCap:"NOT_ALLOWED"}}}}}),Gm.a.extend({setting:{config:{imageMinimumWidth:100,imageMinimumHeight:50}}}),b_,K_,Y_.a.extend({setting:{config:{source:{disable:!1,filterTextStyle:{bold:"NOT_ALLOWED",italic:"NOT_ALLOWED",underline:"NOT_ALLOWED",fontColor:"NOT_ALLOWED",lineHeight:"NOT_ALLOWED"}}}}}),ny,dv,oC.extend({setting:{config:{standardImageSizeInfo:{width:480,height:270}}}}),Nb.extend({setting:{config:{videoMinimumWidth:300,videoMinimumHeight:300}}}),eI,Xb,QC,fk.extend({setting:{value:{filterTextStyle:{backgroundColor:"NOT_ALLOWED",subscript:"NOT_ALLOWED",superscript:"NOT_ALLOWED",dropCap:"NOT_ALLOWED"}}}}),vO,GO,nS,rS.a,Fk,nI.a,fw,kw,Dw,tP,GI]},nP=oP;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/plugins-definition.js",localName:t}})}catch(e){}}(oP,"default")}();var rP=function(){function e(){this._eventDispatcher=u.V.get("eventDispatcher")}var t=e.prototype;return t.dispatch=function(e,t,o){return void 0===o&&(o=!1),this._eventDispatcher.dispatch(e,t,o)},t.emit=function(e,t){this._eventDispatcher.emit(e,t)},t.on=function(e,t){this._eventDispatcher.on(e,t)},t.once=function(e,t){this._eventDispatcher.once(e,t)},t.off=function(e,t){this._eventDispatcher.removeListener(e,t)},e}(),iP=rP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/event-dispatcher-service.js",localName:t}})}catch(e){}}e(rP,"EventDispatcherService"),e(iP,"default")}();var aP,sP=o(1052),cP=["selection","dragAndDrop"],lP=[u.N.DONE,u.N.LOADED],uP=2e3,pP=200,dP={FORWARD:"forward",BACKWARD:"backward"},hP=function(e){return e.id},fP=(aP=function(){function e(){var e=this;this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentFactory=u.V.get("componentFactory"),this._eventDispatcherService=u.V.get("eventDispatcherService"),this._history=new u.A,this._recordingJobs=0,this._state={},this._changeFragments=[],this._incompleteCompIds=new Set,this._cachedComps={},this._inThrottling=!1,this._disposer=Object(sP.a)(this._componentListStore.compList,function(t,o){var n=t.name;cP.includes(n)||e._inTransaction&&e._changeFragments.push({change:t,path:o})}),this._throttledPushState=Object(ol.a)(function(){e._pushState(),e._inThrottling=!1},uP),this._moveHistoryByDirection=Object(ol.a)(function(t){t===dP.BACKWARD?e._undo():e._redo()},pP)}var t=e.prototype;return t.isUndoable=function(){var e=this._history,t=e.currentFrame,o=e.length;return t>0&&t<=o-1},t.isRedoable=function(){var e=this._history,t=e.currentFrame,o=e.length;return t>=0&&t<o-1},t.pushWholeState=function(){this._history.push({compList:this._componentListStore.toPlainJSON(),nextSelection:this._selectionInfoStore.toValidJSON()})},t.resetHistory=function(){this._history.reset()},t.startRecording=function(e){var t=void 0===e?{}:e,o=t.sync,n=void 0===o||o,r=t.throttle,i=void 0!==r&&r;this._inThrottling&&!i?this._throttledPushState.flush():this._inTransaction&&!n&&this._pushState(),this._inThrottling=i,this._recordingJobs++},t.endRecording=function(e){var t=void 0===e?{}:e,o=t.sync,n=void 0===o||o,r=t.skipRecording,i=void 0!==r&&r,a=t.overwriteSelection,s=void 0!==a&&a;this._recordingJobs--,i||(n?this._inThrottling?this._throttledPushState():this._pushState(s):(this._inThrottling&&(this._throttledPushState.cancel(),this._inThrottling=!1),this._pushState(s)))},t._pushState=function(e){if(this._changeFragments.length){if(e)return this._history.currentState.nextSelection=this._selectionInfoStore.toValidJSON(),void(this._changeFragments=[]);this._state.nextSelection=this._selectionInfoStore.toValidJSON(),this._state.compList=this._refineToCompList(this._changeFragments),this._history.push(this._state),this._changeFragments=[],this._state={}}},t._refineToCompList=function(e){var t=this,o=this._history.currentState.compList;return e.reduce(function(e,o){var n=o.path,r=o.change,i=r.index,a=r.addedCount,s=r.removedCount;return""===n?t._mark(e,i,a,s):t._mark(e,n.split("/")[0],0,0),e},[].concat(o)).map(function(e,o){if(null===e){var n=t._componentListStore.compList[o].toPlainJSON(),r=n.id,i=n.phase;return i&&(lP.includes(i)?t._cachedComps[r]=n:t._incompleteCompIds.add(r)),n}return e})},t._mark=function(e,t,o,n){if(void 0===o&&(o=0),void 0===n&&(n=0),0!==o||0!==n){for(var r=[],i=0;i<o;i++)r.push(null);e.splice.apply(e,[t,n].concat(r))}else e[t]=null},t.undo=function(){this._moveHistoryByDirection(dP.BACKWARD)},t.redo=function(){this._moveHistoryByDirection(dP.FORWARD)},t._undo=function(){if(this.isUndoable()){this._inThrottling&&this._throttledPushState.flush();var e=this._history.currentState,t=this._history.back(),o=e.compList,n=t.compList,r=t.nextSelection;if(this._replaceIncompleteCompsWithCachedComps(n),et.a.compareObjectArrayShallowly(o,n))return this._history.removeSpecificState(this._history.currentFrame),void this._undo();this._applyDiffToCompList(o,n),this._updateSelection(r)}},t._redo=function(){if(this.isRedoable()){var e=this._history.currentState,t=this._history.forward(),o=e.compList,n=t.nextSelection,r=t.compList;this._replaceIncompleteCompsWithCachedComps(r),this._applyDiffToCompList(o,r),this._updateSelection(n)}},t._replaceIncompleteCompsWithCachedComps=function(e){var t=this,o=e.reduce(function(e,o){var n=o.id,r=o;return t._incompleteCompIds.has(n)&&!lP.includes(o.phase)&&(r=t._cachedComps[n]),r&&e.push(r),e},[]);e.splice.apply(e,[0,e.length].concat(o))},t._applyDiffToCompList=function(e,t){for(var o=this,n=this._componentListStore.compList,r=t.length,i=0,a=0,s=0;s<r;s++,i++){var c=e[i];if(!c||hP(c)!==hP(t[s])){var l=et.a.findIndexPairOfSameValue(e,t,i,s,hP),u=l[0],p=l[1],d=p-s,h=u-i,f=t.slice(s,p).map(function(e){return o._createStore(e)});n.splice.apply(n,[i+a,h].concat(f)),i=u,s=p,a+=d-h}e[i]!==t[s]&&(n[i+a]=this._createStore(t[s]))}e[i]&&n.splice(i+a,e.length-i),this._componentListStore.syncUp()},t._createStore=function(e){return this._componentFactory.createComponentWithCompData(e)},t._updateSelection=function(e){var t=e.start,o=e.end,n=e.mode,r=e.compIdMap;this._selectionInfoStore.setRange({start:t,end:o}),n===u.O.MULTI_COMP&&this._selectionInfoStore.setCompIdMap(r)},t.destroy=function(){this._disposer(),this._throttledPushState.cancel(),this._moveHistoryByDirection.cancel(),this._history=null,this._incompleteCompIds=null,this._cachedComps=null},Ye()(e,[{key:"_inTransaction",get:function(){return this._recordingJobs>0}}]),e}(),q()(aP.prototype,"_undo",[K.d],Object.getOwnPropertyDescriptor(aP.prototype,"_undo"),aP.prototype),q()(aP.prototype,"_redo",[K.d],Object.getOwnPropertyDescriptor(aP.prototype,"_redo"),aP.prototype),aP),mP=fP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/history-service.js",localName:t}})}catch(e){}}e(cP,"IGNORE_PROPERTY_NAME"),e(lP,"COMPLETE_PHASES"),e(null,"MARKING"),e(uP,"THROTTLING_TIMEOUT"),e(pP,"UNDO_REDO_TIMEOUT"),e(dP,"HISTORY_DIRECTION"),e(hP,"idHasher"),e(fP,"HistoryService"),e(mP,"default")}();var gP=o(185),yP=o(109),bP=function(){function e(){this._store=u.V.get("toolbarStore"),this._styleStore=u.V.get("styleStore"),this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._pluginButtonRegistry=u.V.get("pluginButtonRegistry"),this._configAgent=u.V.get("configAgent"),this._componentSettings=this._configAgent.get("plugins.componentSettings")||{},this._disposerToolbarStates=[]}var t=e.prototype;return t.initialize=function(e,t){this._buttonResolvers=e,this._pluginSettings=t,this._store.setToolbarTypes(this._getToolbarTypes()),this._initializeReaction()},t.destroy=function(){this._disposerReaction&&this._disposerReaction(),Object(r.a)(this._disposerToolbarStates,function(e){return e()}),this._buttonResolvers=null,this._store=null,this._disposerToolbarStates=[],this._disposerReaction=null},t.updateToolbar=function(e){var t=e.toolbarState,o=e.selectedUnitIds,n=e.selectedCompIds,r=Object(ro.a)(this._componentListStore.getSelectedComponents(this._selectionInfoStore));if(r.length>0){var i=this._resolveCtype(r),a=this._resolveButtonSets(this._selectionInfoStore,r,i);this._store.changeSelectedCtype(i),this._store.updateButtonSets(a),this._store.updateToolbarState(t,o,n)}},t.reactionOfToolbarState=function(e,t,o){var n=this,r=Je()({compareStructural:!0},o),i=K.f.reaction(function(){return{buttonSet:n._getButtonSet(t),toolbarState:n._getToolbarState()}},e,r);this._disposerToolbarStates.push(i)},t._initializeReaction=function(){var e=this,t={context:this,compareStructural:!0,delay:50};this._disposerReaction=K.f.reaction(function(){return e._genReactionData()},this.updateToolbar.bind(this),t)},t._getButtonSet=function(e){return this._store.buttonSets[e]},t._getToolbarState=function(){return Je()({componentType:this._store.selectedCtype},this._store.toolbarState)},t._validateButtonSets=function(e,t,o){var n=this,i=[];return Object(r.a)(e,function(e){n._pluginButtonRegistry.getButtonInfo({compType:t,toolbarName:o,buttonName:e})&&i.push(e)}),i},t._excludeButtonsSets=function(e,t,o,n){var r=this._configAgent.get("plugins.components")||[],i=this._configAgent.get("plugins.componentSettings")||{},a=Object(J.a)(t,n+".exclude",[]),s=Object(J.a)(i,o+".config.toolbar."+n+".exclude",[]);return Object(Xe.a)(a)&&Object(Xe.a)(s)||(a=Object(Ua.a)(a,s)),!Object(Xe.a)(a)&&Object(yP.a)(a)&&(e=Object(va.a)(e,a,this._equalString)),Object(yP.a)(e)&&(e=this._excludeButtonByComponent(e,r),e=this._excludeButtonByFunction(e),e=et.a.trimForArray(e,"separator-bar")),e},t._getDefaultButtonSetByConfig=function(e,t){return Object(J.a)(this._componentSettings,e+".config.toolbar."+t+".buttonSet")},t._resolveButtonSets=function(e,t,o){var n=this,i={},a=Object(J.a)(this._pluginSettings,o+".toolbar",{});return Object(r.a)(this._buttonResolvers[o],function(r,s){var c=n._getDefaultButtonSetByConfig(o,s),l=r({selectionInfoStore:e,selectedComponents:t,configAgent:n._configAgent,defaultButtonSet:c});l=n._excludeButtonsSets(l,a,o,s),l=n._validateButtonSets(l,o,s);var u=Object(J.a)(a,s+".hook");u&&(l=u(l)),i[s]=l}),i},t._excludeButtonByComponent=function(e,t){return void 0===e&&(e=[]),e.filter(function(e){return"separator-bar"===e||!t.some(function(t){return new RegExp(t,"i").test(e)})})},t._excludeButtonByFunction=function(e){void 0===e&&(e=[]);var t=[];return!1===this._configAgent.get("productConfig.textFormat.list")&&t.push("list"),Object(va.a)(e,t)},t._equalString=function(e,t){return e===t},t._resolveCtype=function(e){if(this._selectionInfoStore.shouldBlur)return"none";var t=Object(J.a)(e,"[0].ctype",""),o=!0,n=!1,i=!1;return Object(r.a)(e,function(e){var r=e.ctype;"text"===r?n=!0:"sectionTitle"===r?i=!0:r!==t&&(o=!1)}),n?"text":i?"sectionTitle":o?t:"default"},t._getToolbarTypes=function(){var e=[];return Object(r.a)(this._buttonResolvers,function(t){t&&e.push.apply(e,Object.keys(t))}),Object(gP.a)(e)},t._genReactionData=function(){var e=this._selectionInfoStore,t=e.start,o=e.end;return{toolbarState:this._styleStore.currentSelectedStyle,selectedUnitIds:[t.unitId,o.unitId],selectedCompIds:[t.compId,o.compId]}},e}(),_P=bP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/toolbar-service.js",localName:t}})}catch(e){}}e(bP,"ToolbarService"),e(_P,"default")}();var vP=o(508),CP=function(){function e(){this._selectionInfoStore=u.V.get("selectionInfoStore"),this._documentService=u.V.get("documentService"),this._clipboard=u.V.get("clipboard"),this._configAgent=u.V.get("configAgent"),this._userId=this._configAgent.get("userInfo.userId"),this._convertedDocumentAPI=this._configAgent.get("apiInfo.fetchConvertedDocument"),this._convertedHtmlAPI=this._configAgent.get("apiInfo.fetchConvertedHtml"),this._documentWidth=this._configAgent.get("productConfig.documentWidth"),this._documentConverter=u.V.get("documentConverter")}var t=e.prototype;return t.copy=function(e){if(!this._selectionInfoStore.collapsed){var t=e.map(function(e){var t=e.toValidJSON({fromCopy:!0});return dg.a.dropProperty(t,"id"),t}),o=this._documentService.getDocumentId();return this._clipboard.set({docId:o,copyData:t}),t}},t.parseResourceByEvent=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isCopiedEditorData&&!this._isCaptureImage){e.next=2;break}return e.abrupt("return",null);case 2:return o=this._clipboard.getClipboardData(),n=o.getHTMLClipboardData(t),e.next=6,this._getConvertedResources(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.parseText=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=!1),n=this._clipboard.getClipboardData(),r=n.getPlainTextClipboardData(t),i=Yt.a.replaceSpecialChar(r),e.next=6,this._getConvertedText(i,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.parseTextByPastedData=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=!1),e.next=3,this._getConvertedText(t,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._getConvertedText=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return");case 2:return n=(n=vP.a.convertURL2Anchor(t)).replace(/\n|\r\n/g,"<br>"),e.next=6,this._getConvertedResources(n,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.parseResourceByPastedData=function(){var e=Ft()(Ut.a.mark(function e(t,o){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o=!1),!this._isCopiedEditorData&&!this._isCaptureImage){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,this._getConvertedResources(t,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._getConvertedResources=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i,a;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o=!1),""!==t.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._getConvertedHtml(t);case 5:if((n=e.sent)&&n.length&&(r=this._clipboard.convertJsonToComponent("",n,o)),r){e.next=9;break}return e.abrupt("return",null);case 9:return i=this._getUrlLinkValue(r),a=this._getDataURIImage(r),e.abrupt("return",{sourceComponents:r,url:i,dataURIImage:a});case 12:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.checkClipboardData=function(e){var t=this._clipboard.checkClipboardData(e),o=t.isCaptureImage,n=t.isCopiedEditorData,r=t.isOldEditorData,i=t.isOnlyText;return this._isCaptureImage=o,this._isCopiedEditorData=n,{isCaptureImage:o,isCopiedEditorData:n,isOldEditorData:r,isOnlyText:i}},t.getHTMLClipboardData=function(e){return this._clipboard.getHTMLClipboardData(e)},t.isOldEditorData=function(e){return this._clipboard.isOldEditorData(e)},t.isCopiedEditorData=function(e){return this._clipboard.isCopiedEditorData(e)},t.isIECaptureImage=function(e){return/^<img src="data:image.+>$/g.test(e)},t.getOldEditorData=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._clipboard.extractOldEditorData(t),e.next=3,this._getConvertedDocument(o);case 3:if(!(n=e.sent)||!n.length){e.next=6;break}return e.abrupt("return",this._clipboard.convertJsonToComponent("",n,!0));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getCopiedEditorData=function(){var e=Ft()(Ut.a.mark(function e(){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._clipboard.getCopiedEditorData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getClipboardData=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._clipboard.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._getConvertedDocument=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={data:{components:t},options:{simpleRequestForced:!0},success:function(e){return e.document.components},error:function(e){throw e}},e.next=3,Io.a.post(this._convertedDocumentAPI+"?userId="+this._userId,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._getConvertedHtml=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={data:t,options:{headers:{"Content-Type":"text/plain"},simpleRequestForced:!0},success:function(e){return r._documentConverter.convertComponents(e)},error:function(e){throw e}},n=this._convertedHtmlAPI+"?documentWidth="+this._documentWidth+"&userId="+this._userId,e.next=4,Io.a.post(n,o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._getUrlLinkValue=function(e){var t=e.filter(function(e){return"text"===e.ctype&&e.isOnlyUrlLink()});if(1===t.length)return t[0].getText().getFirstParagraph().getFirstNode().value},t._getDataURIImage=function(e){if(1!==e.length)return[];var t=e[0];return"image"===t.ctype&&vP.a.isDataURIImage(t.src)?t.src:void 0},e}(),OP=CP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/copy-paste-service.js",localName:t}})}catch(e){}}e(CP,"CopyPasteService"),e(OP,"default")}();var SP=o(655),kP=o(648),IP=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._domAccessor=u.V.get("domAccessor")}var t=e.prototype;return t.execute=function(e){e.targetComp,e.targetStore,e.viewportProps},t._getObjectInsertDirection=function(e,t){var o=e.clientY,n=this._domAccessor.getComponentElement(t.id),r=n.getBoundingClientRect().top,i=n.offsetHeight/2+r,a=o<i,s=this._isOnGrayZone(n,i,o);if(a){var c=o<r;return{direction:u.x.TOP,grayZonePlaced:s,isOnEdge:c}}var l=o>r+n.offsetHeight;return{direction:u.x.BOTTOM,grayZonePlaced:s,isOnEdge:l}},t._isOnGrayZone=function(e,t,o){var n=.3*e.offsetHeight;return t-n<o&&t+n>o},t._isItemBottom=function(e,t){var o=this._componentListStore.getPrevComponent(e);return!!o&&t.some(function(t){return t===e.id||o&&t===o.id})},t._isItemTop=function(e,t){var o=this._componentListStore.getNextComponent(e);return t.some(function(t){return t===e.id||o&&t===o.id})},e}(),wP=IP,PP=wP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/abstract-drag-and-drop-command.js",localName:t}})}catch(e){}}e(IP,"AbstractDragAndDropCommand"),e(wP,"default")}();var jP=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.type,o=e.items,n=e.dropPoint,r=this._selectionInfoStore,i=r.start,a=r.end,s=["external-file","aside","template","library"].includes(t),c=this._componentListStore.isBackward(i,n),l=this._componentListStore.isBackward(n,a);return!s&&c&&l?null:{type:t,items:o,insertCommand:"text",insertPoint:n,direction:u.x.TEXT}},t}(PP),TP=jP,LP=TP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/text-drag-and-drop-command.js",localName:t}})}catch(e){}}e(jP,"TextDragAndDropCommand"),e(TP,"default")}();var EP=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.type,o=e.items,n=e.dropPoint;return o.every(function(e){return!e.attributes||"text"!==e.attributes.drop})?null:Object(Qe.a)(this._selectionInfoStore.start,n)||Object(Qe.a)(this._selectionInfoStore.end,n)?null:{type:t,items:o,insertCommand:"only-text",insertPoint:n,direction:u.x.TEXT}},t}(PP),NP=EP,xP=NP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/only-text-drag-and-drop-command.js",localName:t}})}catch(e){}}e(EP,"OnlyTextDragAndDropCommand"),e(NP,"default")}();var DP=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.viewportProps,o=e.type,n=e.items,r=e.dropPoint,i=e.targetComp,a=e.isInsideType,s=this._getObjectInsertDirection(t,i).direction,c=a?Object.keys(this._selectionInfoStore.compIdMap):[];return s===u.x.TOP?this._componentListStore.isFirstComponent(n[0])?null:this._isItemBottom(i,c)?null:{type:o,items:n,insertPoint:r,insertCommand:"prepend",direction:s}:s===u.x.BOTTOM?this._isItemTop(i,c)?null:{type:o,items:n,insertPoint:r,insertCommand:"append",direction:s}:void 0},t}(PP),RP=DP,AP=RP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/object-drag-and-drop-command.js",localName:t}})}catch(e){}}e(DP,"ObjectDragAndDropCommand"),e(RP,"default")}();var MP=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.type,o=e.items,n=e.dropPoint,r=e.targetComp,i=e.viewportProps,a=e.isInsideType,s=ga()(e,["type","items","dropPoint","targetComp","viewportProps","isInsideType"]),c=this._getObjectInsertDirection(i,r),l=c.direction,p=c.isOnEdge,d=c.grayZonePlaced,h={type:t,items:o},f=a?Object.keys(this._selectionInfoStore.compIdMap):[],m=this._isComponentIncluded(r,f),g=l===u.x.TOP&&this._isItemBottom(r,f),y=l===u.x.BOTTOM&&this._isItemTop(r,f);if((g||y)&&!m&&!1===("image"===t&&d)&&!(1===o.length&&o[0].id!==f[0]))return null;var b=r.queryDragAndDrop(Je()({type:t,items:o,viewportProps:i,dropPoint:n,insertDirection:l,itemIds:f,focus:this._selectionInfoStore.focus,isOnEdge:p},s));return b?(h.insertPoint=b.insertPoint,h.insertCommand=b.insertCommand,h.direction=b.direction,h):null},o._isComponentIncluded=function(e,t){return t.some(function(t){return t===e.id})},t}(PP),BP=MP,UP=BP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/query-drag-and-drop-command.js",localName:t}})}catch(e){}}e(MP,"QueryDragAndDropCommand"),e(BP,"default")}();var VP,FP={},zP={getCommand:function(e){if(FP[e])return FP[e];var t=this._createInstance(e);return FP[e]=t,t},destroy:function(){Object(r.a)(FP,function(e,t){FP[t]=null})},_createInstance:function(e){switch(e){case"text":return new LP;case"only-text":return new xP;case"query":return new UP;case"object":default:return new AP}}},WP=zP,GP=WP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/index.js",localName:t}})}catch(e){}}e(FP,"instanceMap"),e(zP,"DragAndDrop"),e(WP,"default")}();var HP=(VP=function(){function e(){this._i18n=u.V.get("i18n"),this._configAgent=u.V.get("configAgent"),this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._virtualEditable=u.V.get("virtualEditable"),this._domAccessor=u.V.get("domAccessor"),this._dragAndDropStore=u.V.get("dragAndDropStore"),this._themeStore=u.V.get("themeStore"),this._componentFactory=u.V.get("componentFactory"),this._prevDragOverPosition={},this._dragGhost=u.V.get("dragGhost"),this._dragEnterCount=0}var t=e.prototype;return t.destroy=function(){GP.destroy()},t.getBackgroundImageData=function(e){var t=this._configAgent.get("editorInfo"),o=this._configAgent.get("infraInfo.photoInfra.imageHost"),n=e.animatedCnt>1?"animated":"normal";return this._componentFactory.createComponentWithCompData({ctype:"image",src:""+o+e.url+"?type="+t.thumbnailType.normal,internalResource:!0,caption:null,domain:o,path:e.path+"/"+e.fileName,displayFormat:n,format:n,width:parseInt(e.width,10),height:parseInt(e.height,10),fileSize:parseInt(e.fileSize,10),allowVR360OrPanorama:!1})},t.reset=function(){this._dragEnterCount=0,this._dragAndDropStore.reset()},t.setItem=function(e,t){this._dragAndDropStore.setItem(e,t),this._dragAndDropStore.progress="dragging"},t.dragStart=function(e){var t=e.event,o=e.items,n=e.type,r=e.useNativeGhost,i=e.dropCallback,a=n||this._getDragType(o);this._dragAndDropStore.setItems(o,a,i),this._dragAndDropStore.progress="start",this._dragGhost.start({event:t,items:o,type:a,useNativeGhost:r,themeName:this._themeStore.themeName,isInsideType:this._dragAndDropStore.isInsideType,callback:this._dragGhostStartCallback})},t._dragGhostStartCallback=function(e){e.dataTransfer.setDragImage||this.hideIENativeDragGhost(e.target)},t.dragEnter=function(e){"none"===this._dragAndDropStore.progress&&(this._setExternalContents(e),this._dragAndDropStore.progress="start",this._virtualEditable.dragStart()),this._dragEnterCount++},t.dragLeave=function(){this._dragEnterCount--,0===this._dragEnterCount&&this._dragAndDropStore.isExternalType&&(this._virtualEditable.dragEnd(),this.reset())},t.dragOver=function(e,t){if(this._dragGhost.updatePosition(e),t)if("external-complex"!==this._dragAndDropStore.type){var o=this._getCommandParams(e);if(!this._isSamePosition(e)&&null!==o){var n=GP.getCommand(Object(J.a)(o.targetStore,"attributes.drop")).execute(o);n?this._drag(n):this._hideDropIndicator()}}else this._hideDropIndicator()},t._setExternalContents=function(e){e&&(Object(SP.a)(e.types,"Files")>-1?this._dragAndDropStore.setItem({ctype:"externalFile"},"external-file"):this._dragAndDropStore.setItem({ctype:"externalContents"},"external-complex"))},t._hideDropIndicator=function(){this._dragAndDropStore.progress="undroppable",this._virtualEditable.hideDropIndicator()},t._drag=function(e){var t=e.direction,o=e.insertPoint;this._dragAndDropStore.progress="dragging",this._dragAndDropStore.dropPosition=this._modulateDropPosition({direction:t,point:o}),t===u.x.TEXT?this._virtualEditable.showDropIndicator():this._virtualEditable.hideDropIndicator()},t._modulateDropPosition=function(e){var t=e.direction,o=e.point;if(t===u.x.DOCUMENT_BACKGROUND)return{direction:t,point:{compId:o.compId,unitId:o.compId}};if(t!==u.x.BOTTOM)return e;var n=this._componentListStore.getNextComponentById(o.compId);return n?(o.compId=n.id,o.unitId=n.id,{direction:u.x.TOP,point:o}):{direction:u.x.CANVAS_BOTTOM,point:null}},t._isSamePosition=function(e){var t={screenX:e.screenX,screenY:e.screenY};return!0===Object(Qe.a)(this._prevDragOverPosition,t)||(this._prevDragOverPosition=t,!1)},t.drop=function(e){this._dragGhost.end();var t=this._dragAndDropStore,o=t.type,n=t.items,r=t.dropCallback,i=this._getCommandParams(e);if(i){var a=["aside","library","template"].includes(o)?this._generateComponentStoreList(n):n;i.items=a,this.reset();var s=this._shouldSkipDrop(i,o);if(s.skipDrop)return s;var c=GP.getCommand(Object(J.a)(i.targetStore,"attributes.drop")).execute(i);if(c){var l=Je()({items:c.items||i.items,targetCtype:i.targetComp.ctype,targetCompId:i.targetComp.id},c);return r&&r(l),l}return null}},t.filterImageFiles=function(e){if("external-file"===this._dragAndDropStore.type){var t=this._filterExternalFiles(e);return this._updateImageFilesToItem(t.imageFiles),t}},t._shouldSkipDrop=function(e,t){if(null===e||0===e.items.length)return{skipDrop:!0};var o=e.dropPoint,n=e.items;return"text"===t&&this._hasInlineImageOnly(n)&&this._hasDropCap(o)?{skipDrop:!0,errorMsg:this._i18n("textComponent:can_not_insert_point_in_dropcap")}:"external-complex"===t?{skipDrop:!0}:{skipDrop:!1}},t._hasInlineImageOnly=function(e){return e.filter(function(e){return"text"===e.attributes.insertion}).some(function(e){return e.hasInlineImageOnly()})},t._hasDropCap=function(e){var t=e.compId,o=e.paraId,n=this._componentListStore.getComponentById(t);return"text"===n.attributes.insertion&&n.hasDropCapInParagraph(o)},t._getCommandParams=function(e){var t=this._virtualEditable.getCurrentCursorPosition();if(!t)return null;var o=t.start,n=this._componentListStore.getComponentById(o.compId);if(!n)return null;var r=this._dragAndDropStore,i=r.items,a=r.type,s=r.dropPosition,c=r.isInsideType,l=["library","aside"].includes(a)&&i.length&&"image"===i[0].ctype,p="external-file"===a||l;return{viewportProps:e,items:i,type:a,dropPoint:o,targetComp:n,targetStore:"documentTitle"===n.ctype&&p||s.direction===u.x.CANVAS_BOTTOM?n:n.getStoreById(o.unitId),isInsideType:c}},t._generateComponentStoreList=function(e){var t=this;return e.map(function(e){return t._componentFactory.createComponentWithCompData(e)})},t._getDragType=function(e){var t=e&&e.length||0,o=["text","sectionTitle"],n=["oembed"],r=Object(ug.a)(e,function(e){return!o.includes(e.ctype)}),i=Object(ug.a)(e,function(e){return n.includes(e.ctype)});return r?i?"iframe":1===t?"image"===e[0].ctype?"image":"object":"complex":"text"},t._updateImageFilesToItem=function(e){this._dragAndDropStore.setItems(e,"external-file")},t._filterExternalFiles=function(e){var t=[],o=[],n=e.files,i=this._configAgent.get("infraConfig.image.acceptExt")||kP.a.DEFAULT_IMAGE_ACCEPT_LIST;return Object(r.a)(n,function(e){kP.a.isAcceptable(e,i)?o.push(e):t.push(e)}),{imageFiles:o,nonImageFiles:t}},t._trickyRefreshDOM=function(e){var t=e.cloneNode(!0);Array.from(t.querySelectorAll(".se-toolbar")).forEach(function(e){e.parentElement.removeChild(e)});var o=e.style.display;e.parentNode.insertBefore(t,e),e.style.display="none",window.setTimeout(function(){e.parentNode.removeChild(t),e.style.display=o},0)},t._getRefreshTargetFromSelection=function(){var e=Object.keys(this._selectionInfoStore.compIdMap);if(e.length>0){var t=this._domAccessor.getComponentElement(e[0]);return 1===e.length?t:t.parentNode}},t.hideIENativeDragGhost=function(e){var t=this._dragAndDropStore.isOutsideType?e:this._getRefreshTargetFromSelection();t&&this._trickyRefreshDOM(t)},t.isAleadyDragStart=function(){return"start"===this._dragAndDropStore.progress},t.isDragging=function(){return this._dragAndDropStore.isDragging},t.isUpdateReadySelection=function(){return this._dragAndDropStore.updateReadySelection},t.setUpdateReadySelection=function(e){this._dragAndDropStore.updateReadySelection=e},t.disable=function(){this._dragAndDropStore.disable()},t.enable=function(){this._dragAndDropStore.enable()},e}(),q()(VP.prototype,"_dragGhostStartCallback",[ee.autobind],Object.getOwnPropertyDescriptor(VP.prototype,"_dragGhostStartCallback"),VP.prototype),VP),qP=HP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/drag-and-drop-service.js",localName:t}})}catch(e){}}e(HP,"DragAndDropService"),e(qP,"default")}();var JP=function(){function e(){this._configAgent=u.V.get("configAgent"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentListStore=u.V.get("componentListStore"),this._componentFactory=u.V.get("componentFactory"),this._virtualEditable=u.V.get("virtualEditable"),this._isMobile="mobile"===this._configAgent.get("productEnv.deviceType");var e=this._configAgent.get("productConfig.scroll.targetElement");this._autoScroll=this._isMobile||e?u.V.get("scrollBody"):u.V.get("scrollCanvas"),this._documentOverflows=[]}var t=e.prototype;return t.focusTitle=function(){var e=this._componentListStore.getComponentByCtype("documentTitle");if(e){var t=e.getFirstTextSelection();this._selectionInfoStore.setRange(t)}},t.focusFirstText=function(){var e=this._componentListStore.getComponentByCtype("text")||this._componentListStore.getComponentByCtype("sectionTitle");if(e){var t=e.getFirstTextSelection();this._selectionInfoStore.setRange(t)}},t.focusToInitialCursorIndex=function(){var e=this,t=Number(this._configAgent.get("productConfig.scroll.initialFocusIndex"));Number.isInteger(t)&&this._componentListStore.getComponentByIndex(t)?this.focusToCompByIndex(t):this.focusToFirstComp(),this._isMobile&&setTimeout(function(){e._virtualEditable.blur()},150)},t.focusToFirstComp=function(){var e=this._componentListStore.filter(function(e){return"documentTitle"!==e.ctype}),t=e[0];if(0===e.length){var o=this._componentFactory.createComponentByCtype("text");this._componentListStore.insertComponent(o),t=o}var n=t.getCompStartRange();this._selectionInfoStore.setRange(n)},t.focusToCompByIndex=function(e){var t=this._componentListStore.getComponentByIndex(e).getCompStartRange();this._selectionInfoStore.setRange(t)},t.moveToComponentById=function(e){var t=this._componentListStore.getComponentById(e);this._selectionInfoStore.setRange(t.getCompStartRange()),this.scrollToFocus(!0)},t.moveCursorTo=function(e,t){this._virtualEditable.moveCursor(e,t),this.scrollToFocus()},t.extendCursorTo=function(e,t){this._virtualEditable.extendCursor(e,t),this.scrollToFocus()},t.refreshCursorWithScroll=function(){this._virtualEditable.refresh(),this.scrollToFocus()},t.scrollToFocus=function(e){this._virtualEditable.scrollToFocus(e)},t.scrollToClientRect=function(e,t){this._virtualEditable.scrollToClientRect(e,t)},t.forceStopAutoScroll=function(){this._autoScroll&&this._autoScroll.forceStopAutoScroll()},t.scrollPage=function(e){this._autoScroll&&this._autoScroll.scrollPage(e)},t.shouldPositionFixedPhotoEditor=function(){return this._shouldHideWindowScroll()},t._shouldHideWindowScroll=function(){var e=this._configAgent.get("productConfig.layoutType").toLowerCase()===u.I.EMBED,t=u.V.get("domAccessor").getScrollTarget(document.body)===document.body;return e||t},t.hideWindowScroll=function(){this._shouldHideWindowScroll()&&(this._documentOverflows.push(document.documentElement.style.overflow),document.documentElement.style.overflow="hidden")},t.restoreWindowScroll=function(){this._documentOverflows.length<1||(document.documentElement.style.overflow=this._documentOverflows.pop())},e}(),KP=JP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/canvas-scrolling-service.js",localName:t}})}catch(e){}}e(JP,"CanvasScrollingService"),e(KP,"default")}();var YP=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this._domAccessor=u.V.get("domAccessor"),this._documentToolbarLayoutService=u.V.get("documentToolbarLayoutService")}var t=e.prototype;return t._getEditorWrapper=function(){return this._domAccessor.getBodyContainer()},t.isInsideEditorWrapper=function(e){return this._getEditorWrapper().contains(e)},t._getOutsideTabbable=function(){return this._outsideTabbable||(this._outsideTabbable=Ls.a.getTabbableNearby(this._getEditorWrapper())),this._outsideTabbable},t.focusToOutsidePrevTabbable=function(){this._virtualEditable.blur(),this._getOutsideTabbable().prev.focus()},t.focusToOutsideNextTabbable=function(){this._virtualEditable.blur(),this._getOutsideTabbable().next.focus()},t.focusToEditable=function(){this._virtualEditable.focus()},t.focusToToolbar=function(){this._virtualEditable.blur(),this._documentToolbarLayoutService.focusFirstButton()},e}(),XP=YP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/a11y-service.js",localName:t}})}catch(e){}}e(YP,"A11yService"),e(XP,"default")}();var QP,ZP,$P,ej,tj,oj,nj,rj,ij=o(669),aj=o.n(ij),sj=o(750),cj=o(102),lj=o(961),uj=(QP=K.g.ref,ZP=K.g.ref,$P=function(e){function t(t){var o;return void 0===t&&(t={}),o=e.call(this,t)||this,z()(o,"start",ej,G()(o)),z()(o,"end",tj,G()(o)),z()(o,"shouldBlur",oj,G()(o)),z()(o,"compIdMap",nj,G()(o)),z()(o,"handle",rj,G()(o)),o.imeOffset=0,o._anchorRef="start",o._componentListStore=u.V.get("componentListStore"),o.start=Object(lg.a)(o.start,t.start),o.end=Object(lg.a)(o.end,t.end),o.compIdMap=Object(lg.a)(o.compIdMap,t.compIdMap),o.handle="boolean"==typeof t.handle?t.handle:o.handle,o.imeOffset=Object(lg.a)(o.imeOffset,t.imeOffset),o}h()(t,e);var o=t.prototype;return o.setRange=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=!1),"object"==typeof e&&(e.start||e.end)){this._setRange(e,t);var o=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(o)}},o.setFocus=function(e){this._setFocus(e);var t=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(t)},o.setAnchor=function(e){this._setAnchor(e);var t=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(t)},o.setAnchorAndFocus=function(t){var o=void 0===t?{}:t,n=o.anchor,r=o.focus;e.prototype.setAnchorAndFocus.call(this,{anchor:n,focus:r});var i=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(i)},o.select=function(e){this._select(e)},o.selectUnit=function(e){var t=e.compId,o=e.unitId;this.setRange({start:{compId:t,unitId:o,paraId:null,nodeId:null,offset:0},end:{compId:t,unitId:o,paraId:null,nodeId:null,offset:1}})},o.toggleSelect=function(e){if(!1===this.isComponentMode()){var t=[e];this._select(t)}else if(this.isSelected(e))this._deselect(e);else{var o=this._getSelectedIds().concat(e);this._select(o)}},o.isSelected=function(e){return this.compIdMap[e]},o.setShouldBlur=function(e){void 0===e&&(e=!1),this.shouldBlur=e},o._findSelectCompIdsFromRange=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var o=this._componentListStore.getComponentIds()||[],n=o.indexOf(e.compId),r=o.indexOf(t.compId);return o.slice(n,r+1)},o._updateSelectedCompMap=function(e){var t=this,o={};e.forEach(function(e){var n=t._componentListStore.getComponentById(e),r=n.ctype;o[e]={ctype:r,isComponentSelectable:n.isSelectable}}),this.compIdMap=o},o._select=function(e){this._updateSelectedCompMap(e);var t=this._findStartAndEnd(e),o=t.start,n=t.end;this.setStart(o),this.setEnd(n)},o._deselect=function(e){if(1!==Object.keys(this.compIdMap).length||!this.isSelected(e)){this._removeIdInCompIdMap(e);var t=this._findStartAndEnd(this._getSelectedIds()),o=t.start,n=t.end;this.setStart(o),this.setEnd(n)}},o._getSelectedIds=function(){return Object.keys(this.compIdMap)},o._removeIdInCompIdMap=function(e){this.compIdMap[e]=void 0,delete this.compIdMap[e]},o._findStartAndEnd=function(e){var t=this,o=this._componentListStore.getCompListLength(),n=0;e.forEach(function(e){t._componentListStore.forEach(function(t,r){e===t.id&&(o>r&&(o=r),n<r&&(n=r))})});var r=this._componentListStore.getComponentByIndex(o),i=this._componentListStore.getComponentByIndex(n);return{start:r?r.getStartPoint():i.getStartPoint(),end:i?i.getEndPoint():r.getEndPoint()}},o.toValidJSON=function(){return{start:K.f.toJS(this.start),end:K.f.toJS(this.end),compIdMap:this.compIdMap,imeOffset:this.imeOffset,collapsed:this.collapsed,mode:this.mode,anchor:this.anchor,focus:this.focus,isUnitSelected:this.isUnitSelected}},o.toPlainJSON=function(){return{start:K.f.toJS(this.start),end:K.f.toJS(this.end),compIdMap:this.compIdMap,imeOffset:this.imeOffset,collapsed:this.collapsed,mode:this.mode,anchor:this.anchor,focus:this.focus,isUnitSelected:this.isUnitSelected}},o.reaction=function(e,t){var o=this;K.f.reaction(function(){return{start:o.start,end:o.end}},e,t)},t}(lj.a),ej=q()($P.prototype,"start",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{compId:null,unitId:null,paraId:null,nodeId:null,offset:0}}}),tj=q()($P.prototype,"end",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{compId:null,unitId:null,paraId:null,nodeId:null,offset:0}}}),oj=q()($P.prototype,"shouldBlur",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nj=q()($P.prototype,"compIdMap",[QP],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),rj=q()($P.prototype,"handle",[ZP],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q()($P.prototype,"setRange",[K.d],Object.getOwnPropertyDescriptor($P.prototype,"setRange"),$P.prototype),q()($P.prototype,"setFocus",[K.d],Object.getOwnPropertyDescriptor($P.prototype,"setFocus"),$P.prototype),q()($P.prototype,"setAnchor",[K.d],Object.getOwnPropertyDescriptor($P.prototype,"setAnchor"),$P.prototype),q()($P.prototype,"setAnchorAndFocus",[K.d],Object.getOwnPropertyDescriptor($P.prototype,"setAnchorAndFocus"),$P.prototype),q()($P.prototype,"select",[K.d],Object.getOwnPropertyDescriptor($P.prototype,"select"),$P.prototype),q()($P.prototype,"selectUnit",[K.d],Object.getOwnPropertyDescriptor($P.prototype,"selectUnit"),$P.prototype),q()($P.prototype,"toggleSelect",[K.d],Object.getOwnPropertyDescriptor($P.prototype,"toggleSelect"),$P.prototype),$P),pj=uj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/selection-info-store.js",localName:t}})}catch(e){}}e(uj,"SelectionInfoStore"),e(pj,"default")}();var dj={},hj=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore")}e.getInstance=function(){var e=dj[this.name];return e||(e=new(Function.prototype.bind.apply(this)),dj[this.name]=e,e)};var t=e.prototype;return t.execute=function(e,t){},t._getSourceComponentsRange=function(e){return{start:this._getSourceComponentsStartPoint(e),end:this._getSourceComponentsEndPoint(e)}},t._getSourceComponentsStartPoint=function(e){return Object(no.a)(e).getCompStartPoint()},t._getSourceComponentsEndPoint=function(e){return Object(Js.a)(e).getCompEndPoint()},e}(),fj=hj,mj=fj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/abstract-insertion-command.js",localName:t}})}catch(e){}}e(dj,"instanceMap"),e(hj,"AbstractInsertionCommand"),e(fj,"default")}();var gj={REPLACE_EMPTY_TEXT:"replace_empty_text",REPLACE_EMPTY_PARA:"replace_empty_para",PREPEND_TO_TEXT:"prepend_to_text",PREPEND_TO_PARA:"prepend_to_para",SPLIT:"split",APPEND_TO_PARA:"append_to_para",APPEND_TO_TEXT:"append_to_text"},yj=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo,n=e.disableMerge,r=void 0!==n&&n,i=o.start;this._hasDropCap(i)&&this._filterTextNodeInComp(t);var a=this._getSourceComponentsRange(t),s=this._splitTextComponent(i),c=s.frontTextComp,l=s.backTextComp,u=this._determineInsertionType(c,l),p=this._componentListStore.getComponentIndex(c.id),d=!1;switch(u){case gj.REPLACE_EMPTY_TEXT:this._componentListStore.replaceBetween(c,l,t);break;case gj.REPLACE_EMPTY_PARA:this._componentListStore.insertComponentAfter(c,t),c.isEmpty()?this._componentListStore.deleteComponentById(c.id):c.removeLastParagraph(),l.isEmpty()?this._componentListStore.deleteComponentById(l.id):l.removeFirstParagraph();break;case gj.PREPEND_TO_TEXT:this._componentListStore.deleteComponentById(c.id);var h=this._prependSourcesToBackTextComp(l,t);Object.assign(a,h);break;case gj.PREPEND_TO_PARA:c.removeLastParagraph();var f=this._prependSourcesToBackTextComp(l,t);Object.assign(a,f);break;case gj.SPLIT:d=this._isFirstListComp(t),a=this._splitInsertion(c,l,t);break;case gj.APPEND_TO_PARA:l.removeFirstParagraph(),d=this._isFirstListComp(t);var m=this._appendSourcesToFrontTextComp(c,t,r);Object.assign(a,m);break;case gj.APPEND_TO_TEXT:this._componentListStore.deleteComponentById(l.id),d=this._isFirstListComp(t);var g=this._appendSourcesToFrontTextComp(c,t,r);Object.assign(a,g)}return d&&(a.start=this._refineApppendPoint(p,a.start)),a},o._filterTextNodeInComp=function(e){e.forEach(function(e){"text"===e.attributes.insertion&&e.hasInlineImageInParagraph()&&e.stripOffNonTexts()})},o._hasDropCap=function(e){var t=e.compId,o=e.paraId,n=this._componentListStore.getComponentById(t);return"text"===n.attributes.insertion&&n.hasDropCapInParagraph(o)},o._splitTextComponent=function(e){var t=this._componentListStore.splitComponentByPoint(e);return{frontTextComp:t.front,backTextComp:t.back}},o._determineInsertionType=function(e,t){var o=t.isEmpty(),n="wrappingParagraph"===e.ctype;if(n&&o)return gj.APPEND_TO_TEXT;if(n)return gj.SPLIT;var r=e.isEmpty(),i=e.isLastParagraphEmpty(),a=t.isFirstParagraphEmpty(),s=e.getLastParagraph().isListParagraph(),c=i&&!s;return r&&o?gj.REPLACE_EMPTY_TEXT:c&&a?gj.REPLACE_EMPTY_PARA:r?gj.PREPEND_TO_TEXT:o?gj.APPEND_TO_TEXT:c?gj.PREPEND_TO_PARA:a?gj.APPEND_TO_PARA:gj.SPLIT},o._prependSourcesToBackTextComp=function(e,t){var o=e.prepend(t),n=o.components,r=o.point;return this._componentListStore.replace(e,n),1===n.length?{start:e.getCompStartPoint(),end:r}:{end:r}},o._splitInsertion=function(e,t,o){var n,r=e.getParagraphsLength(),i=t.getParagraphsLength(),a=e.append(o),s=a.components,c=a.point;1===s.length&&(n=e.getOffsetInParagraph(c));var l=t.prepend(s),u=l.components,p=l.point;if(this._componentListStore.replaceBetween(e,t,u),1===u.length){c.compId=p.compId,c.unitId=p.unitId;var d=u[0];if(r+i>d.getParagraphsLength()){c.paraId=p.paraId;var h=d.getNodeInfoAfterOffset(c,n),f=h.node,m=h.offset;c.nodeId=f.id,c.offset=m}}return{start:c,end:p}},o._isFirstListComp=function(e){var t=e&&e.length>0?e[0]:null,o=t&&"text"===t.ctype?t.getFirstParagraph():null;return!!o&&o.isListParagraph()},o._refineApppendPoint=function(e,t){var o=this._componentListStore.getComponentByIndex(e);if("text"!==o.ctype&&"wrappingParagraph"!==o.ctype)return t;var n=o.getText(),r=n.getParagraphById(t.paraId),i=n.getNextParagraph(t.paraId);return!1===r.isEmpty()?t:(n.removeParagraph(t.paraId),Object(nf.a)(t,i.getStartPoint()))},o._appendSourcesToFrontTextComp=function(e,t,o){var n=e.append(t,o),r=n.components,i=n.point;return this._componentListStore.replace(e,r),1===r.length?{start:i,end:e.getCompEndPoint()}:{start:i}},t}(mj),bj=yj,_j=bj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/text-insertion-command.js",localName:t}})}catch(e){}}e(gj,"TextInsertionType"),e(yj,"TextInsertionCommand"),e(bj,"default")}();var vj=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo.end,n=this._componentListStore.getComponentById(o.compId);return this._componentListStore.insertComponentAfter(n,t),this._getSourceComponentsRange(t)},t}(mj),Cj=vj,Oj=Cj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/append-insertion-command.js",localName:t}})}catch(e){}}e(vj,"AppendInsertionCommand"),e(Cj,"default")}();var Sj=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo.start,n=this._componentListStore.getComponentById(o.compId);return this._componentListStore.insertComponentBefore(n,t),this._getSourceComponentsRange(t)},t}(mj),kj=Sj,Ij=kj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/prepend-insertion-command.js",localName:t}})}catch(e){}}e(Sj,"PrependInsertionCommand"),e(kj,"default")}();var wj=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo,n=o.start,r=o.end,i=n.compId,a=this._componentListStore.getComponentById(i).getStoreById(n.unitId),s=this._getOnlyTextFrom(t);if(!s||s.isEmpty())return{start:n,end:r};var c=a.mergeWith(s,{mergePoint:n,isAttach:!0});return c.start.compId=i,c.end.compId=i,c},o._getOnlyTextFrom=function(e){var t=null;return e.forEach(function(e){if("text"===e.attributes.insertion){var o=e.filterOnlyTexts();t?t.append(o):t=o}}),t},t}(mj),Pj=wj,jj=Pj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/only-text-insertion-command.js",localName:t}})}catch(e){}}e(wj,"OnlyTextInsertionCommand"),e(Pj,"default")}();var Tj=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo,n=e.additionalInfo,r=o.start,i=this._componentListStore.getComponentById(r.compId),a=i.merge(t,r,n),s=a.components,c=a.range;if(this._componentListStore.replace(i,s),c)return c;if(1!==s.length)return this._getSourceComponentsRange(t);var l=s[0];return{start:l.getCompStartPoint(),end:l.getCompEndPoint()}},t}(mj),Lj=Tj,Ej=Lj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/query-insertion-command.js",localName:t}})}catch(e){}}e(Tj,"QueryInsertionCommand"),e(Lj,"default")}();var Nj={},xj={getCommand:function(e){if(Nj[e])return Nj[e];var t=this._createInstance(e);return Nj[e]=t,t},destroy:function(){Object(r.a)(Nj,function(e,t){Nj[t]=null})},_createInstance:function(e){switch(e){case"text":return new _j;case"only-text":return new jj;case"query":return new Ej;case"prepend":return new Ij;case"append":case"inline-image-allowed-append":default:return new Oj}}},Dj=xj,Rj=Dj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/index.js",localName:t}})}catch(e){}}e(Nj,"instanceMap"),e(xj,"Insertion"),e(Dj,"default")}();var Aj=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._componentFactory=u.V.get("componentFactory"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._styleStore=u.V.get("styleStore"),this._configAgent=u.V.get("configAgent"),this._themeStore=u.V.get("themeStore")}var t=e.prototype;return t.execute=function(e,t){},t._insertEmptyTextComp=function(e){var t=this._componentFactory.createComponentByCtype("text");return this._inheritStyle(e,t),this._componentListStore.insertComponentAfter(e,t),t.getCompStartRange()},t._inheritStyle=function(e,t){this._inheritAlign(e,t),this._componentListStore.inheritTextStyle(e,t)},t._inheritAlign=function(e,t){var o=t.getCompStartRange();if("documentTitle"===e.ctype){var n=this._themeStore.getUserDefinedStyle(t.ctype);if(n&&n.align)return void t.changeAlign(n.align,o)}if(this._configAgent.get("productConfig.edit.followCurrentAlign")){var r=this._selectionInfoStore.toValidJSON(),i=this._componentListStore.getSelectedAlign(r).align;t.changeAlign(i,o)}},e}(),Mj=Aj,Bj=Mj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/abstract-line-break-command.js",localName:t}})}catch(e){}}e(Aj,"AbstractLineBreakCommand"),e(Mj,"default")}();var Uj=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=t.start,r=e.getComponentById(n.compId);if(r){var i=r.breakLine(t.start,{blockModeBefore:o}),a=Je()({},n,i);return{start:a,end:a}}},t}(Bj),Vj=Uj,Fj=Vj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/line-break-in-paragraph-command.js",localName:t}})}catch(e){}}e(Uj,"LineBreakInParagraphCommand"),e(Vj,"default")}();var zj=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.breakLine(t.start,{shiftEnter:!0}),i=Je()({},o,r);return{start:i,end:i}}},t}(Bj),Wj=zj,Gj=Wj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/soft-line-break-in-paragraph-command.js",localName:t}})}catch(e){}}e(zj,"SoftLineBreakInParagraphCommand"),e(Wj,"default")}();var Hj=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===af.d.TEXT_END||i?this._selectToNextComp(e,n):this._softLineBreak(n,o)}},o._selectToNextComp=function(e,t){var o=e.getNextComponent(t);return o?o.getComponentActiveRange():this._insertEmptyTextComp(t)},o._softLineBreak=function(e,t){var o=e.breakLine(t),n=Je()({},t,o);return{start:n,end:n}},t}(Bj),qj=Hj,Jj=qj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/soft-and-select-to-next-at-end-command.js",localName:t}})}catch(e){}}e(Hj,"SoftAndSelectToNextAtEndCommand"),e(qj,"default")}();var Kj=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===af.d.TEXT_END||i?this._moveToNextText(e,n):this._softLineBreak(n,o)}},o._moveToNextText=function(e,t){var o=e.getNextComponent(t);return o&&["text","sectionTitle"].includes(o.ctype)?o.getCompStartRange():this._insertEmptyTextComp(t)},o._softLineBreak=function(e,t){var o=e.breakLine(t),n=Je()({},t,o);return{start:n,end:n}},t}(Bj),Yj=Kj,Xj=Yj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/soft-and-move-to-next-text-at-end-command.js",localName:t}})}catch(e){}}e(Kj,"SoftAndMoveToNextTextAtEndCommand"),e(Yj,"default")}();var Qj=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===af.d.TEXT_END||i?this._insertEmptyLine(e,n):this._hardLineBreak(e,o)}},o._insertEmptyLine=function(e,t){var o=e.getNextComponent(t);if(o&&"text"===o.ctype){var n=o.getFirstParagraph(),r=n.isListParagraph(),i=o.getStartPoint();if(o.breakLine(i),r){var a={start:{paraId:n.id},end:{paraId:n.id}};o.getText().updateStyle({list:"reset"},a)}return o.getCompStartRange()}return this._insertEmptyTextComp(t)},o._hardLineBreak=function(e,t){var o=e.splitComponentByPoint(t).back.getStartPoint(),n=Je()({},t,o);return{start:n,end:n}},t}(Bj),Zj=Qj,$j=Zj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/hard-and-insert-empty-line-at-end-command.js",localName:t}})}catch(e){}}e(Qj,"HardAndInsertEmptyLineAtEndCommand"),e(Zj,"default")}();var eT=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}return h()(t,e),t.prototype.execute=function(e,t){var o=t.end,n=e.getComponentById(o.compId),r=e.getNextComponent(n);return r&&["text","sectionTitle"].includes(r.ctype)?r.getCompStartRange():this._insertEmptyTextComp(n)},t}(Bj),tT=eT,oT=tT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/move-to-next-text-command.js",localName:t}})}catch(e){}}e(eT,"MoveToNextTextCommand"),e(tT,"default")}();var nT=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.V.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===af.d.TEXT_END||i?this._insertEmptyLine(e,n):r===af.d.TEXT_START?this._insertTextOnFront(e,n):this._splitToTextComp(e,o)}},o._insertEmptyLine=function(e,t){var o=e.getNextComponent(t);if(o&&"text"===o.ctype){var n=o.getStartPoint();return o.breakLine(n),o.getCompStartRange()}return this._insertEmptyTextComp(t)},o._insertTextOnFront=function(e,t){var o=this._componentFactory.createComponentByCtype("text");return e.insertComponentBefore(t,o),t.getCompStartRange()},o._splitToTextComp=function(e,t){var o=e.splitComponentByPoint(t).back,n=this._componentFactory.createComponentByCtype("text");return n.insert(o),n.removeFirstParagraph(),e.replace(o,n),n.getCompStartRange()},t}(Bj),rT=nT,iT=rT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/disabled-command.js",localName:t}})}catch(e){}}e(nT,"DisabledCommand"),e(rT,"default")}();var aT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getNextUnit().getStartPoint();return r.compId=n.id,{start:r,end:r}}},t}(Bj),sT=aT,cT=sT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/next-unit-command.js",localName:t}})}catch(e){}}e(aT,"NextUnitCommand"),e(sT,"default")}();var lT={},uT={getCommand:function(e){if(lT[e])return lT[e];var t=this._createInstance(e);return lT[e]=t,t},destroy:function(){Object(r.a)(lT,function(e,t){lT[t]=null})},_createInstance:function(e){switch(e){case"line-break-in-paragraph":return new Fj;case"soft-line-break-in-paragraph":return new Gj;case"soft-and-select-to-next-at-end":return new Jj;case"soft-and-move-to-next-text-at-end":return new Xj;case"hard-and-insert-empty-line-at-end":return new $j;case"disabled":return new iT;case"next-unit":return new cT;case"move-to-next-text":default:return new oT}}},pT=uT,dT=pT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/index.js",localName:t}})}catch(e){}}e(lT,"instanceMap"),e(uT,"LineBreak"),e(pT,"default")}();var hT={},fT=function(){function e(){this._componentListStore=u.V.get("componentListStore")}e.getInstance=function(){var e=hT[this.name];return e||(e=new(Function.prototype.bind.apply(this)),hT[this.name]=e,e)};var t=e.prototype;return t.execute=function(e,t,o){throw new Error("You should override 'execute' method")},t._getCurrentRange=function(e){return{start:e.start,end:e.end}},t._findNextRange=function(e,t){if(t===u.u.LEFT){var o=this._componentListStore.getPrevComponent(e);if(!o||"unerasable"===o.attributes.erasure)return;return o.getCompEndRange()}var n=this._componentListStore.getNextComponent(e);if(n)return n.getCompStartRange()},e}(),mT=fT,gT=mT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/abstract-erasure-command.js",localName:t}})}catch(e){}}e(hT,"instanceMap"),e(fT,"AbstractErasureCommand"),e(mT,"default")}();var yT={SELECT_PREV_COMP:"select_prev_comp",PREPEND_PREV_COMP:"prepend_prev_comp",ERASE_PART_TEXT:"erase_part_text",SELECT_NEXT_COMP:"select_next_comp",APPEND_NEXT_COMP:"append_next_comp",DELETE_PREV_COMP:"delete_prev_comp",NONE:"none"},bT=function(e){function t(){var t;return(t=e.call(this)||this)._virtualEditable=u.V.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.targetComp,o=e.selectionInfo,n=e.direction;switch(this._determineErasureType(t,o,n)){case yT.SELECT_PREV_COMP:return this._selectPrevComp(t);case yT.PREPEND_PREV_COMP:return this._prependPrevComp(t);case yT.DELETE_PREV_COMP:return this._deletePrevComp(t);case yT.ERASE_PART_TEXT:return this._erasePartText(t,o,n);case yT.SELECT_NEXT_COMP:return this._selectNextComp(t);case yT.APPEND_NEXT_COMP:return this._appendNextComp(t);case yT.NONE:return this._getCurrentRange(o)}},o._determineErasureType=function(e,t,o){var n=t.start;if(!t.collapsed)return yT.ERASE_PART_TEXT;var r=e.getPositionByPoint(n),i="LEFT"===o&&(e.isEmpty()||r===af.d.TEXT_START),a="RIGHT"===o&&(e.isEmpty()||r===af.d.TEXT_END),s=e.getText().isListParagraphByPoint(n);if(i){var c=this._componentListStore.getPrevComponent(e);if(!c||"documentTitle"===c.ctype||s)return yT.ERASE_PART_TEXT;if("unerasable"===c.attributes.erasure)return yT.NONE;var l="text"===c.attributes.erasure;return l&&!c.isEmpty()?yT.PREPEND_PREV_COMP:l&&c.isEmpty()?yT.DELETE_PREV_COMP:yT.SELECT_PREV_COMP}if(a){var u=this._componentListStore.getNextComponent(e);return u?"text"===u.attributes.erasure?yT.APPEND_NEXT_COMP:yT.SELECT_NEXT_COMP:yT.NONE}return yT.ERASE_PART_TEXT},o._selectPrevComp=function(e){var t=this._componentListStore.getPrevComponent(e);return e.isEmpty()?this._componentListStore.deleteComponentById(e.id):e.isFirstParagraphEmpty()&&e.removeFirstParagraph(),t.getComponentActiveRange()},o._prependPrevComp=function(e){var t=this._componentListStore.getPrevComponent(e),o=t.append([e]),n=o.components,r=o.point;return this._componentListStore.replaceBetween(t,e,n),{start:r,end:r}},o._deletePrevComp=function(e){var t=this._componentListStore.getPrevComponent(e);return this._componentListStore.deleteComponentById(t.id),{start:e.getStartPoint(),end:e.getStartPoint()}},o._erasePartText=function(e,t,o){return this._virtualEditable.appendAriaBufferOnErase(o),e.erase(t,o)},o._selectNextComp=function(e){var t=this._componentListStore.getNextComponent(e);return e.isEmpty()?this._componentListStore.deleteComponentById(e.id):e.isLastParagraphEmpty()&&e.removeLastParagraph(),t.getComponentActiveRange()},o._appendNextComp=function(e){var t=this._componentListStore.getNextComponent(e),o=e.append([t]),n=o.components,r=o.point;return this._componentListStore.replaceBetween(e,t,n),{start:r,end:r}},t}(gT),_T=bT,vT=_T;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/text-erasure-command.js",localName:t}})}catch(e){}}e(yT,"TextErasureType"),e(bT,"TextErasureCommand"),e(_T,"default")}();var CT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.targetStore,n=e.selectionInfo,r=e.direction,i=n.start,a=n.collapsed,s="textUnit"===o.ctype?o:o.getText(),c=s.getFirstParagraph();if(o.isEmpty()&&!c.isListParagraph())return this._getCurrentRange(n);if(a){var l=o.getPositionByPoint(i),u=s.getFirstParagraph(),p=l===af.d.TEXT_END&&"RIGHT"===r;if((l===af.d.TEXT_START&&"LEFT"===r||p)&&!u.isListParagraph())return this._getCurrentRange(n)}var d=t.id,h=o.erase(n,r),f={start:{compId:d},end:{compId:d}};return Object(Ua.a)(h,f)},t}(gT),OT=CT,ST=OT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/trapped-text-erasure-command.js",localName:t}})}catch(e){}}e(CT,"TrappedTextErasureCommand"),e(OT,"default")}();var kT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.targetStore,n=e.selectionInfo,r=e.direction,i=n.start;if(n.collapsed){var a=o.getPositionByPoint(i),s=a===af.d.TEXT_END&&"RIGHT"===r;if(a===af.d.TEXT_START&&"LEFT"===r){var c=t.getPrevUnit().getEndPoint();return c.compId=t.id,{start:c,end:c}}if(s||o.isEmpty())return this._getCurrentRange(n)}var l=t.id,u=o.erase(n,r),p={start:{compId:l},end:{compId:l}};return Object(Ua.a)(u,p)},t}(gT),IT=kT,wT=IT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/backward-escapable-text-erasure-command.js",localName:t}})}catch(e){}}e(kT,"BackwardEscapableTextErasureCommand"),e(IT,"default")}();var PT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.direction,n=this._findNextRange(t,o);if(!n)if(o===u.u.LEFT){var r=this._componentListStore.getNextComponent(t);r&&(n=r.getCompStartRange())}else{var i=this._componentListStore.getPrevComponent(t);i&&"unerasable"!==i.attributes.erasure&&(n=i.getCompEndRange())}return this._componentListStore.deleteComponentById(t.id),n},t}(gT),jT=PT,TT=jT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/self-erasure-command.js",localName:t}})}catch(e){}}e(PT,"SelfErasureCommand"),e(jT,"default")}();var LT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.selectionInfo,n=e.direction,r=this._findNextRange(t,n),i=t.queryErasure(o,n,r),a=i.result,s=i.component,c=i.range,l=this._componentListStore.getNextComponent(t);if("merge-if-text"===a){if(!l)return{start:o.start,end:o.end};if(l&&"text"===l.ctype){var p=t.append([l]),d=p.components,h=p.point;return this._componentListStore.replaceBetween(t,l,d),{start:h,end:h}}}if("self"===a){if(n===u.u.RIGHT){var f=this._componentListStore.getNextComponent(t);f&&(r=f.getCompStartRange())}else{var m=this._componentListStore.getPrevComponent(t);m&&"unerasable"!==m.attributes.erasure&&(r=m.getCompEndRange())}return this._componentListStore.deleteComponentById(t.id),r}return"replace"===a?(this._componentListStore.replace(t,s),c):c},t}(gT),ET=LT,NT=ET;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/query-erasure-command.js",localName:t}})}catch(e){}}e(LT,"QueryErasureCommand"),e(ET,"default")}();var xT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){return e.targetComp.getComponentActiveRange()},t}(gT),DT=xT,RT=DT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/unerasable-erasure-command.js",localName:t}})}catch(e){}}e(xT,"UnerasableErasureCommand"),e(DT,"default")}();var AT,MT={},BT={getCommand:function(e){if(MT[e])return MT[e];var t=this._createInstance(e);return MT[e]=t,t},destroy:function(){Object(r.a)(MT,function(e,t){MT[t]=null})},_createInstance:function(e){switch(e){case"text":return new vT;case"trapped-text":return new ST;case"backward-escapable-text":return new wT;case"query":return new NT;case"confirm":case"unerasable":return new RT;case"self":default:return new TT}}},UT=BT,VT=UT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/index.js",localName:t}})}catch(e){}}e(MT,"instanceMap"),e(BT,"Erasure"),e(UT,"default")}();var FT=["confirm","unerasurable"],zT=(AT=function(){function e(){var e=this;this._i18n=u.V.get("i18n"),this._configAgent=u.V.get("configAgent"),this._editorStatusStore=u.V.get("editorStatusStore"),this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentFactory=u.V.get("componentFactory"),this._virtualEditable=u.V.get("virtualEditable"),this._themeStore=u.V.get("themeStore"),this._notRefineWhenComponentsModified=this._configAgent.get("productConfig.edit.notRefineWhenComponentsModified"),this._deviceType=this._configAgent.get("productEnv.deviceType"),this._maxCountsByCategoryType=this._getCategoryTypesHasMaxCount().reduce(function(t,o){return t[o]=e._getMaxCountByType(o),t},{})}var t=e.prototype;return t.destroy=function(){VT.destroy(),Rj.destroy(),dT.destroy()},t._setRangeWithScroll=function(e){this._selectionInfoStore.setRange(e),this._virtualEditable.scrollToFocus()},t.write=function(e){if((this._eraseBlock(),this.isCursorMode())&&this._getCompAtStartPoint()){var t=[];if(Yt.a.separateCallbacksWithEmoji(e,function(e){return t.push(e)}),t.length>0){var o=t[0];this._virtualEditable.clearInput(),this._writeEmoji(o)}else this._writeText(e)}},t.writeText=function(e){(this._eraseBlock(),this.isCursorMode())&&(this._getCompAtStartPoint()&&this._writeText(e))},t.writeSpecialCharacter=function(e){var t=this._selectionInfoStore;t.resetIMEOffset(),this.writeText(e),t.resetIMEOffset()},t._writeEmoji=function(e){var t=this._getCompAtStartPoint(),o=this._getUnitAtStartPoint(t),n=this._selectionInfoStore.start,r=JSON.parse(JSON.stringify(n)),i=o.writeEmoji(e,r);o.isOverTextLimit&&this._virtualEditable.clearInput();var a=r.compId,s=Je()({compId:a},i),c={start:s,end:s};this._setRangeWithScroll(c)},t._writeText=function(e){var t=this._getCompAtStartPoint(),o=this._getUnitAtStartPoint(t);this._setWritePointToPlainTextNode(o);var n=this._selectionInfoStore,r=n.start,i=n.imeOffset,a=JSON.parse(JSON.stringify(r)),s=o.write(e,a,i),c=a.compId,l=Je()({compId:c},s),u={start:l,end:l};o.isOverTextLimit?(this._virtualEditable.clearInput(),this._setRangeWithScroll(u)):(this._selectionInfoStore.updateRange(u),this._virtualEditable.scrollToFocus()),this._virtualEditable.pauseAriaBufferOnWrite()},t.writeTextWithSoftLineBreak=function(e){var t=this,o=e.split(/\r?\n/),n=o.length;o.forEach(function(e,o){""!==e&&t.writeText(e),o<n-1&&t.softLineBreak()})},t.isCursorMode=function(){return this._selectionInfoStore.mode===u.O.CURSOR},t.isBlockMode=function(){return this._selectionInfoStore.isBlockMode()||this._selectionInfoStore.isComponentBlock()},t._setWritePointToPlainTextNode=function(e){var t=this._selectionInfoStore,o=t.start,n=JSON.parse(JSON.stringify(o)),r=n.compId;if(e.shouldAdjustWritePoint(n)){var i=e.adjustWritePointOnEdge(n),a=Je()({compId:r},i),s={start:a,end:a};t.setRange(s)}},t._eraseBlock=function(){this.isBlockMode()&&this.erase()},t._getCompAtStartPoint=function(){var e=this._selectionInfoStore.start;return this._componentListStore.getComponentById(e.compId)},t._getUnitAtStartPoint=function(e){var t=this._selectionInfoStore.start;return e.getStoreById(t.unitId)},t.lineBreak=function(){var e=this._selectionInfoStore,t=this.isBlockMode();this._eraseBlock();var o=e.start,n=this._componentListStore.getComponentById(o.compId).getStoreById(o.unitId),r=dT.getCommand(n.attributes.lineBreak.enter);this._breakLine(r,t),this._virtualEditable.clearAriaBufferOnLineBreak()},t.softLineBreak=function(){var e=this._selectionInfoStore;this._eraseBlock();var t=e.start,o=this._componentListStore.getComponentById(t.compId).getStoreById(t.unitId),n=dT.getCommand(o.attributes.lineBreak.shiftEnter);this._breakLine(n)},t._breakLine=function(e,t){var o=this._selectionInfoStore,n=e.execute(this._componentListStore,o.toValidJSON(),t);this._setRangeWithScroll(n)},t.getComponentInfoList=function(){return this._componentListStore.getComponentList().map(function(e){return{compType:e.ctype,compId:e.id}})},t.insert=function(e){var t=e.followCurrentAlign,o=void 0===t||t,n=e.forceRefine,r=void 0!==n&&n,i=this._filterComponentsByMaxCount(e.sourceComponents),a=i.sourceComponents,s=i.errorInfos,c=this._makeErrorMsgComponentsByMaxCount(s);if(0===a.length)return{errorMsg:c};e.insertionType="insertion",o&&this._followCurrentAlign(a);var l=Object(Js.a)(a),u=l.getRangeAfterInsert(),p=this._insert(e);return this._refineAfterInsert({customRange:u,range:p,sourceComponent:l}),this._refineComponentList(r),{errorMsg:c,range:p}},t.insertByInternalPaste=function(e){var t=this._filterComponentsByMaxCount(e.sourceComponents),o=t.sourceComponents,n=t.errorInfos,r=this._makeErrorMsgComponentsByMaxCount(n);if(0===o.length)return{errorMsg:r};if(e.sourceComponents=o,e.insertionType="paste",this._cantPaste({sourceComponents:o}))return{errorMsg:this._i18n("textComponent:can_not_insert_point_in_dropcap")};var i=Object(Js.a)(o),a=this._insert(e);return this._refineAfterInsert({range:a,sourceComponent:i}),this._refineComponentList(),{errorMsg:r}},t._cantPaste=function(e){var t=e.sourceComponents,o=void 0===t?[]:t,n=e.selectionInfo,r=(void 0===n?this._selectionInfoStore.toValidJSON():n).start;return!(!this._hasInlineImageOnly(o)||!this._hasDropCap(r))},t._hasInlineImageOnly=function(e){return e.filter(function(e){return"text"===e.attributes.insertion}).some(function(e){return e.hasInlineImageOnly()})},t._hasDropCap=function(e){var t=e.compId,o=e.paraId,n=this._componentListStore.getComponentById(t);return"text"===n.attributes.insertion&&n.hasDropCapInParagraph(o)},t._getCategoryType=function(e){var t=e.ctype;if(0===t.indexOf("image"))return"image";if("wrappingParagraph"===t){if(-1!==Object(J.a)(e,"wrappedSection.ctype","").indexOf("image"))return"image"}else if("documentTitle"===t){if(Object(J.a)(e,"background.image",null))return"image"}return t},t._getMaxCountByType=function(e){return this._configAgent.get("infraConfig."+e+".maxUploadCount")||1/0},t._getCategoryTypesHasMaxCount=function(){var e=this._configAgent.get("infraConfig");return Object(Ar.a)(e,function(e,t,o){return Object(Ks.a)(t,"maxUploadCount")&&e.push(o),e},[])},t._filterComponentsByMaxCount=function(e){var t=this;return Object(Ar.a)(e,function(e,o){var n=t._getCategoryType(o),r=t._maxCountsByCategoryType[n]||1/0;if(r!==1/0){e.counts[n]||(e.counts[n]=t._componentListStore.countByLikeType(n));var i=o.ctype,a=0;a="imageGroup"===i||"imageStrip"===i?Object(J.a)(o,"images",[]).reduce(function(e,t){return Object(J.a)(t,"internalResource",!1)&&e++,e},0):"image"===i?Object(J.a)(o,"internalResource",!1)?1:0:"wrappingParagraph"===i?Object(J.a)(o,"wrappedSection.internalResource",!1)?1:0:"documentTitle"===i?Object(J.a)(o,"background.image.internalResource",!1)?1:0:1,e.counts[n]+a<=r?(e.counts[n]+=a,e.sourceComponents.push(o)):!1===Object(Ks.a)(e.errorInfos,n)&&(e.errorInfos[n]=r)}else e.sourceComponents.push(o);return e},{sourceComponents:[],errorInfos:{},counts:{}})},t._makeErrorMsgComponentsByMaxCount=function(e){var t=this,o=Object(sj.a)(e);if(1===o){var n=Object(cj.a)(e)[0],r=e[n];return this._i18n("documentToolbarLayout:"+n+"_upload_max_count_msg",{maxcount:r})}if(o>1&&Object(sj.a)(this._maxCountsByCategoryType)>0){var i=["image","video","file","audio"].reduce(function(o,n){if(Object(vo.a)(Object(cj.a)(t._maxCountsByCategoryType),n)&&e[n]){var r=t._maxCountsByCategoryType[n];o+=o&&o.length>0?", ":"",o+=t._i18n("documentToolbarLayout:"+n+"_upload_max_count",{maxcount:r})}return o},"");return this._i18n("documentToolbarLayout:multi_upload_max_count_msg",{maxCountMsgs:i})}return null},t._getExceptComponentsBy=function(e){var t=e.sourceComponents,o=e.maxCount,n=e.ctype,r=this._componentListStore.countBy(n);return t.filter(function(e){return e.ctype===n}).slice(o-r)},t.insertByExternalPaste=function(e){var t=e.followCurrentAlign,o=void 0===t||t,n=this._filterComponentsByMaxCount(e.sourceComponents),r=n.sourceComponents,i=n.errorInfos,a=this._makeErrorMsgComponentsByMaxCount(i);if(0===r.length)return{errorMsg:a};e.insertionType="paste",o&&this._followCurrentAlign(r);var s=this._insert(e),c=Object(Js.a)(r);return this._refineAfterInsert({range:s,sourceComponent:c}),this._refineComponentList(),{errorMsg:a}},t._refineAfterInsert=function(e){var t=e.customRange,o=e.range,n=e.sourceComponent,r=this._componentListStore.getNextComponent(n),i=this._configAgent.get("productConfig.edit.notInsertTextAtLast");if(t)this._setRangeWithScroll(t);else if("text"===n.attributes.insertion){var a=this._focusToEndComp(o);this._setRangeWithScroll(a)}else if(r&&"text"===r.attributes.insertion)this._setRangeWithScroll(r.getCompStartRange()),this._setShouldBlurAfterInsertComp();else if(r||i){var s=this._focusToEndComp(o);this._setRangeWithScroll(s),this._setShouldBlurAfterInsertComp()}else this.insertTextCompAtLast()},t._setShouldBlurAfterInsertComp=function(){this._deviceType===u.t.MOBILE&&this._selectionInfoStore.setShouldBlur(!0)},t._followCurrentAlign=function(e){var t=this._selectionInfoStore.toValidJSON(),o=this._componentListStore.getSelectedAlign(t).align,n=this._configAgent.get("productConfig.edit.followCurrentAlign");o&&n&&e.forEach(function(e){e.changeAlign(o,t)})},t._followInsertTargetAlign=function(e,t){var o={start:e,end:e},n=this._componentListStore.getComponentById(e.compId).getSelectedAlign(o).align;t.forEach(function(e){var t={start:e.getStartPoint(),end:e.getEndPoint()};e.changeAlign(n,t)})},t._insert=function(e){var t=e.sourceComponents,o=void 0===t?[]:t,n=e.selectionInfo,r=void 0===n?this._selectionInfoStore.toValidJSON():n,i=e.insertionType,a=e.commandType,s=e.disableMerge,c=void 0!==s&&s;if(this._virtualEditable.deactivateSelectionHandle(),0!==o.length){if(!r.collapsed&&r.mode===u.O.BLOCK){var l=this._erase(r);Object.assign(r,l)}var p=r.start,d=this._componentListStore.getComponentById(p.compId),h=this._componentListStore.getDerivedTextStyle(p);h&&o.forEach(function(e){"text"===e.ctype&&e.applyDerivedStyles(h)});var f=d.getStoreById(p.unitId);return Rj.getCommand(a||f.attributes[i]).execute({sourceComponents:o,selectionInfo:r,disableMerge:c})}},t.append=function(e){var t=e.sourceComponents,o=e.followCurrentAlign,n=void 0===o||o,r=this._selectionInfoStore.toValidJSON(),i=Object(Js.a)(t);if(this._selectionInfoStore.isBlockMode()){var a=this._erase(r);Object.assign(r,a)}n&&this._followCurrentAlign(t),this._componentListStore.append({sourceComponents:t,point:r.end});var s=this._findLNextLandingRange(i);this._setRangeWithScroll(s),this._refineComponentList()},t._findLNextLandingRange=function(e){var t=this._componentListStore.getNextComponent(e);return this._isText(t)?t.getCompStartRange():this._focusToEndComp(e.getCompEndRange())},t._isText=function(e){return e&&"text"===e.attributes.insertion},t._focusToEndComp=function(e){return this._componentListStore.getComponentById(e.end.compId).getEndCollapsedRange(e)},t.insertByDrop=function(e){var t=e.insertCommand,o=e.insertPoint,n=e.items,r=e.followCurrentAlign,i=void 0===r||r;if(n.length){i&&this._followInsertTargetAlign(o,n);var a={start:o,end:o},s=Rj.getCommand(t).execute({sourceComponents:n,selectionInfo:a}),c=this._componentListStore.getComponentById(s.end.compId);return this._refineAfterInsert({range:s,sourceComponent:c}),this._refineComponentList(),s}},t.moveToPrev=function(e){this._componentListStore.moveComponentToPrev(e)},t.moveToNext=function(e){this._componentListStore.moveComponentToNext(e)},t.move=function(e){var t,o=e.insertCommand,n=e.insertPoint,r=e.items.map(function(e){return e}),i=this._selectionInfoStore.toValidJSON(),a=i.start,s=i.end,c=this._componentListStore.getComponentById(a.compId),l=this._componentListStore.getComponentById(s.compId),p=this._componentListStore.getComponentById(n.compId),d=c.getStoreById(a.unitId),h=l.getStoreById(s.unitId),f=p.getStoreById(n.unitId),m=["text","only-text"],g=m.includes(d.attributes.drop)&&m.includes(h.attributes.drop)&&m.includes(f.attributes.drop),y=this._componentListStore.isBackward(s,n),b=a.nodeId===s.nodeId&&s.nodeId===n.nodeId;g&&y&&(b?n.offset-=s.offset-a.offset:((t={}).startOffset=c.getOffsetInParagraph(a),t.endOffset=l.getOffsetInParagraph(s),t.insertOffset=p.getOffsetInParagraph(n)));var _=y?u.u.UP:u.u.DOWN,v=this._erase(i,_,!0).start;if(g&&y&&!b){var C,O;s.paraId===n.paraId?(C=this._componentListStore.getComponentById(v.compId),n.compId=v.compId,n.unitId=v.unitId,n.paraId=v.paraId,O=t.insertOffset-t.endOffset+t.startOffset):((C=this._componentListStore.getComponentById(n.compId))||(C=this._componentListStore.getComponentById(v.compId),n.compId=v.compId,n.unitId=v.unitId),O=t.insertOffset);var S=C.getNodeInfoAfterOffset(n,O);n.nodeId=S.node.id,n.offset=S.offset}else n.unitId===v.unitId&&(n.compId=v.compId);var k={start:n,end:n},I=Rj.getCommand(o),w={sourceComponents:r,selectionInfo:k};"query"===o&&(w.additionalInfo={targetCompOfInsertPoint:p});var P=I.execute(w);if(i.mode===u.O.BLOCK)this._setRangeWithScroll(P);else{var j=this._componentListStore.getComponentById(P.end.compId);this._refineAfterInsert({range:P,sourceComponent:j})}this._refineComponentList()},t.erase=function(e,t){void 0===e&&(e=this._selectionInfoStore.toValidJSON()),void 0===t&&(t=u.u.LEFT);var o=this._erase(e,t);this._setRangeWithScroll(o),this._refineComponentList()},t.eraseComponent=function(e){e||(e=this._selectionInfoStore.start.compId);var t=this._componentListStore.getComponentById(e).getComponentActiveRange();this._selectionInfoStore.setRange(t);var o=this._erase(void 0,u.u.RIGHT);this._setRangeWithScroll(o),this._refineComponentList()},t.eraseUnit=function(e){var t=this,o={};Object(r.a)(e,function(e){var n,r=new uj({compIdMap:(n={},n[e.compId]={},n),start:Je()({paraId:null,nodeId:null,offset:0},e),end:Je()({paraId:null,nodeId:null,offset:1},e)}).toValidJSON();o=t._erase(r,u.u.RIGHT)}),this._setRangeWithScroll(o),this._refineComponentList()},t._confirmErasureComponents=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=aj()(t);case 1:if((r=n()).done){e.next=7;break}return i=r.value,e.next=5,this._confirmErasureComponent(i,o);case 5:e.next=1;break;case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._confirmErasureComponent=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._selectionInfoStore.setRange(t.getComponentActiveRange()),e.t0=t.confirmErasure,!e.t0){e.next=6;break}return e.next=5,t.confirmErasure();case 5:e.t0=e.sent;case 6:!0===e.t0&&(n=VT.getCommand("self"),r=n.execute({targetComp:t,direction:o})||this._insertEmptyTextComponent(),this._setRangeWithScroll(r),this._refineComponentList());case 8:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._getErasureType=function(e,t){var o=e.attributes,n=(void 0===o?{}:o).erasure;return t&&FT.includes(n)?"self":n},t._erase=function(e,t,o){var n=this;void 0===e&&(e=this._selectionInfoStore.toValidJSON()),void 0===t&&(t=u.u.LEFT),void 0===o&&(o=!1),this._virtualEditable.deactivateSelectionHandle();var i=[],a=this._componentListStore,s=e,c=s.compIdMap,l=s.mode,p=Object.keys(c),d=a.getComponentsByIds(p),h=d.shift(),f=d.pop(),m=h&&a.getPrevComponent(h),g=f&&a.getNextComponent(f),y=e,b=y.start,_=y.end,v=h.getStoreById(b.unitId)||h,C=this._getErasureType(v,o);"confirm"===C&&i.push(h);var O=VT.getCommand(C).execute({targetComp:h,targetStore:v,selectionInfo:e,direction:t});if(e.collapsed||!f)return this._confirmErasureComponents(i,t),O||this._insertEmptyTextComponent();if(Object(r.a)(d,function(e){var t=n._getErasureType(e,o);"confirm"===t?i.push(e):"unerasable"!==t&&a.deleteComponentById(e.id)}),f){var S=f.getStoreById(_.unitId),k=this._getErasureType(S,o);"wrappingParagraph"===f.ctype&&(k="query"),"none"===S.selection&&(S=f),"confirm"===k&&i.push(f),O=VT.getCommand(k).execute({targetComp:f,targetStore:S,selectionInfo:e,direction:t});var I=l===u.O.MULTI_COMP&&t===u.u.LEFT,w=l===u.O.MULTI_COMP&&t===u.u.RIGHT,P=("textUnit"===v.ctype||"text"===C)&&"text"===k&&a.has(b.compId)&&a.has(_.compId);if(I)if(m&&"unerasable"!==m.attributes.erasure)O=m.getCompEndRange();else{var j=a.getFirstComponent();if(j&&"unerasable"!==j.attributes.erasure)O=j.getCompEndRange();else if(j&&"unerasable"===j.attributes.erasure){var T=a.getNextComponent(j);O=T?T.getCompStartRange():null}else O=null}else if(w)if(g)O=g.getCompStartRange();else{var L=a.getLastComponent();O=L&&"unerasable"!==L.attributes.erasure?L.getCompEndRange():null}else if(P&&h.isEmpty())this._componentListStore.deleteComponentById(h.id),O=f.getCompStartRange();else if(P&&i.length<1){var E=h.append([f]),N=E.components,x=E.point;a.replaceBetween(h,f,N),O={start:x,end:x}}}return this._confirmErasureComponents(i,t),O||this._insertEmptyTextComponent()},t._insertEmptyTextComponent=function(){var e=this._componentFactory.createComponentByCtype("text");return this._componentListStore.insertComponent(e),e.getCompStartRange()},t.insertTextCompAtLast=function(){var e=this._componentFactory.createComponentByCtype("text"),t=this._componentListStore.getLastComponent();this._inheritStyle(t,e),this._componentListStore.insertComponent(e),this._setRangeWithScroll(e.getCompStartRange())},t.insertTextCompPositionById=function(e,t){this._virtualEditable.deactivateSelectionHandle();var o=this._componentListStore.getComponentById(t),n=this._componentFactory.createComponentByCtype("text"),r=this._findStyleAncestor(o);this._inheritStyle(r,n),o?e===u.x.TOP?this._componentListStore.insertComponentBefore(o,n):e===u.x.BOTTOM&&this._componentListStore.insertComponentAfter(o,n):this._componentListStore.insertComponent(n),this._setRangeWithScroll(n.getCompStartRange())},t.insertTextComponentBySelectionInfo=function(e){var t=this._componentFactory.createComponentByCtype("text");return this.insert({sourceComponents:[t],followCurrentAlign:!0,selectionInfo:e}),t},t.insertComponentsWithData=function(e,t){var o=this;void 0===e&&(e=[]),void 0===t&&(t={});var n=this._componentFactory.getAvailableCompType(),r=Object(Mr.a)(e,function(e){return n.includes(e.ctype)}).map(function(e){return o._componentFactory.createComponentWithCompData(e)}),i=t,a=i.followCurrentAlign,s=void 0===a||a,c=i.commandType,l=i.disableMerge,u=i.forceRefine;r.length>0&&this.insert({sourceComponents:r,followCurrentAlign:s,commandType:c,disableMerge:l,forceRefine:u})},t._inheritStyle=function(e,t){this._inheritAlign(e,t),this._componentListStore.inheritTextStyle(e,t)},t._inheritAlign=function(e,t){var o=t.getCompStartRange();if(!e||e&&"documentTitle"===e.ctype){var n=this._themeStore.getUserDefinedStyle(t.ctype);n&&n.align&&t.changeAlign(n.align,o)}else{if(this._configAgent.get("productConfig.edit.followCurrentAlign"))if("wrappingParagraph"===e.ctype){var r=e.text,i=r.getSelectedAlign(r.getCompEndRange()).align;t.changeAlign(i,o)}else t.changeAlign(e.align,o)}},t._findStyleAncestor=function(e){return e?this._componentListStore.getPrevComponent(e):this._componentListStore.getLastComponent()},t._refineComponentList=function(e){if(void 0===e&&(e=!1),e||!this._notRefineWhenComponentsModified){var t=this._selectionInfoStore,o=this._componentListStore.refineComponentList(t.toValidJSON());o&&t.setRange(o)}},t._hasAdjacentEmptyTextNode=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId,i=this._componentListStore.getComponentById(t).getStoreById(o);if(i.isEmptyTextNode(e))return!0;var a=i.getParagraphById(n),s=a.getPrevNode(r);if(s&&s.isEmpty())return!0;var c=a.getNextNode(r);return!(!c||!c.isEmpty())},t.refineEmptyNodeInParagraph=function(e){var t=this._selectionInfoStore,o=t.start,n=t.mode,r=JSON.parse(JSON.stringify(o));if(n===u.O.CURSOR&&this._hasAdjacentEmptyTextNode(r)){var i=r.compId,a=r.unitId,s=r.paraId,c=this._componentListStore.getComponentById(i).getStoreById(a);if(s!==e.paraId)return c.refineParagraphWithPoint(r),!1;var l=c.refineParagraphWithPoint(e);return this._selectionInfoStore.setRange({start:l,end:l}),!0}return!1},t.isSelectedComponentsProcessing=function(){var e=this._selectionInfoStore,t=e.collapsed,o=e.mode;if(t)return!1;var n=this._componentListStore.getSelectedComponents(e);return(1!==n.length||o===u.O.SINGLE_COMP)&&this._hasProcessingComp(n)},t.isDocumentProcessing=function(){var e=this._componentListStore.getComponentList(),t=!0===this._editorStatusStore.isProcessing,o=this._hasProcessingComp(e);return t||o},t._hasProcessingComp=function(e){return Object(ug.a)(e,function(e){return e.phase===u.N.PROCESSING})},t.cut=function(){this._virtualEditable.cut()},t.copy=function(){this._virtualEditable.copy()},t.paste=function(e){this._virtualEditable.paste(e)},t.insertCustomData=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:"custom",subtype:e,data:t});this.insert({sourceComponents:[o]})},t.insertWithNewText=function(e){if(this.isCursorAtEndOfText()){var t=this._componentFactory.createComponentByCtype("text");e.sourceComponents.push(t)}return this.insert(e)},t.isCursorAtEndOfText=function(e){void 0===e&&(e=this._selectionInfoStore.toValidJSON());var t=e,o=t.end,n=t.collapsed,r=t.mode,i=o.compId;if(n&&r===u.O.CURSOR){var a=this._componentListStore.getComponentById(i),s=a.getEndPoint();if(a.getText())return s.compId===o.compId&&s.unitId===o.unitId&&s.paraId===o.paraId&&s.nodeId===o.nodeId&&s.offset===o.offset}return!1},e}(),q()(AT.prototype,"insert",[K.d],Object.getOwnPropertyDescriptor(AT.prototype,"insert"),AT.prototype),q()(AT.prototype,"insertByInternalPaste",[K.d],Object.getOwnPropertyDescriptor(AT.prototype,"insertByInternalPaste"),AT.prototype),q()(AT.prototype,"insertByExternalPaste",[K.d],Object.getOwnPropertyDescriptor(AT.prototype,"insertByExternalPaste"),AT.prototype),q()(AT.prototype,"_confirmErasureComponents",[ee.history],Object.getOwnPropertyDescriptor(AT.prototype,"_confirmErasureComponents"),AT.prototype),q()(AT.prototype,"insertCustomData",[ee.history,K.d],Object.getOwnPropertyDescriptor(AT.prototype,"insertCustomData"),AT.prototype),AT),WT=zT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/editing-service.js",localName:t}})}catch(e){}}e(FT,"UNERASURABLE_TYPES"),e(zT,"EditingService"),e(WT,"default")}();var GT,HT=o(218),qT=["facebook","twitter","instagram","slideshare","soundcloud","audioclip","nmv.naver","tv.naver"],JT=["twitter"],KT=function(){function e(e){this.config=e,this._isIE=ar.a.isIE(),this._isIE10=ar.a.isIE10()}var t=e.prototype;return t._fetch=function(e,t){return Io.b.get(this.config.url,{params:{url:e},options:{withCredentials:!0,useCache:!0},success:t,error:function(){return null}})},t.fetchByCtype=function(e,t){return this._fetch(e,this._convertByCtype.bind(this,t))},t._convertByCtype=function(e,t){var o=t.oembed,n=t.oglink,r=t.oembedSign,i=t.oglinkSign;return"oembed"===e?Object(Ua.a)({ctype:"oembed",oembedSign:r},this._convertOembed(o,n)):"oglink"===e?Object(Ua.a)({ctype:"oglink",oglinkSign:i,thumbnail:this._convertImage(n.summary.image)},this._convertOglink(n)):null},t.fetch=function(e){return this._fetch(e,this._convert.bind(this))},t._convert=function(e){var t=e.oembed,o=e.image,n=e.oglink,r=e.oembedSign,i=e.oglinkSign,a=t&&!1===this._isOembedNotSupported(n.summary.domain);return t&&a?Object(Ua.a)({ctype:"oembed",oembedSign:r},this._convertOembed(t,n)):o?Object(Ua.a)({ctype:"image",internalResource:!1,origin:{ctype:"imageOrigin",srcFrom:"copyUrl"}},o):n?Object(Ua.a)({ctype:"oglink",oglinkSign:i,thumbnail:this._convertImage(n.summary.image)},this._convertOglink(n)):null},t._isOembedNotSupported=function(e){if(void 0===e&&(e=""),!1===this._isIE)return!1;var t=this._isIE10?qT:JT;return new RegExp(t.join("|"),"gi").test(e)},t._convertOembed=function(e,t){var o=this._getOgAlternateInfo(e,t.summary),n=o.providerUrl,r=o.title,i=o.description;return Je()({},e,{providerUrl:n,title:r,description:i,originalWidth:e.width,originalHeight:e.height,inputUrl:t.url})},t._getOgAlternateInfo=function(e,t){var o=e.providerUrl,n=e.title,r=t.description?t.description.replace(/\u21b5|\n/gi,"\n"):"";return{providerUrl:o||t.domain,title:n||t.title,description:r}},t._convertOglink=function(e){var t=e.summary;("video"===t.type&&(t.video=!0),t.site&&""!==t.site)&&("moment"===t.site.toLowerCase()&&(t.layout="moment"));return t.isAffiliate=this._isAffiliate(e),t.link=e.url,Object(nu.a)(t,["allImages","type"])},t._isAffiliate=function(e){return e.predefinedUrlPattern&&"shoppingAffiliate"===e.predefinedUrlPattern},t._convertImage=function(e){return e&&e.url?{ctype:"thumbnail",src:e.url,width:e.width,height:e.height}:null},e}();!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/crawler-repository/index.js",localName:t}})}catch(e){}}e(qT,"IE10_NOT_SUPPORTED_LIST"),e(JT,"IE_NOT_SUPPORTED_LIST"),e("moment","MOMENT_SITE"),e(KT,"CrawlerRepository")}();var YT={SET_DATA:{image:function(e){if(!0===e.internalResource&&""===e.path)return"      >  >  path ."}},GET_DATA:{image:function(e){if(!0===e.internalResource&&""===e.path)return"/    >  >  path ."},oglink:function(e){if(!e.oglinkSign)return"/    > oglink > "},oembed:function(e){if(!e.oembedSign)return"/    > oglink > "}}},XT=(GT=function(){function e(){this._themeStore=u.V.get("themeStore"),this._componentListStore=u.V.get("componentListStore"),this._documentConverter=u.V.get("documentConverter"),this._documentDataStore=u.V.get("documentDataStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._sentryManager=u.V.get("sentryManager"),this._availableCompTypes=u.V.get("componentFactory").getAvailableCompType(),this._componentFactory=u.V.get("componentFactory"),this._i18n=u.V.get("i18n"),this._configAgent=u.V.get("configAgent"),this._notRefineWhenComponentsModified=this._configAgent.get("productConfig.edit.notRefineWhenComponentsModified"),this._RX={titleNumberRx:/ \(\d+\)+$/g,digitRx:/\d+/g},this._multiCrawlerRepository=new KT({url:this._configAgent.get("apiInfo.fetchMultiCrawler")})}var t=e.prototype;return t.setDocumentData=function(e){var t=this,o=Object(J.a)(e,"document.components",[]),n=Object(Xe.a)(o)?u.v.NORMAL:u.v.EDITING,r=dg.a.getObjectWithCircularRemoved(e.document);o.forEach(function(o){var r=YT.SET_DATA[o["@ctype"]],i=r&&r(o);i&&setTimeout(function(){var r=u.Y.createInfo("    !",i,{docId:e.documentId,documentStatus:n,data:o});t._sentryManager=u.V.get("sentryManager"),t._sentryManager.info(r)},1e4)});var i=Object(J.a)(e,"document.theme");i&&this._themeStore.changeThemeName(i);var a=this._documentConverter.convertDocument(r,this._availableCompTypes,!0),s=a.components,c=Object(J.a)(e,"document.version","1.0.0");delete a.components,e.document=a,this.setComponentList(s),this._documentDataStore.setDocumentData(e),this._documentDataStore.setDocumentStatus(n),this._componentListStore.isEmpty()?this._insertDefaultComponents():this._updateOglinkOembedSign(c)},t.resetDocumentData=function(){this._setDocumentTheme(),this._insertDefaultComponents(),this._documentDataStore.setDocumentStatus()},t.getDocumentId=function(){return this._documentDataStore.getDocumentId()},t.getDocumentData=function(){var e=this;if(this._notRefineWhenComponentsModified){var t=this._selectionInfoStore,o=this._componentListStore.refineComponentList(t.toValidJSON());o&&t.setRange(o)}this._setDocumentTheme();var n=this._documentDataStore.toValidJSON(),r=this._documentDataStore.getDocumentStatus(),i=this._componentListStore.toValidJSON().filter(function(e){return!!e.ctype});return n.documentId=n.documentId.includes("TEMP-")?"":n.documentId,n.document=this._documentConverter.revertDocument(n.document,i),i.forEach(function(t){var o=YT.GET_DATA[t.ctype],i=o&&o(t);if(i){var a=u.Y.createInfo("    !",i,{docId:n.documentId,documentStatus:r,data:t});e._sentryManager.info(a)}}),n},t.getDocumentTitle=function(){var e=this._componentListStore.getComponentByCtype("documentTitle");return e?e.getDocumentTitle():""},t.setDocumentTitle=function(e){var t=this._componentListStore.getComponentByCtype("documentTitle");if(t){var o=t.isFocused;t.title.setPlainTextWithEmoji(e),o&&this._selectionInfoStore.setRange(t.getCompEndRange())}},t.getContentText=function(){return this._componentListStore.getContentText()},t.getDocumentStatus=function(){return this._documentDataStore.getDocumentStatus()},t.hasVideoComponent=function(){return!!this._componentListStore.getComponentByCtype("video")},t.isEmptyDocumentContent=function(){var e=this._componentListStore.getComponentList();if(this._documentDataStore.getDefaultComponentData().length!==e.length)return!1;var t=this._componentListStore.getComponentByCtype("text");return!(!t||!t.isEmpty())},t.setComponentList=function(e){this._componentListStore.resetCompList(e)},t.convertComponent=function(e){return this._documentConverter.convert(e)},t.convertComponents=function(e){return this._documentConverter.convertComponents(e)},t.revertComponent=function(e){return this._documentConverter.revert(e)},t.revertComponents=function(e){return this._documentConverter.revertComponents(e)},t._insertDefaultComponents=function(){var e=this._documentDataStore.getDefaultComponentData();this.setComponentList(e)},t._setDocumentTheme=function(){var e=this._themeStore.themeName;e&&this._documentDataStore.setTheme(e)},t.normalizeDocumentData=function(e){this._nomalizeVideoComponets(e)},t._getBaseVideoTitle=function(e){var t=this._configAgent.get("infraConfig.video.videoDefaultTitle");return this._validateTitle(t)?t:(t=this.getDocumentTitle(),this._validateTitle(t)?t:(t=this.getContentText().substring(0,e),this._validateTitle(t)?t:this._i18n("video:untitled")))},t._validateTitle=function(e){var t=Object(HT.a)(e);return!Object(Xe.a)(t)},t._analysisVideoCompList=function(e,t){var o=this;return Object(Ar.a)(e,function(e,n){var r=n.getMediaMeta().title,i=void 0===r?"":r;if((i?i.substring(0,t.length):"")===t){var a=i.match(o._RX.titleNumberRx);if(Array.isArray(a)&&a.length>0){var s=parseInt(a[0].match(o._RX.digitRx)[0]);e.numOfIndexedComp+=1,e.maxIndex=Math.max(s,e.maxIndex)}}return i&&0!==i.length||e.untitledList.push(n),e},{numOfIndexedComp:0,maxIndex:0,untitledList:[]})},t._nomalizeVideoComponets=function(e){if(e){var t=this._componentListStore.getComponentsByCtype("video");if(0!==t.length){var o=this._getBaseVideoTitle(t[0].getMaxVideoTitleLength()),n=this._analysisVideoCompList(t,o),i=n.numOfIndexedComp,a=n.maxIndex,s=n.untitledList;if(0!==s.length){var c=a+1;if(!this._validateTitle(o))throw new Error("The default string for untitled video was empty.");0===i&&1===s.length?s[0].normalizeData(o):s.length>0&&Object(r.a)(s,function(e,t){e=s[t];var n=" ("+(c+t)+")",r=e.getMaxVideoTitleLength(),i=o.substring(0,r-n.length)+n;e.normalizeData(i)})}}}},t._getVersionWeight=function(e){var t=(e||"1.0.0").split(".");return 1e6*t[0]+1e3*t[1]+1*t[2]},t._updateOglinkOembedSign=function(e){var t=this,o=this._getVersionWeight(e)>this._getVersionWeight("2.5.1"),n=this._componentListStore.getComponentsByCtypes(["oglink","oembed"]),r=o?n.filter(function(e){return e.emptySign}):n;r.length<1||r.forEach(function(e){var o=e.ctype,n=e.link,r=e.inputUrl,i=n||r;t._multiCrawlerRepository.fetchByCtype(i,o).then(function(o){o?e.updateSign(o):t._replaceToTextComponent(e,i)}).catch(function(){t._replaceToTextComponent(e,i)})})},t._replaceToTextComponent=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:"text",value:[{ctype:"paragraph",nodes:[{ctype:"textNode",value:t}]}]});this._componentListStore.replace(e,o);var n=this._componentListStore.getPrevComponent(o)||o,r=this._componentListStore.getNextComponent(o)||o;this._componentListStore.refineComponentList({start:n.getStartPoint(),end:r.getEndPoint()})},t.getComponentsByCtype=function(e){return void 0===e&&(e=[]),this._componentListStore.getComponentList().filter(function(t){return e.includes(t.ctype)}).map(function(e){var t=e.toPlainJSON();return e.getPlainText&&(t.plainText=e.getPlainText()),t})},e}(),q()(GT.prototype,"setDocumentData",[K.d],Object.getOwnPropertyDescriptor(GT.prototype,"setDocumentData"),GT.prototype),q()(GT.prototype,"setDocumentTitle",[K.d],Object.getOwnPropertyDescriptor(GT.prototype,"setDocumentTitle"),GT.prototype),GT),QT=XT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/document-service.js",localName:t}})}catch(e){}}e(YT,"INSPECTOR_RULES"),e(XT,"DocumentService"),e(QT,"default")}();var ZT=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._virtualEditable=u.V.get("virtualEditable")}var t=e.prototype;return t.getSelectedComponents=function(){var e=this._selectionInfoStore.toValidJSON(),t=e.compIdMap,o=e.start,n=e.end;return e.mode===u.O.MULTI_COMP?this._componentListStore.getComponentsByIds(Object.keys(t)):this._componentListStore.getComponentsBetween(o.compId,n.compId)},t.getImageComponentOnDocument=function(){var e=[];return function t(o){Object(r.a)(o,function(o){var n=o.ctype;"image"===n?e.push(o):"imageStrip"===n?t(o.components):"wrappingParagraph"===n&&t([o.wrappedSection])})}(this._componentListStore.getComponentList()),e},t.getDraggableCompStoresWithinSelection=function(){return this._adjustTableCompSelection(),this.getCompStoresWithinSelection()},t._adjustTableCompSelection=function(e){void 0===e&&(e=this._selectionInfoStore.toValidJSON());var t=e,o=t.start,n=t.end;if(o.compId===n.compId){var r=this._componentListStore.getComponentById(o.compId);if("table"===r.ctype&&!r.isSelectedComponent){var i=r.selectAll();this._selectionInfoStore.setAnchorAndFocus(i)}}},t.getCompStoresWithinSelection=function(e){return void 0===e&&(e=this._selectionInfoStore.toValidJSON()),e.collapsed?[]:this._componentListStore.getCompStoresWithinSelection(e)},t.getPlainTextWithinSelection=function(e){void 0===e&&(e=this._selectionInfoStore.toValidJSON());var t="";return this.getCompStoresWithinSelection(e).forEach(function(e){t+=e.getPlainText()}),t},e}(),$T=ZT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/finder-service.js",localName:t}})}catch(e){}}e(ZT,"FinderService"),e($T,"default")}();var eL=function(){function e(e,t){this._componentListStore=e,this._componentFactory=t,this._themeStore=u.V.get("themeStore")}var t=e.prototype;return t.execute=function(){throw new Error("You should override 'execute' method")},t._findTargetParaIdSplittingTextComp=function(e,t){var o=e.refineSelection(t),n=o.start,r=o.end,i=e.extendPointToParagraphEnd(r),a=this._componentListStore.splitComponentByPoint(i).back;return a.getText().isEmpty()?this._componentListStore.deleteComponentById(a.id):a.removeFirstParagraph(),{startParaId:n.paraId,endParaId:r.paraId}},t._setStyleToDefault=function(e,t){var o=this._themeStore.getUserDefinedStyle(e.ctype);if(o){var n=t.reduce(function(e,t){return e[t]=o[t]||null,e},{});Object(Xe.a)(n)||(e.updateWholeCharacterStyle(n),e.updateWholeParagraphStyle(n))}},e}(),tL=eL,oL=tL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/abstract-format-changer.js",localName:t}})}catch(e){}}e(eL,"AbstractFormatChanger"),e(tL,"default")}();var nL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=this,r=[],i=Je()({ctype:"text"},o);return e.forEach(function(e){var t=n._componentFactory.createComponentWithCompData(i);e.forEach(function(e){if("quotation"===e.ctype){e.resetStyle();var o=t.getText();o.mergeWith(e.value),e.source.isEmpty()||o.mergeWith(e.source),n._setStyleToDefault(t,["fontFamily","fontSizeCode","align","fontColor","lineHeight"])}else t.insert(e),"sectionTitle"===e.ctype&&n._setStyleToDefault(t,["fontSizeCode"])}),t.removeFirstParagraph(),t.updateTheme();var o=Object(no.a)(e),a=Object(Js.a)(e);n._componentListStore.replaceBetween(o,a,t),r.push(t)}),r},t}(oL),rL=nL,iL=rL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/to-text.js",localName:t}})}catch(e){}}e(nL,"ToText"),e(rL,"default")}();var aL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=this,r=[];return e.forEach(function(e){e.forEach(function(e){var i=e.ctype,a=[],s=[];if("text"===i||"wrappingParagraph"===i){var c=n._findTargetParaIdSplittingTextComp(e,t),l=c.startParaId,u=c.endParaId;a=e.detachParagraphs(l,u),s=["fontSizeCode"]}else"quotation"===i&&(e.resetStyle(),a=e.detachAllParagraphs(),s=["fontFamily","fontSizeCode","align","fontColor","lineHeight"]);var p=Je()({ctype:"sectionTitle"},o),d=a.map(function(e){var t=n._componentFactory.createComponentWithCompData(p);return e.isListParagraph()&&e.updateParagraphStyle({listType:"reset"}),t.removeFirstParagraph(),t.getText().addParagraph(e),n._setStyleToDefault(t,s),t.updateTheme(),r.push(t),t});n._componentListStore.insertComponentAfter(e,d),e.getText().isEmpty()&&n._componentListStore.deleteComponentById(e.id)})}),r},t}(oL),sL=aL,cL=sL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/to-section-title.js",localName:t}})}catch(e){}}e(aL,"ToSectionTitle"),e(sL,"default")}();var lL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=this,r=[],i=Je()({ctype:"quotation"},o);return e.forEach(function(e){var o=n._componentFactory.createComponentWithCompData(i);e.forEach(function(e){var r,i,a=e.ctype;if("text"===a||"wrappingParagraph"===a){var s=n._findTargetParaIdSplittingTextComp(e,t);r=s.startParaId,i=s.endParaId}else"sectionTitle"===a&&(r=e.getStartPoint().paraId,i=e.getEndPoint().paraId);var c=e.detachParagraphs(r,i);c.forEach(function(e){return e.replaceImageToText()}),o.getText().addParagraph(c)}),o.removeFirstParagraph(),o.resetStyle(),o.updateTheme();var a=Object(no.a)(e);n._componentListStore.insertComponentAfter(a,o),e.forEach(function(e){e.getText().isEmpty()&&n._componentListStore.deleteComponentById(e.id)}),r.push(o)}),r},t}(oL),uL=lL,pL=uL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/to-quotation.js",localName:t}})}catch(e){}}e(lL,"ToQuotation"),e(uL,"default")}();var dL=["text","sectionTitle","quotation"],hL=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore");var e=u.V.get("componentFactory");this._toTextCommand=new iL(this._componentListStore,e),this._toSectionTitleCommand=new cL(this._componentListStore,e),this._toQuotationCommand=new pL(this._componentListStore,e)}var t=e.prototype;return t.change=function(e,t,o){if(dL.includes(e)){var n=this._selectionInfoStore.toValidJSON(),r=this._getExecutionInfo(e,n,o),i=r.compGroups,a=r.command.execute(i,n,t);return this._findResultRange(a,n)}},t._getExecutionInfo=function(e,t,o){var n,r;switch(void 0===o&&(o=[]),e){case"text":n=this._getCompGroupsByTypes(Object(wr.a)(["text","sectionTitle","quotation"],o),t),r=this._toTextCommand;break;case"sectionTitle":n=this._getCompGroupsByTypes(Object(wr.a)(["text","quotation","wrappingParagraph"],o),t),r=this._toSectionTitleCommand;break;case"quotation":n=this._getCompGroupsByTypes(Object(wr.a)(["text","sectionTitle","wrappingParagraph"],o),t),r=this._toQuotationCommand}return{compGroups:n,command:r}},t._getCompGroupsByTypes=function(e,t){var o=[],n=[];return this._componentListStore.getSelectedComponents(t).forEach(function(t){e.includes(t.ctype)?n.push(t):n.length&&(o.push(n),n=[])}),n.length&&o.push(n),o},t._findResultRange=function(e,t){var o=t.start,n=t.end;if(!e.length)return{start:o,end:n};var r=e.reduce(function(e,t){return t.hasParagraph(o.paraId)&&(e.start=Object.assign(o,{compId:t.id,unitId:t.getText().id}),t.isEmptyTextNode(o)&&(e.start.offset=0)),t.hasParagraph(n.paraId)&&(e.end=Object.assign(n,{compId:t.id,unitId:t.getText().id}),t.isEmptyTextNode(n)&&(e.end.offset=0)),e},{});if(!r.start){var i=Object(no.a)(e);r.start=i.getStartPoint()}if(!r.end){var a=Object(Js.a)(e);r.end=a.getEndPoint()}return r},e}(),fL=hL,mL=fL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/index.js",localName:t}})}catch(e){}}e(dL,"CHANGEABLE_TYPES"),e(hL,"ChangeTextFormatCommand"),e(fL,"default")}();var gL=function(){function e(){this._styleStore=u.V.get("styleStore"),this._themeStore=u.V.get("themeStore"),this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._virtualEditable=u.V.get("virtualEditable"),this._toolbarStore=u.V.get("toolbarStore"),this._eventDispatcherService=u.V.get("eventDispatcherService"),this._changeTextFormatCommand=u.V.get("changeTextFormatCommand")||new mL,this._representativeImageService=u.V.get("representativeImageService")}var t=e.prototype;return t.changeTextFormat=function(e,t,o){var n=this._changeTextFormatCommand.change(e,t,o);n&&this._selectionInfoStore.setRange(n),this._refineComponentList()},t.toggleStyle=function(e,t){var o=this._styleStore.currentSelectedStyle,n=o[e];if(!n&&o.caption&&(n=o.caption[e]),"boolean"==typeof n){var r={name:e,value:!n};this.updateStyle(r,t),this._virtualEditable.updateAriaTextStyle(r)}},t.updateStyle=function(e,t){var o=this._runMethodOfSelectedComponents({method:"updateStyle",value:this._adjustStyleInfo(e),selectionInfo:t});this._setRangeWithPointList(o),this._updateToolbarState(),this._virtualEditable.refresh()},t.changeAllComponentsAlign=function(e){var t=this._componentListStore.getComponentList(),o=Object(no.a)(t).getStartPoint(),n=Object(Js.a)(t).getEndPoint();this._runMethodOfSelectedComponents({method:"updateStyle",value:this._adjustStyleInfo(e),selectionInfo:{start:o,end:n}}),this._updateToolbarState(),this._virtualEditable.refresh()},t.changeLayout=function(e){var t=this._selectionInfoStore.toValidJSON();this.updateProperty({layout:e},t),this._updateTheme(t)},t.changeContentMode=function(e,t){this.updateProperty({contentMode:e},t)},t.changeLink=function(e,t){e.value=vP.a.getEncodeUrl(e.value),this.updateProperty({link:e},t)},t.isValidLink=function(e){var t=Yt.a.getUrlDomain(e);return Yt.a.validateMalformedUrlOnly(t)},t.changeSize=function(e,t){var o=this._componentListStore,n=this._selectionInfoStore;(e.isApplyAllChecked?o.getComponentsByCtype(t):o.getComponentsBetween(n.start.compId,n.end.compId)).forEach(function(t){t.updateProperty({resizing:e})}),this._updateToolbarState(),this._virtualEditable.refresh()},t.updateCustomData=function(e,t){var o=this._componentListStore.getComponentById(e);o&&o.updateCustomData&&o.updateCustomData(t)},t.updateProperty=function(e,t){void 0===t&&(t=this._selectionInfoStore.toValidJSON());var o=this._runMethodOfSelectedComponents({method:"updateProperty",value:e,selectionInfo:t});this._setRangeWithPointList(o),this._updateToolbarState(),this._virtualEditable.refresh()},t.updateConfigAllCompomnent=function(){var e=this._componentListStore.getComponentList();Object(r.a)(e,function(e){e.updateConfig&&e.updateConfig()}),this._libraryPanelLayoutService||(this._libraryPanelLayoutService=u.V.get("libraryPanelLayoutService")),this._eventDispatcherService.emit(u.z.DOCUMENT_CHANGED,e),this._representativeImageService.updateAllList(e)},t._updateTheme=function(e){var t=this;this._componentListStore.getSelectedComponents(e).forEach(function(e){var o=e.ctype,n=t._themeStore.getComponentThemeStyle(o);n&&e.updateTheme(n)})},t._refineComponentList=function(){var e=this._selectionInfoStore,t=this._componentListStore.refineComponentList(e.toValidJSON());t&&e.setRange(t)},t._runMethodOfSelectedComponents=function(e){var t=e.method,o=e.value,n=e.selectionInfo;!0===Object(Xe.a)(n)&&(n=this._selectionInfoStore.toValidJSON());var r=n,i=r.start,a=r.end,s=[];return this._componentListStore.getSelectedComponents(n).forEach(function(e){var r=e[t](o,n);r?s.push.apply(s,r):(e.id===i.compId&&s.push(i),e.id===a.compId&&s.push(a))}),s},t._adjustStyleInfo=function(e){var t,o=this._toCamelCase(e.name);return"line-height"===e.name&&(e.value=this._toLineHeightUnit(e.value)),(t={})[o]=e.value,t},t._setRangeWithPointList=function(e){if(e.length>0){var t=Object(no.a)(e),o=Object(Js.a)(e);this._selectionInfoStore.setRange({start:t,end:o})}},t._toCamelCase=function(e){return"strikethrough"===e?"strikeThrough":Object(Ze.a)(e)},t._toLineHeightUnit=function(e){return(e/100).toFixed(2)},t.toLineHeight=function(e){return(100*e).toFixed(0)},t._updateToolbarState=function(){var e=this._styleStore.currentSelectedStyle;this._toolbarStore.updateToolbarState(e)},t.canBeListBySpace=function(e){var t=this;void 0===e&&(e=this._selectionInfoStore.toValidJSON());var o=e.start.compId,n=this._componentListStore.getComponentById(o);return null==n&&Object.keys(e.compIdMap).some(function(e){if(n=t._componentListStore.getComponentById(e))return!0}),!!["text","table","wrappingParagraph"].includes(n.ctype)&&n.canBeListBySpace(e)},t.convertToList=function(e){return void 0===e&&(e=this._selectionInfoStore.toValidJSON()),this._componentListStore.getComponentById(e.start.compId).convertToList(e)},e}(),yL=gL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/property-change-service.js",localName:t}})}catch(e){}}e(gL,"PropertyChangeService"),e(yL,"default")}();var bL=o(4),_L=o(149),vL={IMAGE_GROUP:"imageGroup",IMAGE_STRIP:"imageStrip",TABLE:"table",WRAPPING_PARAGRAPH:"wrappingParagraph"},CL=function(){function e(){this._cache={}}var t=e.prototype;return t.destory=function(){this._cache=null},t.hasByKey=function(e){return!!this._cache[e]},t.pushByKey=function(e,t){this._cache[e]=t},t.getByKey=function(e){return this._cache[e]},t.deleteByKey=function(e){delete this._cache[e]},t.updateCache=function(e){this._cache=e},e}(),OL=function(){function e(){this._shadowCache=new CL}var t=e.prototype;return t.destroy=function(){this._shadowCache.destory(),this._shadowCache=null},t._needRepresetativeShadow=function(e){var t=e.ctype,o=e.unknownCompData,n=void 0===o?{}:o;return"unknown"===t&&Object(vo.a)(vL,n.ctype)},t._hasShadowStore=function(e){return this._shadowCache.hasByKey(e)},t._pushShadowStore=function(e){var t=e.id;this._shadowCache.pushByKey(t,e)},t._getShadowStoreById=function(e){return this._shadowCache.getByKey(e)},t._getShadowStore=function(e){var t=e.id;return this._hasShadowStore(t)||this._pushShadowStore(this._makeShadowStore(e)),this._shadowCache.getByKey(t)},t._deleteShadowStore=function(e){var t=e.id;this._hasShadowStore(t)&&this._shadowCache.deleteByKey(t)},t._makeShadowStore=function(e){var t=e.ctype,o=e.id,n={state:dg.a.convertCtype(e,!0)},r=null;switch(t){case vL.IMAGE_GROUP:r=new _L.a(n);break;case vL.IMAGE_STRIP:r=new vg(n);break;case vL.WRAPPING_PARAGRAPH:r=new fC.a(n);break;case vL.TABLE:r=new uS.a(n);break;default:throw new Error("This unknown component does not support a representative image settings.")}return e.id=o,r.id=o,r},t._updateOriginCompData=function(e,t){e.unknownCompData=Object(i.a)(t,e.unknownCompData)},t.updateCache=function(e){var t=this;void 0===e&&(e=[]),this._shadowCache.updateCache(e.reduce(function(e,o){var n=o.id;return t._hasShadowStore(n)&&(e[n]=t._getShadowStoreById(n)||o),e},{}))},t.releaseRepresentativeImage=function(e,t){if(!this._needRepresetativeShadow(e))return e.releaseRepresentativeImage(t);var o=e.unknownCompData,n=this._getShadowStore(o);n.releaseRepresentativeImage(t),this._updateOriginCompData(e,n.toValidJSON())},t.setRepresentativeImage=function(e,t){if(!this._needRepresetativeShadow(e))return e.setRepresentativeImage(t);var o=e.unknownCompData,n=this._getShadowStore(o);n.setRepresentativeImage(t),this._updateOriginCompData(e,n.toValidJSON())},t.getRepresentativeId=function(e){if(!this._needRepresetativeShadow(e))return e.getRepresentativeId();var t=e.unknownCompData;return this._getShadowStore(t).getRepresentativeId()},t.isRepresentativeImage=function(e){if(!this._needRepresetativeShadow(e))return e.isRepresentativeImage();var t=e.unknownCompData;return this._getShadowStore(t).isRepresentativeImage()},t.getRepresentativeCompStore=function(e){return this._needRepresetativeShadow(e)?this._getShadowStore(e.unknownCompData):e},e}(),SL=function(){function e(){this._configAgent=u.V.get("configAgent"),this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._identifier=null,this._identifiersCount=0,this._representativeComponentHelper=new OL}var t=e.prototype;return t.__ON_LAZY__=function(){this.syncRepresentativeImage()},t.destroy=function(){this._disposer&&this._disposer(),this._disposer=null,this._identifier=null,this._identifiersCount=0,this._representativeComponentHelper.destroy(),this._representativeComponentHelper=null},t._getData=function(){var e=this._parseIdentifier(this._identifier);if(e&&e.compId){var t=this._componentListStore.getComponentById(e.compId);return this._representativeComponentHelper.getRepresentativeCompStore(t).getRepresentativeInnerData()}return null},t._getComponentData=function(){var e=this._parseIdentifier(this._identifier);return e&&e.compId?this._componentListStore.getComponentById(e.compId).toValidJSON():null},t.getRepresentative=function(){var e=this;return{getData:function(t){return e._getData(t)},getComponentData:function(t){return e._getComponentData(t)}}},t.releaseRepresentativeImage=function(e){var t;if(e?t=e:(t=this._parseIdentifier(this._identifier),this._identifier=null),t){var o=this._componentListStore.getComponentById(t.compId);o&&this._releaseRepresentativeImage(o,t)}},t.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;if(this.releaseRepresentativeImage(),!1!==this._representativeEnabled){var i=this._componentListStore.getComponentById(t);this._setRepresentativeImage(i,{compId:t,unitId:o,paraId:n,nodeId:r}),this._updateCurrentIdentifier(i)}},t.syncRepresentativeImage=function(){var e=this,t=this._componentListStore.getComponentList();this.updateAllList(t),this._disposer=K.f.reaction(function(){return e._makeIdentifiers(t)},function(o){e.updateAllList(t,o)})},t.updateAllList=function(e,t){t||(t=this._makeIdentifiers(e)),this.updateRepresentativeImage(t),this._representativeComponentHelper.updateCache(e)},t.updateRepresentativeImage=function(e){var t=this;if(!1!==this._representativeEnabled){var o=this._componentListStore.getComponentList(),n=this._getRepresentative(e),i=this._parseIdentifier(this._identifier);if(this._identifiersCount>e.length){var a=e.find(function(e){var o=t._parseIdentifier(e);return i&&i.src===o.src});if(a)return void this._setSameRepresetiveImage(a,e)}if(0===n.length){var s=Object(up.a)(o,function(e){return t._isRepresentativeImage(e)});s?(this._setRepresentativeImage(s,{}),this._updateCurrentIdentifier(s)):this._identifier=null}else n.length>1?Object(r.a)(n,function(e){var o=t._parseIdentifier(e);!o||i&&i.comparableKey===o.comparableKey||t.releaseRepresentativeImage(o)}):this._identifier=n[0];this._identifiersCount=e.length}else this.releaseRepresentativeImage()},t._setSameRepresetiveImage=function(e,t){var o=this._parseIdentifier(e),n=o.compId,r=o.paraId,i=o.unitId,a=o.nodeId,s=this._componentListStore.getComponentById(n);this._setRepresentativeImage(s,{compId:n,paraId:r,unitId:i,nodeId:a}),this._updateCurrentIdentifier(s),this._identifiersCount=t.length},t._updateCurrentIdentifier=function(e){var t=this._getRepresentativeId(e);this._identifier=Object(bL.a)(t)?this._getRepresentative(t)[0]:t},t._makeIdentifiers=function(e){var t=this,o=[];return Object(r.a)(e,function(e){var n=t._getRepresentativeId(e);Object(bL.a)(n)?o=[].concat(o,n):o.push(n)}),o},t._getRepresentative=function(e){return Object(Mr.a)(e,function(e){return/:true:https?/.test(e)})},t._parseIdentifier=function(e){if(!e)return null;var t=e.split("|"),o=t[0],n=t[1],r=t[2],i=t[3];if(i){var a=i.split(":"),s=a[0];return{compId:o,unitId:n,paraId:r,nodeId:s,src:Object(Js.a)(a),comparableKey:s}}if(n){if(r){var c=r.split(":"),l=c[0];return{compId:o,paraId:n,nodeId:l,src:Object(Js.a)(c),comparableKey:l}}var u=n.split(":"),p=u[0];return{compId:o,unitId:p,src:Object(Js.a)(u),comparableKey:p}}var d=o.split(":"),h=d[0];return{compId:h,src:Object(Js.a)(d),comparableKey:h}},t._releaseRepresentativeImage=function(e,t){e&&this._representativeComponentHelper.releaseRepresentativeImage(e,t)},t._setRepresentativeImage=function(e,t){e&&this._representativeComponentHelper.setRepresentativeImage(e,t)},t._getRepresentativeId=function(e){if(e)return this._representativeComponentHelper.getRepresentativeId(e)},t._isRepresentativeImage=function(e){if(e)return this._representativeComponentHelper.isRepresentativeImage(e)},Ye()(e,[{key:"_representativeEnabled",get:function(){return this._configAgent.get("productConfig.representativeEnabled")}}]),e}(),kL=SL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/representative-image-service.js",localName:t}})}catch(e){}}e(vL,"SHADOW_TYPES"),e(CL,"Cache"),e(OL,"RepresentativeComponentHelper"),e(SL,"RepresentativeImageService"),e(kL,"default")}();var IL=function(){function e(){this._componentListStore=u.V.get("componentListStore")}return e.prototype.togglePanoramaDisplay=function(e){this._componentListStore.getComponentById(e).togglePanoramaDisplay()},e}(),wL=IL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/panorama-image-service.js",localName:t}})}catch(e){}}e(IL,"PanoramaImageService"),e(wL,"default")}();var PL=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore")}return e.prototype.execute=function(){},e}(),jL=PL,TL=jL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/abstract-command.js",localName:t}})}catch(e){}}e(PL,"AbstractCommand"),e(jL,"default")}();var LL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){e.fromPoint,e.toPoint,e.direction,e.isShrink,e.eventType},t}(TL),EL=LL,NL=EL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/abstract-selection-command.js",localName:t}})}catch(e){}}e(LL,"AbstractSelectionCommand"),e(EL,"default")}();var xL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.isShrink,i=n===u.u.UP||n===u.u.LEFT,a=this._componentListStore.getComponentById(o.compId);switch(a.attributes.selection){case"query":var s=a.querySelection(e);if(s)return this._selectionInfoStore.setAnchorAndFocus(s),!0;break;case"isolated":if(t.compId===o.compId)break;if(i){var c=this._componentListStore.getNextComponentById(o.compId);this._selectionInfoStore.setFocus(c.getStartPoint())}else{var l=this._componentListStore.getPrevComponentById(o.compId);this._selectionInfoStore.setFocus(l.getEndPoint())}return!0}switch(a.getStoreById(o.unitId).attributes.selection){case"object":case"trapped":case"selectable-unit":return r?this._selectionInfoStore.setFocus(i?a.getEndPoint():a.getStartPoint()):this._selectionInfoStore.setFocus(i?a.getStartPoint():a.getEndPoint()),!0}return!1},t}(NL),DL=xL,RL=DL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/text-selection-command.js",localName:t}})}catch(e){}}e(xL,"TextSelectionCommand"),e(DL,"default")}();var AL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.direction,n=this._componentListStore.getComponentById(t.compId),r=o===u.u.UP||o===u.u.LEFT;if(t.compId!==t.unitId){var i=n.getStoreById(t.unitId);return this._selectionInfoStore.setFocus(r?i.getStartPoint():i.getEndPoint()),!0}return!1},t}(NL),ML=AL,BL=ML;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/trapped-selection-command.js",localName:t}})}catch(e){}}e(AL,"TrappedSelectionCommand"),e(ML,"default")}();var UL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.direction,n=this._componentListStore.getComponentById(t.compId);return o===u.u.UP||o===u.u.LEFT?this._selectionInfoStore.setFocus(n.getStartPoint()):this._selectionInfoStore.setFocus(n.getEndPoint()),!0},t}(NL),VL=UL,FL=VL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/isolated-selection-command.js",localName:t}})}catch(e){}}e(UL,"IsolatedSelectionCommand"),e(VL,"default")}();var zL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.isShrink,i=n===u.u.UP||n===u.u.LEFT,a=this._componentListStore.getComponentById(o.compId),s=a.attributes.selection;if("query"===s){var c=a.querySelection(e);if(c)return this._selectionInfoStore.setAnchorAndFocus(c),!0}if("isolated"===s){if(t.compId===o.compId)return!1;if(i){var l=this._componentListStore.getNextComponentById(o.compId);this._selectionInfoStore.setFocus(l.getStartPoint())}else{var p=this._componentListStore.getPrevComponentById(o.compId);this._selectionInfoStore.setFocus(p.getEndPoint())}return!0}return"object"===s&&(r?this._selectionInfoStore.setFocus(i?a.getEndPoint():a.getStartPoint()):this._selectionInfoStore.setFocus(i?a.getStartPoint():a.getEndPoint()),!0)},t}(NL),WL=zL,GL=WL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/default-selection-command.js",localName:t}})}catch(e){}}e(zL,"DefaultSelectionCommand"),e(WL,"default")}();var HL=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=this._componentListStore.getComponentById(e.currentPoint.compId).querySelection(e);return t?(this._selectionInfoStore.setAnchorAndFocus(t),!0):this._executeDefaultSelectionCommand(e)},o._executeDefaultSelectionCommand=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.isShrink,i=n===u.u.UP||n===u.u.LEFT,a=this._componentListStore.getComponentById(o.compId);switch(a.attributes.selection){case"query":var s=a.querySelection(e);if(s)return this._selectionInfoStore.setAnchorAndFocus(s),!0;break;case"isolated":if(t.compId===o.compId)break;if(i){var c=this._componentListStore.getNextComponentById(o.compId);this._selectionInfoStore.setFocus(c.getStartPoint())}else{var l=this._componentListStore.getPrevComponentById(o.compId);this._selectionInfoStore.setFocus(l.getEndPoint())}return!0;default:return r?this._selectionInfoStore.setFocus(i?a.getEndPoint():a.getStartPoint()):this._selectionInfoStore.setFocus(i?a.getStartPoint():a.getEndPoint()),!0}},t}(NL),qL=HL,JL=qL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/query-selection-command.js",localName:t}})}catch(e){}}e(HL,"QuerySelectionCommand"),e(qL,"default")}();var KL=o(52),YL=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.eventType,i=this._componentListStore.getComponentById(t.compId);if(KL.a.event.isKeyboardEvent(r))return this._selectComponent(i);var a=n===u.u.UP||n===u.u.LEFT;if(this._extendAnchorToComponent(i,a),t.compId===o.compId)return this._extendBlock(i,a);var s=this._componentListStore.getComponentById(o.compId);switch(s.attributes.selection){case"isolated":return this._extendBlockToIsolatedAdjacent(s,a);case"object":case"select":case"trapped":case"query":return this._extendBlock(s,a);default:return!1}},o._selectComponent=function(e){return this._selectionInfoStore.select([e.id]),!0},o._extendAnchorToComponent=function(e,t){this._selectionInfoStore.setAnchor(t?e.getEndPoint():e.getStartPoint())},o._extendFocusToStart=function(e){this._selectionInfoStore.setFocus(e.getStartPoint())},o._extendFocusToEnd=function(e){this._selectionInfoStore.setFocus(e.getEndPoint())},o._extendBlock=function(e,t){return t?this._extendFocusToStart(e):this._extendFocusToEnd(e),!0},o._extendBlockToIsolatedAdjacent=function(e,t){if(t){var o=this._componentListStore.getNextComponent(e);this._extendFocusToStart(o)}else{var n=this._componentListStore.getPrevComponent(e);this._extendFocusToEnd(n)}return!0},t}(NL),XL=YL,QL=XL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/selectable-unit-selection-command.js",localName:t}})}catch(e){}}e(YL,"SelectableUnitSelectionCommand"),e(XL,"default")}();var ZL={},$L={getCommand:function(e){if(ZL[e])return ZL[e];var t=this._createInstance(e);return ZL[e]=t,t},destroy:function(){Object(r.a)(ZL,function(e,t){ZL[t]=null})},_createInstance:function(e){switch(e){case"text":return new RL;case"trapped":return new BL;case"isolated":return new FL;case"query":case"query-with-trapped":return new JL;case"selectable-unit":return new QL;default:return new GL}}},eE=$L,tE=eE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/index.js",localName:t}})}catch(e){}}e(ZL,"instanceMap"),e($L,"BlockSelection"),e(eE,"default")}();var oE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){e.toPoint,e.fromPoint,e.direction,e.eventType},t}(TL),nE=oE,rE=nE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/abstract-cursor-command.js",localName:t}})}catch(e){}}e(oE,"AbstractCursorCommand"),e(nE,"default")}();var iE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.fromPoint,o=e.toPoint,n=this._componentListStore.getComponentById(o.compId);if(!n)return!1;if("query"===n.attributes.cursor){var r=n.queryCursor(e).range;if(r)return this._selectionInfoStore.setRange(r),!0}var i=n.getStoreById(o.unitId);if(!i)return!1;switch(i.attributes.cursor){case"selectable-unit":return t.compId===o.compId&&this._selectionInfoStore.isSingleCompMode()?this._selectionInfoStore.selectUnit(o):this._selectionInfoStore.select([o.compId]),!0;case"select":return this._selectionInfoStore.selectUnit(o),!0}return!1},t}(rE),aE=iE,sE=aE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/mouse/default-mouse-cursor-command.js",localName:t}})}catch(e){}}e(iE,"DefaultMouseCursorCommand"),e(aE,"default")}();var cE={},lE={getCommand:function(e){if(cE[e])return cE[e];var t=this._createInstance(e);return cE[e]=t,t},destroy:function(){Object(r.a)(cE,function(e,t){cE[t]=null})},_createInstance:function(){return new sE}},uE=lE,pE=uE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/mouse/index.js",localName:t}})}catch(e){}}e(cE,"instanceMap"),e(lE,"MouseCursor"),e(uE,"default")}();var dE={trap:function(e,t,o){if(e===u.u.UP){var n=Object.assign(t.getStartPoint(),{compId:o});return{start:n,end:n}}if(e===u.u.DOWN){var r=Object.assign(t.getEndPoint(),{compId:o});return{start:r,end:r}}},toPrev:function(e,t,o,n){var r=e.getPrevComponent(t);if(!r&&n)return this.trap(o,n,t.id);switch(r.attributes.cursor){case"select":case"selectable-unit":return r.getComponentActiveRange();case"left-and-right":return this.toUnit(e,o,{compId:r.id});default:return null}},toPrevComponent:function(e,t,o){var n=e.getPrevComponent(t);if(!n)return t.getCompStartRange();switch(n.attributes.cursor){case"left-and-right":return this.toUnit(e,o,{compId:n.id});default:return this._getNextRangeByDirection(!0,n)}},toNext:function(e,t,o,n){var r=e.getNextComponent(t);if(!r&&n)return this.trap(o,n,t.id);switch(r.attributes.cursor){case"select":case"selectable-unit":return r.getComponentActiveRange();case"left-and-right":return this.toUnit(e,o,{compId:r.id});default:return null}},toNextComponent:function(e,t,o){var n=e.getNextComponent(t);if(!n)return t.getCompEndRange();switch(n.attributes.cursor){case"left-and-right":return this.toUnit(e,o,{compId:n.id});default:return n.getComponentActiveRange()}},toUnit:function(e,t,o){var n=e.getComponentById(o.compId).getStoreById(o.unitId),r=t===u.u.UP||t===u.u.LEFT;return this._shouldTrapCursor(n)?this.trap(t,n,o.compId):r?this._findLeftRange(e,t,o):this._findRightRange(e,t,o)},_getPrevUnitRange:function(e){var t=e.getPrevUnit().getComponentActiveRange();return t.start.compId=e.id,t.end.compId=e.id,t},_getNextRangeByDirection:function(e,t){if(e){var o=t.getEndPoint();return{start:o,end:o}}var n=t.getStartPoint();return{start:n,end:n}},_getNextUnitRange:function(e,t){var o=e.getNextUnit(),n=t===u.u.UP||t===u.u.LEFT,r=this._getNextRangeByDirection(n,o);return r.start.compId=e.id,r.end.compId=e.id,r},_findLeftRange:function(e,t,o){var n=e.getComponentById(o.compId),r=n.getPrevUnit(),i=n.getNextUnit();return r.isFocused?this.toPrev(e,n,t,r):i.isFocused?this._getPrevUnitRange(n):this._getNextUnitRange(n,t)},_findRightRange:function(e,t,o){var n=e.getComponentById(o.compId),r=n.getPrevUnit(),i=n.getNextUnit();return r.isFocused?this._getNextUnitRange(n,t):i.isFocused?this.toNext(e,n,t,i):this._getPrevUnitRange(n)},_shouldTrapCursor:function(e){return e&&"trapped"===e.attributes.cursor}},hE=dE,fE=hE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/cursor-navigation.js",localName:t}})}catch(e){}}e(dE,"cursorNavigation"),e(hE,"default")}();var mE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.fromPoint,o=e.toPoint,n=e.direction,r=this._componentListStore,i=r.getComponentById(o.compId);switch(i.attributes.cursor){case"selectable-unit":return this._selectionInfoStore.select([i.id]),!0;case"select":if(t.compId!==o.compId)return this._selectionInfoStore.select([i.id]),!0;break;case"left-and-right":var a=fE.toUnit(r,n,o);return this._selectionInfoStore.setRange(a),!0;case"query":var s=i.queryCursor(e),c=s.type,l=s.range;if("next-component"===c&&(l=fE.toNextComponent(r,i,n)),l)return this._selectionInfoStore.setRange(l),!0}return!1},t}(rE),gE=mE,yE=gE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/default-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(mE,"DefaultKeyboardCursorCommand"),e(gE,"default")}();var bE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.direction,o=e.fromPoint,n=this._componentListStore.getComponentById(o.compId).getStoreById(o.unitId);if(t===u.u.UP){var r=n.getStartPoint();this._selectionInfoStore.setRange({start:r,end:r})}if(t===u.u.DOWN){var i=n.getEndPoint();this._selectionInfoStore.setRange({start:i,end:i})}return!0},t}(rE),_E=bE,vE=_E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/trapped-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(bE,"TrappedKeyboardCursorCommand"),e(_E,"default")}();var CE=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.fromPoint,o=e.direction,n=this._componentListStore.getComponentById(t.compId),r=n.queryCursor(e),i=r.type,a=r.range;switch(i){case"next-component":return this._moveToLowerComponent(n,o),!0;case"prev-component":return this._moveToUpperComponent(n,o),!0;case"range":return a?(this._setRange(a),!0):(this._moveToNextComponentByDirection(n,o),!0)}},o._moveToUpperComponent=function(e,t){var o=this._componentListStore,n=fE.toPrevComponent(o,e,t);this._selectionInfoStore.setRange(n)},o._moveToLowerComponent=function(e,t){var o=this._componentListStore,n=fE.toNextComponent(o,e,t);this._selectionInfoStore.setRange(n)},o._setRange=function(e){this._selectionInfoStore.setRange(e)},o._moveToNextComponentByDirection=function(e,t){t===u.u.UP||t===u.u.LEFT?this._moveToUpperComponent(e,t):this._moveToLowerComponent(e,t)},t}(rE),OE=CE,SE=OE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/query-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(CE,"QueryKeyboardCursorCommand"),e(OE,"default")}();var kE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.direction,o=e.fromPoint,n=this._componentListStore,r=fE.toUnit(n,t,o);return!!r&&(this._selectionInfoStore.setRange(r),!0)},t}(rE),IE=kE,wE=IE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/left-and-right-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(kE,"LeftAndRightKeyboardCursorCommand"),e(IE,"default")}();var PE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(){return!0},t}(rE),jE=PE,TE=jE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/selectable-unit-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(PE,"SelectableUnitKeyboardCursorCommand"),e(jE,"default")}();var LE={},EE={getCommand:function(e){if(LE[e])return LE[e];var t=this._createInstance(e);return LE[e]=t,t},destroy:function(){Object(r.a)(LE,function(e,t){LE[t]=null})},_createInstance:function(e){switch(e){case"trapped":return new vE;case"left-and-right":return new wE;case"query":return new SE;case"selectable-unit":return new TE;default:return new yE}}},NE=EE,xE=NE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/index.js",localName:t}})}catch(e){}}e(LE,"instanceMap"),e(EE,"KeyboardCursor"),e(NE,"default")}();var DE={getCommand:function(e,t){return KL.a.event.isKeyboardEvent(e)?xE.getCommand(t):pE.getCommand(t)},destroy:function(){pE.destroy(),xE.destroy()}},RE=DE,AE=RE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/index.js",localName:t}})}catch(e){}}e(DE,"Cursor"),e(RE,"default")}();var ME=function(){function e(){this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentListStore=u.V.get("componentListStore"),this._virtualEditable=u.V.get("virtualEditable"),this._contentsToolbarLayoutService=u.V.get("contentsToolbarLayoutService")}var t=e.prototype;return t.destroy=function(){AE.destroy(),tE.destroy()},t.moveCursor=function(e){var t=e.direction,o=e.toPoint,n=e.eventType,r=this._selectionInfoStore.focus;return this._getCursorCommand(n,r).execute({direction:t,toPoint:o,fromPoint:r,eventType:n})},t._getCursorCommand=function(e,t){var o=this._componentListStore.getComponentById(t.compId),n=o.getStoreById(t.unitId),r=o.attributes.cursor;return"left-and-right"===r?AE.getCommand(e,r):AE.getCommand(e,n.attributes.cursor)},t.selectAsBlock=function(e){var t=e.direction,o=e.toPoint,n=e.isShrink,r=e.eventType;if(null===o.compId)return!1;var i=this._selectionInfoStore,a=i.focus,s=i.anchor,c=this._componentListStore.getComponentById(a.compId).getStoreById(a.unitId);return tE.getCommand(c.attributes.selection).execute({currentPoint:a,toPoint:o,focus:a,anchor:s,direction:t,isShrink:n,eventType:r})},t.isSelectAllable=function(){var e=this._selectionInfoStore.focus,t=this._componentListStore.getComponentById(e.compId).getStoreById(e.unitId),o=t.attributes.selection;if("trapped"===o||"query-with-trapped"===o)return!1===Object(Qe.a)(t.getStartPoint(),t.getEndPoint());var n=this.getComponentsRangeWithoutDocumentTitle();return!1===Object(Qe.a)(n.start,n.end)},t.selectAroundWord=function(){return this._virtualEditable.extendToAroundWordBySelectionInfo(),!this._selectionInfoStore.collapsed},t.selectAll=function(){var e=this,t=this._selectionInfoStore.focus,o=this._componentListStore.getComponentById(t.compId),n=o.getStoreById(t.unitId),r=n.attributes.selection;if("trapped"!==r&&"query-with-trapped"!==r){var i=this.getComponentsRangeWithoutDocumentTitle();this._selectionInfoStore.setRange(i),setTimeout(function(){if(e._contentsToolbarLayoutService){var t=e._virtualEditable.getClientRects();e._contentsToolbarLayoutService.updateContentsToolbarPosition({clientRects:t,range:{collapsed:!1}})}},100)}else{var a=Je()({compId:o.id},n.getStartPoint()),s=Je()({compId:o.id},n.getEndPoint());this._selectionInfoStore.setRange({start:a,end:s})}},t.getComponentsRangeWithoutDocumentTitle=function(){var e=this._componentListStore.filter(function(e){return"documentTitle"!==e.ctype});return{start:Object(no.a)(e).getStartPoint(),end:Object(Js.a)(e).getEndPoint()}},t.isCurrentAnchorUnitId=function(e){return this._selectionInfoStore.anchor.unitId===e},e}(),BE=ME;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/selection-service.js",localName:t}})}catch(e){}}e(ME,"SelectionService"),e(BE,"default")}();var UE,VE=function(){function e(){this._themeStore=u.V.get("themeStore"),this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore")}var t=e.prototype;return t.changeTheme=function(e){this._themeStore.changeThemeName(e)&&this._updateAllComponents()},t.refreshTheme=function(){this._updateAllComponents()},t.getComponentThemeStyle=function(e){return this._themeStore.getComponentThemeStyle(e)},t._updateAllComponents=function(){var e=this;this._componentListStore.forEach(function(t){var o=e.getComponentThemeStyle(t.ctype);o&&t.updateTheme(o)})},e}(),FE=VE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/theme-service.js",localName:t}})}catch(e){}}e(VE,"ThemeService"),e(FE,"default")}();var zE=(UE=function(){function e(){this._configAgent=u.V.get("configAgent"),this._tokenStore=u.V.get("tokenStore")}var t=e.prototype;return t.readyForAuthorization=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._setTokenAuthorizationInGlobalHeader(),this._setRefreshAuthTokenInterceptor(),this._setAppIdInGlobalHeader(t),e.t0=this._tokenStore,e.next=6,this._fetchInfraToken();case 6:e.t1=e.sent,e.t0.setInfraToken.call(e.t0,e.t1);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._fetchInfraToken=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._configAgent.get("apiInfo.fetchInfraPopupToken"),e.next=3,Io.a.get(t,{options:{withCredentials:!0},success:function(e){return e.token}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._setTokenAuthorizationInGlobalHeader=function(){var e=this._configAgent.get("userInfo.token");void 0!==e&&null!==e&&(this._tokenStore.setAuthToken(e),Io.a.setGlobalHeader("SE-Authorization",e))},t.invalidateAuthToken=function(){this._tokenStore.setAuthToken(null),this._tokenStore.setInfraToken(null),Io.a.setGlobalHeader("SE-Authorization",null)},t._setAppIdInGlobalHeader=function(e){Io.a.setGlobalHeader("SE-App-Id",e)},t._setRefreshAuthTokenInterceptor=function(){var e=this;Io.a.addResponseErrorInterceptor(function(t){var o=t.response;return e._isAuthTokenExpired(o)?e._refreshAuthToken(t.config).then(e._retryFailedRequest):Promise.reject(t)},Number.MAX_SAFE_INTEGER)},t._isAuthTokenExpired=function(e){var t=Object(J.a)(e,"data.errorDetailMessage");return e&&403===e.status&&"Token Expired"===t},t._retryFailedRequest=function(e){var t=e.token,o=e.config;return this._tokenStore.setAuthToken(t),Io.a.setGlobalHeader("SE-Authorization",t),o.headers["SE-Authorization"]=t,Io.a.retry(o)},t._refreshAuthToken=function(e){var t,o=this._configAgent.get("apiInfo.fetchAuthToken"),n="target_appcode="+this._configAgent.get("serviceInfo.appCode")+"&"+("user_id="+this._configAgent.get("userInfo.userId"))+"&"+("t="+Date.now());return Io.a.get(o+"?"+n,{options:{headers:(t={},t["SE-Authorization"]=this._tokenStore.getAuthToken(),t),withCredentials:!0,simpleRequestForced:!0},success:function(t){return{token:t.token,config:e}}})},e}(),q()(UE.prototype,"_retryFailedRequest",[ee.autobind],Object.getOwnPropertyDescriptor(UE.prototype,"_retryFailedRequest"),UE.prototype),UE),WE=zE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/auth-service.js",localName:t}})}catch(e){}}e("SE-App-Id","APP_ID_HEADER"),e("SE-Authorization","AUTH_TOKEN_HEADER"),e(zE,"AuthService"),e(WE,"default")}();var GE=function(){function e(){this._configAgent=u.V.get("configAgent"),this._componentFactory=u.V.get("componentFactory"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentListStore=u.V.get("componentListStore"),this._multiCrawlerRepository=new KT({url:this._configAgent.get("apiInfo.fetchMultiCrawler")})}var t=e.prototype;return t.crawlFrom=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._multiCrawlerRepository.fetch(t);case 2:if(o=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return this._exceptionHandler(o),e.abrupt("return",this._componentFactory.createComponentWithCompData(o));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.crawlFromReturnRaw=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._multiCrawlerRepository.fetch(t);case 2:if(o=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return this._exceptionHandler(o),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getCrawlerInfo=function(){var e=this._selectionInfoStore.toValidJSON(),t=e.mode,o=e.start,n=this._componentListStore.getComponentById(o.compId).getStoreById(o.unitId),r="text"===n.attributes.insertion&&n.isLinkAllowed();if(t===u.O.CURSOR&&r){var i=n.getUrlInNode(o);if(!i)return null;var a=n.changeLink({type:"url",value:vP.a.prependProtocol(i.url)},i.range);return this._selectionInfoStore.setRange({start:Object(Js.a)(a),end:Object(Js.a)(a)}),i.url}return null},t._exceptionHandler=function(){},e}(),HE=GE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/crawler-service.js",localName:t}})}catch(e){}}e(GE,"CrawlerService"),e(HE,"default")}();var qE=function(){function e(){var e=u.V.get("componentFactory").getAvailableCompType().includes("documentTitle");this._validateRules=e?[u.bb.titleContentsRequired,u.bb.contentsRequired,u.bb.titleRequired]:[u.bb.contentsRequired]}var t=e.prototype;return t.validateAsync=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.cb.validate(this._validateRules,t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),t.validate=function(e){try{return u.cb.validate(this._validateRules,e)}catch(e){return e}},e}(),JE=qE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/document-validate-service.js",localName:t}})}catch(e){}}e(qE,"DocumentValidateService"),e(JE,"default")}();var KE=function(){function e(){var e=u.V.get("configAgent");this._config={callbackPageUrl:e.get("infraInfo.nCloud.callbackPageUrl"),popupUrl:e.get("infraInfo.nCloud.popupUrl")}}var t=e.prototype;return t.openCloudPopup=function(){var e=this;return new Promise(function(t,o){var n=e._config.popupUrl+"?maxCount=1&callback="+e._config.callbackPageUrl;e._cloudWinPopup=Qi.open(n,"file",e._getOption()),setTimeout(function(){e._cloudWinPopup&&e._cloudWinPopup.focus()},100),window.addFileList=function(n,r){if(n)o(n);else{var i=Array.from(r.resource);t(i.map(function(t){return e._resolveFileInfo(t)}))}e._destroyPopupSettings()}})},t._getOption=function(){var e=(screen.availWidth-530)/2;return"top="+(screen.availHeight-390)/2+",left="+e+",width=530,height=390"+",scrollbars=yes,resizable=yes,status=yes"},t._destroyPopupSettings=function(){window.addFileList=null,this._cloudWinPopup=null},t._resolveFileInfo=function(e){return{downloadUrl:e.downloadUrl,key:e.key,name:e.name,size:e.size,thumbnailUrl:e.thumbnailUrl,type:e.type}},e}(),YE=KE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/cloud-file-popup/index.js",localName:t}})}catch(e){}}e(KE,"CloudFilePopup"),e(YE,"default")}();var XE=function(){function e(){this._configAgent=u.V.get("configAgent"),this._componentFactory=u.V.get("componentFactory"),this._componentListStore=u.V.get("componentListStore")}var t=e.prototype;return t.openFileDialog=function(){return kP.a.openFileDialog({multiple:!1,accept:""}).then(function(e){return e[0]})},t.openCloudPopup=function(){return(new KE).openCloudPopup()},t.uploadLocalFile=function(e,t,o){var n=this,r=this._configAgent.get("userInfo.userId"),i=this._configAgent.get("apiInfo.addFile");return this._updatePhase(t,u.N.PROCESSING),Io.a.post(i,{data:this._createFormData(r,e),options:{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},withCredentials:!0,timeout:1/0,onUploadProgress:function(e){o.progress(e,t)}},success:function(e){var r=n._refineFileUploadResponse(e);o.success(r,t)},errorParser:function(e){return e},error:function(e){return o.error(e,t)}}).finally(function(){n._updatePhase(t,u.N.DONE)})},t.uploadCloudFile=function(e,t,o){var n=this,r=this._configAgent.configMap.apiInfo,i=(void 0===r?{}:r).addNCloudFile;return this._updatePhase(t,u.N.PROCESSING),Io.a.post(i,{data:{fileUrl:e.downloadUrl,fileName:e.name,fileFileName:e.name},options:{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},onUploadProgress:function(e){o.progress(e,t)}},success:function(e){var r=n._refineFileUploadResponse(e.result||e);o.success(r,t)},errorParser:function(e){return e},error:function(n){return o.error(n,t,e)}}).finally(function(){n._updatePhase(t,u.N.DONE)})},t._createFormData=function(e,t){var o=new FormData;return o.append("userId",e),o.append("file",t,t.name),o},t._refineFileUploadResponse=function(e){return{fileId:e.fileId||e.id,fileName:e.fileName,fileSize:e.fileSize}},t._updatePhase=function(e,t){var o=this._componentListStore.getComponentById(e);o&&o.updatePhase(t)},e}(),QE=XE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/file-upload-service.js",localName:t}})}catch(e){}}e(XE,"FileUploadService"),e(QE,"default")}();var ZE=o(275),$E=function(){function e(){var e=this;this._configAgent=u.V.get("configAgent"),this._componentListStore=u.V.get("componentListStore"),this._audioUploader=u.V.get("audioUploader"),this._audioUploader||o.e(64).then(o.bind(null,1265)).then(function(t){var o=t.default,n=e._configAgent.get("infraInfo.audioInfra")||{},r={audioSessionKeyAPI:e._configAgent.get("apiInfo.fetchAudioUploadSessionKey"),audioUploadAPI:n.uploadAPI};e._audioUploader=new o(r)})}var t=e.prototype;return t.openFileDialog=function(){var e=[".mp3",".m4a",".wav",".wma"].join(",");return kP.a.openFileDialog({multiple:!1,accept:e}).then(function(t){return Object(ZE.a)(t,function(t){return kP.a.isAcceptable(t,e)})}).then(function(e){return{validFiles:e[0],invalidFiles:e[1]}})},t.uploadLocalFile=function(){var e=Ft()(Ut.a.mark(function e(t,o,n){var r=this;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,i){return r._audioUploader.warmUp().then(function(){return r._updatePhase(o,u.N.PROCESSING),r._audioUploader.upload(t,{progress:function(e){n.progress(e,o)}}).then(function(t){if("SUCCESS"===t.code){var o=r._refineResponse(t);return e(o)}return i(t)}).catch(function(e){return i(e)}).finally(function(){r._updatePhase(o,u.N.DONE)})}).catch(function(e){return i(e)})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,o,n){return e.apply(this,arguments)}}(),t._refineResponse=function(e){var t=e;return{audioId:t.audioId,fileName:t.fileName,fileSize:t.fileSize}},t._updatePhase=function(e,t){var o=this._componentListStore.getComponentById(e);o&&o.updatePhase(t)},e}(),eN=$E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/audio-upload-service.js",localName:t}})}catch(e){}}e($E,"AudioUploadService"),e(eN,"default")}();var tN=o(642),oN=o(166),nN=o(651),rN=function(){function e(e){var t=e.id,o=e.code,n=e.file,r=e.errorCodeMap,i=void 0===r?{}:r,a=e.errorDescriptionMap,s=void 0===a?{}:a;this.id=t,this.code=o||n.code,this.file=n,this.errorCodeMap=i,this.errorDescriptionMap=s}return Ye()(e,[{key:"fileName",get:function(){return this.file.name}},{key:"fileSize",get:function(){return this.file.size}},{key:"cause",get:function(){return this.errorCodeMap[this.code]}},{key:"description",get:function(){var e=this.errorDescriptionMap[this.code];return"UNSUPPORTED_IMAGE"===this.code&&(e=this.file.name+e),e}},{key:"descriptionWithoutFileName",get:function(){return this.errorDescriptionMap[this.code]}}]),e}(),iN=rN,aN=iN;function sN(e,t){var o=Object(ZE.a)(e,function(e){return kP.a.isAcceptable(e,t)});return{validFiles:o[0],invalidFiles:o[1].map(function(e){return e.code=0===e.size?"NO_ORIGINAL_IMAGE":"UNSUPPORTED_EXTENSION",e})}}!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/image-upload-error/index.js",localName:t}})}catch(e){}}e(rN,"ImageUploadError"),e(iN,"default")}();var cN,lN=function(){function e(){var e=this;this._generateImageUploadError=function(t,o){var n=t.file;"string"==typeof n&&(n={name:t.fileName||e._i18n("imageUploader:unknown_filename",{extraInfo:o>=2?" ("+o+")":""}),size:t.fileSize||0});var r=n.id||t.id,i=n.code||t.code||"UNSUPPORTED_IMAGE";return new aN({id:r,code:i,file:n,errorCodeMap:e._errorCodeMap,errorDescriptionMap:e._errorDescriptionMap})},this._configAgent=u.V.get("configAgent"),this._sentryManager=u.V.get("sentryManager"),this.maxImageUploadSize=this._configAgent.get("infraConfig.image.maxImageUploadSize"),this.imageMaxUploadCount=this._configAgent.get("infraConfig.image.maxUploadCount")||1/0,this.componentFactory=u.V.get("componentFactory"),this.componentListStore=u.V.get("componentListStore"),this._imageUploader=u.V.get("imageUploader"),this._imageUploader||o.e(65).then(o.bind(null,1266)).then(function(t){var o=t.default,n=e._makePhotoInfraUploaderConfig();e._imageUploader=new o(n)}),this._i18n=u.V.get("i18n"),this._errorCodeMap={NO_ORIGINAL_IMAGE:this._i18n("errorCauseMap:check_original_image"),UNSUPPORTED_IMAGE:this._i18n("errorCauseMap:unsupported_image"),UNSUPPORTED_EXTENSION:this._i18n("errorCauseMap:unsupported_extension"),LIMITATION_BY_SESSION_COUNT:this._i18n("errorCauseMap:limitation_by_session_count"),LIMITATION_BY_SESSION_SIZE:this._i18n("errorCauseMap:limitation_by_session_size"),LIMITATION_BY_IMAGE:this._i18n("errorCauseMap:limitation_by_image"),INVALID_PARAMETER:this._i18n("errorCauseMap:invalid_parameter")};var t=this._configAgent.get("infraConfig.image.acceptExt")||kP.a.DEFAULT_IMAGE_ACCEPT_LIST,n=kP.a.toPrintUpperText(t),r=this._configAgent.isMobile()?"":" ";this._errorDescriptionMap={NO_ORIGINAL_IMAGE:this._i18n("errorDescriptionMap:check_original_image"),UNSUPPORTED_IMAGE:this._i18n("errorDescriptionMap:unsupported_image"),UNSUPPORTED_EXTENSION:this._i18n("errorDescriptionMap:unsupported_extension",{allowExtList:n}),LIMITATION_BY_SESSION_COUNT:this._i18n("errorDescriptionMap:limitation_by_session_count"),LIMITATION_BY_SESSION_SIZE:this._i18n("errorDescriptionMap:limitation_by_session_size",{maxImageUploadSize:kP.a.convertToFileSizeUnit(this.maxImageUploadSize,r)}),LIMITATION_BY_IMAGE:this._i18n("errorDescriptionMap:limitation_by_image",{maxImageUploadSize:kP.a.convertToFileSizeUnit(this.maxImageUploadSize,r)}),INVALID_PARAMETER:this._i18n("errorDescriptionMap:invalid_parameter")}}var t=e.prototype;return t._makePhotoInfraUploaderConfig=function(){var e=this._configAgent.get("infraInfo.photoInfra.domain"),t=this._configAgent.get("userInfo.userId"),o=this._configAgent.get("apiInfo.fetchPhotoUploadSessionKey"),n=this._configAgent.get("editorInfo.resourcePath"),r=this._configAgent.get("editorInfo.sslEnabled"),i=this._configAgent.get("modules.photoUploader.config.useCustomQuery"),a=this._configAgent.get("modules.photoUploader.config.customQuery");return{domain:e,userId:t,sessionUrl:o,resourcePath:n,sslEnabled:r,customQuery:Object(oN.a)(a)?a:void 0,useCustomQuery:!!Object(tN.a)(i)&&i}},t.validateImages=function(e,t){return void 0===t&&(t=kP.a.DEFAULT_IMAGE_ACCEPT_LIST),sN(e,t)},t.openFileDialog=function(e){void 0===e&&(e={});var t=e.accept||this._configAgent.get("infraConfig.image.acceptExt")||kP.a.DEFAULT_IMAGE_ACCEPT_LIST;return kP.a.openFileDialog({accept:t,multiple:e.multiple||!1}).then(function(e){return sN(e,t)})},t.uploadImagesFromFiles=function(e){var t=this;if("NAVER_PHOTO_INFRA"===this._imageUploader.PROVIDER){var o=this._makePhotoInfraUploaderConfig();this._imageUploader.setConfig(o)}return this._imageUploader.warmUp().then(function(){return e.map(function(e){var o=e.id,n=e.source,r=new nN.a;return t._imageUploader.upload(n).then(function(e){var t=Je()({},e);switch(t.id=o,t.file=n,t.code){case"SUCCESS":return r.resolve({code:"SUCCESS",response:t});default:return r.reject({code:"FAIL",response:t})}}).catch(function(e){var t=Je()({},e);return t.id=o,t.file=n,r.reject({code:"FAIL",response:t})}),r.promise})})},t.uploadImageFromUrls=function(e){var t=this;if("NAVER_PHOTO_INFRA"===this._imageUploader.PROVIDER){var o=this._makePhotoInfraUploaderConfig();this._imageUploader.setConfig(o)}return this._imageUploader.warmUp().then(function(){return e.map(function(e){var o=e.id,n=e.source,r=new nN.a;return t._imageUploader.upload(n).then(function(e){var i=Je()({},e);switch(i.id=o,i.file=n,i.code){case"SUCCESS":return r.resolve({code:"SUCCESS",response:i});default:return"CLIENT"!==i.code&&"SERVER_ERROR"!==i.code||t._sentryManager.withScope(function(e){e.setLevel("SERVER_ERROR"===i.code?"error":"warning"),e.setExtra("logger","ImageFileUploader"),e.setExtra("cause","phup "),e.setExtra("data",i),t._sentryManager.captureMessage("phup    !")}),r.reject({code:"FAIL",response:i})}}).catch(function(e){var t=Je()({},e);return t.id=o,t.file=n,r.reject({code:"FAIL",response:t})}),r.promise})})},t.createSourceList=function(e,t){return e.map(function(e,o){return{id:e,source:t[o]}})},t.invalidImageErrors=function(e){return e.map(this._generateImageUploadError)},t.isExceededMaxCount=function(e){void 0===e&&(e=[]);var t=e.length,o=this.getExceededCountByMax(t);if(o>0){var n=t-o,r=o;return e.splice(n,r),!0}return!1},t.getExceededCountByMax=function(e){var t=this.componentListStore.countByIncludedImage("image")+e-this.imageMaxUploadCount;return t>0?t:0},e}(),uN=lN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/image-upload-service.js",localName:t}})}catch(e){}}e(sN,"partitionWithExtension"),e("NAVER_PHOTO_INFRA","DEFAULT_UPLOADER_PROVIDER"),e(lN,"ImageUploadService"),e(uN,"default")}();var pN,dN=(cN=function(){function e(){this._configAgent=u.V.get("configAgent"),this._videoUploader=u.V.get("videoUploader"),this._tokenStore=u.V.get("tokenStore")}var t=e.prototype;return t.openUploader=function(e,t){var o=this;setTimeout(function(){var n=o._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),r={header:{"SE-Authorization":o._tokenStore.getAuthToken()},withCredentials:!0,authTokenAPI:o._authTokenAPI(),redirectLoginPage:n?o._onRedirectLoginPage:null};o._videoUploader.open({initOptions:r,callbacks:t,files:e})},10)},t.openMetaEditor=function(e,t,o){var n=this;setTimeout(function(){var r=n._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),i={header:{"SE-Authorization":n._tokenStore.getAuthToken()},withCredentials:!0,authTokenAPI:n._authTokenAPI(),redirectLoginPage:r?n._onRedirectLoginPage:null};n._videoUploader.edit({videoMeta:e,serviceData:t,initOptions:i,callbacks:o})},10)},t._authTokenAPI=function(){var e=this._configAgent.get("apiInfo.fetchAuthToken");return e?e+"?"+("target_appcode="+this._configAgent.get("serviceInfo.appCode"))+"&"+("user_id="+this._configAgent.get("userInfo.userId")):""},t._onRedirectLoginPage=function(){try{var e=this._configAgent.get("serviceInfo.loginUrl");if(e){var t=window.parent.location.href;window.top.location.replace(""+e+t)}}catch(e){return!1}},e}(),q()(cN.prototype,"_onRedirectLoginPage",[ee.autobind],Object.getOwnPropertyDescriptor(cN.prototype,"_onRedirectLoginPage"),cN.prototype),cN),hN=function(){function e(){this._configAgent=u.V.get("configAgent"),this._serviceId=this._configAgent.get("serviceInfo.serviceId"),this._userId=this._configAgent.get("userInfo.userId"),this._appCode=this._configAgent.get("serviceInfo.appCode"),this._maxUploadSize=this._configAgent.get("infraConfig.video.maxVideoUploadSize"),this._maxPlayTime=this._configAgent.get("infraConfig.video.maxVideoPlayTime"),this._maxDesclen=this._configAgent.get("infraConfig.video.maxVideoDescLength"),this._authTokenApi=this._getAuthTokenAPI(this._appCode,this._userId),this._updateTokenApi=this._getUpdateTokenAPI(),this._videoUploader=this._getVideoUploader()}var t=e.prototype;return t.openUploader=function(e,t){var o=this;void 0===e&&(e=[]),this._videoUploader.warmUp({serviceId:this._serviceId,userId:this._userId,authTokenAPI:this._authTokenApi,tokenAPI:this._updateTokenApi,maxUploadSize:this._maxUploadSize,maxPlayTime:this._maxPlayTime},Ft()(Ut.a.mark(function n(){var r;return Ut.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.onStart&&t.onStart({count:e.length}),r=0,n.prev=2,r=0;case 4:if(!(r<e.length)){n.next=10;break}return n.next=7,new Promise(function(n){o._videoUploader.upload(e[r],{start:o._handleEachStart(t),progress:o._handleEachProgress(t),complete:o._handleEachComplete(t,n),error:o._handleEachError(t,n)})});case 7:r++,n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),t.onError&&t.onError({unprocessedFiles:e.slice(r)});case 15:t.onEnd&&t.onEnd();case 16:case"end":return n.stop()}},n,null,[[2,12]])})))},t._handleEachStart=function(e){return void 0===e&&(e={}),function(t){e.onEachStart&&e.onEachStart(t)}},t._handleEachProgress=function(e){return void 0===e&&(e={}),function(t){e.onEachProgress&&e.onEachProgress(t)}},t._handleEachComplete=function(e,t){var o=this;return void 0===e&&(e={}),function(n){var r=o._refineVideoData(n);e.onEachComplete&&e.onEachComplete(r),t&&t(!0)}},t._handleEachError=function(e,t){return void 0===e&&(e={}),function(o){e.onEachError&&e.onEachError(o),t&&t(!1)}},t.openMetaEditor=function(e,t){var o=u.V.get("videoUploader");if(o.isLegacyUploader){var n=this._configAgent.get("apiInfo.fetchAuthToken"),r="target_appcode="+this._configAgent.get("serviceInfo.appCode"),i="user_id="+this._configAgent.get("userInfo.userId"),a=u.V.get("tokenStore"),s=this._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),c={header:{"SE-Authorization":a.getAuthToken()},withCredentials:!0,authTokenAPI:function(e,t,o){return e?e+"?"+t+"&"+o:""}(n,r,i),redirectLoginPage:s?this._onRedirectLoginPage:null};o.edit({videoMeta:e,initOptions:c,callbacks:t})}},t._getVideoUploader=function(){var e=this,t=u.V.get("videoUploader"),n=this._configAgent.get("productEnv.buildEnv");t&&!t.isLegacyUploader||o.e(66).then(o.bind(null,1267)).then(function(t){var o=t.default;e._videoUploader=new o({buildEnv:n})})},t._getAuthTokenAPI=function(e,t){var o=this._configAgent.get("apiInfo.fetchAuthToken");return o?o+"?"+("target_appcode="+e)+"&"+("user_id="+t):""},t._getUpdateTokenAPI=function(){return this._configAgent.get("apiInfo.fetchVideoUploaderToken")},t._refineVideoData=function(e){var t=e.videoId,o=e.thumbnails,n=e.header,r=e.file,i=n.rotation,a=n.width,s=n.height,c=n.fileSize,l=n.duration,u=90===i||270===i,p=u?s:a,d=u?a:s,h=this._getSelectedThumbnail(o);return{vid:t,fileName:r.name,internalResource:!0,thumbnail:h,fileSize:parseInt(c,10),playTime:l,width:p,height:d,originalWidth:p,originalHeight:d,format:"normal",mediaMeta:{}}},t._getSelectedThumbnail=function(e){return{src:Object(up.a)(e,{type:"COVER"}).path}},e}(),fN=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._videoUploadServiceImple=this._getVideoUploadService(),this.videoMaxUploadCount=u.V.get("configAgent").get("infraConfig.video.maxUploadCount")||1/0}var t=e.prototype;return t._getVideoUploadService=function(){return"simple"===u.V.get("configAgent").get("modules.videoUploader.config.uploadMode")?new hN:new dN},t.openUploader=function(e,t){this._videoUploadServiceImple.openUploader(e,t)},t.openMetaEditor=function(e,t,o){this._videoUploadServiceImple.openMetaEditor(e,t,o)},t.openFileDialog=function(e){void 0===e&&(e={});var t=e.accept||kP.a.DEFAULT_IMAGE_ACCEPT_LIST;return kP.a.openFileDialog({accept:t,multiple:e.multiple||!1}).then(function(e){return Object(ZE.a)(e,function(e){return kP.a.isAcceptable(e,t)})}).then(function(e){return e[0]})},t.isExceededMaxCount=function(e){void 0===e&&(e=[]);var t=e.length,o=this._getExceededCountByMax(t);if(o>0){var n=t-o,r=o;return e.splice(n,r),!0}return!1},t._getExceededCountByMax=function(e){var t=this._componentListStore.countBy("video")+e-this.videoMaxUploadCount;return t>0?t:0},e}(),mN=fN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/video-upload-service.js",localName:t}})}catch(e){}}e(dN,"LegacyVideoUploadService"),e(hN,"SimpleVideoUploadService"),e(fN,"VideoUploadService"),e(mN,"default")}();var gN=(pN=function(){function e(){}var t=e.prototype;return t.__ON_LAZY__=function(){this._configAgent=u.V.get("configAgent"),this._photoEditor=u.V.get("photoEditor"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._componentListStore=u.V.get("componentListStore"),this._tokenStore=u.V.get("tokenStore"),this._hotkeyBinder=u.V.get("hotkeyBinder"),this._virtualEditable=u.V.get("virtualEditable"),this._canvasScrollingService=u.V.get("canvasScrollingService"),this._cbRegistry={},this._edited=!1},t.editImage=function(e){var t=this;return new Promise(function(o,n){var r=t._createPhotoEditorOption(Je()({},e,{resolve:o,reject:n}));t._photoEditor.open(r)})},t.editImageGroupAtOrderLayer=function(e){var t=e.activeCompId,o=e.editableImages,n=e.callbacks,r=void 0===n?{}:n,i=this._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),a=this._filterUploadedPhotoInfos(o),s=this._getActiveCompId(t,a),c={header:this._getHeader(),withCredentials:!0,initKey:s,editablePhotoInfos:a,authTokenAPI:this._authTokenAPI(),done:function(e){(r.onCompleteEdit||function(){})(e)},redirectLoginPage:i?this._onRedirectLoginPage:null};this._photoEditor.open(c)},t._createPhotoEditorOption=function(e){var t=e.activeCompId,o=e.editableImages,n=e.direct,r=e.callbacks,i=e.resolve,a=e.reject,s=this._configAgent.get("productConfig.redirectWhenInfraAuthFailed");this._filteredPhotoInfos=this._filterUploadedPhotoInfos(o,r);var c=this._getActiveCompId(t,this._filteredPhotoInfos);return{header:this._getHeader(),withCredentials:!0,initKey:c,editablePhotoInfos:this._filteredPhotoInfos,authTokenAPI:this._authTokenAPI(),beforeOpen:this._onBeforeOpenPhotoEditor.bind(this),afterClose:this._onAfterClosePhotoEditor.bind(this,a),done:this._onCompleteEdit.bind(this,i),redirectLoginPage:s?this._onRedirectLoginPage:null,direct:n}},t._getHeader=function(){return{"SE-Authorization":this._tokenStore.getAuthToken()}},t._assignCallbacks=function(e,t){e&&(this._cbRegistry[t]={onCompleteEdit:e.onCompleteEdit||function(){}})},t._onBeforeOpenPhotoEditor=function(){this._canvasScrollingService.hideWindowScroll(),this._virtualEditable.disable(),this._hotkeyBinder.pause()},t._onAfterClosePhotoEditor=function(e){this._edited||e(),this._hotkeyBinder.unpause(),this._virtualEditable.enable(),this._virtualEditable.refresh(),this._canvasScrollingService.restoreWindowScroll(),this._edited=!1},t._onCompleteEdit=function(e,t){var o=this;this._reorderImageList(this._filteredPhotoInfos,t),t.forEach(function(e){var t=o._componentListStore.getComponentById(e.key);t&&t.applyEditedImage&&t.applyEditedImage(e);var n=o._cbRegistry[e.key];n&&n.onCompleteEdit(e)}),this._cbRegistry={},this._edited=!0,e()},t._authTokenAPI=function(){var e=this._configAgent.get("apiInfo.fetchAuthToken");return e?e+"?"+("target_appcode="+this._configAgent.get("serviceInfo.appCode"))+"&"+("user_id="+this._configAgent.get("userInfo.userId")):""},t._onRedirectLoginPage=function(){try{var e=this._configAgent.get("serviceInfo.loginUrl");if(e){var t=window.parent.location.href;window.top.location.replace(""+e+t)}}catch(e){return!1}},t._getActiveCompId=function(e,t){var o=t.some(function(t){return t.photos.some(function(t){return t.id===e})});return e&&o?e:t[0]&&t[0].id},t._filterUploadedPhotoInfos=function(e,t){var o=this,n=!!e;return(n?e:this._componentListStore.toValidJSON()).filter(function(e){return o._assignCallbacks(t,e.id),e.photos=o._refinePhotoInfos(e,n),e.photos})},t._refinePhotoInfos=function(e,t){var o=this;void 0===t&&(t=!1);var n=e.id,r=e.ctype,i=e.images,a=e.wrappedSection,s=e.internalResource,c=e.background;if("image"===r&&s&&e.path)return[Je()({key:n},e)];if(i){var l=i.reduce(function(e,t){return t.path?e.concat(o._refinePhotoInfos(t)).filter(function(e){return e}):e},[]);if(l.length)return l}else{if(a&&"image"===a.ctype&&a.path)return this._refinePhotoInfos(a);if(c&&c.image&&t&&c.image.path)return this._refinePhotoInfos(c.image)}},t._reorderImageList=function(e,t){var o=this;if(1!==t.length){var n=t.map(function(e){return o._componentListStore.getComponentById(e.key)});e.every(function(e,t){return e.id===n[t].id})||this._reorderBetweenList(e,n)}},t._reorderBetweenList=function(e,t){var o={};t.forEach(function(t,n){var r=e[n].id;t.id!==r&&(o[r]=t)});var n=e[0],r=e[e.length-1],i=this._componentListStore.getComponentsBetween(n.id,r.id).map(function(e){var t=o[e.id];return t||e});this._componentListStore.replaceBetween(n,r,i)},e}(),q()(pN.prototype,"_onRedirectLoginPage",[ee.autobind],Object.getOwnPropertyDescriptor(pN.prototype,"_onRedirectLoginPage"),pN.prototype),pN),yN=gN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/image-edit-service.js",localName:t}})}catch(e){}}e(gN,"ImageEditService"),e(yN,"default")}();var bN,_N=function(){function e(){this._config={initData:null,callback:null}}var t=e.prototype;return t.open=function(e){this._openWindowPopup(e,"formula-editor-popup")},t.openFormulaEditorPopup=function(e,t,o){this._initPopupSetting(t,o),this._openWindowPopup(e,"formula-editor-popup")},t._initPopupSetting=function(e,t){this._config.initData=e,this._config.callback=t,window.FORMULA_EDITOR={updateFormula:this.updateFormula.bind(this),getForumlaData:this.getForumlaData.bind(this),redirectPopupOpts:e.redirectPopupOpts,redirectLoginPage:e.redirectLoginPage||function(){}}},t.updateFormula=function(e){var t=JSON.parse(e);this._config.callback&&this._config.callback(t.mathList),!0!==t.cancelClose&&this._destroyPopupSetting()},t.getForumlaData=function(){return this._config.initData},t._openWindowPopup=function(e,t){var o=this._getOption();this.popupWindow&&0!==Object.keys(this.popupWindow).length&&this.popupWindow.parent?this.popupWindow.focus():this.popupWindow=Qi.open(e,t,o)},t._getOption=function(){var e=(screen.availWidth-800)/2;return"top="+(screen.availHeight-680)/2+",left="+e+",width=800,height=680"+",scrollbars=yes,resizable=yes,status=yes"},t._destroyPopupSetting=function(){window.FORMULA_EDITOR=null,this._config.initData=null,this._config.callback=null,this.popupWindow&&(this.popupWindow.close(),this.popupWindow=null)},e}(),vN=_N,CN=vN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/formula-editor-popup/index.js",localName:t}})}catch(e){}}e(_N,"FormulaEditorPopup"),e(vN,"default")}();var ON=(bN=function(){function e(){this._configAgent=u.V.get("configAgent"),this._tokenStore=u.V.get("tokenStore"),this._i18n=u.V.get("i18n"),this._popup=new CN}var t=e.prototype;return t.openFormulaEditor=function(e){var t=this._configAgent.get("infraInfo.formulaEditor.popupUrl"),o=this._getFormulaEditorInitData(e);this._popup.openFormulaEditorPopup(t,o,e.callback)},t._getFormulaEditorInitData=function(e){var t=0,o=[];if(e.compList&&e.activeCompData){var n=e.activeCompData;o=e.compList,t=Object(jr.a)(o,function(e){return e.id===n.id})}return{mathList:o,limitMathWidth:this._configAgent.get("productConfig.documentWidth"),defaultFontSize:this._getDefaultFontSize(e.fontSizeCode),activeTabIndex:t,userId:this._configAgent.get("userInfo.userId"),header:{"SE-Authorization":this._tokenStore.getAuthToken()},withCredentials:!0,photoInfra:{sslEnabled:this._configAgent.get("editorInfo.sslEnabled"),domain:this._configAgent.get("infraInfo.photoInfra.domain"),imageDomain:this._configAgent.get("infraInfo.photoInfra.imageHost"),sessionKey:this._configAgent.get("apiInfo.fetchPhotoUploadSessionKey")},calculationAPI:this._configAgent.get("apiInfo.fetchCalculatedResult"),logInUrl:this._logInUrl(),authTokenAPI:this._authTokenAPI(),redirectPopupOpts:this._makeRedirectOpts(),redirectLoginPage:this._makeRedirectHandler()}},t._makeRedirectOpts=function(){var e=this._i18n.getResource(this._i18n.language(),"formulaEditor");return e?{title:e.login_error_msg,body:e.login_error_description}:null},t._makeRedirectHandler=function(){var e=this._logInUrl();return this._configAgent.get("productConfig.redirectWhenInfraAuthFailed")?function(){try{if(e){var t=window.parent.location.href;window.top.location.replace(""+e+t)}}catch(e){return!1}}:null},t._getDefaultFontSize=function(e){return e.replace("fs","")},t._authTokenAPI=function(){var e=this._configAgent.get("apiInfo.fetchAuthToken");return e?e+"?"+("target_appcode="+this._configAgent.get("serviceInfo.appCode"))+"&"+("user_id="+this._configAgent.get("userInfo.userId")):""},t._logInUrl=function(){return this._configAgent.get("serviceInfo.loginUrl")},e}(),q()(bN.prototype,"_makeRedirectHandler",[ee.autobind],Object.getOwnPropertyDescriptor(bN.prototype,"_makeRedirectHandler"),bN.prototype),bN),SN=ON;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/formula-edit-service.js",localName:t}})}catch(e){}}e(ON,"FormulaEditService"),e(SN,"default")}();var kN=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore")}var t=e.prototype;return t.updateShellImageNodeStore=function(e,t){var o=this._makeIdInfo(t.id);e.updateInlineImage(o,t)},t.deleteShellImageNodeById=function(e,t){if(e&&t){var o=this._makeIdInfo(t),n=e.deleteInlineImage(o);this._selectionInfoStore.setRange({start:n,end:n})}},t._makeIdInfo=function(e){var t={};return e.split(",").forEach(function(e){var o=e.split(":"),n=o[0],r=o[1];t[n]=r}),t},t.createFileUploadData=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId),n=o.createShellInlineImages(t,e),r=n.uploadTarget,i=n.invalidImages,a=r.ids;if(a.length){var s=Object(Js.a)(a),c=this._makeIdInfo(s),l=Object.assign(c,{offset:1});this._selectionInfoStore.setRange({start:l,end:l})}return{compStore:o,uploadTarget:r,invalidImages:i}},e}(),IN=kN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/inline-image-service.js",localName:t}})}catch(e){}}e(kN,"InlineImageService"),e(IN,"default")}();var wN=o(1053),PN=Yt.a.RX.EMOJI,jN=/(\s|^[.]?)#((_*)[_\d\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]+)/g,TN=function(){function e(){this._configAgent=u.V.get("configAgent"),this._componentListStore=u.V.get("componentListStore")}var t=e.prototype;return t.getTags=function(){var e=this._configAgent.get("productConfig.taggableComponents")||[];if(0===e.length)return[];var t=this._filterOnlyTextUnits(e),o=this._extractHashedKeywords(t);return this._normalizeHashedKeywords(o)},t._normalizeHashedKeywords=function(e){var t=Array.from(e).map(function(e){return e.replace("#","").trim()}),o=new Set(t);return Array.from(o)},t._extractHashedKeywords=function(e){return Object(wN.a)(e,function(e){var t=e.getPlainTextWithEmoji().replace(PN,"$");return jN.test(t)?t.match(jN):[]})},t._filterOnlyTextUnits=function(e){return this._componentListStore.filter(function(t){return e.includes(t.ctype)}).filter(function(e){return!!e.filterOnlyTexts}).reduce(function(e,t){return e.concat(t.filterOnlyTexts())},[])},e}(),LN=TN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/tag-service.js",localName:t}})}catch(e){}}e(PN,"rxEmojis"),e(jN,"rxTagKeywords"),e(TN,"TagService"),e(LN,"default")}();var EN=function(){function e(){this._storage=u.V.get("storagePolicy")}var t=e.prototype;return t.setStorageData=function(e,t){this._storage.set(e,t)},t.getStorageData=function(e){return this._storage.get(e)},e}(),NN=EN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/storage-service.js",localName:t}})}catch(e){}}e(EN,"StorageService"),e(NN,"default")}();var xN=function(){function e(){var e=u.V.get("configAgent");this._wordCountUrl=e.get("apiInfo.fetchWordCount")}return e.prototype.fetchWordCountFrom=function(e){return Io.a.post(this._wordCountUrl,{data:e,success:function(e){return e}})},e}(),DN=xN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/word-count-service.js",localName:t}})}catch(e){}}e(xN,"WordCountService"),e(DN,"default")}();var RN,AN,MN=function(){function e(){var e=u.V.get("configAgent");this._configAgent=e,this._eventDispatcher=u.V.get("eventDispatcher"),this._useUserLocation=!!e.get("productConfig.userLocation"),this._getAgreement=e.get("productConfig.userLocation.getAgreement")||null}var t=e.prototype;return t._getAgreementStatus=function(){return!0===this._configAgent.get("productConfig.userLocation.agreementStatus")},t._requestAgreement=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._getAgreement)||"function"!=typeof t){e.next=11;break}return e.prev=2,e.next=5,t();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}(),t._shouldRequestAgreement=function(){return this._useUserLocation&&!this._getAgreementStatus()},t.checkAllowedAccess=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._shouldRequestAgreement()){e.next=6;break}return e.next=3,this._requestAgreement();case 3:return t=e.sent,this._configAgent.set("productConfig.userLocation.agreementStatus",t),e.abrupt("return",this._getAgreementStatus());case 6:return e.abrupt("return",this.isAllowedAccess());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.isAllowedAccess=function(){return!!this._useUserLocation&&this._getAgreementStatus()},t.writeUserLocation=function(){this._eventDispatcher.dispatch(u.z.USER_LOCATION)},e}(),BN=MN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/location-privacy-service.js",localName:t}})}catch(e){}}e(MN,"LocationPrivacyService"),e(BN,"default")}();var UN,VN=(RN=function(){function e(e){void 0===e&&(e={}),this.userDefinedStyle={},this.themes={},z()(this,"themeName",AN,this);var t=u.V.get("configAgent"),o=t.get("productConfig.defaultDocument")||{},n=t.get("productConfig.themes")||{},r=t.get("productConfig.userDefinedStyle")||{};this._configAgent=t,this.themeName=o.theme||e.defaultTheme||this.themeName,this.themes=Object(Ua.a)(e.themes,n),this.userDefinedStyle=Object.assign(e.userDefinedStyle||{},r)}var t=e.prototype;return t._getComponentThemeStyle=function(e){var t=this.themeName+"."+e;return Object(J.a)(this.themes,t,null)},t.getComponentThemeStyle=function(e){var t=this;if("wrappingParagraph"!==e){var o=this._configAgent.get("plugins.componentSettings."+e+".config.themeStyle"),n=this._getComponentThemeStyle(e);return this._normalizeThemeStyle(n,o)}var r=["text","image","quotation"].map(function(e){return t.getComponentThemeStyle(e)}),i=r[0],a=r[1],s=r[2];return i||a||s?{textThemeStyle:i,imageThemeStyle:a,quotationThemeStyle:s}:null},t._normalizeThemeStyle=function(e,t){if(!t)return e;if(e){var o=Object(J.a)(t,"@all",{});Object.keys(e).forEach(function(n){var r=e[n],i=Object(J.a)(t,""+n,{}),a=Object(Ua.a)(r,o,i);e[n]=a})}return e},t.changeThemeName=function(e){return this.themeName!==e&&(this.themeName=e,!0)},t.getUserDefinedStyle=function(e){return Object(J.a)(this.userDefinedStyle,e,null)},e}(),AN=q()(RN.prototype,"themeName",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),RN),FN=VN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/theme-store.js",localName:t}})}catch(e){}}e(VN,"ThemeStore"),e(FN,"default")}();var zN,WN,GN,HN,qN=(UN=function(){function e(){this._componentListStore=u.V.get("componentListStore"),this._selectionInfoStore=u.V.get("selectionInfoStore")}return Ye()(e,[{key:"currentSelectedStyle",get:function(){return this._componentListStore.collectStyle(this._selectionInfoStore)}}]),e}(),q()(UN.prototype,"currentSelectedStyle",[K.e],Object.getOwnPropertyDescriptor(UN.prototype,"currentSelectedStyle"),UN.prototype),UN),JN=qN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/style-store.js",localName:t}})}catch(e){}}e(qN,"StyleStore"),e(JN,"default")}();var KN,YN,XN,QN=(zN=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this)._toolbarTypes=[],z()(o,"toolbarState",WN,G()(o)),z()(o,"selectedCtype",GN,G()(o)),z()(o,"buttonSets",HN,G()(o));var n=t.state,r=void 0===n?{}:n;return o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o.buttonSets=Object(J.a)(r,"buttonSets",o.buttonSets),o._reset(),o}h()(t,e);var o=t.prototype;return o.updateButtonSets=function(e){Object(Xe.a)(e)&&this._reset(),this.buttonSets=e},o.updateToolbarState=function(e,t,o){var n=this.toolbarState;e.selectedUnitIds=t||n.selectedUnitIds,e.selectedCompIds=o||n.selectedCompIds,this.toolbarState=e},o.changeSelectedCtype=function(e){this.selectedCtype=e},o.setToolbarTypes=function(e){this._toolbarTypes=e,this._reset()},o._reset=function(){var e=this;this._toolbarTypes.forEach(function(t){e.buttonSets[t]=[]})},t}(u.w),WN=q()(zN.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),GN=q()(zN.prototype,"selectedCtype",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),HN=q()(zN.prototype,"buttonSets",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zN),ZN=QN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/toolbar-store.js",localName:t}})}catch(e){}}e(QN,"ToolbarStore"),e(ZN,"default")}();var $N=(KN=function(){function e(e){void 0===e&&(e={}),z()(this,"documentId",YN,this),z()(this,"document",XN,this);var t=u.V.get("configAgent").get("productConfig.defaultDocument"),o=e.state,n=void 0===o?{}:o;this.documentId=Object(J.a)(n,"documentId","TEMP-"+u.ab.generate()),this.document=this._extractDocumentMeta(t),this.documentStatus=u.v.NORMAL}var t=e.prototype;return t._extractDocumentMeta=function(e){var t=Je()({},this.document,e);return delete t.components,t},t.setDocumentData=function(e){var t=e.documentId,o=e.document;Object(Xe.a)(t)||(this.documentId=t),delete o.version,Object.assign(this.document,o),delete this.document.components},t.setTheme=function(e){this.document.theme=e},t.getDocumentId=function(){return this.documentId},t.getDocumentData=function(){return this.toValidJSON()},t.setDocumentStatus=function(e){this.documentStatus=e||u.v.NORMAL},t.getDocumentStatus=function(){return this.documentStatus},t.toValidJSON=function(){return{document:K.f.toJS(this.document),documentId:K.f.toJS(this.documentId)}},t.getDefaultComponentData=function(){var e=u.V.get("configAgent").get("productConfig.defaultDocument");if(e.components)return e.components.map(function(e){return{ctype:e}})},e}(),YN=q()(KN.prototype,"documentId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),XN=q()(KN.prototype,"document",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),KN),ex=$N;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/document-data-store.js",localName:t}})}catch(e){}}e($N,"DocumentDataStore"),e(ex,"default")}();var tx=o(1212),ox=function(){function e(){this._authToken=null,this._infraToken=null}var t=e.prototype;return t.setAuthToken=function(e){this._authToken=e},t.setInfraToken=function(e){this._infraToken=e},t.getInfraToken=function(){return this._infraToken},t.getAuthToken=function(){return this._authToken},t.hasAuthToken=function(){return!!this._authToken},e}(),nx=ox;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/token-store.js",localName:t}})}catch(e){}}e(ox,"TokenStore"),e(nx,"default")}();var rx,ix=o(1026),ax=function(){function e(e){this._config=e.configMap}var t=e.prototype;return t.request=function(e){Io.b.abort();var t={url:this._config.apiInfo.fetchErratas,query:{query:e}};return this._request(t)},t._request=function(e){return Io.b.post(e.url,{data:e.query,options:{headers:{"Content-Type":"application/json"},useAbort:!0},success:function(e){return e},error:function(e){return e}})},e}(),sx=ax;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/spell-checker/index.js",localName:t}})}catch(e){}}e(ax,"SpellChecker"),e(sx,"default")}();var cx={image:"PHOTO_IMAGE",wrappingParagraph:"PHOTO_IMAGE",imageStrip:"PHOTO_APPOSE",imageGroup:"PHOTO_GROUP"},lx={functions:{useFilter:!0,useCrop:!0,useResize:!0,useAdjust:!0,useMosaic:!0,useSignature:!0,useSticker:!0,useText:!0,usePhotoFrame:!0,useClip:!0},photoSave:{useSave:!0,use:{local:!0,cloud:!0}},sticker:{useGrafolio:!0,use:{auto:!0,svgSticker:!0,svgTypo:!0,pack:!0}},lang:{useSelect:!0},signature:{use:{image:!0,text:!0,template:!0}},resize:{minSize:100},text:{use:{text:!0,artypo:!0,bubble:!0}},font:{useWebFont:!0,fonts:[]},backgroundColor:"000000",nclicks:{use:!0},theme:"green",photoInfra:{autorotate:!0,extractAnimatedCnt:!0,extractExif:!0},filter:{useFavorite:!0}},ux=(rx=function(){function e(e){void 0===e&&(e={}),this._moduleConfig=e,this._configAgent=u.V.get("configAgent"),this._i18n=u.V.get("i18n"),this._domAccessor=u.V.get("domAccessor"),this._infraConfig=this._configAgent.get("infraConfig"),this._toastLayerService=u.V.get("toastLayerService"),this._canvasScrollingService=u.V.get("canvasScrollingService");var t=this._configAgent.get("modules.photoEditor.config");this._moduleOption=Object(i.a)({},t,e.option,lx),this._config={userId:this._configAgent.get("userInfo.userId"),serviceDomain:this._configAgent.get("serviceInfo.domain"),buildProperty:this._configAgent.get("editorInfo.buildProperty"),userNickName:this._configAgent.get("userInfo.nickName")},this._classLoaded=!1,this._photoEditorInitialized=!1}var t=e.prototype;return t.__ON_LAZY__=function(){var e=this;setTimeout(function(){var t=e._domAccessor.getCanvas(),o=function(){var n=Ft()(Ut.a.mark(function n(){return Ut.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.removeEventListener("mouseover",o),n.next=3,e.lazyLoad();case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();t.addEventListener("mouseover",o)},2e3)},t.lazyLoad=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._classLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._getPhotoEditorAppClass();case 4:t=e.sent,this._photoEditor=new t,this._mapPhotoEditorConsts(t),this._classLoaded=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._mapPhotoEditorConsts=function(e){this._config.editorType=e.RABBIT;var t={};Object.keys(cx).forEach(function(o){t[o]=e[cx[o]]}),this._config.imageType=t},t._getPhotoEditorAppClass=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._moduleConfig.PhotoEditorApp)){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o.e(74).then(o.t.bind(null,1240,7));case 5:return e.abrupt("return",e.sent.default);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.open=function(){var e=Ft()(Ut.a.mark(function e(t){var o;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||0!==t.editablePhotoInfos.length){e.next=3;break}return this._toastLayerService.warningMessage(this._i18n("imageEdit:alert_unavailable_edit")),e.abrupt("return");case 3:if(this._classLoaded){e.next=6;break}return e.next=6,this.lazyLoad();case 6:this._initPhotoEditor(t),(o=this._refineToPhotoEditorOption(t))&&this._photoEditor.open(o);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._initPhotoEditor=function(e){var t=this._config,o=t.userId,n=t.serviceDomain,r=t.buildProperty,a=t.editorType,s=this._i18n.language(),c={lang:{default:s,languages:this._languages()},setting:{env:["stage","real"].includes(r)?"real":"dev",lang:{language:s},userId:o,editorType:a,minSize:{width:this._editorRootContainerMinWidth()},positionFixed:this._canvasScrollingService.shouldPositionFixedPhotoEditor()},container:document.body,cors:!0,webglFilterEnable:!0,header:e.header,withCredentials:e.withCredentials,photoInfra:{sslEnabled:this._configAgent.get("editorInfo.sslEnabled"),domain:this._configAgent.get("infraInfo.photoInfra.domain"),imageDomain:this._configAgent.get("infraInfo.photoInfra.imageHost"),sessionKey:this._configAgent.get("apiInfo.fetchPhotoUploadSessionKey")},logInUrl:e.logInUrl,authTokenAPI:e.authTokenAPI,sticker:{grafolioAPI:{packList:this._configAgent.get("apiInfo.fetchStickers"),list:this._configAgent.get("apiInfo.fetchStickers"),multipleValidation:this._configAgent.get("apiInfo.queryAvailableSticker")}},filter:{favoriteAPI:{list:this._configAgent.get("apiInfo.fetchFavoriteFilters"),add:this._configAgent.get("apiInfo.updateFavoriteFilter"),remove:this._configAgent.get("apiInfo.deleteFavoriteFilter"),modify:this._configAgent.get("apiInfo.updateFavoriteFilter")}},useHistoryState:!1,beforeOpen:e.beforeOpen,afterClose:e.afterClose,done:e.done,loginPopupOpts:{isClose:!0},redirectLoginPage:e.redirectLoginPage},l=Object(i.a)(c,this._moduleOption,{signature:{defaultText:"https://"+n+"/"+o,nickName:this._config.userNickName},resize:{preset:Object(J.a)(this._moduleOption,"resizePreset",[400,600,700,900,1e3,1200]),custom:Object(J.a)(this._moduleOption,"resizeCustom",!0)},crop:{default:Object(J.a)(this._moduleOption,"cropDefault","free"),preset:Object(J.a)(this._moduleOption,"cropPreset",["original","free","16:9","3:2","4:3","1:1","3:4","2:3","9:16"])}});!1===this._photoEditorInitialized?(this._photoEditor.init(l),this._photoEditorInitialized=!0):this._photoEditor.setup(l)},t._findItem=function(e,t){for(var o=0;o<e.length;o++){var n=e[o];if(n.photos){var r=this._findItem(n.photos,t);if(r)return r}else if(n.key===t)return n}return null},t._firstItem=function(e){return e[0].photos?this._firstItem(e[0].photos):e[0]},t._refineToPhotoEditorOption=function(e){var t=this,o=e.initKey,n=e.editablePhotoInfos,r=e.direct,i=n.reduce(function(e,o){var n=t._convertCompDataToPhotoData(o);return n&&e.push(n),e},[]);if(0!==i.length){var a=this._findItem(i,o);return{initKey:o=a?a.key:this._firstItem(i).key,direct:r,photos:i}}},t._editorRootContainerMinWidth=function(){var e=this._domAccessor.getRootContainer(),t=parseInt(getComputedStyle(e).minWidth);return 1080>=t?null:t},t._convertCompDataToPhotoData=function(e){var t=this._config.imageType,o=e.id,n=e.ctype,r=e.photos,i=r&&r.map(this._generatePhotoInfo);if(!Object(Xe.a)(r))return{type:t[n]||t.image,key:o,photos:i}},t._generatePhotoInfo=function(e){var t=this._configAgent.get("editorInfo.thumbnailType"),o=e.domain,n=t.normal,r=t.small,i=r?""+o+e.path+"?type="+r:""+o+e.path+"?type="+n,a=e.path,s=e.originalWidth,c=e.originalHeight;if(!1===Object(J.a)(this._infraConfig,"image.useOriginalImage")){var l=Object(J.a)(this._infraConfig,"image.thumbnailMaxWidth"),u=this._convertSizeByPath(l,e.originalWidth,e.originalHeight);a=e.path+"?type="+n,s=u.width,c=u.height}return{key:e.id,originalFileName:e.fileName,width:s,height:c,domain:e.domain,path:a,fileSize:e.fileSize,thumbnail:i,generationFormat:e.displayFormat,dominantColor:e.dominantColor||""}},t._convertSizeByPath=function(e,t,o){if(t<e)return{width:t,height:o};var n=e*o/t;return{width:e,height:Math.round(n)}},t._languages=function(){return[{language:"ko-KR"},{language:"en-US"},{language:"ja-JP"},{language:"zh-CN"},{language:"zh-TW"},{language:"es-ES"},{language:"fr-FR"},{language:"vi-VN"},{language:"id-ID"}]},e}(),q()(rx.prototype,"_convertCompDataToPhotoData",[ee.autobind],Object.getOwnPropertyDescriptor(rx.prototype,"_convertCompDataToPhotoData"),rx.prototype),q()(rx.prototype,"_generatePhotoInfo",[ee.autobind],Object.getOwnPropertyDescriptor(rx.prototype,"_generatePhotoInfo"),rx.prototype),rx),px=ux;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/naver-photo-editor/index.js",localName:t}})}catch(e){}}e(cx,"IMAGE_TYPE"),e(lx,"DEFAULT_PHOTO_EDITOR_MODULE_OPTION"),e(ux,"NaverPhotoEditor"),e(px,"default")}();var dx,hx=function(){function e(e){this._sentryManager=u.V.get("sentryManager"),this._configAgent=u.V.get("configAgent"),this._moduleOption=Object(J.a)(e,"option",{});var t=this._configAgent.get("modules.videoUploader.config");this.uploadMode=Object(J.a)(t,"uploadMode"),t&&(this._moduleOption=Object(i.a)({},t,this._moduleOption)),this._i18n=u.V.get("i18n")}var t=e.prototype;return t.open=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.initOptions,n=t.callbacks,r=void 0===n?{}:n,e.prev=1,e.next=4,this._fetchVideoUploaderInstance();case 4:i=e.sent,this._initializeUploader(i,o),this._bindUploadEvents(i,r),i.open(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this._handleErrorLazy(r);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),t.edit=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s,c,l;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.videoMeta,n=void 0===o?{}:o,r=t.serviceData,i=void 0===r?{}:r,a=t.initOptions,s=t.callbacks,c=void 0===s?{}:s,e.prev=1,e.next=4,this._fetchVideoUploaderInstance();case 4:l=e.sent,this._initializeUploader(l,a),this._bindEditEvents(l,c),l.edit({title:n.title,desc:n.description,tag:n.tags,serviceData:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this._handleErrorLazy(c);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),t._bindUploadEvents=function(e,t){var o=this,n=t.success,r=t.error,i=t.close;e.removeAllListeners(),e.on("complete",function(e){var t=e.map(function(e){return o._refineVideoData(e)});n&&n(t)}),e.on("error",function(e){o._sentryManager.withScope(function(t){t.setExtra("logger","VideoUploader"),t.setExtra("cause","  "),t.setExtra("data",e),o._sentryManager.captureMessage("   !")}),r&&r(e)}),e.on("close",function(){i&&i()}),e.on("onClickServiceDataButton",function(e){var t=Object(J.a)(o._moduleOption,"onClickServiceDataButton",function(){});t&&t(e)})},t._bindEditEvents=function(e,t){var o=this,n=t.confirm,r=t.error,i=t.close;e.removeAllListeners(),e.on("editCompleted",function(e){var t=o._convertVideoMetaToMediaMeta(e),r=e.serviceData;n&&n({mediaMeta:t,serviceData:void 0===r?{}:r})}),e.on("editError",function(){o._sentryManager.withScope(function(e){e.setExtra("logger","VideoUploader"),e.setExtra("cause","   "),o._sentryManager.captureMessage("    !")}),r&&r()}),e.on("editCanceled",function(){i&&i()}),e.on("onClickServiceDataButton",function(e){var t=Object(J.a)(o._moduleOption,"onClickServiceDataButton",function(){});t&&t(e)})},t._initializeUploader=function(e,t){var o=this._getUploaderBaseConfig(),n=this._configAgent.get("apiInfo.fetchVideoUploadSessionKey"),r=this._configAgent.get("apiInfo.fetchVideoUploaderToken"),a=this._configAgent.get("apiInfo.fetchVideoTagAutoComplete"),s=this._configAgent.get("apiInfo.fetchTopicKeyword"),c=this._configAgent.get("editorInfo.buildProperty"),l=Object(J.a)(this._moduleOption,"i18n"),u=this._i18n.language(),p=this._i18n.getResource(u,"naverVideoUploader"),d=p,h=this._configAgent.get("infraInfo.videoInfra.region");Object(J.a)(this._moduleOption,"i18n")&&(d=Object(i.a)({},l,p)),e.initialize({el:"#video-uploader-wrap",serviceId:o.serviceId,userId:o.userId,locale:u,maxUploadSize:this._configAgent.get("infraConfig.video.maxVideoUploadSize"),maxPlayTime:this._configAgent.get("infraConfig.video.maxVideoPlayTime"),maxDesclen:this._configAgent.get("infraConfig.video.maxVideoDescLength"),buildPhase:this._getBuildPhase(),featureLocalVid:Object(J.a)(this._moduleOption,"featureLocalVid",!0),featureCloudVid:Object(J.a)(this._moduleOption,"featureCloudVid",!0),featureLinkVid:Object(J.a)(this._moduleOption,"featureLinkVid",!0),featureMetaEdit:Object(J.a)(this._moduleOption,"featureMetaEdit",!0),feature360Vid:Object(J.a)(this._moduleOption,"feature360Vid",!0),requireTitle:Object(J.a)(this._moduleOption,"requireTitle",!0),serviceDataConfig:Object(J.a)(this._moduleOption,"serviceData",[]),tagSuggestAPI:a,fetchTopicKeyword:s,i18n:d,cloudBuildPhase:["stage","real"].includes(c)?"":"stage",header:t.header,withCredentials:t.withCredentials,vodServiceController:{requestVideoId:this._requestVideoTokenAndId.bind(this),requestToken:this._requestVideoTokenAndId.bind(this)},region:h,generateTokenAPI:n,uploaderTokenAPI:r,logInUrl:t.logInUrl,authTokenAPI:t.authTokenAPI,redirectLoginPage:t.redirectLoginPage,useOnlyUi:"simple"===this.uploadMode})},t._requestVideoTokenAndId=function(){var e=this._configAgent.get("apiInfo.fetchVideoUploaderToken");return Io.a.get(e.replace("v1","v2"),{success:function(e){return e},error:function(e){throw e}})},t._fetchVideoUploaderInstance=function(){var e=Ft()(Ut.a.mark(function e(){var t,n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cache){e.next=6;break}return e.next=3,o.e(75).then(o.t.bind(null,1241,7));case 3:t=e.sent,n=t.VideoUploader,this._cache=n.getInstance();case 6:return e.abrupt("return",this._cache);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._handleErrorLazy=function(e){var t=e.close,o=void 0===t?function(){}:t,n=u.V.get("alertLayerService");o(),n.open({type:"alert",title:this._i18n("errorLazy:title"),description:this._i18n("errorLazy:description")})},t._getUploaderBaseConfig=function(){return{userId:this._configAgent.get("userInfo.userId"),serviceId:this._configAgent.get("infraInfo.videoInfra.serviceId"),queueLimit:this._configAgent.get("infraConfig.video.videoUploadLimitCount")||1,enableVideoType:this._configAgent.get("editorInfo.use360Video")||!1}},t._getBuildPhase=function(){return"production"===this._configAgent.get("productEnv.buildEnv")?"real":"test"},t._refineVideoData=function(e){var t=e.vid,o=e.encodeType,n=e.header,r=e.thumbnails,i=e.meta,a=n.rotation,s=n.width,c=n.height,l=n.fileSize,u=n.duration,p=i.serviceData,d=void 0===p?null:p,h=90===a||270===a,f=h?c:s,m=h?s:c,g="360"===o?"vr360":o;return{vid:t,internalResource:!0,thumbnail:this._getSelectedThumbnail(r),fileSize:parseInt(l,10),playTime:u,width:f,height:m,originalWidth:f,originalHeight:m,format:g,mediaMeta:this._convertVideoMetaToMediaMeta(i),serviceData:d}},t._convertVideoMetaToMediaMeta=function(e){return{title:e.title,description:e.desc,tags:e.tag}},t._getSelectedThumbnail=function(e){return{src:Object(up.a)(e,{type:"COVER"}).path}},Ye()(e,[{key:"isLegacyUploader",get:function(){return!0}}]),e}(),fx=hx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/video-uploader/index.js",localName:t}})}catch(e){}}e(hx,"VideoUploader"),e(fx,"default")}();var mx={posX:4,posY:4},gx=(dx=function(){function e(){this._isNotSupportNativeDragEvent="undefined"==typeof DragEvent,this._domAccessor=u.V.get("domAccessor")}var t=e.prototype;return t.start=function(e){var t=e.event,o=e.items,n=e.type,r=e.useNativeGhost,i=e.themeName,a=e.isInsideType,s=e.callback;this._shouldUseNativeGhost=t.dataTransfer.setDragImage&&(!0===r||this._isNotSupportNativeDragEvent),this._themeName=i||"default",this._dragStartCallback=s||function(){},this._dragGhostWrapper=this._getDragGhost(),this._dragTarget=this._getDragTarget(t,n,o),this._initDragGhost(t,n,o),this._setDragTargetClassName(a)},t.end=function(){this._resetDragTarget(),this._resetDragGhost()},t._getDragGhost=function(){var e=this._domAccessor.getContentContainer();return this._cachedDragGhost||(this._cachedDragGhost=document.createElement("div")),this._cachedDragGhost.parentNode!==e&&e.insertBefore(this._cachedDragGhost,e.firstChild),this._cachedDragGhost},t._getDragTarget=function(e,t,o){switch(t){case"object":case"image":case"iframe":var n=Object(no.a)(o);return this._domAccessor.querySelector("#"+n.id);case"aside":case"library":case"template":return e.target;case"groupLayer":var r='.se-imageGroup-item[data-image-id="'+e.target.dataset.id+'"]';return this._domAccessor.querySelector(".se-popup-image-group-order").querySelector(r);default:return null}},t._resolveDragGhost=function(e,t,o){switch(t){case"text":return this._textGhost(e,o);case"iframe":return"";case"object":case"image":case"aside":case"template":case"library":return this._dragTarget.cloneNode(!0);case"groupLayer":var n=this._dragTarget.cloneNode(!0);return n.removeAttribute("style"),n;default:return""}},t._textGhost=function(e,t){var o=this._isSingleInlineImage(t)?e.target.parentNode.cloneNode(!0):KL.a.selection.getRange().cloneContents(),n=this._refineTextGhost(o);return this._resolveTextGhostWrapper(n)},t._isSingleInlineImage=function(e){if(!e||1!==e.length)return!1;var t=e[0].value;if(!t||!t.paragraphs||1!==t.paragraphs.length)return!1;var o=t.paragraphs[0].nodes;return!(!o||1!==o.length)&&"imageNode"===o[0].ctype},t._refineTextGhost=function(e){var t=e.querySelectorAll(".se-blind");Object(r.a)(t,function(e){e.parentElement.removeChild(e)});var o=e.querySelectorAll(".se-set-rep-image-button");return Object(r.a)(o,function(e){e.parentElement.removeChild(e)}),e},t._resolveTextGhostWrapper=function(e){var t=document.createElement("div"),o=e.querySelectorAll(".se-inline-image-resource"),n=e.childNodes.length>0&&0===o.length,r=1===e.childNodes.length&&1===o.length;if(0===e.childNodes.length)t.classList.add("se-text-ghost-complex");else if(n){var i=document.createElement("div");i.classList.add("se-text-ghost-contents"),i.textContent=e.textContent,t.classList.add("se-text-ghost"),t.appendChild(i)}else r?(t.classList.add("se-inline-image-ghost"),t.appendChild(e)):t.classList.add("se-text-ghost-complex");return t},t._initDragGhost=function(e,t,o){var n=this._resolveDragGhost(e,t,o),r=n?n.outerHTML:"",i=this._resolveDragGhostWrapperClassName(e,t),a=this._tempGhostElement(r);this._dragGhostWrapper.innerHTML=a.innerHTML,this._dragGhostWrapper.className=i,this._shouldUseNativeGhost&&e.dataTransfer.setDragImage(this._dragGhostWrapper,mx.posX,mx.posY),this.updatePosition(e),this._dragStartCallback(e),this._addDocumentDragEndEvent()},t._tempGhostElement=function(e){var t=document.createElement("div");t.innerHTML=e;var o=t.querySelector(".se-toolbar");o&&o.parentElement.removeChild(o);var n=t.querySelectorAll("*");return t.removeAttribute("id"),Object(r.a)(n,function(e){e.removeAttribute("id")}),t},t._handleDocumentDragEnd=function(){this._resetDragTarget(),this._resetDragGhost()},t._addDocumentDragEndEvent=function(){document.addEventListener("dragend",this._handleDocumentDragEnd)},t._removeDocumentDragEndEvent=function(){document.removeEventListener("dragend",this._handleDocumentDragEnd)},t._setDragTargetClassName=function(e){e&&this._dragTarget&&this._dragTarget.classList.add("se-component-drag-source")},t._resetDragTarget=function(){this._dragTarget&&(this._dragTarget.classList.remove("se-component-drag-source"),this._dragTarget=null)},t.updatePosition=function(e){this._shouldUseNativeGhost||this._dragGhostWrapper&&(this._dragGhostWrapper.style.top=e.clientY+mx.posY+"px",this._dragGhostWrapper.style.left=e.clientX+mx.posX+"px")},t._resetDragGhost=function(){this._dragGhostWrapper&&(this._dragGhostWrapper.className="",this._dragGhostWrapper.innerHTML="",this._dragGhostWrapper.removeAttribute("style"),this._dragGhostWrapper=null),this._removeDocumentDragEndEvent()},t._resolveDragGhostWrapperClassName=function(e,t){var o="se-dragging-ghost-single";return["aside","library","template"].includes(t)?o="se-dragging-ghost-custom":"text"===t?o="se-dragging-ghost-text":"complex"===t?o="se-dragging-ghost-multiple":"iframe"===t&&(o="se-dragging-ghost-iframe"),We()(["se-dragging-ghost","se-theme-"+this._themeName,o,{"se-dragging-ghost-native":this._shouldUseNativeGhost}])},e}(),q()(dx.prototype,"_handleDocumentDragEnd",[ee.autobind],Object.getOwnPropertyDescriptor(dx.prototype,"_handleDocumentDragEnd"),dx.prototype),dx),yx=gx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/drag-ghost/index.js",localName:t}})}catch(e){}}e(mx,"DRAG_GHOST_MOUSE_POSITION"),e(gx,"DragGhost"),e(yx,"default")}();var bx=150,_x=50,vx=function(){function e(){this._configAgent=u.V.get("configAgent");var e=this._configAgent.get("productConfig.scroll.thresholdPixel"),t=this._configAgent.get("productConfig.scroll.maxAutoScrollOffset");this._isMobile="mobile"===this._configAgent.get("productEnv.deviceType"),this._domAccessor=u.V.get("domAccessor"),this._thresholdPixel=e||bx,this._maxAutoScrollOffset=t||_x,this._readied=!1,this._timer=null}var t=e.prototype;return t.forceStopAutoScroll=function(){this._stopScroll()},t.scrollPage=function(e){this._readied||this._beforeScrollPage(),this._triggerInfo=this._validateTriggerArea(e)},t._beforeScrollPage=function(){var e=this._getContentAndScrollTarget(),t=e.contentTarget,o=e.scrollTarget,n=t.getBoundingClientRect().top;this._readied=!0,this._contentOffsetTop=n+Ls.a.getScrollTop(o),this._contentOffsetHeight=t.offsetHeight,this._scrollHeight=o===window?document.body.scrollHeight:o.scrollHeight,this._screenHeight=o===window?window.innerHeight:o.offsetHeight,this._scrollTarget=o,this._threshold=Math.min(this._thresholdPixel,this._screenHeight/3|0),this._triggerInfo={isTop:!1,isBottom:!1,clientY:0},this._startAutoScrolling()},t._stopScroll=function(){cancelAnimationFrame(this._timer),this._readied=!1,this._timer=null},t._startAutoScrolling=function(){var e=this;this._timer=requestAnimationFrame(function t(){e._readied&&(e._scroll(),e._timer=requestAnimationFrame(t))})},t._validateTriggerArea=function(e){var t=e.clientY;return{isTop:this._isTopArea(t),isBottom:this._isBottomArea(t),clientY:t}},t._getContentAndScrollTarget=function(){throw new Error("Implement the '_getContentAndScrollTarget()' method.")},t._isTopArea=function(e){throw new Error("Implement the '_isTopArea()' method.")},t._isBottomArea=function(e){throw new Error("Implement the '_isBottomArea()' method.")},t._scroll=function(){throw new Error("Implement the '_scroll()' method.")},e}(),Cx=vx,Ox=Cx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/auto-scroll/abstract-auto-scroll.js",localName:t}})}catch(e){}}e(bx,"THRESHOLD_PIXEL"),e(_x,"MAX_AUTO_SCROLL_OFFSET"),e(vx,"AbstractAutoScroll"),e(Cx,"default")}();var Sx=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._getContentAndScrollTarget=function(){var e=this._domAccessor.getScrollTarget();return{contentTarget:this._domAccessor.getBodyContainer(),scrollTarget:this._isMobile||e===document.body?window:e}},o._isTopArea=function(e){return e<this._headerTop()+this._threshold},o._isBottomArea=function(e){return e>this._screenHeight-this._threshold},o._headerTop=function(){var e=this._domAccessor.getHeader();return e.getBoundingClientRect().top+e.offsetHeight},o._scroll=function(){var e=this._triggerInfo,t=e.isTop,o=e.isBottom,n=e.clientY,r=this._scrollTarget,i=this._contentOffsetTop,a=this._contentOffsetHeight,s=this._screenHeight,c=Ls.a.getScrollTop(r),l=i-this._headerTop();if(t&&c-l>0){var u=n-l;Ls.a.setScrollTop(r,c+this._resolveSpeedY(u,!0))}o&&i+a>c+s&&Ls.a.setScrollTop(r,c+this._resolveSpeedY(n,!1))},o._resolveSpeedY=function(e,t){var o=this._threshold,n=this._screenHeight,r=Math.max(-1,Math.min(1,((t?-o:o-n)+e)/o));return this._maxAutoScrollOffset*r|0},t}(Ox),kx=Sx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/auto-scroll/scrollBody.js",localName:t}})}catch(e){}}e(Sx,"ScrollBody"),e(kx,"default")}();var Ix=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._getContentAndScrollTarget=function(){return{contentTarget:this._domAccessor.getCanvas(),scrollTarget:this._domAccessor.getScrollTarget()}},o._isTopArea=function(e){var t=this._contentOffsetTop;return t<e&&t+this._threshold>e},o._isBottomArea=function(e){return e>this._contentOffsetTop+this._screenHeight-this._threshold},o._scroll=function(){var e=this._triggerInfo,t=e.isTop,o=e.isBottom,n=e.clientY,r=this._scrollTarget,i=this._scrollHeight,a=this._screenHeight,s=Ls.a.getScrollTop(r);if(t&&s&&Ls.a.setScrollTop(r,s+this._resolveSpeedY(n,t)),o)if(i>s+a)Ls.a.setScrollTop(r,s+this._resolveSpeedY(n,t));else{var c=this._scrollTarget.scrollHeight;this._scrollHeight!==c&&(this._scrollHeight=c)}},o._resolveSpeedY=function(e,t){var o=this._threshold,n=this._contentOffsetTop,r=this._screenHeight,i=0;return i=t?(-(n+o)+e)/o:(o-r-n+e)/o,this._maxAutoScrollOffset*Math.max(-1,Math.min(1,i))},t}(Ox),wx=Ix;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/auto-scroll/scrollCanvas.js",localName:t}})}catch(e){}}e(Ix,"ScrollCanvas"),e(wx,"default")}();var Px=function(){function e(){this._subscribers=[],this._componentListStore=null,this._componentListStore=u.V.get("componentListStore")}var t=e.prototype;return t._initializeAutorun=function(){var e=this;this._depostAutorunAsync=K.f.reaction(function(){return e._componentListStore.toValidJSON()},function(t){e._subscribers.forEach(function(o){o.call(e,t)})},{delay:500})},t.subscribeAsync=function(e){0===this._subscribers.length&&this._initializeAutorun(),this._subscribers.push(e)},t.destroy=function(){this._depostAutorunAsync&&this._depostAutorunAsync(),this._componentListStore=null,this._subscribers=[],this._depostAutorunAsync=null},e}(),jx=Px;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/state-update-broadcaster/index.js",localName:t}})}catch(e){}}e(Px,"StateUpdateBroadcaster"),e(jx,"default")}();var Tx=function(e){return"number"==typeof e&&!Number.isInteger(e)},Lx=function(e){return"number"==typeof e&&e>=0},Ex={FONT_FAMILY:"fontFamily",FONT_SIZE_CODE:"fontSizeCode",LINE_HEIGHT:"lineHeight"},Nx=Object.values(Ex),xx=function(){function e(){this._fontManager=u.V.get("fontManager"),this._allowedFontNames=Object(Kt.a)(this._fontManager.getCurrentFontSpec(),function(e){return e.value}),this._allowedFontSizes=["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38","fs45"]}var t=e.prototype;return t._getValidStyle=function(e,t){switch(e){case Ex.FONT_FAMILY:return this._allowedFontNames.includes(t)?t:"system";case Ex.FONT_SIZE_CODE:return this._allowedFontSizes.includes(t)?t:"fs16";case Ex.LINE_HEIGHT:return Tx(t)&&Lx(t)?t:Number.isInteger(t)?t.toFixed(1):1.6;default:return t}},t._validStyles=function(e){var t=this;Object(r.a)(e,function(o,n){Nx.includes(n)?e[n]=t._getValidStyle(n,o):"object"==typeof o&&t._validStyles(o)})},t.validateThemeStyle=function(e){void 0===e&&(e={}),this._validStyles(e)},e}(),Dx=xx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/validators/theme-style-validator.js",localName:t}})}catch(e){}}e(Tx,"isFloat"),e(Lx,"isPositive"),e("system","DEFAULT_FONT_FAMILY"),e("fs16","DEFAULT_FONT_SIZE"),e(1.6,"DEFAULT_LINE_HEIGHT"),e(Ex,"STYLES"),e(Nx,"SUPPORT_STYLES"),e(xx,"ThemeStyleValidator"),e(Dx,"default")}();var Rx=o(717),Ax=o(718),Mx=function(e){function t(){var t;return(t=e.call(this)||this)._toolbarStore=u.V.get("toolbarStore"),t._toolbarService=u.V.get("toolbarService"),t._pluginButtonRegistry=u.V.get("pluginButtonRegistry"),t._componentListStore=u.V.get("componentListStore"),t._selectionInfoStore=u.V.get("selectionInfoStore"),t}h()(t,e);var o=t.prototype;return o.buttonSets=function(e){void 0===e&&(e={});var t=e.ctype,o=this._toolbarService._buttonResolvers[t].overlayToolbar;if(!o)return null;var n=(o({selectedComponents:[e]})||{}).fixedButtonSets;return n?{fixedButtonSets:{top:Object(Ks.a)(n,"top")?this._buttons(t,n.top):null,bottom:Object(Ks.a)(n,"bottom")?this._buttons(t,n.bottom):null}}:null},o._buttons=function(e,t){var o=this;return t?t.map(function(t){var n=o._pluginButtonRegistry.getButtonInfo({compType:e,toolbarName:"overlayToolbar",buttonName:t}),r=Object(J.a)(o._toolbarStore.toolbarState,n.propertyName);return Je()({value:r},n)}):null},t}(u.m),Bx=Mx,Ux=Bx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/overlay-toolbar-use-case.js",localName:t}})}catch(e){}}e(Mx,"OverlayToolbarLayerUseCase"),e(Bx,"default")}();var Vx={defaultTheme:"default",themes:{default:{documentTitle:{default:{title:{fontFamily:"nanumgothic",fontSizeCode:"fs32",align:"left"}}},sectionTitle:{default:{title:{fontFamily:"nanumgothic",fontSizeCode:"fs30",lineHeight:1.5,align:"left",fontColor:"#000"}}},text:{default:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.8,align:"left",fontColor:"#000"}}},image:{default:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},imageGroup:{slide:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}},collage:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},imageStrip:{default:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},video:{default:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},formula:{default:{fontSizeCode:"fs15"}},quotation:{default:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanummyeongjo",align:"center",fontColor:"#000",italic:!0,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}},quotation_line:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanumbarungothic",align:"left",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"left"}},quotation_bubble:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanummyeongjo",align:"center",fontColor:"#000",italic:!1,bold:!0},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}},quotation_underline:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanummyeongjo",align:"left",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"left"}},quotation_postit:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanumbarungothic",align:"center",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}},quotation_corner:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanumbarungothic",align:"center",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}}},table:{default:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout1:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout2:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout3:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout4:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout5:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout6:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout7:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}}}}},userDefinedStyle:{text:{},sectionTitle:{}}},Fx=Vx;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/themes-definition.js",localName:t}})}catch(e){}}(Vx,"default")}();var zx=function(){function e(e){this._uploadProgressLayerService=u.V.get("uploadProgressLayerService"),this._i18n=e,this._totalCount=0}var t=e.prototype;return t.start=function(e){this._totalCount+=e;var t={title:this._i18n("imageBehavior:ready"),description:this._i18n("imageBehavior:file_count",{fileCount:this._totalCount}),totalCount:this._totalCount};this._uploadProgressLayerService.start(t)},t.end=function(e){this._totalCount-=e,this._totalCount<=0&&(this._uploadProgressLayerService.end(),this._totalCount=0)},t.update=function(e,t){var o=this;this._uploadProgressLayerService.update({title:e,description:""+kP.a.fileSizeSI(t),doneStateResolver:function(){return{title:o._i18n("imageBehavior:completed"),description:o._i18n("imageBehavior:image_inserted")}}})},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/image-behavior/progress-layer.js",localName:t}})}catch(e){}}(zx,"ProgressLayer")}();var Wx,Gx=function(){function e(e){this._alertLayerService=u.V.get("alertLayerService"),this._i18n=e}var t=e.prototype;return t.open=function(e){var t=this,o=this._resolveErrorInfo(e);return new Promise(function(n){t._alertLayerService.open(Je()({onClickConfirm:function(){return n(e)}},o))})},t._resolveErrorInfo=function(e){var t=e.length,o=e.filter(function(e){return"SERVER_ERROR"===e.code}).length,n={title:this._i18n("imageBehavior:upload_failed")};return o?(n.type="alert",n.description=this._i18n("imageBehavior:server_fall_over_error")):(n.type="file",n.description=this._i18n("imageBehavior:upload_failed_desc",{failUploadCount:t}),n.errorList=e),n},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/image-behavior/error-alert.js",localName:t}})}catch(e){}}(Gx,"ErrorAlert")}();var Hx,qx=/\n|\r/g,Jx=(Wx=function(){function e(){var e=this;this._repaintCursor=Object(ol.a)(function(){e._virtualEditable.repaintCursor()},500),this._imageTypeLayerService=u.V.get("imageTypeLayerService"),this._configAgent=u.V.get("configAgent"),this._i18n=u.V.get("i18n"),this._editingService=u.V.get("editingService"),this._imageUploadService=u.V.get("imageUploadService"),this._imageComponentService=u.V.get("imageComponentService"),this._imageGroupComponentService=u.V.get("imageGroupComponentService"),this._inlineImageService=u.V.get("inlineImageService"),this._canvasScrollingService=u.V.get("canvasScrollingService"),this._documentTitleComponentService=u.V.get("documentTitleComponentService"),this._complexImageLayoutsEnabled=this._configAgent.get("productConfig.complexImageLayoutsEnabled"),this._componentFactory=u.V.get("componentFactory"),this._virtualEditable=u.V.get("virtualEditable"),this._alertLayerService=u.V.get("alertLayerService"),this._locationPrivacyService=u.V.get("locationPrivacyService"),this._componentListStore=u.V.get("componentListStore"),this._imageUploader=$x.getInstance({progressLayer:new zx(this._i18n),errorAlert:new Gx(this._i18n),editingService:this._editingService,eventDispatcherService:u.V.get("eventDispatcherService"),imageUploadService:this._imageUploadService,componentListStore:u.V.get("componentListStore"),sentryManager:u.V.get("sentryManager")})}var t=e.prototype;return t.destroy=function(){$x.destroy()},t.openFileDialog=function(e){return void 0===e&&(e={}),this._imageUploadService.openFileDialog(e)},t.insertImageFromUrls=function(e,t){var o=this,n=function(e){var t=e.invalidImageErrors;return o.cleanUpImage(t),o._scrollToFocus(),{res:e}};return this._preprocForMaxCountCheck(e).then(function(){return o._imageUploader.insert({validFiles:e,invalidFiles:[]},{makeComponent:function(e){return o._makeImageComponentByUrl(e,t)},onEachUpload:o._onEachUploadedImage}).then(n).then(o._checkUserLocation)})},t.insertExternalImage=function(e,t){var o=this;return this._canUseComplexLayouts(e)?this._preprocForMaxCountCheck(e).then(function(){return o._imageTypeLayerService.open({type:"file",payload:{validFiles:e,invalidFiles:[],length:e.length},insertInterceptor:t})}):this.insertImage({validFiles:e,invalidFiles:[]},t)},t.insertBackground=function(e,t,o){var n=this,r=t.validFiles,i=t.invalidFiles,a=void 0===i?[]:i,s=function(e){var t=e.succeededImages;return n._cleanUpBackground(t,o),e};return this._preprocForMaxCountCheck(r).then(function(){return n._imageUploader.insert({validFiles:r,invalidFiles:a},{makeComponent:n._validate}).then(s)})},t.insertBackgroundFromUrls=function(e,t){var o=this,n=function(e){var t=e.succeededImages;return o._cleanUpBackground(t),e};return this._preprocForMaxCountCheck(t).then(function(){return o._imageUploader.insert({validFiles:t,invalidFiles:[]},{makeComponent:o._validateUrl}).then(n)})},t.insertExternalBackground=function(e,t,o){return this.insertBackground(e,{validFiles:t,invalidFiles:[]},o)},t.insertGroupImage=function(e,t,o){var n=this,r=null,i=function(e){return n._cleanUpImageGroup(r),{res:e,target:r}};return this._preprocForMaxCountCheck(t.validFiles).then(function(){return n._imageUploader.insert(t,{makeComponent:function(){var t=Ft()(Ut.a.mark(function t(i){var a;return Ut.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._makeGroupComponent(i,e,o);case 2:return a=t.sent,r=a.groupImageCompStore,t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onEachUpload:function(e){n._onEachUploadedImageGroup(e,r)}}).then(i).then(n._checkUserLocation)})},t.insertImageGroupFromUrls=function(e,t,o){var n=this,r=null,i=function(e){return n._cleanUpImageGroup(r),{res:e,target:r}};return this._preprocForMaxCountCheck(t).then(function(){return n._imageUploader.insert({validFiles:t,invalidFiles:[]},{makeComponent:function(){var t=Ft()(Ut.a.mark(function t(i){var a;return Ut.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._makeUrlGroupComponentByUrl(i,e,o);case 2:return a=t.sent,r=a.groupImageCompStore,t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onEachUpload:function(e){n._onEachUploadedImageGroup(e,r)}}).then(i).then(n._checkUserLocation)})},t.insertInlineImage=function(e){var t=this,o=e.validFiles,n=e.invalidFiles,r=null,i=function(e){var o=e.invalidImageErrors;return t._cleanUpInline(r,o),e};return this._preprocForMaxCountCheck(o).then(function(){return t._imageUploader.insert({validFiles:o,invalidFiles:n},{makeComponent:function(){var e=Ft()(Ut.a.mark(function e(o){var n;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._makeInlineComponent(o);case 2:return n=e.sent,r=n.compStore,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onEachUpload:function(e){var o=e.code,n=e.response;"SUCCESS"===o&&t._inlineImageService.updateShellImageNodeStore(r,n)}}).then(i)})},t.dropImageFromAside=function(e,t){var o=this;return this._preprocForMaxCountCheck(e).then(function(){return o._imageUploader.insert({validFiles:e,invalidFiles:[]},{makeComponent:function(e){return o._makeDropImageFromAside(e,t)},onEachUpload:o._onEachUploadedImage})})},t._canUseComplexLayouts=function(e){return this._complexImageLayoutsEnabled&&e.length>1},t._validateUrl=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageComponentService.createShellsFromUrl(t,o);case 2:return n=e.sent,r=n.imageCompStores,i=n.ids,e.abrupt("return",{shellImageCompIds:i,validImages:t,invalidImages:[],shellImageComps:r});case 6:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._makeGroupComponent=function(){var e=Ft()(Ut.a.mark(function e(t,o,n){var r,i,a,s,c,l;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validate(t);case 2:return r=e.sent,i=r.shellImageComps,a=r.shellImageCompIds,s=r.validImages,c=r.invalidImages,l=this._imageGroupComponentService.convertToGroupImage(o,i),this._insertComponents([l],n),e.abrupt("return",{validImages:s,invalidImages:c,shellImageComps:i,shellImageCompIds:a,groupImageCompStore:l});case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),t._makeInlineComponent=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s,c;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageComponentService.validateImageFiles(t);case 2:return o=e.sent,e.next=5,this._inlineImageService.createFileUploadData(o);case 5:return n=e.sent,r=n.compStore,i=n.uploadTarget,a=i.ids,s=i.files,c=n.invalidImages,e.abrupt("return",{compStore:r,shellImageCompIds:a,validImages:s,invalidImages:c});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._makeBackgroundImage=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validate(t);case 2:return o=e.sent,n=o.shellImageComps,r=o.shellImageCompIds,i=o.validImages,a=o.invalidImages,e.abrupt("return",{validImages:i,invalidImages:a,shellImageComps:n,shellImageCompIds:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._makeImageComponentByUrl=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validateUrl(t,o);case 2:return n=e.sent,r=n.shellImageComps,i=n.shellImageCompIds,a=n.validImages,s=n.invalidImages,this._insertComponents(r),e.abrupt("return",{shellImageCompIds:i,validImages:a,invalidImages:s,shellImageComps:r});case 9:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._makeUrlGroupComponentByUrl=function(){var e=Ft()(Ut.a.mark(function e(t,o,n){var r,i,a,s,c,l;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validateUrl(t,n);case 2:return r=e.sent,i=r.shellImageComps,a=r.shellImageCompIds,s=r.validImages,c=r.invalidImages,l=this._imageGroupComponentService.convertToGroupImage(o,i),this._insertComponents([l]),e.abrupt("return",{validImages:s,invalidImages:c,shellImageComps:i,shellImageCompIds:a,groupImageCompStore:l});case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),t._makeDropImageFromAside=function(e,t){var o=e.map(function(e){return e.id});return this._insertComponents(e,t),{validImages:e.map(function(e){return encodeURIComponent(e.src)}),invalidImages:[],shellImageComps:e,shellImageCompIds:o}},t._onEachUploadedImageGroup=function(e,t){var o=e.code,n=e.response;if("SUCCESS"===o){var r=n.id,i=this._imageGroupComponentService.getImageComponent(t,r);n.displayFormat=u.C.NORMAL,this._imageComponentService.changeImage(i,n)}},t._cleanUpImageGroup=function(e){var t=this._imageGroupComponentService.getPhaseInfoOfImages(e),o=t.completedCount;if(0!==o&&t)if(1===o){var n=t.completedImages[0].toValidJSON(),r=this._componentFactory.createComponentWithCompData(n);this._editingService.insert({sourceComponents:[r]}),this._editingService.eraseComponent(e.id)}else this._imageGroupComponentService.completeAll(e);else this._editingService.eraseComponent(e.id)},t._cleanUpInline=function(e,t){var o=this;t.forEach(function(t){var n=t.id;n&&o._inlineImageService.deleteShellImageNodeById(e,n)})},t._cleanUpBackground=function(e,t){if(e.length>0){var o=e[0].response;t?t(o):this._documentTitleComponentService.updateBackgroundImage(o)}else this._documentTitleComponentService.reset()},t._preprocForMaxCountCheck=function(e){var t=this;return new Promise(function(o,n){if(t._imageUploadService.isExceededMaxCount(e)){var r=t._imageUploadService.imageMaxUploadCount;t._alertLayerService.open({type:"alert",title:t._i18n("limits:title_exceeded_count_by_max"),description:t._i18n("limits:image_description_exceeded_count_by_max",{maxCount:r}),isDimUse:!1,onClickConfirm:function(){return o(!0)},onClickCancel:function(){return n()}})}else o(!0)})},t._checkUserLocation=function(e){var t=this,o=e.res,n=e.target,r=(o.succeededImages||[]).filter(function(e){return!!Object(J.a)(e,"response.exif",null)});return r.length>0&&this._locationPrivacyService.isAllowedAccess()&&(this._locationPrivacyService.writeUserLocation(),r.forEach(function(e){var o=Object(J.a)(e,"response.id",null),r=Object(J.a)(e,"response.exif",null),i=Yt.a.restoreSpecialChar(r);try{var a=JSON.parse(i),s=t._extractLocationFromExif(a);(n?n.getStoreById(o):t._componentListStore.getComponentById(o)).setState({location:s})}catch(e){}})),o},t._extractLocationFromExif=function(e){var t=e.GPSLatitude,o=e.GPSLongitude;return t&&o?{ctype:"position",latitude:this._calcGPSToDegree(t),longitude:this._calcGPSToDegree(o)}:null},t._calcGPSToDegree=function(e){var t=this,o=e.split(",").map(function(e){return t._calcStringFraction(e)});return o[0]+o[1]/60+o[2]/3600},t._calcStringFraction=function(e){var t=e.split("/").map(function(e){return Number(e)}),o=t[0],n=t[1],r=o/(void 0===n?1:n);return isFinite(r)?r:0},e}(),q()(Wx.prototype,"_validateUrl",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_validateUrl"),Wx.prototype),q()(Wx.prototype,"_makeGroupComponent",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_makeGroupComponent"),Wx.prototype),q()(Wx.prototype,"_makeInlineComponent",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_makeInlineComponent"),Wx.prototype),q()(Wx.prototype,"_makeBackgroundImage",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_makeBackgroundImage"),Wx.prototype),q()(Wx.prototype,"_makeImageComponentByUrl",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_makeImageComponentByUrl"),Wx.prototype),q()(Wx.prototype,"_makeUrlGroupComponentByUrl",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_makeUrlGroupComponentByUrl"),Wx.prototype),q()(Wx.prototype,"_makeDropImageFromAside",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_makeDropImageFromAside"),Wx.prototype),q()(Wx.prototype,"_onEachUploadedImageGroup",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_onEachUploadedImageGroup"),Wx.prototype),q()(Wx.prototype,"_checkUserLocation",[ee.autobind],Object.getOwnPropertyDescriptor(Wx.prototype,"_checkUserLocation"),Wx.prototype),Wx),Kx={onEachUpload:wC.a},Yx=[Promise.resolve({succeededImages:[],failedImages:[],invalidImageErrors:[]})],Xx=function(){function e(){this._uploadPromises=Yx}var t=e.prototype;return t.uploading=function(e){return this._uploadPromises===e},t.add=function(e){return this._uploadPromises=[].concat(this._uploadPromises,[e])},t.reset=function(){this._uploadPromises=Yx},e}(),Qx=new Xx,Zx=null,$x=function(){function e(e){var t=e.progressLayer,o=e.errorAlert,n=e.editingService,r=e.eventDispatcherService,i=e.imageUploadService,a=e.componentListStore,s=e.sentryManager;this._errorAlert=o,this._progressLayer=t,this._editingService=n,this._eventDispatcherService=r,this._imageUploadService=i,this._componentListStore=a,this._sentryManager=s}e.getInstance=function(t){return Zx||(Zx=new e(t))},e.destroy=function(){Zx=null};var t=e.prototype;return t.insert=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i,a,s,c,l;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.validFiles,r=t.invalidFiles,Qx.uploading(Yx)||this._eventDispatcherService.emit(u.z.IN_PROGRESS),i=null,a=this._insert({validFiles:n,invalidFiles:r},o).then(function(e){return i=e}),s=Qx.add(a),e.next=7,Promise.all(s);case 7:if(c=e.sent,!Qx.uploading(s)){e.next=15;break}if(!(l=c.reduce(function(e,t){var o=t.invalidImageErrors;return e.push.apply(e,o),e},[])).length){e.next=13;break}return e.next=13,this._errorAlert.open(l);case 13:Qx.reset(),this._eventDispatcherService.emit(u.z.PROGRESS_COMPLETED);case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._insert=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i,a,s,c,l,p,d,h,f,m;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.validFiles,r=t.invalidFiles,i=this._imageUploadService.invalidImageErrors(r.map(function(e){return{file:e,code:e.code}})),a={succeededImages:[],failedImages:[]},0===n.length){e.next=29;break}return s=Je()({},Kx,o),c=s.makeComponent,l=s.onEachUpload,e.next=7,c(n);case 7:if(p=e.sent,d=p.validImages,h=p.invalidImages,f=p.shellImageCompIds,m=d.length,i.push.apply(i,this._imageUploadService.invalidImageErrors(h)),0===m){e.next=29;break}return this._updateImageCompPhases(f,u.N.PROCESSING),this._progressLayer.start(m),e.prev=16,e.next=19,this._uploadImages(f,d,l);case 19:a=e.sent,e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(16),a.invalidImageErrors=[].concat(i,this._imageUploadService.invalidImageErrors(n.map(function(e,t){return{id:f[t],code:"SERVER_ERROR",file:e}}))),e.abrupt("return",a);case 26:return e.prev=26,this._progressLayer.end(m),e.finish(26);case 29:return i.push.apply(i,this._imageUploadService.invalidImageErrors(a.failedImages.map(function(e){return e.response}))),a.invalidImageErrors=i,e.abrupt("return",a);case 32:case"end":return e.stop()}},e,this,[[16,22,26,29]])}));return function(t,o){return e.apply(this,arguments)}}(),t._uploadImages=function(e,t,o){var n=this;return(kP.a.isFile(t[0])?this._imageUploadService.uploadImagesFromFiles(this._imageUploadService.createSourceList(e,t)):this._imageUploadService.uploadImageFromUrls(this._imageUploadService.createSourceList(e,t))).then(function(e){return Promise.all(e.map(function(e){return e.then(wC.a,wC.a).then(function(e){var t=e.response;n._progressLayer.update(t.fileName,t.fileSize),o(e);var r="SUCCESS"===e.code,i=e.response,a=i.path;return r&&""===a&&n._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageUploadService._onCompleteEach.SUCCESS"),e.setExtra("cause","  path  !"),e.setExtra("data",i),n._sentryManager.captureMessage("   !")}),r&&a&&a.match(qx)&&(i.path=a.replace(qx,""),n._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageUploadService._onCompleteEach.SUCCESS"),e.setExtra("cause","   path CR/LF    !"),e.setExtra("data",i),n._sentryManager.captureMessage("   !")})),e})}))}).then(function(e){var t=Object(ZE.a)(e,function(e){return"FAIL"===e.code}),o=t[0];return{succeededImages:t[1],failedImages:o}})},t._updateImageCompPhases=function(e,t){var o=this;e.map(function(e){var n=o._componentListStore.getComponentById(e);n&&n.updatePhase(t)})},e}();!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/image-behavior/index.js",localName:t}})}catch(e){}}e(qx,"REGEX_CRLF"),e(Jx,"AbstractImageBehavior"),e(Kx,"DEFAULT_CALLBACK"),e(Yx,"DEFAULT_UPLOAD_PROMISE"),e(Xx,"Uploading"),e(Qx,"uploading"),e(Zx,"imageUploaderInstance"),e($x,"ImageUploader")}();var eD=(Hx=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.insertImage=function(e,t){var o=this,n=e.validFiles,r=e.invalidFiles,i=void 0===r?[]:r,a=function(e){var t=e.invalidImageErrors;return o.cleanUpImage(t),o._scrollToFocus(),{res:e}};return this._preprocForMaxCountCheck(n).then(function(){return o._imageUploader.insert({validFiles:n,invalidFiles:i},{makeComponent:function(e){return o._makeImageComponent(e,t)},onEachUpload:o._onEachUploadedImage}).then(a).then(o._checkUserLocation)})},o.insertImageFromCompData=function(e,t){var o=this,n=function(e){var t=e.invalidImageErrors;return o.cleanUpImage(t),o._scrollToFocus(),e};return this._preprocForMaxCountCheck(e).then(function(){return o._imageUploader.insert({validFiles:e,invalidFiles:[]},{makeComponent:function(e){return o._makeImageFromCompData(e,t)},onEachUpload:o._onEachUploadedImage}).then(n)})},o.changeImage=function(e,t){var o=this,n=e.targetStoreId,r=e.selectedImages,i=r.validFiles,a=r.invalidFiles;void 0===t&&(t={});var s=Je()({makeComponent:function(){var e=Ft()(Ut.a.mark(function e(t){var r;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._validate(t);case 2:return r=e.sent,e.abrupt("return",Je()({},r,{shellImageCompIds:[n]}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onEachUpload:this._onEachUploadedImage},t);return this._imageUploader.insert({validFiles:i,invalidFiles:a},s)},o.insert=function(e,t){var o=this,n=e.validFiles,r=e.invalidFiles;return this._preprocForMaxCountCheck(n).then(function(){return o._imageUploader.insert({validFiles:n,invalidFiles:r},t)})},o._makeImageComponent=function(){var e=Ft()(Ut.a.mark(function e(t,o){var n,r,i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validate(t);case 2:return n=e.sent,r=n.shellImageComps,i=n.shellImageCompIds,a=n.validImages,s=n.invalidImages,this._insertComponents(r,o),e.abrupt("return",{validImages:a,invalidImages:s,shellImageComps:r,shellImageCompIds:i});case 9:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._makeImageFromCompData=function(e,t){var o=this._imageComponentService.createShellsFromCompData(e),n=o.imageCompStores,r=o.ids;return this._insertComponents(n,t),{validImages:e.map(function(e){return encodeURIComponent(e.src)}),invalidImages:[],shellImageComps:n,shellImageCompIds:r}},o._onEachUploadedImage=function(e){var t=e.code,o=e.response;"SUCCESS"===t&&(this._imageComponentService.updateShellImageCompStore(o.id,o),this._repaintCursor())},o.cleanUpImage=function(e){this._deleteUploadFailedImageComp(e)},o._deleteUploadFailedImageComp=function(e){var t=this;e.forEach(function(e){var o=e.id;if(o){var n=t._imageComponentService.getComponentStore(o);n&&t._editingService.eraseComponent(n.id)}})},o._validate=function(){var e=Ft()(Ut.a.mark(function e(t){var o,n,r,i,a,s;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageComponentService.createFileUploadData(t);case 2:return o=e.sent,n=o.imageCompStores,r=o.uploadTarget,i=r.ids,a=r.files,s=o.invalidImages,e.abrupt("return",{shellImageComps:n,shellImageCompIds:i,validImages:a,invalidImages:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertComponents=function(e,t){t?t([].concat(e)):this._editingService.insert({sourceComponents:[].concat(e)})},o._scrollToFocus=function(){this._canvasScrollingService.scrollToFocus()},t}(Jx),q()(Hx.prototype,"_makeImageComponent",[ee.autobind],Object.getOwnPropertyDescriptor(Hx.prototype,"_makeImageComponent"),Hx.prototype),q()(Hx.prototype,"_makeImageFromCompData",[ee.autobind],Object.getOwnPropertyDescriptor(Hx.prototype,"_makeImageFromCompData"),Hx.prototype),q()(Hx.prototype,"_onEachUploadedImage",[ee.autobind],Object.getOwnPropertyDescriptor(Hx.prototype,"_onEachUploadedImage"),Hx.prototype),q()(Hx.prototype,"_validate",[ee.autobind],Object.getOwnPropertyDescriptor(Hx.prototype,"_validate"),Hx.prototype),Hx);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/shared-parts/behavior/image-behavior/index.js",localName:t}})}catch(e){}}(eD,"ImageBehavior")}();var tD={storagePolicy:{value:ix.a},spellChecker:{klass:ax,args:[{ref:"configAgent"}]},photoEditor:{klass:ux},videoUploader:{klass:hx,args:[{value:{option:{featureLocalVid:!0,featureCloudVid:!0,featureLinkVid:!1,feature360Vid:!0,featureMetaEdit:!0}}}]},eventDispatcherService:{klass:rP},historyService:{klass:fP},toolbarService:{klass:bP},copyPasteService:{klass:CP},dragAndDropService:{klass:HP},dragGhost:{klass:gx},scrollBody:{klass:Sx},scrollCanvas:{klass:Ix},canvasScrollingService:{klass:JP},a11yService:{klass:YP},editingService:{klass:zT},documentService:{klass:XT},finderService:{klass:ZT},propertyChangeService:{klass:gL},representativeImageService:{klass:SL},panoramaImageService:{klass:IL},selectionService:{klass:ME},themeService:{klass:VE},authService:{klass:zE},crawlerService:{klass:GE},documentValidateService:{klass:qE},fileUploadService:{klass:XE},audioUploadService:{klass:$E},imageUploadService:{klass:lN},videoUploadService:{klass:fN},imageEditService:{klass:gN},formulaEditService:{klass:ON},inlineImageService:{klass:kN},tagService:{klass:TN},themeStore:{klass:VN,args:[{value:Fx}]},themeStyleValidator:{klass:xx},storageService:{klass:EN},styleStore:{klass:qN},toolbarStore:{klass:QN},documentDataStore:{klass:$N},editorStatusStore:{klass:tx.a},componentListStore:{klass:gu},dragAndDropStore:{klass:cu.a},selectionInfoStore:{klass:uj},tokenStore:{klass:ox},stateUpdateBroadcaster:{klass:Px},dragAndDropUseCase:{klass:tu.a},errorRecoveryUseCase:{klass:Rx.a},a11yFocusUseCase:{klass:Ax.a},imageBehavior:{klass:eD},wordCountService:{klass:xN},overlayToolbarUseCase:{klass:Ux},locationPrivacyService:{klass:MN}},oD=tD;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/module-specs.js",localName:t}})}catch(e){}}(tD,"default")}();var nD={h1:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs38"}},h2:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs30"}},h3:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs19"}},h4:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs16"}},h5:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs13"}},h6:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs11"}},img:{componentType:"image",defaultValue:{internalResource:!1,origin:{ctype:"imageOrigin",srcFrom:"copyUrl"}}},hr:{componentType:"horizontalLine"},table:{componentType:"table"},text:{componentType:"text"}},rD=nD,iD=rD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/config/paste-definition/index.js",localName:t}})}catch(e){}}e(nD,"defaultDefinition"),e(rD,"default")}();var aD,sD=iD,cD=sD;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/paste-definition.js",localName:t}})}catch(e){}}(sD,"default")}();var lD,uD=(aD=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="extend-block-word-left"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfWord(u.u.LEFT,e),!1},e}(),q()(aD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(aD.prototype,"execute"),aD.prototype),aD),pD=uD,dD=pD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/block-to-edge-of-word-by-left-use-case.js",localName:t}})}catch(e){}}e(uD,"BlockToEdgeOfWordByLeftUseCase"),e(pD,"default")}();var hD,fD=(lD=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="extend-block-word-right"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfWord(u.u.RIGHT,e),!1},e}(),q()(lD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(lD.prototype,"execute"),lD.prototype),lD),mD=fD,gD=mD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/block-to-edge-of-word-by-right-use-case.js",localName:t}})}catch(e){}}e(fD,"BlockToEdgeOfWordByRightUseCase"),e(mD,"default")}();var yD,bD,_D=(hD=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="bold"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("bold"),!1},e}(),q()(hD.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(hD.prototype,"execute"),hD.prototype),hD),vD=_D,CD=vD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/bold-use-case.js",localName:t}})}catch(e){}}e(_D,"BoldUseCase"),e(vD,"default")}();var OD,SD,kD=(yD=Object(ee.history)({throttle:!0}),bD=function(){function e(){this._editingService=u.V.get("editingService"),this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="backspace"}return e.prototype.execute=function(){return this._editingService.erase(void 0,u.u.LEFT),this._canvasScrollingService.refreshCursorWithScroll(),!1},e}(),q()(bD.prototype,"execute",[ee.preventOnComponentProcessing,yD,K.d],Object.getOwnPropertyDescriptor(bD.prototype,"execute"),bD.prototype),bD),ID=kD,wD=ID;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-text-to-left-use-case.js",localName:t}})}catch(e){}}e(kD,"EraseTextToLeftUseCase"),e(ID,"default")}();var PD,jD,TD=(OD=Object(ee.history)({throttle:!0}),SD=function(){function e(){this._editingService=u.V.get("editingService"),this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="del"}return e.prototype.execute=function(){return this._editingService.erase(void 0,u.u.RIGHT),this._canvasScrollingService.refreshCursorWithScroll(),!1},e}(),q()(SD.prototype,"execute",[ee.preventOnComponentProcessing,OD,K.d],Object.getOwnPropertyDescriptor(SD.prototype,"execute"),SD.prototype),SD),LD=TD,ED=LD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-text-to-right-use-case.js",localName:t}})}catch(e){}}e(TD,"EraseTextToRightUseCase"),e(LD,"default")}();var ND,xD,DD=(PD=Object(ee.history)({throttle:!0}),jD=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this._editingService=u.V.get("editingService"),this._canvasScrollingService=u.V.get("canvasScrollingService")}var t=e.prototype;return t.execute=function(e){var t=this;return this._virtualEditable.extendToEdgeOfWord(u.u.LEFT,e).then(function(){t._erase()}),!1},t._erase=function(){this._editingService.erase(void 0,u.u.LEFT),this._canvasScrollingService.refreshCursorWithScroll()},e}(),q()(jD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(jD.prototype,"execute"),jD.prototype),q()(jD.prototype,"_erase",[PD,K.d],Object.getOwnPropertyDescriptor(jD.prototype,"_erase"),jD.prototype),jD),RD=DD,AD=RD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-word-to-left-use-case.js",localName:t}})}catch(e){}}e(DD,"EraseWordToLeftUseCase"),e(RD,"default")}();var MD,BD=(ND=Object(ee.history)({throttle:!0}),xD=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this._editingService=u.V.get("editingService"),this._canvasScrollingService=u.V.get("canvasScrollingService")}var t=e.prototype;return t.execute=function(e){var t=this;return this._virtualEditable.extendToEdgeOfWord(u.u.RIGHT,e).then(function(){t._erase()}),!1},t._erase=function(){this._editingService.erase(void 0,u.u.RIGHT),this._canvasScrollingService.refreshCursorWithScroll()},e}(),q()(xD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(xD.prototype,"execute"),xD.prototype),q()(xD.prototype,"_erase",[ND,K.d],Object.getOwnPropertyDescriptor(xD.prototype,"_erase"),xD.prototype),xD),UD=BD,VD=UD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-word-to-right-use-case.js",localName:t}})}catch(e){}}e(BD,"EraseWordToRightUseCase"),e(UD,"default")}();var FD,zD=(MD=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="extend-block-down"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.DOWN,e),!1},e}(),q()(MD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(MD.prototype,"execute"),MD.prototype),MD),WD=zD,GD=WD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-down-use-case.js",localName:t}})}catch(e){}}e(zD,"ExtendBlockToDownUseCase"),e(WD,"default")}();var HD,qD=(FD=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="extend-block-line-end"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfLine(u.u.RIGHT,e),!1},e}(),q()(FD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(FD.prototype,"execute"),FD.prototype),FD),JD=qD,KD=JD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-end-of-line-use-case.js",localName:t}})}catch(e){}}e(qD,"ExtendBlockToEndOfLineUseCase"),e(JD,"default")}();var YD,XD=(HD=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="extend-block-left"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.LEFT,e),!1},e}(),q()(HD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(HD.prototype,"execute"),HD.prototype),HD),QD=XD,ZD=QD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-left-use-case.js",localName:t}})}catch(e){}}e(XD,"ExtendBlockToLeftUseCase"),e(QD,"default")}();var $D,eR=(YD=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="extend-block-right"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.RIGHT,e),!1},e}(),q()(YD.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(YD.prototype,"execute"),YD.prototype),YD),tR=eR,oR=tR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-right-use-case.js",localName:t}})}catch(e){}}e(eR,"ExtendBlockToRightUseCase"),e(tR,"default")}();var nR,rR=($D=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="extend-block-line-start"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfLine(u.u.LEFT,e),!1},e}(),q()($D.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor($D.prototype,"execute"),$D.prototype),$D),iR=rR,aR=iR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-start-of-line-use-case.js",localName:t}})}catch(e){}}e(rR,"ExtendBlockToStartOfLineUseCase"),e(iR,"default")}();var sR,cR=(nR=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="extend-block-up"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.UP,e),!1},e}(),q()(nR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(nR.prototype,"execute"),nR.prototype),nR),lR=cR,uR=lR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-up-use-case.js",localName:t}})}catch(e){}}e(cR,"ExtendBlockToUpUseCase"),e(lR,"default")}();var pR,dR,hR=(sR=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="italic"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("italic"),!1},e}(),q()(sR.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(sR.prototype,"execute"),sR.prototype),sR),fR=hR,mR=fR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/italic-use-case.js",localName:t}})}catch(e){}}e(hR,"ItalicUseCase"),e(fR,"default")}();var gR,yR=(pR=Object(ee.history)({sync:!1}),dR=function(){function e(){this._editingService=u.V.get("editingService"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._crawlerBehavior=new Gl,this._crawlerService=u.V.get("crawlerService"),this._canvasLayoutService=u.V.get("canvasLayoutService"),this.actLabel="linebreak"}var t=e.prototype;return t.execute=function(){var e=Ft()(Ut.a.mark(function e(){var t;return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._crawlerService.getCrawlerInfo())){e.next=6;break}return e.next=4,this._insertContentsFromUrl(t);case 4:e.next=7;break;case 6:this._lineBreak();case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._insertContentsFromUrl=function(){var e=Ft()(Ut.a.mark(function e(t){return Ut.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._crawlerBehavior.insertContentsFromUrl(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._lineBreak=function(){if(this._canvasLayoutService.shouldUpdateContentLength()){var e=this._selectionInfoStore.focus.compId;this._canvasLayoutService.setAvailableContentLength(e)}this._editingService.lineBreak()},e}(),q()(dR.prototype,"execute",[ee.sentryCatch,ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(dR.prototype,"execute"),dR.prototype),q()(dR.prototype,"_insertContentsFromUrl",[ee.sentryCatch,pR],Object.getOwnPropertyDescriptor(dR.prototype,"_insertContentsFromUrl"),dR.prototype),q()(dR.prototype,"_lineBreak",[ee.history],Object.getOwnPropertyDescriptor(dR.prototype,"_lineBreak"),dR.prototype),dR),bR=yR,_R=bR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/line-break-use-case.js",localName:t}})}catch(e){}}e(yR,"LineBreakUseCase"),e(bR,"default")}();var vR,CR=(gR=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="indent"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"indent",value:u.B.INCREASE}),!1},e}(),q()(gR.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(gR.prototype,"execute"),gR.prototype),gR),OR=CR,SR=OR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/indent-use-case.js",localName:t}})}catch(e){}}e(CR,"IndentUseCase"),e(OR,"default")}();var kR,IR=(vR=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="outdent"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"indent",value:u.B.DECREASE}),!1},e}(),q()(vR.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(vR.prototype,"execute"),vR.prototype),vR),wR=IR,PR=wR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/outdent-use-case.js",localName:t}})}catch(e){}}e(IR,"OutdentUseCase"),e(wR,"default")}();var jR,TR=(kR=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="move-cursor-down"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.DOWN,e),!1},e}(),q()(kR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(kR.prototype,"execute"),kR.prototype),kR),LR=TR,ER=LR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-down-use-case.js",localName:t}})}catch(e){}}e(TR,"MoveCursorByDownUseCase"),e(LR,"default")}();var NR,xR=(jR=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="move-cursor-left"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.LEFT,e),!1},e}(),q()(jR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(jR.prototype,"execute"),jR.prototype),jR),DR=xR,RR=DR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-left-use-case.js",localName:t}})}catch(e){}}e(xR,"MoveCursorByLeftUseCase"),e(DR,"default")}();var AR,MR=(NR=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="move-cursor-right"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.RIGHT,e),!1},e}(),q()(NR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(NR.prototype,"execute"),NR.prototype),NR),BR=MR,UR=BR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-right-use-case.js",localName:t}})}catch(e){}}e(MR,"MoveCursorByRightUseCase"),e(BR,"default")}();var VR,FR=(AR=function(){function e(){this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="move-cursor-up"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.UP,e),!1},e}(),q()(AR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(AR.prototype,"execute"),AR.prototype),AR),zR=FR,WR=zR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-up-use-case.js",localName:t}})}catch(e){}}e(FR,"MoveCursorByUpUseCase"),e(zR,"default")}();var GR,HR=(VR=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="move-cursor-line-end"}return e.prototype.execute=function(e){return this._virtualEditable.moveToEdgeOfLine(u.u.RIGHT,e),!1},e}(),q()(VR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(VR.prototype,"execute"),VR.prototype),VR),qR=HR,JR=qR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-end-of-line-use-case.js",localName:t}})}catch(e){}}e(HR,"MoveCursorToEndOfLineUseCase"),e(qR,"default")}();var KR,YR=(GR=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="move-cursor-word-left"}return e.prototype.execute=function(e){var t=this;return this._virtualEditable.moveToEdgeOfWord(u.u.LEFT,e).then(function(){t._virtualEditable.appendAriaWithWord()}),!1},e}(),q()(GR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(GR.prototype,"execute"),GR.prototype),GR),XR=YR,QR=XR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-left-by-word-use-case.js",localName:t}})}catch(e){}}e(YR,"MoveCursorToLeftByWordUseCase"),e(XR,"default")}();var ZR,$R=(KR=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="move-cursor-word-right"}return e.prototype.execute=function(e){var t=this;return this._virtualEditable.moveToEdgeOfWord(u.u.RIGHT,e).then(function(){t._virtualEditable.appendAriaWithWord()}),!1},e}(),q()(KR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(KR.prototype,"execute"),KR.prototype),KR),eA=$R,tA=eA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-right-by-word-use-case.js",localName:t}})}catch(e){}}e($R,"MoveCursorToRightByWordUseCase"),e(eA,"default")}();var oA,nA=(ZR=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="move-cursor-line-start"}return e.prototype.execute=function(e){return this._virtualEditable.moveToEdgeOfLine(u.u.LEFT,e),!1},e}(),q()(ZR.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(ZR.prototype,"execute"),ZR.prototype),ZR),rA=nA,iA=rA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-start-of-line-use-case.js",localName:t}})}catch(e){}}e(nA,"MoveCursorToStartOfLineUseCase"),e(rA,"default")}();var aA,sA=(oA=function(){function e(){this._eventDispatcherService=u.V.get("eventDispatcherService"),this._a11yService=u.V.get("a11yService"),this.actLabel="move-forward-to-service"}return e.prototype.execute=function(e){if(this._a11yService){if(!this._a11yService.isInsideEditorWrapper(e.target))return;this._eventDispatcherService.dispatch(u.z.EXIT_EDITOR_FORWARD,e),e.defaultPrevented||this._a11yService.focusToOutsideNextTabbable()}},e}(),q()(oA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(oA.prototype,"execute"),oA.prototype),oA),cA=sA,lA=cA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-forward-to-service-use-case.js",localName:t}})}catch(e){}}e(sA,"MoveForwardToServiceUseCase"),e(cA,"default")}();var uA,pA=(aA=function(){function e(){this._eventDispatcherService=u.V.get("eventDispatcherService"),this._a11yService=u.V.get("a11yService"),this.actLabel="move-forward-to-reserve"}return e.prototype.execute=function(e){if(this._a11yService){if(!this._a11yService.isInsideEditorWrapper(e.target))return;this._eventDispatcherService.dispatch(u.z.EXIT_EDITOR_REVERSE,e),e.defaultPrevented||this._a11yService.focusToOutsidePrevTabbable()}},e}(),q()(aA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(aA.prototype,"execute"),aA.prototype),aA),dA=pA,hA=dA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-reverse-to-service-use-case.js",localName:t}})}catch(e){}}e(pA,"MoveReverseToServiceUseCase"),e(dA,"default")}();var fA,mA=(uA=function(){function e(){this._a11yService=u.V.get("a11yService"),this.actLabel="focus-toolbar"}return e.prototype.execute=function(){this._a11yService.focusToToolbar()},e}(),q()(uA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(uA.prototype,"execute"),uA.prototype),uA),gA=mA,yA=gA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/focus-toolbar-use-case.js",localName:t}})}catch(e){}}e(mA,"FocusToolbarUseCase"),e(gA,"default")}();var bA,_A=(fA=function(){function e(){this._historyService=u.V.get("historyService"),this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="redo"}return e.prototype.execute=function(){return this._historyService.redo(),this._canvasScrollingService.scrollToFocus(),!1},e}(),q()(fA.prototype,"execute",[ee.preventOnDocumentProcessing,K.d],Object.getOwnPropertyDescriptor(fA.prototype,"execute"),fA.prototype),fA),vA=_A,CA=vA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/redo-use-case.js",localName:t}})}catch(e){}}e(_A,"RedoUseCase"),e(vA,"default")}();var OA,SA,kA=(bA=function(){function e(){this._selectionService=u.V.get("selectionService"),this.actLabel="select-all"}return e.prototype.execute=function(){this._selectionService.selectAll()},e}(),q()(bA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(bA.prototype,"execute"),bA.prototype),bA),IA=kA,wA=IA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/select-all-use-case.js",localName:t}})}catch(e){}}e(kA,"SelectAllUseCase"),e(IA,"default")}();var PA,jA=(OA=Object(ee.history)({throttle:!0}),SA=function(){function e(){this._editingService=u.V.get("editingService"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this._canvasLayoutService=u.V.get("canvasLayoutService"),this.actLabel="soft-linebreak"}return e.prototype.execute=function(){if(this._canvasLayoutService.shouldUpdateContentLength()){var e=this._selectionInfoStore.focus.compId;this._canvasLayoutService.setAvailableContentLength(e)}return this._editingService.softLineBreak(),!1},e}(),q()(SA.prototype,"execute",[OA,K.d],Object.getOwnPropertyDescriptor(SA.prototype,"execute"),SA.prototype),SA),TA=jA,LA=TA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/soft-line-break-use-case.js",localName:t}})}catch(e){}}e(jA,"SoftLineBreakUseCase"),e(TA,"default")}();var EA,NA=(PA=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="strike"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("strikeThrough"),!1},e}(),q()(PA.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(PA.prototype,"execute"),PA.prototype),PA),xA=NA,DA=xA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/strikethrough-use-case.js",localName:t}})}catch(e){}}e(NA,"StrikethroughUseCase"),e(xA,"default")}();var RA,AA=(EA=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="underline"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("underline"),!1},e}(),q()(EA.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(EA.prototype,"execute"),EA.prototype),EA),MA=AA,BA=MA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/underline-use-case.js",localName:t}})}catch(e){}}e(AA,"UnderlineUseCase"),e(MA,"default")}();var UA,VA=(RA=function(){function e(){this._historyService=u.V.get("historyService"),this._canvasScrollingService=u.V.get("canvasScrollingService"),this.actLabel="undo"}return e.prototype.execute=function(){return this._historyService.undo(),this._canvasScrollingService.scrollToFocus(),!1},e}(),q()(RA.prototype,"execute",[ee.preventOnDocumentProcessing,K.d],Object.getOwnPropertyDescriptor(RA.prototype,"execute"),RA.prototype),RA),FA=VA,zA=FA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/undo-use-case.js",localName:t}})}catch(e){}}e(VA,"UndoUseCase"),e(FA,"default")}();var WA,GA=(UA=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="superscript"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("superscript"),!1},e}(),q()(UA.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(UA.prototype,"execute"),UA.prototype),UA),HA=GA,qA=HA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/superscript-use-case.js",localName:t}})}catch(e){}}e(GA,"SuperscriptUseCase"),e(HA,"default")}();var JA=(WA=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="subscript"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("subscript"),!1},e}(),q()(WA.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(WA.prototype,"execute"),WA.prototype),WA),KA=JA,YA=KA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/subscript-use-case.js",localName:t}})}catch(e){}}e(JA,"SubscriptUseCase"),e(KA,"default")}();var XA,QA=(XA=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="template",t}return h()(t,e),t.prototype.execute=function(){return this.toggle(),!1},t}(o(695).a),q()(XA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(XA.prototype,"execute"),XA.prototype),XA),ZA=QA,$A=ZA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-template-panel-use-case.js",localName:t}})}catch(e){}}e(QA,"ToggleTemplatePanelUseCase"),e(ZA,"default")}();var eM,tM=(eM=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="search",t}return h()(t,e),t.prototype.execute=function(){return this.toggle(),!1},t}(o(703).a),q()(eM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(eM.prototype,"execute"),eM.prototype),eM),oM=tM,nM=oM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-search-panel-use-case.js",localName:t}})}catch(e){}}e(tM,"ToggleSearchPanelUseCase"),e(oM,"default")}();var rM,iM,aM=(rM=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="sticker",t}return h()(t,e),t.prototype.execute=function(){return this.toggle(),!1},t}(o(694).a),q()(rM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(rM.prototype,"execute"),rM.prototype),rM),sM=aM,cM=sM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-sticker-panel-use-case.js",localName:t}})}catch(e){}}e(aM,"ToggleStickerPanelUseCase"),e(sM,"default")}();var lM=(iM=function(){function e(){this._a11yhelpLayerService=u.V.get("a11yHelpLayerService"),this.actLabel="a11y-hlep-layer"}return e.prototype.execute=function(){return this._a11yhelpLayerService.toggleLayer(),!1},e}(),q()(iM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(iM.prototype,"execute"),iM.prototype),iM),uM=lM,pM=uM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-a11y-help-layer-use-case.js",localName:t}})}catch(e){}}e(lM,"ToggleA11yHelpLayerUseCase"),e(uM,"default")}();var dM,hM=(dM=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="insert-image",t}return h()(t,e),t.prototype.execute=function(){return this.insertImage(),!1},t}(o(701).a),q()(dM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(dM.prototype,"execute"),dM.prototype),dM),fM=hM,mM=fM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-image-use-case.js",localName:t}})}catch(e){}}e(hM,"InsertImageUseCase"),e(fM,"default")}();var gM,yM=(gM=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="insert-video",t}return h()(t,e),t.prototype.execute=function(){return this.insertVideo(),!1},t}(o(754).a),q()(gM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(gM.prototype,"execute"),gM.prototype),gM),bM=yM,_M=bM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-video-use-case.js",localName:t}})}catch(e){}}e(yM,"InsertVideoUseCase"),e(bM,"default")}();var vM,CM=(vM=function(e){function t(){var t;return(t=e.call(this)||this)._finderService=u.V.get("finderService"),t.actLabel="insert-quotation",t}return h()(t,e),t.prototype.execute=function(){var e=this._finderService.getSelectedComponents()[0];return"quotation"===e.ctype?e.rotationLayout():this.insertQuotation("default"),!1},t}(o(702).a),q()(vM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(vM.prototype,"execute"),vM.prototype),vM),OM=CM,SM=OM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-quotation-use-case.js",localName:t}})}catch(e){}}e(CM,"InsertQuotationUseCase"),e(OM,"default")}();var kM,IM,wM=(kM=function(e){function t(){var t;return(t=e.call(this)||this)._finderService=u.V.get("finderService"),t.actLabel="insert-horizontal-line",t}return h()(t,e),t.prototype.execute=function(){var e=this._finderService.getSelectedComponents()[0];return"horizontalLine"===e.ctype?e.rotationLayout():this.insertHorizontalLine("default"),!1},t}(o(699).a),q()(kM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(kM.prototype,"execute"),kM.prototype),kM),PM=wM,jM=PM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-horizontal-line-use-case.js",localName:t}})}catch(e){}}e(wM,"InsertHorizontalLineUseCase"),e(PM,"default")}();var TM,LM=(IM=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="pageup"}return e.prototype.execute=function(){return this._virtualEditable.pageUp(),!1},e}(),q()(IM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(IM.prototype,"execute"),IM.prototype),IM),EM=LM,NM=EM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/page-up-use-case.js",localName:t}})}catch(e){}}e(LM,"PageUpUseCase"),e(EM,"default")}();var xM,DM=(TM=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="pagedown"}return e.prototype.execute=function(){return this._virtualEditable.pageDown(),!1},e}(),q()(TM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(TM.prototype,"execute"),TM.prototype),TM),RM=DM,AM=RM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/page-down-use-case.js",localName:t}})}catch(e){}}e(DM,"PageDownUseCase"),e(RM,"default")}();var MM,BM=(xM=function(){function e(){this._eventDispatcherService=u.V.get("eventDispatcherService"),this.actLabel="temporary-save"}return e.prototype.execute=function(){return this._eventDispatcherService.emit("temporarySaveTriggered"),!1},e}(),q()(xM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(xM.prototype,"execute"),xM.prototype),xM),UM=BM,VM=UM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/temporary-save-use-case.js",localName:t}})}catch(e){}}e(BM,"TemporarySaveUseCase"),e(UM,"default")}();var FM,zM=(MM=function(){function e(){this._a11yService=u.V.get("a11yService"),this.actLabel="close-layer"}return e.prototype.execute=function(){return u.V.filterWithName(function(e){return e.endsWith("LayerService")}).forEach(function(e){e.enableEscapeKey&&e.enableEscapeKey()&&e.close()}),u.V.filterWithName(function(e){return e.endsWith("ToolbarLayoutService")}).forEach(function(e){e.hideAllLayers()}),this._a11yService&&this._a11yService.focusToEditable(),!1},e}(),q()(MM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(MM.prototype,"execute"),MM.prototype),MM),WM=zM,GM=WM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/close-layer-use-case.js",localName:t}})}catch(e){}}e(zM,"CloseLayerUseCase"),e(WM,"default")}();var HM,qM=(FM=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="align-left"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"align",value:"left"}),!1},e}(),q()(FM.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(FM.prototype,"execute"),FM.prototype),FM),JM=qM,KM=JM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/align-by-left-use-case.js",localName:t}})}catch(e){}}e(qM,"AlignByLeftUseCase"),e(JM,"default")}();var YM,XM=(HM=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="align-center"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"align",value:"center"}),!1},e}(),q()(HM.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(HM.prototype,"execute"),HM.prototype),HM),QM=XM,ZM=QM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/align-by-center-use-case.js",localName:t}})}catch(e){}}e(XM,"AlignByCenterUseCase"),e(QM,"default")}();var $M,eB=(YM=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this.actLabel="align-right"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"align",value:"right"}),!1},e}(),q()(YM.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(YM.prototype,"execute"),YM.prototype),YM),tB=eB,oB=tB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/align-by-right-use-case.js",localName:t}})}catch(e){}}e(eB,"AlignByRightUseCase"),e(tB,"default")}();var nB,rB=($M=function(){function e(){this._virtualEditable=u.V.get("virtualEditable"),this.actLabel="arive-live"}return e.prototype.execute=function(){this._virtualEditable.toggleAriaLive()},e}(),q()($M.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor($M.prototype,"execute"),$M.prototype),$M),iB=rB,aB=iB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-aria-live-use-case.js",localName:t}})}catch(e){}}e(rB,"ToggleAriaLiveUseCase"),e(iB,"default")}();var sB=(nB=function(){function e(){this._propertyChangeService=u.V.get("propertyChangeService"),this._configAgent=u.V.get("configAgent"),this._editingService=u.V.get("editingService"),this._selectionInfoStore=u.V.get("selectionInfoStore"),this.actLable="space"}var t=e.prototype;return t.execute=function(e){if(!(!1===this._configAgent.get("productConfig.textFormat.list"))&&this._propertyChangeService.canBeListBySpace()){var t=this._convertToList();return Lt.a.log(e,"hotk."+(t===u.F.BULLET?"listbullet":"listdecimal")),!1}return!0},t._convertToList=function(){var e=this._propertyChangeService.convertToList();return this._removePrefix(),e},t._removePrefix=function(){var e=this._selectionInfoStore.toValidJSON();e.start.offset=0,this._selectionInfoStore.setRange({start:e.start,end:e.end}),this._editingService.erase(this._selectionInfoStore.toValidJSON())},e}(),q()(nB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(nB.prototype,"execute"),nB.prototype),q()(nB.prototype,"_convertToList",[ee.history],Object.getOwnPropertyDescriptor(nB.prototype,"_convertToList"),nB.prototype),nB),cB=sB,lB=cB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/space-use-case.js",localName:t}})}catch(e){}}e(sB,"SpaceUseCase"),e(cB,"default")}();var uB=[{keySet:["mod+b"],useCase:CD,nClickCode:"hotk.bold"},{keySet:["mod+i"],useCase:mR,nClickCode:"hotk.italic"},{keySet:["mod+u"],useCase:BA,nClickCode:"hotk.underline"},{keySet:["command+option+s"],useCase:DA,targetOs:"Mac OS X",nClickCode:"hotk.strike"},{keySet:["ctrl+shift+s"],useCase:DA,targetOs:"!Mac OS X",nClickCode:"hotk.strike"},{keySet:["mod+a"],useCase:wA,nClickCode:"hotk.selectall"},{keySet:["mod+z"],useCase:zA,nClickCode:"hotk.undo"},{keySet:["command+shift+z"],useCase:CA,targetOs:"Mac OS X",nClickCode:"hotk.redo"},{keySet:["ctrl+y"],useCase:CA,targetOs:"!Mac OS X",nClickCode:"hotk.redo"},{keySet:["del"],useCase:ED,scopes:["canvas"]},{keySet:["backspace"],useCase:wD,scopes:["canvas"]},{keySet:["shift+enter"],useCase:LA},{keySet:["enter"],useCase:_R,scopes:["canvas"]},{keySet:["space"],useCase:lB},{keySet:["shift+tab"],useCase:PR,scopes:["canvas"],nClickCode:"hotk.outdent"},{keySet:["tab"],useCase:SR,scopes:["canvas"],nClickCode:"hotk.indent"},{keySet:["left"],useCase:RR,scopes:["canvas"]},{keySet:["right"],useCase:UR,scopes:["canvas"]},{keySet:["up"],useCase:WR,scopes:["canvas"]},{keySet:["down"],useCase:ER,scopes:["canvas"]},{keySet:["shift+left"],useCase:ZD,scopes:["canvas"]},{keySet:["shift+right"],useCase:oR,scopes:["canvas"]},{keySet:["shift+up"],useCase:uR,scopes:["canvas"]},{keySet:["shift+down"],useCase:GD,scopes:["canvas"]},{keySet:["home","meta+left"],useCase:iA,scopes:["canvas"]},{keySet:["end","meta+right"],useCase:JR,scopes:["canvas"]},{keySet:["shift+home","shift+meta+left"],useCase:aR,scopes:["canvas"]},{keySet:["shift+end","shift+meta+right"],useCase:KD,scopes:["canvas"]},{keySet:["option+backspace"],useCase:AD,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["option+del"],useCase:VD,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["option+left"],useCase:QR,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["option+right"],useCase:tA,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["shift+option+left"],useCase:dD,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["shift+option+right"],useCase:gD,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["ctrl+left"],useCase:QR,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["ctrl+right"],useCase:tA,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["ctrl+backspace"],useCase:AD,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["ctrl+del"],useCase:VD,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["shift+ctrl+left"],useCase:dD,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["shift+ctrl+right"],useCase:gD,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["mod+shift+u"],useCase:qA,nClickCode:"hotk.supsct"},{keySet:["mod+shift+y"],useCase:YA,nClickCode:"hotk.subct"},{keySet:["pageup"],useCase:NM},{keySet:["pagedown"],useCase:AM},{keySet:["ctrl+alt+i"],useCase:mM,nClickCode:"hotk.img"},{keySet:["ctrl+alt+k"],useCase:cM,nClickCode:"hotk.sticker"},{keySet:["ctrl+alt+h"],useCase:jM,nClickCode:"hotk.horizt"},{keySet:["ctrl+alt+q"],useCase:SM,nClickCode:"hotk.quota"},{keySet:["ctrl+alt+m"],useCase:_M,nClickCode:"hotk.video"},{keySet:["ctrl+alt+s"],useCase:nM,nClickCode:"hotk.search"},{keySet:["ctrl+alt+t"],useCase:$A,nClickCode:"hotk.template"},{keySet:["mod+shift+s"],useCase:VM,nClickCode:"hotk.save"},{keySet:["escape"],useCase:GM},{keySet:["ctrl+alt+l"],useCase:KM,nClickCode:"hotk.left"},{keySet:["ctrl+alt+c"],useCase:ZM,nClickCode:"hotk.center"},{keySet:["ctrl+alt+r"],useCase:oB,nClickCode:"hotk.right"},{keySet:["mod+alt+z"],useCase:aB,nClickCode:"hotk.toggleAriaLive"},{keySet:["alt+."],useCase:lA,nClickCode:"hotk.moveForwardService"},{keySet:["alt+,"],useCase:hA,nClickCode:"hotk.moveReverseService"},{keySet:["alt+f10"],useCase:yA,nClickCode:"hotk.focusToolbar"},{keySet:["alt+0"],useCase:pM,nClickCode:"hotk.toggleA11yHelpLayer"}],pB=uB;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/hotkey-definition.js",localName:t}})}catch(e){}}(uB,"default")}();var dB={plugins:nP,moduleSpecs:oD,themesDefinition:Fx,pasteDefinition:cD,hotkey:pB};t.default=dB;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/index.js",localName:t}})}catch(e){}}(dB,"default")}()},1261:function(e,t,o){"use strict";var n,r,i=o(59),a=o.n(i),s=o(60),c=o.n(s),l=o(1),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=o(49),g=o.n(m),y=(o(61),o(106)),b=o(16),_=o(4),v=o(67),C=o(63),O=o(105),S=o(152),k=o(64),I=o(117),w=o(72),P=o(182),j=o(1195),T=o(711),L=o(97),E=o(154),N=o(126),x=o(171),D=o(48),R=o(50),A=o(640),M=o(641),B=o(513),U=o(507),V=o(282),F=o(757),z=o(116),W={BOTH:Symbol("both"),TOP:Symbol("top"),BOTTOM:Symbol("bottom"),NONE:Symbol("none")},G=function(e){var t=[],o=[];if(e.forEach(function(e){if(e.isListParagraph())o.push(e);else{if(o.length){var n=new F.a({paragraphs:o});t.push(n),o=[]}t.push(e)}}),o.length){var n=new F.a({paragraphs:o});t.push(n)}return t},H=(n=function(e){function t(t){var o;return o=e.call(this)||this,c()(o,"paragraphs",r,d()(o)),o.paragraphs=G(t),o}f()(t,e);var o=t.prototype;return o.changeTreeToNormal=function(e){var t=this._trimParagraphs(e);if(t.length){var o=this._indexOf(t[0]),n=o[0],r=o[1],i=this._indexOf(t[t.length-1]),a=i[0],s=i[1];if(n===a){var c,l=this._getParaAt(n).split(s+1),u=l[0],p=l[1],d=[u.split(r)[0]].concat(t,[p]).filter(z.a);(c=this.paragraphs).splice.apply(c,[n,1].concat(d))}else{var h,f=this._getParaAt(n),m=this._getParaAt(a),g=f.split(r)[0],y=m.split(s+1)[1],b=[g].concat(t,[y]).filter(z.a);(h=this.paragraphs).splice.apply(h,[n,a-n+1].concat(b))}}},o._indexOf=function(e){if(!e)return[-1];var t=this.paragraphs.findIndex(function(t){return t.id===e.id});if(t>-1)return[t];var o=this._findTreeOf(e);return o?[this.paragraphs.indexOf(o),o.indexOf(e)]:[-1]},o._trimParagraphs=function(e){var t,o=e.length,n=1/0,r=1/0;for(t=0;t<o;t++)if(this._isInTree(e[t])){n=t;break}for(var i=o-1;i>=t;i--)if(this._isInTree(e[i])){r=i;break}return e.slice(n,r+1)},o._isInTree=function(e){return this._indexOf(e).length>1},o._findTreeOf=function(e){return this.paragraphs.find(function(t){return t instanceof F.a&&t.hasParagraph(e)})},o.indexOfParaInItsListItem=function(e){return e.isListParagraph()?this.getParagraphsInSameListItem(e).indexOf(e):-1},o.getParagraphsWithSiblings=function(e){var t=this;return e.reduce(function(e,o){if(e.some(function(e){return e.id===o.id}))return e;if(t.paragraphs.some(function(e){return e.id===o.id}))return e.push(o),e;var n=t._findTreeOf(o);return e.push.apply(e,n.getSiblings(o)),e},[])},o.getTreeNodesInSameListItem=function(e){var t=this._findTreeOf(e);return t?t.getNodesInSameListItem(e):[]},o.getParagraphsInSameListItem=function(e){return this.getTreeNodesInSameListItem(e).map(function(e){return e.paragraph})},o.getListTypeOfParagraph=function(e){return this._findTreeOf(e).getSiblingType(e)},o.updateListType=function(e){var t=this._findTreeOf(e);if(t)t.updateListType(e);else{var o=this.paragraphs.findIndex(function(t){return t.id===e.id}),n=new F.a({paragraphs:[e]});this.paragraphs.splice(o,1,n),this._mergeWithAdjacentTree(o)}},o.updateIndent=function(e){var t=this._findTreeOf(e);t&&t.updateListLevel(e)},o._getAdjacentSideToTree=function(e){var t=this._getParaAt(e),o=this._getParaAt(e-1),n=this._getParaAt(e+1);return t instanceof F.a?o instanceof F.a&&n instanceof F.a?W.BOTH:o instanceof F.a?W.TOP:n instanceof F.a?W.BOTTOM:W.NONE:W.NONE},o._getParaAt=function(e){return 0<=e&&e<this.paragraphs.length?this.paragraphs[e]:null},o._mergeWithAdjacentTree=function(e){var t=this._getAdjacentSideToTree(e),o=this._getParaAt(e),n=this._getParaAt(e-1),r=this._getParaAt(e+1);if(t===W.BOTH){var i=n.mergeWith(o);i=i.mergeWith(r),this.paragraphs.splice(e-1,3,i)}else if(t===W.TOP){var a=n.mergeWith(o);this.paragraphs.splice(e-1,2,a)}else if(t===W.BOTTOM){var s=o.mergeWith(r);this.paragraphs.splice(e,2,s)}},o.addParagraph=function(e,t){var o;void 0===t&&(t=Object(w.a)(this.paragraphs));var n=this._indexOf(t),r=n[0],i=n[1];if(i>=0){var a=this._getParaAt(r).split(i+1)[1];a&&this.paragraphs.splice(r+1,0,a)}var s=G(e);(o=this.paragraphs).splice.apply(o,[r+1,0].concat(s)),this._mergeWithAdjacentTree(r+1),this._mergeWithAdjacentTree(r+s.length)},o.removeParagraph=function(e){if(e.isListParagraph()){var t=this._findTreeOf(e),o=this._indexOf(e)[0];t.removeParagraph(e),0===t.root.size&&this._removeParagraphList(o)}else{var n=this.paragraphs.findIndex(function(t){return t.id===e.id});this._removeParagraphList(n)}},o._removeParagraphList=function(e){e>=0&&(this.paragraphs.splice(e,1),this._mergeWithAdjacentTree(e-1))},o.removeParagraphBetween=function(e,t){var o=this._indexOf(e),n=o[0],r=o[1],i=n;if(r>-1){var a=this._getParaAt(n),s=r>0&&r<a.paragraphs.length;a.split(r),s&&i++}var c=this._indexOf(t),l=c[0],u=c[1],p=l;if(u>-1){var d=this._getParaAt(l).split(u+1)[1];d&&this.paragraphs.splice(l+1,0,d)}this.paragraphs.splice(i,p+1-i),this._mergeWithAdjacentTree(n)},o.moveParagraphsAfter=function(e,t){this._findTreeOf(e).moveParagraphsAfter(e,t)},o.clear=function(){this.paragraphs=[]},t}(R.w),r=g()(n.prototype,"paragraphs",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n),q=H,J=q;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/structured-paragraph-store.js",localName:t}})}catch(e){}}e(W,"ADJACENT_SIDE"),e(G,"structureParagraphs"),e(H,"StructuredParagraphStore"),e(q,"default")}();var K,Y,X,Q,Z,$=o(191);o.d(t,"a",function(){return ne});var ee=R.F.NONE,te=9,oe=Math.max.apply(null,Object(S.a)(R.Q).map(function(e){return e.length})),ne=(K=Object(D.e)({keepAlive:!0}),Y=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="textUnit",o.maxLength=null,o.minLevel=0,o.maxLevel=te,o.disable=!1,o.attributes={cursor:null,selection:"text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},insertion:"text",paste:"text",drop:"text",erasure:"text"},o._styleFilter={},o._inputFilter=null,c()(o,"hasFilteredText",X,d()(o)),c()(o,"isOverTextLimit",Q,d()(o)),c()(o,"paragraphs",Z,d()(o));var n=t,r=n.state,i=void 0===r?[]:r,a=n.config,s=void 0===a?{}:a;return o._filterByInputFilter=o._filterByInputFilter.bind(d()(o)),o.attributes=Object(y.a)(o.attributes,s.attributes),o.maxLength=Object(b.a)(s,"maxLength",o.maxLength),o.maxLevel=Object(b.a)(s,"indent.maxLevel",o.maxLevel),o.minLevel=Object(b.a)(s,"indent.minLevel",o.minLevel),o.insertion=Object(b.a)(s,"insertion",o.insertion),o.erasure=Object(b.a)(s,"erasure",o.erasure),o.disable=Object(b.a)(s,"disable",o.disable),o.paragraphs=o._createParagraphStores(o._extractParagraphs(i)),o._inputFilter=Object(b.a)(s,"inputFilter",o._inputFilter),o._hashArray=new A.a(o.paragraphs),o._styleFilter=o._applyFilterByConfig(s.filterTextStyle),o._filterTextStyle(o.paragraphs),o.structuredParagraphStore=new J(o.paragraphs),!1===o.isLineBreakable()&&o._filterLineBreak(),o}f()(t,e);var o=t.prototype;return o._applyFilterByConfig=function(e){var t=R.V.get("configAgent"),o=Object(y.a)(this._styleFilter,e);return!1===t.get("productConfig.textFormat.list")&&(o.list=$.b.NOT_ALLOWED),o},o._extractParagraphs=function(e){return e&&e.length?e:e instanceof Array==!1&&e&&e.paragraphs?e.paragraphs:[new V.a]},o.isLineBreakable=function(){var e=["line-break-in-paragraph","soft-and-move-to-next-text-at-end","hard-and-insert-empty-line-at-end"],t=e.includes(this.attributes.lineBreak.enter),o=e.includes(this.attributes.lineBreak.shiftEnter);return t||o},o._filterLineBreak=function(){var e=this.paragraphs;if(!(e.length<=1))for(var t=this.getFirstParagraph(),o=e.length,n=1;n<o;n++)t.mergeWithSpace(e[1]),this.removeParagraph(e[1].id)},o._filterTextStyle=function(e){var t=this;Object(v.a)(e,function(e){Object(C.a)(t._styleFilter)||e.filterTextStyle(t._styleFilter),t.themeStyle&&e.updateTheme(t.themeStyle)})},o.addParagraph=function(e,t){var o=Object(_.a)(e)||D.f.isObservableArray(e)?e:[e];this._filterTextStyle(o),this._hashArray.add(o,t);var n=this.getParagraphByIndex(t-1);this.structuredParagraphStore.addParagraph(o,n)},o.addParagraphAfter=function(e,t){var o=this.getParagraphIndex(e.id)+1;this.addParagraph(t,o)},o.removeParagraph=function(e){var t=this.getParagraphById(e),o=this.getPrevParagraph(e),n=this.structuredParagraphStore.getParagraphsInSameListItem(t);this._hashArray.remove(e),this.structuredParagraphStore.removeParagraph(t),n.shift(),t.isListParagraph()&&t.listType!==ee&&n.length&&(o&&o.isListParagraph()?(this._updateListLevel(n,o.listLevel),this.structuredParagraphStore.moveParagraphsAfter(o,n)):this._updateListType(n,"reset"))},o.removeParagraphsBetween=function(e,t){var o=this.getParagraphById(e)||this.getFirstParagraph(),n=this.getParagraphById(t)||this.getLastParagraph();this._hashArray.removeBetween(e,t),this.structuredParagraphStore.removeParagraphBetween(o,n)},o.shouldAdjustWritePoint=function(e){var t=this.getNodeByPoint(e);return this.isLinkNodeEdge(e)||!t.isTextNode()},o.adjustWritePointOnEdge=function(e){var t=this.getParagraphById(e.paraId).adjustWritePointOnEdge(e);return a()({},e,t)},o.write=function(e,t,o){var n=this._filterText(e),r=this._writeText(n,t,o),i=this.maxLength;if(null!==i&&this.textLength>i){this.turnOnOverTextLimit();var a=this.textLength-this.maxLength,s=e.substr(0,e.length-a);return t.offset=o+e.length,this._writeText(s,t,o)}return r},o.breakLine=function(e,t){var o=void 0===t?{}:t,n=o.shiftEnter,r=o.blockModeBefore;if(this.isFullText)return this.turnOnOverTextLimit(),e;if(!r&&!n){var i=this.getParagraphById(e.paraId);if(i.isListParagraph()&&i.isEmpty()&&1===this.structuredParagraphStore.getTreeNodesInSameListItem(i).length)return 0===i.listLevel?this._changeTreeToNormal([i]):this._updateListLevelByDiff([i],-1),e}return this.splitParagraph(e,n).back.getStartPoint()},o.turnOnOverTextLimit=function(){this.isOverTextLimit=!0},o.turnOffOverTextLimit=function(){this.isOverTextLimit=!1},o.turnOnFilteredTextState=function(){this.hasFilteredText=!0},o.turnOffFilteredTextState=function(){this.hasFilteredText=!1},o.setAvailableContentLength=function(e){this.maxLength=e},o.resetAvailableContentLength=function(){this.maxLength=null},o.split=function(e){var o=new t({config:{disable:this.disable,filterTextStyle:this._styleFilter,maxLength:this.maxLength,attributes:this.attributes,themeStyle:this.themeStyle}});o.clear();var n=this.splitParagraph(e).back,r=this.getLastParagraph(),i=this.detachParagraphs(n.id,r.id),a=o.getParagraphsLength();return o.addParagraph(i,a),{front:this,back:o}},o.splitParagraph=function(e,t){var o=this.getParagraphById(e.paraId),n=o.split(e),r=n.front,i=n.back;if(o.isListParagraph()&&i.listType===ee&&!t){var a=this.structuredParagraphStore.getListTypeOfParagraph(o);i.updateParagraphStyle({listType:a})}else o.isListParagraph()&&t&&i.updateParagraphStyle({listType:ee});var s=this.getParagraphIndex(r.id)+1;return this.addParagraph(i,s),{front:r,back:i}},o.slice=function(e,t){var o=this._getPointByOffset(e,t);o&&this.split(o)},o.detachParagraphs=function(e,t){var o=this.getParagraphById(e)||this.getFirstParagraph(),n=this.getParagraphById(t)||this.getLastParagraph();return this.structuredParagraphStore.removeParagraphBetween(o,n),this._hashArray.detachData(e,t)},o.isEmptyTextNode=function(e){var t=this.getTextNodeByPoint(e);return t&&t.isEmpty()},o.refineParagraphWithPoint=function(e){var t=e.paraId,o=this.getParagraphById(t),n=this.getOffsetInParagraph(e);o.refine();var r=o.getNodeInfoAfterOffset(n);return Object.assign(e,{nodeId:r.node.id,offset:r.offset})},o.refineParagraphs=function(){this.paragraphs.forEach(function(e){e.refine()})},o.collectStyle=function(e){var t=this,o=e.start,n=e.end,r=this.getParagraphsBetween(o.paraId,n.paraId),i=Object(O.a)(r);if(0===i.length)return{};var a=i.map(function(o){var n=o.collectStyle(e);return o.listType===ee&&(n.list=t.structuredParagraphStore.getListTypeOfParagraph(o)),n});return M.a.mergeStyles(a)},o.getTextStyle=function(e){var t=this.getParagraphById(e.paraId);return t&&t.getTextStyle(e)},o.getSelectedAlign=function(e){var t=e.start,o=e.end,n=this.getParagraphsBetween(t.paraId,o.paraId),r=Object(O.a)(n);if(0===r.length)return{};var i=r.map(function(e){return e.getSelectedAlign()});return M.a.mergeStyles(i)},o.updateStyleFilter=function(e){this._styleFilter=e},o.updateTheme=function(e){e&&(this.themeStyle=e),this.paragraphs.forEach(function(t){t.updateTheme(e)})},o.updateStyle=function(e,t){var o=Object.keys(e)[0];return R.K.includes(o)?this.updateParagraphStyle(e,t):this.updateCharacterStyle(e,t)},o.updateParagraphStyle=function(e,t){void 0===t&&(t={});var o=Object.keys(e)[0];if(this._styleFilter[o]===$.b.NOT_ALLOWED)return t;var n=t,r=n.start,i=void 0===r?{}:r,a=n.end,s=void 0===a?{}:a,c=this.getParagraphsBetween(i.paraId,s.paraId),l=e[o];if("list"===o)this._updateListType(c,l);else if("dropCap"===o)this._updateDropCap(c,l);else if("indent"===o){var u=this._getAdjacentParas(c);this._updateListLevelByDiff(u,l===R.B.INCREASE?1:-1)}else c.forEach(function(t){t.updateParagraphStyle(e)});return t},o._updateListType=function(e,t){var o=this;"reset"===t?this._changeTreeToNormal(e):(e=this.structuredParagraphStore.getParagraphsWithSiblings(e)).forEach(function(e){e.listType!==R.F.NONE&&(e.updateParagraphStyle({listType:t,dropCap:!1}),o.structuredParagraphStore.updateListType(e))})},o._changeTreeToNormal=function(e){(e=this._getAdjacentParas(e)).forEach(function(e){e.updateParagraphStyle({listType:"reset"})}),this.structuredParagraphStore.changeTreeToNormal(e)},o.changeAllTreeToNormal=function(){this._changeTreeToNormal(this.paragraphs)},o._updateDropCap=function(e,t){e.forEach(function(e){e.updateParagraphStyle({dropCap:t,listType:"reset"})}),this.structuredParagraphStore.changeTreeToNormal(e)},o._updateListLevel=function(e,t){var o=this;t=this._clampLevel(t),e.forEach(function(e){e.updateParagraphStyle({listLevel:t}),o.structuredParagraphStore.updateIndent(e)})},o._updateListLevelByDiff=function(e,t){var o=this;e.forEach(function(e){var n;n=e.isListParagraph()?e.listLevel:0;var r=o._clampLevel(n+t);e.updateParagraphStyle({listLevel:r}),o.structuredParagraphStore.updateIndent(e)})},o._getAdjacentParas=function(e){var t=this;return Array.from(new Set(e.reduce(function(e,o){return o.isListParagraph()?e.push.apply(e,t.structuredParagraphStore.getParagraphsInSameListItem(o)):e.push(o),e},[])))},o._clampLevel=function(e){return Math.min(Math.max(e,this.minLevel),this.maxLevel)},o.updateCharacterStyle=function(e,t){var o=Object.keys(e)[0];if(this._styleFilter[o]===$.b.NOT_ALLOWED)return t;var n="fontSizeCode"===o,r=this._styleFilter.fontSizeCode;if(n&&"function"==typeof r&&!1===r(e[o]))return t;var i=t.start,a=t.end,s=t.collapsed,c=this.getParagraphsBetween(i.paraId,a.paraId),l=this.getOffsetInParagraph(i),u=this.getOffsetInParagraph(a),p={},d=this._getHeadTailNodesByPoint(i,a),h=d.headNode,f=d.tailNode;c.forEach(function(t){t.updateCharacterStyle(e,{startNode:h,endNode:f}),t.refine([h.id,f.id])});var m=this.getNodeInfoAfterOffset(i,l),g=Object(k.a)({nodeId:m.node.id,offset:m.offset},i);if(p.start=g,s)p.end=g;else if(!s){var y=this.getNodeInfoBeforeOffset(a,u),b=Object(k.a)({nodeId:y.node.id,offset:y.offset},a);p.end=b}return p},o.updateWholeParagraphStyle=function(e){(e=this._filterStyleTypes(e))&&this.updateParagraphStyle(e)},o.updateWholeCharacterStyle=function(e){(e=this._filterStyleTypes(e))&&this.paragraphs.forEach(function(t){t.updateWholeCharacterStyle(e)})},o.resetStyle=function(){this.updateWholeParagraphStyle({align:null,lineHeight:null,dropCap:null}),this.updateWholeCharacterStyle({fontColor:null,fontFamily:null,fontSizeCode:null,backgroundColor:null,bold:null,italic:null,underline:null,strikeThrough:null,subscript:null,superscript:null})},o.applyDerivedStyles=function(e){var t=Object(N.a)(e,["dropCap","align","subscript","superscript","list","indent"]),o=Object(x.a)(t,function(e){return null===e}),n=this._filterStyleTypes(o),r=Object(E.a)(n,R.K),i=Object(N.a)(n,R.K);this.paragraphs.forEach(function(e){e.applyDerivedParagraphStyle(r),e.applyDerivedStylesToWholeCharacter(i)})},o._writeAndLink=function(e,t){var o=this.getParagraphById(t.paraId).writeAndLink(e,t);return[Object.assign(o,{unitId:this.id})]},o._justLink=function(e,t){var o=t.start,n=t.end,r=this._getNodesToApplyLinkChange(e,o,n),i=r.startNode,a=r.endNode,s=this.getOffsetInParagraph(o),c=this.getOffsetInParagraph(n);return this.getParagraphsBetween(o.paraId,n.paraId).forEach(function(t){t.changeLink(e,{startNode:i,endNode:a}),t.refine([i.id,a.id])}),this._resolveRangeByOffset({startParaOffset:s,endParaOffset:c,selectionInfoStore:t})},o._getNodesToApplyLinkChange=function(e,t,o){if(e.value){var n=this._getHeadTailNodesByPoint(t,o);return{startNode:n.headNode,endNode:n.tailNode}}return{startNode:this.getTextNodeByPoint(t),endNode:this.getTextNodeByPoint(o)}},o.getTextNodeByPoint=function(e){return this.getParagraphById(e.paraId).getNodeById(e.nodeId)},o.changeLink=function(e,t){var o=t.start;if(t.collapsed){var n=t.start,r=this.getNodeByPoint(n);if(r.hasUrlLink()&&r.getUrlValue().length>0){var i=this.getEdgePointsOnLinkByPoint(n),a=i.start,s=i.end;return this._justLink(e,{start:a,end:s})}return this._writeAndLink(e,o)}return this._justLink(e,t)},o.attachParagraphAtEnd=function(e){var t=this.getLastParagraph(),o=this._convertParagraphStyle(t);!1===t.isListParagraph()&&(o.list=null),e.updateParagraphStyle(o),this.addParagraphAfter(t,e);var n=t.merge(e);return this.removeParagraph(e.id),this._filterTextStyle(this.paragraphs),n},o.attachParagraphAtStart=function(e){var t=this.detachFirstParagraph(),o=this._convertParagraphStyle(t);!1===t.isListParagraph()&&(o.list=null),e.updateParagraphStyle(o),e.merge(t),this.addParagraph(e,0)},o.detachFirstParagraph=function(){var e=this.getFirstParagraph().id;return this.detachParagraphs(e,e)[0]},o.detachLastParagraph=function(){var e=this.getLastParagraph().id;return this.detachParagraphs(e,e)[0]},o.detachAllParagraphs=function(){var e=this.getFirstParagraph().id,t=this.getLastParagraph().id;return this.detachParagraphs(e,t)},o.removeFirstParagraph=function(){var e=this.getFirstParagraph(),t=this.getNextParagraph(e.id),o=e.isEmpty()&&e.isListParagraph(),n=t&&t.listType===R.F.NONE;o&&n&&(t.updateParagraphStyle({listType:e.listType}),this.structuredParagraphStore.updateListType(t)),this.removeParagraph(e.id)},o.removeLastParagraph=function(){var e=this.getLastParagraph();this.removeParagraph(e.id)},o.erase=function(e,t){this.turnOffOverTextLimit();var o=this.refineSelection(e);return this._eraseText(o,t)},o.append=function(e,t){void 0===t&&(t=!1),!1===this.isLineBreakable()&&e._filterLineBreak(),this._sliceSourceText(e),this._filterSourceText(e,this.getStartPoint());var o=this.getEndPoint(),n=e.detachParagraphs(),r=this.getParagraphsLength(),i={};if(!t&&!n[0].isListParagraph()){var a=this.getLastParagraph(),s=n.shift();i=a.merge(s)}return this.addParagraph(n,r),Object.assign(o,i)},o.prepend=function(e){!1===this.isLineBreakable()&&e._filterLineBreak(),this._sliceSourceText(e),this._filterSourceText(e,this.getEndPoint());var t=e.getEndPoint(),o=e.detachParagraphs(),n=Object(w.a)(o),r={};if(!n.isListParagraph()){var i=this.detachFirstParagraph();r=n.merge(i)}return this.addParagraph(o,0),Object.assign(t,r,{unitId:this.id})},o.mergeWith=function(e,t){void 0===t&&(t={});var o=t.isAttach,n=t.mergePoint;!1===this.isLineBreakable()&&e._filterLineBreak(),this._sliceSourceText(e),this._filterSourceText(e,n);var r=e.getFirstParagraph(),i=e.getLastParagraph(),s=null,c=null;if(n){var l=this.splitParagraph(n);s=l.front,c=l.back}else s=this.getLastParagraph();o&&this._updateParagraphListStyle(s,r);var u=e.detachParagraphs();if(this.addParagraphAfter(s,u),o){var p=r===i?s:i,d=!1===r.isListParagraph(),h=c&&!1===p.isListParagraph(),f=d?this.mergeParagraph(s,r):0,m=null;if(h){var g=this._convertParagraphStyle(c);p.updateParagraphStyle(g),m=this.mergeParagraph(p,c)}else{var y=p.getEndPoint();m=p.getOffsetInParagraph(y),c&&c.isEmpty()&&this.removeParagraph(c.id)}var b=s.getNodeInfoAfterOffset(f),_=p.getNodeInfoBeforeOffset(m);return{start:{unitId:this.id,paraId:s.id,nodeId:b.node.id,offset:b.offset},end:{unitId:this.id,paraId:p.id,nodeId:_.node.id,offset:_.offset}}}return{start:a()({unitId:this.id},r.getStartPoint()),end:a()({unitId:this.id},i.getEndPoint())}},o._updateParagraphListStyle=function(e,t){var o=this._styleFilter.list;if(e&&(!o||o!==$.b.NOT_ALLOWED)&&!1===e.isListParagraph()&&!0===e.isEmpty()&&!0===t.isListParagraph()){var n=this._convertParagraphStyle(t),r=n.listType,i=n.listLevel;e.updateParagraphStyle({listType:r,listLevel:i,dropCap:!1}),this.structuredParagraphStore.updateListType(e)}},o._convertParagraphStyle=function(e){var t=Object(P.a)(e.style);return t.list&&(t.listType=t.list.type,t.listLevel=t.list.level),delete t.list,t},o.mergeParagraph=function(e,t){var o=e.getEndPoint(),n=e.getOffsetInParagraph(o);return e.merge(t),this.removeParagraph(t.id),n},o.clone=function(e){void 0===e&&(e={});var o=e,n=o.start,r=void 0===n?this.getStartPoint():n,i=o.end,a=void 0===i?this.getEndPoint():i;a.paraId||(a=this.getStartPoint());var s=new t({state:this.toValidJSON()});s.removeListStyle({start:r,end:a});var c=s.splitParagraph(a).back,l=s.getLastParagraph();s.removeParagraphsBetween(c.id,l.id);var u=s.getFirstParagraph(),p=s.splitParagraph(r).front;s.removeParagraphsBetween(u.id,p.id);var d=new t({state:B.a.dropProperty(s.toValidJSON(),"id")});return d.updateTheme(this.themeStyle),d},o.removeListStyle=function(e){var t=e.start,o=e.end,n=this.getParagraphsBetween(t.paraId,o.paraId);this._isPartOfSingleList(n,e)&&this.updateParagraphStyle({list:"reset"},e)},o._isPartOfSingleList=function(e,t){var o=Object(I.a)(e),n=Object(w.a)(e);if(!e.every(function(e,t){return 0===t?e.isListParagraph():e.listType===R.F.NONE}))return!1;var r=this.structuredParagraphStore.getTreeNodesInSameListItem(o).length;return e.length!==r||!(o.isWholeParagraph(t)&&n.isWholeParagraph(t))},o._sliceSourceText=function(e){var t=this.maxLength;if(t){var o=t-this.textLength;o<e.textLength&&(e.slice(o,{plainTextMode:!0}),this.turnOnOverTextLimit())}},o._filterSourceText=function(e,t){var o=this;this._inputFilter&&(e.filterTextBy(this._filterByInputFilter)&&this.turnOnFilteredTextState());var n=this.getStyleFilter();Object.keys(n).forEach(function(r){if(n[r]===$.b.FOLLOW_CURRENT_STYLE){var i,a={start:t,end:t},s={start:e.getStartPoint(),end:e.getEndPoint()},c=o.collectStyle(a);e.updateStyle(((i={})[r]=c[r],i),s)}})},o.writeEmoji=function(e,t){var o=this.maxLength;if(o){var n=e.length;if(this.textLength===o||o-this.textLength<n)return this.turnOnOverTextLimit(),t}var r=t.paraId,i=t.nodeId;if(r&&i){var s=this.getParagraphById(r).insertEmoji(e,t);return a()({unitId:this.id},s)}},o._writeText=function(e,t,o){var n=t.paraId,r=t.nodeId,i=t.offset;if(n&&r){var s={nodeId:r,offset:i,imeOffset:o,value:e},c=this.getParagraphById(n).writeValue(s);return a()({unitId:this.id},c)}},o._eraseText=function(e,t){var o=e.start,n=e.end,r=e.collapsed,i=this.getParagraphById(o.paraId),a=this._determineEraseType({direction:t,isCollapsed:r,start:o,end:n}),s=null,c=o&&n&&o.nodeId===n.nodeId&&n.offset<=oe&&!e.collapsed?i.getPlainTextWithEmoji():"";switch(a){case $.a.ERASE_PREV_BR:s=this._eraseBRbyBackspace(i,o);break;case $.a.ERASE_NEXT_BR:s=this._eraseBRbyDeleteKey(i,o);break;case $.a.ERASE_PREV_NON_TEXT_NODE:var l=i.getPrevNode(o.nodeId);s=this._eraseNonTextNode(i,l);break;case $.a.ERASE_NEXT_NON_TEXT_NODE:var u=i.getNextNode(o.nodeId);s=this._eraseNonTextNode(i,u);break;case $.a.ERASE_NON_TEXT_NODE:var p=i.getNodeById(o.nodeId);s=this._eraseNonTextNode(i,p);break;case $.a.ERASE_PREV_NODE_CHARACTER:s=this._eraseTextOnPrevNode(e);break;case $.a.ERASE_NEXT_NODE_CHARACTER:s=this._eraseTextOnNextNode(e);break;case $.a.DECREASE_INDENT:return 0===i.listLevel?this._changeTreeToNormal([i]):this._updateListLevelByDiff(this._getAdjacentParas([i]),-1),{start:o,end:n};default:s=this._eraseTextOnNode(e,t)}if(t!==R.u.UP&&t!==R.u.DOWN||!this._isForceChangetNormalParagraphByErase(r,i,c)||this._changeTreeToNormal([i]),s)return{start:s,end:s}},o._isForceChangetNormalParagraphByErase=function(e,t,o){return!e&&t.isListParagraph()&&t.isEmpty()&&!Object(S.a)(R.Q).includes(o)},o._eraseNonTextNode=function(e,t){var o=t.id,n=e.getPrevNode(o),r=e.getNextNode(o),i=e.createSameStyleNode(t),a=this._determineMergeType({targetNode:i,prevNode:n,nextNode:r}),s={unitId:this.id,paraId:e.id};if(a===$.c.MERGE_ONLY_PREV_NODE)return e.removeNode(o),Object.assign(s,n.getEndPoint());if(a===$.c.MERGE_ONLY_NEXT_NODE)return e.removeNode(o),Object.assign(s,r.getStartPoint());e.replaceNodesBetween(t.id,t.id,i);var c=Object.assign(s,i.getStartPoint());return a===$.c.MERGE_BOTH_SIDE_NODE?this.refineParagraphWithPoint(c):c},o._determineMergeType=function(e){var t=e.targetNode,o=e.prevNode,n=e.nextNode,r=t.isMergeable(o),i=t.isMergeable(n);return r&&!i?$.c.MERGE_ONLY_PREV_NODE:!r&&i?$.c.MERGE_ONLY_NEXT_NODE:r&&i?$.c.MERGE_BOTH_SIDE_NODE:$.c.UNMERGEABLE},o._getPointByOffset=function(e,t){var o=this,n=(void 0===t?{}:t).plainTextMode,r=void 0!==n&&n,i=0,a=null;return Object(v.a)(this.paragraphs,function(t){var n=t.getPlainTextWithEmoji().length,s=i+n+1;if(s>e){var c=e-i,l=r?t.getNodeInfoBeforeOffsetByPlainTextLength(c):t.getNodeInfoBeforeOffset(c),u=l.node,p=l.offset;return a={unitId:o.id,paraId:t.id,nodeId:u.id,offset:p},!1}i=s}),a},o.getNodeByPoint=function(e){var t=e.paraId,o=e.nodeId;return this.getParagraphById(t).getNodeById(o)},o.getParagraphById=function(e){return this._hashArray.getDataById(e)},o.getParagraphByIndex=function(e){return this._hashArray.getDataByIndex(e)},o.getParagraphIndex=function(e){return this._hashArray.getIndex(e)},o.getFirstParagraph=function(){return this._hashArray.getFirst()},o.getLastParagraph=function(){return this._hashArray.getLast()},o.getPrevParagraph=function(e){return this._hashArray.getPrev(e)},o.getNextParagraph=function(e){return this._hashArray.getNext(e)},o.getParagraphsBetween=function(e,t){return this._hashArray.getBetween(e,t)},o.getParagraphsLength=function(){return this._hashArray.getLength()},o.has=function(e){return this._hashArray.has(e)},o.isCenterOrRightAlign=function(e){var t=e.start,o=e.end;return this.getParagraphsBetween(t.paraId,o.paraId).some(function(e){return e.isCenterOrRightAlign()})},o.isOnlyUrlLink=function(){return 1===this.getParagraphsLength()&&this.getFirstParagraph().isOnlyUrlLink()},o.isLinkAllowed=function(){return this._styleFilter.link!==$.b.NOT_ALLOWED},o.isListParagraphByPoint=function(e){var t=e.paraId,o=void 0===t?"":t,n=this.getParagraphById(o);return!!n&&n.isListParagraph()},o.isLinkNodeEdge=function(e){return this.getParagraphById(e.paraId).isLinkNodeEdge(e)},o.isNonTextNode=function(e){var t=this.getNodeByPoint(e);return t&&!t.isTextNode()},o.createImageNodes=function(e,t){return this.getParagraphById(e.paraId).createImageNodes(e,t)},o.updateImageNode=function(e,t){var o=this.getParagraphById(e.paraId);o&&o.updateImageNodeById(e.nodeId,t)},o.deleteImageNode=function(e){var t=this.getParagraphById(e.paraId),o=e.paraId,n=e.unitId,r=e.nodeId,i=t.getPrevNode(r);return t.removeNode(r),{paraId:o,unitId:n,nodeId:i&&i.id||this.refineParagraphWithPoint(e).nodeId}},o.clear=function(){this.structuredParagraphStore.clear(),this._hashArray.clear()},o.forEach=function(e){this._hashArray.forEach(e)},o.isEmpty=function(){var e=this.getParagraphsLength();return 0===e||1===e&&this.isFirstParagraphEmpty()},o.isFirstParagraph=function(e){return e.paraId===this.getFirstParagraph().id},o.isFirstParagraphEmpty=function(){return this.getFirstParagraph().isEmpty()},o.isLastParagraphEmpty=function(){return this.getLastParagraph().isEmpty()},o.hasTextInListParagraph=function(){return this.paragraphs.some(function(e){return e.isListParagraph()})},o.getStartPoint=function(){var e=this.getFirstParagraph();return a()({unitId:this.id},e.getStartPoint())},o.getEndPoint=function(){var e=this.getLastParagraph();return a()({unitId:this.id},e.getEndPoint())},o.getOffsetInParagraph=function(e){var t=e.paraId;return this.getParagraphById(t).getOffsetInParagraph(e)},o.getNodeInfoBeforeOffset=function(e,t){return this.getParagraphById(e.paraId).getNodeInfoBeforeOffset(t)},o.getNodeInfoAfterOffset=function(e,t){return this.getParagraphById(e.paraId).getNodeInfoAfterOffset(t)},o.getPositionByPoint=function(e){var t=e.paraId,o=this.getParagraphById(t);if(o)return this.isTextStart(e)?$.d.TEXT_START:this.isTextEnd(e)?$.d.TEXT_END:o.getPositionByPoint(e)},o.isTextStart=function(e){var t=e.paraId,o=this.getParagraphById(t);if(!o)return!1;var n=o.getPositionByPoint(e);return this.getFirstParagraph()===o&&(o.isEmpty()||n===$.d.PARA_START)},o.isTextEnd=function(e){var t=e.paraId,o=this.getParagraphById(t);if(!o)return!1;var n=o.getPositionByPoint(e);return this.getLastParagraph()===o&&(o.isEmpty()||n===$.d.PARA_END)},o.extendPointToParagraphEnd=function(e){var t=this.getParagraphById(e.paraId).getLastNode();return a()({},e,{nodeId:t.id,offset:t.getNodeLength()})},o.refineSelection=function(e){var t=Object(P.a)(e),o=t.start,n=t.end;return this.has(o.paraId)||(o=Object.assign(o,this.getStartPoint())),this.has(n.paraId)||(n=Object.assign(n,this.getEndPoint())),t},o._refinePointToPrevNode=function(e,t,o){e.refine(t);var n=e.getNodeInfoBeforeOffset(o);return{unitId:this.id,paraId:e.id,nodeId:n.node.id,offset:n.offset}},o._refinePointToNextNode=function(e,t,o){e.refine(t);var n=e.getNodeInfoAfterOffset(o);return{unitId:this.id,paraId:e.id,nodeId:n.node.id,offset:n.offset}},o._eraseBRbyDeleteKey=function(e,t){var o=this.getNextParagraph(e.id);if(o){var n=o.id,r=e,i=t.nodeId,a=e.getOffsetInParagraph(t),s=!e.isEmpty()&&!o.isEmpty(),c=e.isEmpty()&&!o.isEmpty();return s?e.merge(o):c&&(n=e.id,r=o,i=o.getFirstNode().id),this.removeParagraph(n),this._refinePointToPrevNode(r,i,a)}},o._eraseBRbyBackspace=function(e,t){var o=this.getPrevParagraph(e.id);if(!o)return t;if(o.isEmpty()&&!o.isListParagraph())return this.removeParagraph(o.id),t;var n=o.getLastNode(),r={nodeId:n.id,offset:n.getNodeLength()},i=o.getOffsetInParagraph(r);return e.isEmpty()&&n.isEmpty()||o.merge(e),this.removeParagraph(e.id),this._refinePointToPrevNode(o,t.nodeId,i)},o._eraseTextOnPrevNode=function(e){var t=e.start,o=e.collapsed,n=this.getParagraphById(t.paraId),r=n.getPrevNode(t.nodeId);if(r){if(n.shouldUnwrapDropCapByErase(R.u.LEFT,r.id,r.getNodeLength(),o))return n.unwrapDropCap(),this._refinePointToPrevNode(n,r.id,1);var i=this._eraseOneCharacter(r,r.getNodeLength(),R.u.LEFT);t.nodeId=r.id,t.offset=i;var a=n.getOffsetInParagraph(t);return r.isEmpty()&&n.removeNode(r.id),this._refinePointToPrevNode(n,t.nodeId,a)}},o._eraseTextOnNextNode=function(e){var t=e.start,o=this.getParagraphById(t.paraId),n=o.getNextNode(t.nodeId);if(n){var r=this._eraseOneCharacter(n,0,R.u.RIGHT);t.nodeId=n.id,t.offset=r;var i=o.getOffsetInParagraph(t);return n.isEmpty()&&o.removeNode(n.id),this._refinePointToNextNode(o,t.nodeId,i)}},o._eraseTextOnNode=function(e,t){var o=e.start,n=e.end,r=e.collapsed,i=this.isNonTextNode(o)?this.adjustWritePointOnEdge(o):o,a=this.getParagraphById(i.paraId),s=i.nodeId,c=a.getNodeById(s);if(!a.shouldUnwrapDropCapByErase(t,i.nodeId,i.offset,r)||(a.unwrapDropCap(),!r)){if(r){var l=this._eraseOneCharacter(c,i.offset,t);i.offset=l}else this._eraseBySelection({start:i,end:n});c.isEmpty()&&this._postprocessLinkText(a,i,s);var u=this.getOffsetInParagraph(i),p=a.getNodeValueLength(i.nodeId);if(a.refine(i.nodeId),p===a.getNodeValueLength(i.nodeId))return i;var d=this.getNodeInfoAfterOffset(i,u);return Object(k.a)({nodeId:d.node.id,offset:d.offset},i)}},o._postprocessLinkText=function(e,t,o){var n=e.getNodeById(o),r=e.getPrevNode(o),i=e.getNextNode(o);e.isLinkNodeEdge(t)&&(r||i)?(r?(t.nodeId=r.id,t.offset=r.getNodeLength()):(t.nodeId=i.id,t.offset=0),e.removeNode(o)):n.changeLink()},o._eraseOneCharacter=function(e,t,o){var n=Object(j.a)(e.value),r=0,i=0;n.some(function(e,o){return t===i||(r=o+1,i+=e.length,!1)}),o===R.u.LEFT&&(r-=1),n.splice(r,1),e.value=n.join("");var a=0;return n.some(function(e,t){return t===r||(a+=e.length,!1)}),a},o._eraseBySelection=function(e){var t=this,o=e.start,n=e.end,r=this.getParagraphsBetween(o.paraId,n.paraId);r.shift(),r.pop(),Object(v.a)(r,function(e){t.removeParagraph(e.id)});var i=null;if(o.paraId===n.paraId)i=this.getParagraphById(o.paraId);else{var a=this.getParagraphById(o.paraId),s=this.getParagraphById(n.paraId).nodes;a.addNode(s.splice(0,s.length)),i=a,this.removeParagraph(n.paraId)}i.removeNodesWithSelection({start:o,end:n})},o._createParagraphStore=function(e,t){return void 0===t&&(t=!1),t&&delete e.id,e instanceof V.a?(e.id=e.id||R.ab.generate(),e):new V.a({state:e})},o._createParagraphStores=function(e){var t=this,o=[];return e.map(function(e){var n=o.includes(e.id),r=t._createParagraphStore(e,n);return o.push(r.id),r})},o._isSelectingOnlyNonTextNode=function(e,t){if(e.nodeId===t.nodeId){var o=this.getNodeByPoint(e);return o&&!o.isTextNode()}return!1},o._determineEraseType=function(e){var t=e.direction,o=e.isCollapsed,n=e.start,r=e.end,i=!1===o;if(i&&this._isSelectingOnlyNonTextNode(n,r))return $.a.ERASE_NON_TEXT_NODE;if(i)return $.a.ERASE_CHARACTER;var a=n.paraId,s=n.nodeId,c=this.getParagraphById(a),l=this.getPrevParagraph(a),u=c.getNodeById(s),p=c.isEmpty(),d=u.isEmpty(),h=c.getPositionByPoint(n);switch(t){case R.u.LEFT:if(h===$.d.PARA_START&&0===this.structuredParagraphStore.indexOfParaInItsListItem(c)&&(!l||l.listLevel!==c.listLevel))return $.a.DECREASE_INDENT;if(p||h===$.d.PARA_START)return $.a.ERASE_PREV_BR;var f=c.getNodeById(s);if(f&&!f.isTextNode()&&[$.d.NODE_END,$.d.PARA_END].includes(h))return $.a.ERASE_NON_TEXT_NODE;var m=c.getPrevNode(s);if(m&&!m.isTextNode()&&(d||h===$.d.NODE_START))return $.a.ERASE_PREV_NON_TEXT_NODE;if(d||h===$.d.NODE_START)return $.a.ERASE_PREV_NODE_CHARACTER;break;case R.u.RIGHT:if(p||h===$.d.PARA_END)return $.a.ERASE_NEXT_BR;var g=c.getNodeById(s);if(g&&!g.isTextNode()&&[$.d.NODE_START,$.d.PARA_START].includes(h))return $.a.ERASE_NON_TEXT_NODE;var y=c.getNextNode(s);if(y&&!y.isTextNode()&&(d||h===$.d.NODE_END))return $.a.ERASE_NEXT_NON_TEXT_NODE;if(d||h===$.d.NODE_END)return $.a.ERASE_NEXT_NODE_CHARACTER}return $.a.ERASE_CHARACTER},o._getHeadTailNodesByPoint=function(e,t){var o=this.getParagraphById(e.paraId),n=this.getParagraphById(t.paraId),r=n.getNodeById(t.nodeId);t.offset!==r.getNodeLength()&&(r=n.splitNode(t).front);var i=o.getNodeById(e.nodeId);return 0!==e.offset&&(i=o.splitNode(e).back,e.nodeId===t.nodeId&&(r=i)),{headNode:i,tailNode:r}},o._resolveRangeByOffset=function(e){var t=e.startParaOffset,o=e.endParaOffset,n=e.selectionInfoStore,r=n.start,i=n.end,a=n.collapsed,s=[];if("number"==typeof t){var c=this.getNodeInfoAfterOffset(r,t),l=Object(k.a)({nodeId:c.node.id,offset:c.offset},r);s.push(l)}if(!a&&"number"==typeof o){var u=this.getNodeInfoBeforeOffset(i,o),p=Object(k.a)({nodeId:u.node.id,offset:u.offset},i);s.push(p)}return s},o.getPlainText=function(){var e=[];return this.paragraphs.forEach(function(t,o,n){e.push(t.getPlainText()),o<n.length-1&&e.push("\n")}),e.join("")},o.getPlainTextWithEmoji=function(){var e=[];return this.paragraphs.forEach(function(t,o,n){e.push(t.getPlainTextWithEmoji()),o<n.length-1&&e.push("\n")}),e.join("")},o.setPlainTextWithEmoji=function(e){var t=this,o=(e||"").split("\n"),n=this.getFirstParagraph(),r=n.computedStyle,i=n.firstNodeComputedStyle;this.clear(),this.addParagraph(new V.a),this.updateWholeParagraphStyle(r),this.updateWholeCharacterStyle(i),o.reduce(function(e,o,n){n>0&&(e=t.breakLine(e));var r=[];return U.a.separateCallbacksWithEmoji(o,function(e){return r.push({value:e,emoji:!0})},function(e){return r.push({value:e,emoji:!1})}),r.reduce(function(e,o){return o.emoji?t.writeEmoji(o.value,e):t.write(o.value,e,0)},e)},this.getStartPoint())},o.getLinkedPlainTextByPoint=function(e){var t="",o=this.getTextNodeByPoint(e);if(o&&o.hasUrlLink()){var n=o.getUrlValue();if(n&&n.length>0){var r=this.getEdgePointsOnLinkByPoint(e),i=r.start,a=r.end;t=this.clone({start:i,end:a}).getPlainTextWithEmoji()}}return t},o.filterOnlyTexts=function(){var e=new t({state:this.toValidJSON()});return e.stripOffNonTexts(),e},o.isBackward=function(e,t){var o=this.getParagraphIndex(e.paraId),n=this.getParagraphIndex(t.paraId);return-1!==n&&-1!==o&&(!(n<o)&&(n!==o||this.getParagraphById(t.paraId).isBackward(e,t)))},o.filterTextBy=function(e){var t=!1;return Object(v.a)(this.paragraphs,function(o){o.filterTextBy(e)&&(t=!0)}),t},o.getStyleFilter=function(){return this._styleFilter},o._filterStyleTypes=function(e){var t=this,o=Object(T.a)(e,!0);return Object.keys(e).forEach(function(e){t._styleFilter[e]===$.b.NOT_ALLOWED&&delete o[e]}),Object(C.a)(o)?null:o},o._filterText=function(e){if(!this._inputFilter)return e;var t=this._filterByInputFilter(e);return t!==e&&this.turnOnFilteredTextState(),t},o._filterByInputFilter=function(e){return e.replace(this._inputFilter,"")},o.getUrlInNode=function(e){return this.getParagraphById(e.paraId).getUrlInNode(e)},o.getLibraryItemData=function(e){var t=this,o=e.compId,n=e.unitId,r=[];return this.paragraphs.forEach(function(e){r.push.apply(r,e.getLibraryItemData({compId:o,unitId:n||t.id}))}),r},o.setDefaultRepresentativeImage=function(){this.paragraphs.some(function(e){return!(!e.hasInlineImage()||e.hasRepresentativeImage())&&(e.setRepresentativeImage(),!0)})},o.hasParagraphStartsWithEmoji=function(e){var t=e.start,o=e.end,n=e.mode;if(n===R.O.CURSOR){var r=this.getParagraphById(t.paraId);return r&&r.isStartWithEmoji()}return n===R.O.BLOCK&&this.getParagraphsBetween(t.paraId,o.paraId).some(function(e){return e.isStartWithEmoji()})},o.hasInlineImageInParagraph=function(e){if(void 0===e&&(e={}),Object(C.a)(e))return this.paragraphs.some(function(e){return e.hasInlineImage()});var t=e,o=t.start,n=t.end,r=t.mode;if("cursor"===r){var i=this.getParagraphById(o.paraId);return i&&i.hasInlineImage()}return"block"===r?this.getParagraphsBetween(o.paraId,n.paraId).some(function(e){return e.hasInlineImage()}):void 0},o.isLibraryComponent=function(){return this.paragraphs.some(function(e){return e.isLibraryComponent()})},o.setRepresentativeImage=function(e,t){e?this.getParagraphById(e).setRepresentativeImage(t):this.setDefaultRepresentativeImage()},o.releaseRepresentativeImage=function(e){var t=e.paraId,o=e.nodeId;this.getParagraphById(t).releaseRepresentativeImage(o)},o.hasRepresentativeImage=function(){return this.paragraphs.some(function(e){return e.hasRepresentativeImage()})},o.isRepresentativeImage=function(){return this.paragraphs.some(function(e){return e.isRepresentativeImage()})},o.updateConfig=function(){this.paragraphs.forEach(function(e){e.updateConfig&&e.updateConfig()})},o.canBeListBySpace=function(e){var t=e.start.paraId;return!!e.collapsed&&this.getParagraphById(t).canBeListBySpace()},o.getRepresentativeId=function(){var e=[];return this.paragraphs.forEach(function(t){if(t.isRepresentativeImage()){var o=t.getRepresentativeId();Object(_.a)(o)?e=[].concat(e,o):e.push(o)}}),e},o.getRepresentativeInnerData=function(){var e=Object(L.a)(this.paragraphs,function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},o.hasDropCapInParagraph=function(e){var t=this.getParagraphById(e);return t&&t.hasDropCapInParagraph()},o.hasInlineImageOnly=function(){return this.paragraphs.some(function(e){return e.hasInlineImage()&&!e.hasTextNode()})},o.toValidJSON=function(){var e=this.paragraphs.map(function(e){return e.toValidJSON()});if(0===e.length){var t=new V.a;this.addParagraph(t),e=[t.toValidJSON()]}return e.id=this.id,e},o.toPlainJSON=function(){return a()({},this._toPlainJSON)},o.stripOffNonTexts=function(){this.paragraphs.forEach(function(e){return e.stripOffNonTexts()})},o.isEqualStore=function(e){return this.$mobx.name===e.$mobx.name},o.getEdgePointsOnLinkByPoint=function(e){if(!e||e.unitId!==this.id)throw new Error("Invalid Parameters!");var t,o,n,r=this.getParagraphById(e.paraId),i=r.getNodeById(e.nodeId),a=i.getUrlValue();if(!i.hasUrlLink()||0===a.length)throw new Error("Invalid Parameters!");for(t=r,o=i,n=!1;!n;){var s=t.getPrevNode(o.id);if(null==s){var c=this.getPrevParagraph(t.id);c&&(s=c.getLastNode()).hasUrlLink()&&s.getUrlValue()===a?(t=c,o=s):n=!0}else s.hasUrlLink()&&s.getUrlValue()===a?o=s:n=!0}var l={compId:e.compId,unitId:this.id,paraId:t.id,nodeId:o.id,offset:o.getStartPoint().offset};for(t=r,o=i,n=!1;!n;){var u=t.getNextNode(o.id);if(null==u){var p=this.getNextParagraph(t.id);p&&(u=p.getFirstNode()).hasUrlLink()&&u.getUrlValue()===a?(t=p,o=u):n=!0}else u.hasUrlLink()&&u.getUrlValue()===a?o=u:n=!0}return{start:l,end:{compId:e.compId,unitId:this.id,paraId:t.id,nodeId:o.id,offset:o.getEndPoint().offset}}},o.convertToList=function(e){var t=this.getParagraphById(e.start.paraId).getPlainTextWithEmoji()===R.Q.BULLET?R.F.BULLET:R.F.DECIMAL;return this.updateParagraphStyle({list:t},e),t},u()(t,[{key:"isFocused",get:function(){return"child"===this.selection||"cursor"===this.selection}},{key:"textLength",get:function(){return this.getPlainTextWithEmoji().length}},{key:"isFullText",get:function(){var e=this.maxLength;return null!==e&&this.textLength===e}},{key:"empty",get:function(){return this.isEmpty()}},{key:"unchangedFirstNodeStyle",get:function(){if(!this.themeStyle)return!0;var e=this.getFirstParagraph().firstNodeComputedStyle,t=e.fontFamily,o=e.fontSizeCode;return this.themeStyle.fontFamily===t&&this.themeStyle.fontSizeCode===o}},{key:"existTextInListParagraph",get:function(){return this.hasTextInListParagraph()}},{key:"_toPlainJSON",get:function(){return{id:this.id,ctype:this.ctype,hasFilteredText:this.hasFilteredText,isOverTextLimit:this.isOverTextLimit,paragraphs:this.paragraphs.map(function(e){return e.toPlainJSON()})}}}]),t}(R.k),X=g()(Y.prototype,"hasFilteredText",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=g()(Y.prototype,"isOverTextLimit",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=g()(Y.prototype,"paragraphs",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g()(Y.prototype,"isFocused",[D.e],Object.getOwnPropertyDescriptor(Y.prototype,"isFocused"),Y.prototype),g()(Y.prototype,"textLength",[D.e],Object.getOwnPropertyDescriptor(Y.prototype,"textLength"),Y.prototype),g()(Y.prototype,"isFullText",[D.e],Object.getOwnPropertyDescriptor(Y.prototype,"isFullText"),Y.prototype),g()(Y.prototype,"empty",[D.e],Object.getOwnPropertyDescriptor(Y.prototype,"empty"),Y.prototype),g()(Y.prototype,"unchangedFirstNodeStyle",[D.e],Object.getOwnPropertyDescriptor(Y.prototype,"unchangedFirstNodeStyle"),Y.prototype),g()(Y.prototype,"_toPlainJSON",[K],Object.getOwnPropertyDescriptor(Y.prototype,"_toPlainJSON"),Y.prototype),Y),re=ne;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/text-unit-store.js",localName:t}})}catch(e){}}e(ee,"NONE"),e(te,"LIST_PARAGRAPH_MAX_LEVEL"),e(oe,"TEXT_PREFIXES_MAX_LENGTH"),e(ne,"TextUnitStore"),e(re,"default")}()},138:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(53),l=o.n(c),u=o(48),p=o(335),d=o(216),h=o(51),f=o(1210),m=o(386),g=o(55),y=o(122),b=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-drop-down-"+this.props.name;f.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-drop-down-"+this.props.name;f.a.off(e)},o.render=function(){var e,t=this.props,o=t.id,n=t.label,r=t.name,i=t.title,a=t.type,s=t.namespace,c=t.isActivated,p=t.useHighlight,d=t.value,h=t.action,f=t.options,g=t.optionType,b=t.onClickOption,_=t.disabled,v=t.useIconUpdate,C=t.i18n,O=t.logAreaId,S=t.focused,k=t.logId,I=o,w=C(n),P=l()("se-"+s+"-toolbar-"+a+"-container","__select-container"),j=!!f&&Object.keys(f)[0]||"",T=d||j,L=l()("se-"+s+"-toolbar-"+a+"-button",((e={})["se-"+r+"-toolbar-button"]=!v,e["se-"+r+"-"+T+"-toolbar-button"]=v,e["se-is-activated"]=c,e["se-is-selected"]=!!d&&p,e)),E=C(i[c?"active":"inactive"]);return u.b.createElement("div",{className:P,"data-type":a,"data-name":r},u.b.createElement(y.a,{focused:S,namespace:s,logAreaId:O,logId:k,type:a,dataName:I,className:L,handleClick:this.handleClick,disabled:_,i18n:C,ariaExpanded:""+c,ariaHasPopup:"true"},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-blind","aria-hidden":"true"},w),u.b.createElement("span",{className:"se-toolbar-tooltip"},E)),c&&u.b.createElement(m.a,{id:o,name:r,options:f,value:d,action:h,namespace:s,type:a,logAreaId:O,optionType:g,onClickOption:b,i18n:C}))},o.handleClick=function(e){var t=this.props,o=t.onClickSelector,n=t.type,r=t.id,i=t.name,a=t.title,s=t.label,c=t.isActivated;o.apply(this,[{event:e,type:n,id:r,name:i,title:a,label:s,isActivated:c}])},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this.handleClick({})},t}(u.b.Component),s()(n.prototype,"handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClick"),n.prototype),s()(n.prototype,"_handleClickButtonOutside",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),n);b.defaultProps={name:"",id:"",label:"",title:{inactive:"",active:""},isActivated:!1,value:"",namespace:"",disabled:!1,focused:!1,options:{},optionType:g.c.ICON,useHighlight:!1,selectedIcon:!1,onClickOption:function(){},onClickSelector:function(){},i18n:function(e){return e}},b.propTypes={type:u.a.oneOf([g.a.DROP_DOWN]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,action:u.a.string,title:u.a.shape({inactive:u.a.string,active:u.a.string}),namespace:u.a.string,isActivated:u.a.bool,disabled:u.a.bool,focused:u.a.bool,useHighlight:u.a.bool,useIconUpdate:u.a.bool,value:u.a.string,options:u.a.object,optionType:u.a.string,onClickOption:u.a.func,onClickSelector:u.a.func,i18n:u.a.func,logAreaId:u.a.string,logId:u.a.string};var _=Object(p.b)(b);t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/drop-down-button.jsx",localName:t}})}catch(e){}}e(b,"DropDownButton"),e(_,"default")}()},139:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(53),a=o.n(i),s=o(16),c=o(48),l=o(335),u=o(55),p=o(50),d=o(209),h=function(e){function t(t){var o;(o=e.call(this,t)||this)._overlayToolbarUseCase=p.V.get("overlayToolbarUseCase"),o._configAgent=p.V.get("configAgent");var n=o._configAgent.get("productConfig"),r=!0===Object(s.a)(n,"overlayToolbar");return o.state={useOverlayToolbar:r},o}return r()(t,e),t.prototype.render=function(){if(!this.state.useOverlayToolbar)return null;var e=this.props,t=e.i18n,o=e.compStore;if(!(e.isReady&&"single"===o.selection))return null;var n=this._overlayToolbarUseCase.buttonSets(o);if(!n)return null;var r=n.fixedButtonSets,i=a()("se-overlay-toolbar-wrap");return c.b.createElement("div",{className:i},r.top&&c.b.createElement(d.a,{className:"se-toolbar se-overlay-toolbar se-overlay-top-toolbar",namespace:u.e.OVERLAY,buttons:r.top,i18n:t,logAreaId:"ct"}),r.bottom&&c.b.createElement(d.a,{className:"se-toolbar se-overlay-toolbar se-overlay-bottom-toolbar",namespace:u.e.OVERLAY,buttons:r.bottom,i18n:t,logAreaId:"ct"}))},t}(c.b.Component);h.defaultProps={compStore:null,isReady:!0},h.propTypes={compStore:c.a.object.isRequired,isReady:c.a.bool,i18n:c.a.func};var f=Object(l.b)(h);t.a=f,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/overlay-toolbar-layer/index.jsx",localName:t}})}catch(e){}}e(h,"OverlayToolbarLayer"),e(f,"default")}()},140:function(e,t,o){"use strict";var n,r=o(50),i=o(54),a=o.n(i),s=o(0),c=o.n(s),l=o(49),u=o.n(l),p=o(48),d=o(335),h=o(51),f=o(81),m=o(82),g=o(190),y=o(168),b=o(405),_=o(84),v=o(269),C=o(131),O=o(117),S=o(72),k=o(722),I=o(12),w=o.n(I),P=o(18),j=o.n(P),T=(n=function(e){function t(){var t;return(t=e.call(this)||this)._imageGroupComponentService=r.V.get("imageGroupComponentService"),t._editingService=r.V.get("editingService"),t._propertyChangeService=r.V.get("propertyChangeService"),t._imageGroupOrderLayerService=r.V.get("imageGroupOrderLayerService"),t._eventDispatcherService=r.V.get("eventDispatcherService"),t._canvasLayoutService=r.V.get("canvasLayoutService"),t._imageComponentService=r.V.get("imageComponentService"),t._libraryPanelLayoutService=r.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._imageLocationEditLayerService=r.V.get("imageLocationEditLayerService"),t._placeLayerService=r.V.get("placeLayerService"),t}c()(t,e);var o=t.prototype;return o.updateViewMode=function(e){var t=this._canvasLayoutService.getViewMode();this._imageGroupComponentService.updateViewMode(e,t)},o.delete=function(){this._editingService.eraseComponent()},o.changeContentMode=function(e){this._propertyChangeService.changeContentMode(e)},o.editGroupImage=function(){var e=this._imageGroupComponentService.cloneWithSelection();this._imageGroupOrderLayerService.open(e)},o.exceedTextMaxLength=function(e){this._eventDispatcherService.emit("onWarning",e)},o.addResizeViewModeListener=function(e){this._eventDispatcherService.on(r.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.removeResizeViewModeListener=function(e){this._eventDispatcherService.off(r.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;r.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.deleteImageUnit=function(e,t){this._imageGroupComponentService.selectImageUnit(e,t),this._editingService.erase()},o.updateShellImage=function(e){this._imageGroupComponentService.updateShellImage(e)},o.updatePhase=function(e,t){this._imageGroupComponentService.updatePhase(e,t)},o.updateImageSize=function(e,t,o){this._imageGroupComponentService.updateImageSize(e,t,o)},o.updateImageGroupRatio=function(e){this._imageGroupComponentService.updateImageGroupRatio(e)},o.openLocationEditLayer=function(e){var t=this;this._imageLocationEditLayerService.open({onClickRemove:function(){t._imageGroupComponentService.updatePlace(e,null)},onClickChange:function(){var o=j()(w.a.mark(function o(){var n;return w.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:[e.place]});case 2:(n=o.sent)&&t._imageGroupComponentService.updatePlace(e,n.places[0]);case 4:case"end":return o.stop()}},o)}));return function(){return o.apply(this,arguments)}}()})},o.attachLocation=function(){var e=j()(w.a.mark(function e(t){var o,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={isUpdateMode:!0,maxPlaceCount:1},t.place?o.initialPlaces=[t.place]:(n=t.images.find(function(e){return!!e.location}))&&(o.initialPlaces=[{latlng:{latitude:n.location.latitude,longitude:n.location.longitude}}]),e.next=4,this._placeLayerService.editPlaces(o);case 4:r=e.sent,this._imageGroupComponentService.updatePlace(t,r.places[0]);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(r.c),u()(n.prototype,"updateViewMode",[h.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(n.prototype,"updateViewMode"),n.prototype),u()(n.prototype,"delete",[h.preventOnComponentProcessing,h.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"delete"),n.prototype),u()(n.prototype,"changeContentMode",[h.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(n.prototype,"changeContentMode"),n.prototype),u()(n.prototype,"editGroupImage",[h.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(n.prototype,"editGroupImage"),n.prototype),u()(n.prototype,"exceedTextMaxLength",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"exceedTextMaxLength"),n.prototype),u()(n.prototype,"setRepresentativeImage",[h.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepresentativeImage"),n.prototype),u()(n.prototype,"deleteImageUnit",[h.preventOnComponentProcessing,h.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"deleteImageUnit"),n.prototype),u()(n.prototype,"openLocationEditLayer",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"openLocationEditLayer"),n.prototype),u()(n.prototype,"attachLocation",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"attachLocation"),n.prototype),n),L=T,E=L;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/use-case/index.js",localName:t}})}catch(e){}}e(T,"ImageGroupComponentUseCase"),e(L,"default")}();var N,x,D,R=o(149),A=o(53),M=o.n(A),B=o(73),U=o(211),V=o(88),F=o(648),z=o(649),W=o(399),G=o(217),H=o(716),q=(D=x=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.image.id,t=this._resolveWrapperClassName(),o=this._renderImagePlaceholder(),n=this._renderImage(),r=this._resolveWidthRatio(),i=this._renderBtnRepresentative(),a=this._renderDeleteBtn(),s=this._renderBtnLocation();return p.b.createElement(B.a,{store:this.props.image,ctype:"image",id:e,className:t,style:r},n,o,i,a,s)},o._renderDeleteBtn=function(){if(this.props.image.isLoaded)return p.b.createElement("button",{type:"button",className:"se-image-delete-button",onClick:this._handleDeleteImageUnit},p.b.createElement("span",{className:"se-blind"},this.props.i18n("imageGroupComponent:delete_image")))},o._renderBtnRepresentative=function(){var e=this.props,t=e.image,o=e.groupStore,n=e.i18n,r=o.representativeEnabled,i=t.represent,a=M()({"se-set-rep-image-button":!0,"se-is-selected":i});if(t.isLoaded&&r)return p.b.createElement("button",{type:"button",className:a,onClick:this._handleClickBtnRepresentative},p.b.createElement("span",{className:"se-set-rep-image-button-text"},n("imageGroupComponent:representative")))},o._renderBtnLocation=function(){var e=this.props,t=e.groupStore,o=e.colIndex,n=e.rowIndex,r=t.showLocationButton,i=t.place,a=i&&r;return a&&0===o&&0===n?Object(H.a)({enabled:a,locationInfo:i,onMouseDown:this._handleMouseDownLocation,onClick:this._handleClickLocation}):null},o._resolveWidthRatio=function(){var e=this.props,t=e.image,o=e.groupStore.layout===g.a.COLLAGE;if(!o&&!t.isUploaded)return{width:this._resolveImageWidth(t)};var n=t.widthPercentage;return o?{width:n+"%"}:null},o._resolveWrapperClassName=function(){var e=this.props,t=e.groupStore,o=e.image,n=t.layout===g.a.COLLAGE;return M()({"se-is-progress":!o.isUploaded,"se-imageGroup-item":!n})},o._renderImagePlaceholder=function(){var e=this.props.image;if(e.isUploaded)return null;var t=e.width,o=e.height,n={paddingTop:o/t*100+"%"};return p.b.createElement(U.a,{inlineStyle:n,message:this.props.i18n("imageUnit:uploading"),width:t,height:o})},o._renderImage=function(){var e=this.props,t=e.image,o=e.groupStore,n=t.src,i=t.alt,a=t.height,s=t.width,c=t.fileName,l=o.selection;return t.isUploaded?p.b.createElement(V.b,{className:"se-image-resource",type:"none"!==l||this.context.readOnly?V.a.normal:F.a.isGIF(c)?V.a.autoReplace:V.a.lazyLoad,onLoad:this._handleLoadImage,onError:this._handleErrorImage,forceTriggerOnloadEvent:t.phase===r.N.DONE,src:n,alt:i,originalWidth:s,originalHeight:a,"data-width":s,"data-height":a}):null},o._resolveImageWidth=function(e){var t=this.props,o=t.documentWidth,n=t.slideViewHeight;return e.width*n/e.height/o*100+"%"},o._handleLoadImage=function(e){var t=e.width,o=e.height,n=this.props,i=n.image,a=n.useCase,s=n.groupStore;a.updatePhase(i,r.N.LOADED),s.layout===g.a.COLLAGE&&(a.updateImageSize(i,t,o),a.updateImageGroupRatio(s),a.repaintCursor())},o._handleErrorImage=function(){this.props.useCase.repaintCursor()},o._handleClickBtnRepresentative=function(e){e.preventDefault(),e.stopPropagation();var t=this.props,o=t.image,n=t.useCase,r=t.groupStore;n.setRepresentativeImage({compId:r.id,unitId:o.id}),z.a.log(e.nativeEvent,"imgct.rep")},o._handleDeleteImageUnit=function(e){e.stopPropagation();var t=this.props,o=t.useCase,n=t.groupStore,r=t.image;o.deleteImageUnit(n,r),z.a.log(e.nativeEvent,"imgct.x")},o._handleClickLocation=function(){this.props.useCase.openLocationEditLayer(this.props.groupStore)},o._handleMouseDownLocation=function(e){e.nativeEvent.stopImmediatePropagation()},t}(p.b.Component),x.contextType=G.a,N=D,u()(N.prototype,"_renderBtnRepresentative",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_renderBtnRepresentative"),N.prototype),u()(N.prototype,"_renderBtnLocation",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_renderBtnLocation"),N.prototype),u()(N.prototype,"_handleLoadImage",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleLoadImage"),N.prototype),u()(N.prototype,"_handleErrorImage",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleErrorImage"),N.prototype),u()(N.prototype,"_handleClickBtnRepresentative",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleClickBtnRepresentative"),N.prototype),u()(N.prototype,"_handleDeleteImageUnit",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleDeleteImageUnit"),N.prototype),u()(N.prototype,"_handleClickLocation",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_handleClickLocation"),N.prototype),u()(N.prototype,"_handleMouseDownLocation",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseDownLocation"),N.prototype),N);q.defaultProps={rowIndex:0,colIndex:0,i18n:function(e){return e},documentWidth:700,slideViewHeight:420},q.propTypes={image:p.a.instanceOf(W.a).isRequired,i18n:p.a.func,rowIndex:p.a.number,colIndex:p.a.number,useCase:p.a.instanceOf(E),groupStore:p.a.instanceOf(R.a).isRequired,documentWidth:p.a.number,slideViewHeight:p.a.number};var J,K=Object(d.b)(q),Y=K;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/image-group-unit.jsx",localName:t}})}catch(e){}}e(q,"ImageGroupUnit"),e(K,"default")}();var X=(J=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={activateScrollbar:!1,activateNavigator:!0,prevDisabled:!0,nextDisabled:!1},o._throttledHandleScroll=Object(C.a)(o._handleScroll,500),o}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this.props.useCase;window.addEventListener("resize",this._handleWindowResize),e.addResizeViewModeListener(this._handleImagePanelResize)},o.componentWillUnmount=function(){var e=this.props.useCase;window.removeEventListener("resize",this._handleWindowResize),e.removeResizeViewModeListener(this._handleImagePanelResize)},o.render=function(){var e=this.props,t=e.children,o=e.groupStore,n=e.contentMode,r=o.images,i=this._renderNavigators(),a=this._renderProgressBar(),s=r.map(this._renderImageUnitWrapper);return r.forEach(function(e){return e.phase}),p.b.createElement(p.b.Fragment,null,p.b.createElement(k.a,{ref:this._refImagePanel,className:"se-imageGroup-slide",contentMode:n,viewer:".se-imageGroup-viewer",progress:".se-imageGroup-progress",thumb:".se-imageGroup-thumb",onHideBar:this._handleHideBar,onShowBar:this._handleShowBar,onResize:this._handleResize,onScroll:this._throttledHandleScroll,onReset:this._handleReset,right:!1,drag:!1,images:r},p.b.createElement("div",{className:"se-imageGroup-viewer"},p.b.createElement("div",{className:"se-imageGroup-container"},s)),i,a),t)},o._renderNavigators=function(){if(!this.state.activateNavigator)return null;var e=this.props.i18n;return p.b.createElement("div",{className:"se-imageGroup-navigation",onClick:this._handleClick},p.b.createElement("button",{type:"button",ref:this._refPrevButton,className:"se-imageGroup-navigation-button se-imageGroup-navigation-button-prev",disabled:this.state.prevDisabled,"data-direction":"prev"},p.b.createElement("span",{className:"se-blind"},e("imageGroupComponent:prev_image")," ")),p.b.createElement("button",{type:"button",ref:this._refNextButton,className:"se-imageGroup-navigation-button se-imageGroup-navigation-button-next",disabled:this.state.nextDisabled,"data-direction":"next"},p.b.createElement("span",{className:"se-blind"},e("imageGroupComponent:next_image"))))},o._renderProgressBar=function(){return p.b.createElement("div",{className:"se-imageGroup-progress",style:{display:this.state.activateNavigator?"":"none"}},p.b.createElement("div",{className:"se-imageGroup-thumb"}))},o._renderImageUnitWrapper=function(e,t){var o=this.props,n=o.i18n,r=o.documentWidth,i=o.slideViewHeight,a=o.useCase,s=o.groupStore,c="image-group-slide-view-"+e.id+"-"+t;return p.b.createElement(Y,{key:c,i18n:n,useCase:a,groupStore:s,rowIndex:t,colIndex:0,image:e,index:t,documentWidth:r,slideViewHeight:i})},o._handleImagePanelResize=function(){this._imagePanel&&this._imagePanel.resizeWithDebounced()},o._handleWindowResize=function(){this._handleImagePanelResize()},o._handleShowBar=function(){this.state.activateNavigator||this.setState({activateNavigator:!0})},o._handleHideBar=function(){this.state.activateNavigator&&this.setState({activateNavigator:!1})},o._handleResize=function(e){var t=e.pos,o=e.range;!this.state.activateScrollbar&&this._isMiddleSlide(t,o)&&this.setState({activateScrollbar:!0,prevDisabled:!1,nextDisabled:!1})},o._handleScroll=function(e){var t=e.pos,o=e.range;!this.state.prevDisabled&&this._isFirstSlide(t,o)?this.setState({prevDisabled:!0,nextDisabled:!1}):!this.state.nextDisabled&&this._isLastSlide(t,o)?this.setState({prevDisabled:!1,nextDisabled:!0,activateScrollbar:!1}):(this.state.prevDisabled||this.state.nextDisabled)&&this._isMiddleSlide(t,o)&&this.setState({prevDisabled:!1,nextDisabled:!1})},o._isFirstSlide=function(e,t){return e===Object(O.a)(t)},o._isLastSlide=function(e,t){return e===Object(S.a)(t)},o._isMiddleSlide=function(e,t){return e>Object(O.a)(t)&&e<Object(S.a)(t)},o._handleClick=function(e){"prev"===e.target.getAttribute("data-direction")?this._imagePanel.prev(400):this._imagePanel.next(400)},o._refImagePanel=function(e){this._imagePanel=e},o._refPrevButton=function(e){this._prevButton=e},o._refNextButton=function(e){this._nextButton=e},o._handleReset=function(){this.setState({prevDisabled:!0,nextDisabled:!1})},t}(p.b.Component),u()(J.prototype,"_renderNavigators",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(J.prototype,"_renderNavigators"),J.prototype),u()(J.prototype,"_renderProgressBar",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(J.prototype,"_renderProgressBar"),J.prototype),u()(J.prototype,"_renderImageUnitWrapper",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_renderImageUnitWrapper"),J.prototype),u()(J.prototype,"_handleImagePanelResize",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleImagePanelResize"),J.prototype),u()(J.prototype,"_handleWindowResize",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleWindowResize"),J.prototype),u()(J.prototype,"_handleShowBar",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleShowBar"),J.prototype),u()(J.prototype,"_handleHideBar",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleHideBar"),J.prototype),u()(J.prototype,"_handleResize",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleResize"),J.prototype),u()(J.prototype,"_handleScroll",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleScroll"),J.prototype),u()(J.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleClick"),J.prototype),u()(J.prototype,"_refImagePanel",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_refImagePanel"),J.prototype),u()(J.prototype,"_refPrevButton",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_refPrevButton"),J.prototype),u()(J.prototype,"_refNextButton",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_refNextButton"),J.prototype),u()(J.prototype,"_handleReset",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleReset"),J.prototype),J);X.propTypes={children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,documentWidth:p.a.number,slideViewHeight:p.a.number,viewMode:p.a.string,useCase:p.a.instanceOf(E),groupStore:p.a.instanceOf(R.a).isRequired,contentMode:p.a.string},X.defaultProps={children:null,i18n:function(e){return e},documentWidth:700,slideViewHeight:420,viewMode:r.T.VIEW_MODE_PC};var Q=Object(d.b)(X),Z=Q;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/slide-view.jsx",localName:t}})}catch(e){}}e(X,"SlideView"),e(Q,"default")}();var $=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.groupStore,o=e.children,n=t.images,r=this._convertToCollageData(n),i=this._renderCollageImages(r);return p.b.createElement("div",{className:"se-imageGroup-viewer"},i,o)},o._renderCollageImages=function(e){var t=this,o=0;return e.map(function(e,n){var r=e.images.map(function(e,r){return t._renderImage(e,n,r,o++)});return t._renderWrapper(r,n)})},o._renderWrapper=function(e,t){var o="image-group-collage-view-item-"+t;return p.b.createElement("div",{key:o,className:"se-imageGroup-item"},e)},o._renderImage=function(e,t,o){var n=this.props,r=n.i18n,i=n.useCase,a=n.groupStore,s="image-group-collage-view-"+e.id+"-"+t+"-"+o;return p.b.createElement(Y,{key:s,i18n:r,rowIndex:t,colIndex:o,useCase:i,groupStore:a,image:e})},o._convertToCollageData=function(e){return e.reduce(function(e,t){e.length||e.push({total:0,images:[]});var o=e[e.length-1];return o.total>=100?e.push({total:t.widthPercentage,images:[t]}):(o.images.push(t),o.total+=t.widthPercentage),e},[])},t}(p.b.Component);$.propTypes={children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,useCase:p.a.instanceOf(E),groupStore:p.a.instanceOf(R.a).isRequired},$.defaultProps={children:null};var ee=Object(d.b)($),te=ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/collage-view.jsx",localName:t}})}catch(e){}}e($,"CollageView"),e(ee,"default")}();var oe,ne=o(192),re=o(139),ie=(oe=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=this._renderImageView();return p.b.createElement(_.a,{blockWrapperProps:t,onDoubleClick:this._handleDoubleClick},Object(ne.a)({}),n,p.b.createElement(v.a,{store:t,i18n:o,onLimitTextLength:this._handleLimitTextLength}))},o._getAdditionalOption=function(){return{placeholder:(0,this.props.i18n)("imageGroupComponent:caption_placeholder")}},o._renderImageView=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=e.useCase,i=t.layout,a=t.place,s=t.contentMode,c=i===g.a.COLLAGE,l=this._resolveImageView(c),u={place:a,i18n:n,useCase:r,groupStore:t,contentMode:s};return c||(u.documentWidth=t.documentWidth,u.slideViewHeight=t.slideViewHeight,u.viewMode=t.viewMode),p.b.createElement(l,u,o,p.b.createElement(re.a,{compStore:t,isReady:!0,i18n:n}))},o._resolveImageView=function(e){return e?te:Z},o._handleDoubleClick=function(e){"BUTTON"!==e.target.tagName&&this.props.useCase.editGroupImage()},t}(b.a),u()(oe.prototype,"_handleDoubleClick",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(oe.prototype,"_handleDoubleClick"),oe.prototype),oe);ie.defaultProps={config:{}},ie.propTypes={store:p.a.instanceOf(R.a).isRequired,useCase:p.a.instanceOf(E).isRequired,children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,placeholder:p.a.string,config:p.a.object,onDblClickImage:p.a.func,onLimitTextLength:p.a.func};var ae,se=Object(d.b)(ie),ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/image-group-section.jsx",localName:t}})}catch(e){}}e(ie,"ImageGroupSection"),e(se,"default")}();var le=(ae=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){var e=this.props,t=e.useCase,o=e.store;t.updateViewMode(o)},o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout||g.a.DEFAULT,a=t.contentMode||y.a.NORMAL,s=this._renderGroupImageSection();return p.b.createElement(f.a,{store:t,id:n,ctype:r,layout:i,contentMode:a,i18n:o},p.b.createElement(m.a,{compId:n,compStore:t},s))},o._renderGroupImageSection=function(){var e=this.props,t=e.i18n,o=e.children;return p.b.createElement(ce,a()({},this.props,{placeholder:t("imageGroupComponent:caption_placeholder"),onLimitTextLength:this._handleLimitTextLength}),o)},o._handleLimitTextLength=function(){var e=this.props.i18n("imageGroupComponent:exceed_text_max_length");this.props.useCase.exceedTextMaxLength(e)},t}(p.b.Component),u()(ae.prototype,"_handleLimitTextLength",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(ae.prototype,"_handleLimitTextLength"),ae.prototype),ae);le.defaultProps={children:null,i18n:function(e){return e}},le.propTypes={shouldForceRefresh:p.a.bool,store:p.a.instanceOf(R.a).isRequired,useCase:p.a.instanceOf(E).isRequired,i18n:p.a.func,children:p.a.oneOfType([p.a.element,p.a.array])};var ue=Object(d.b)(le),pe=ue;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/index.jsx",localName:t}})}catch(e){}}e(le,"ImageGroupComponentView"),e(ue,"default")}();var de=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=r.V.get("componentFactory"),t._selectionInfoStore=r.V.get("selectionInfoStore"),t._componentListStore=r.V.get("componentListStore"),t}c()(t,e);var o=t.prototype;return o.selectImageUnit=function(e,t){var o=t.getComponentActiveRange();o.start.compId=e.id,o.end.compId=e.id,this._selectionInfoStore.setRange(o)},o.selectImageGroupCompAsSingle=function(e){var t=this.getCompStoreByCompId(e).getComponentActiveRange();this._selectionInfoStore.setRange(t)},o.changeLayout=function(e,t){e.changeLayout(t)},o.insertData=function(e){this.getComponentStore(e.compId).insertData(e)},o.updateData=function(e){this.getComponentStore(e.compId).updateData(e)},o.updatePlace=function(e,t){e.updatePlace(t)},o.updateViewMode=function(e,t){e.changeViewMode(t)},o.convertToGroupImage=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:"imageGroup",layout:e,images:t});return o.updatePhase(r.N.PROCESSING),o},o.completeAll=function(e){e.stripUncompletedImage(),e.updatePhase(r.N.DONE)},o.getImageComponent=function(e,t){return e.getStoreById(t)},o.getPhaseInfoOfImages=function(e){return void 0===e&&(e={}),e.phaseInfoOfImages},o.getSelectedCompStore=function(){var e=this._selectionInfoStore.start.compId;return this._componentListStore.getComponentById(e)},o.cloneWithSelection=function(){var e=this._selectionInfoStore.start.compId,t=this._componentListStore.getComponentById(e),o=t.cloneComponent();return o.selection=t.selection,t.images.forEach(function(e,t){o.images[t].selection=e.selection}),o},o.getCompStoreByCompId=function(e){return this._componentListStore.getComponentById(e)},o.getSelectedImage=function(){var e=this.getSelectedCompStore(),t=this._selectionInfoStore.toValidJSON().start;return this.getImageComponent(e,t.unitId)},o.isComponentActivated=function(){var e=this._selectionInfoStore.toValidJSON().start;return e.compId===e.unitId},o.changeImageToShell=function(){this.getSelectedImage().setState({phase:r.N.PROCESSING})},o.updateShellImage=function(e,t){var o=this.getCompStoreByCompId(t),n=this.getImageComponent(o,e.id);this._updateShellImageBy(e,n),this.updateImageGroupRatio(o)},o._updateShellImageBy=function(e,t){t.setState({alt:e.fileName,height:parseInt(e.height,10),width:parseInt(e.width,10),originalWidth:parseInt(e.width,10),originalHeight:parseInt(e.height,10),path:e.path+"/"+e.fileName,fileSize:Number(e.fileSize),format:e.animatedCnt>1?r.C.ANIMATED:r.C.NORMAL,fileName:e.fileName,internalResource:!0,phase:r.N.DONE})},o.updatePhase=function(e,t){var o=e.format,n={phase:t};o!==r.C.PANORAMA&&o!==r.C.VR360||(n.displayFormat=r.C.NORMAL),e.setState(n)},o.updateComponentPhase=function(e,t){this.getComponentStore(t).updatePhase(e)},o.updateImageSize=function(e,t,o){e.updateImageSize(t,o)},o.updateImageGroupRatio=function(e){e.adjustImageGroupRatio(e.images)},t}(r.a),he=de,fe=he;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/service/index.js",localName:t}})}catch(e){}}e(de,"ImageGroupComponentService"),e(he,"default")}();var me,ge,ye=o(80),be=o(210),_e=o(261),ve=o(262),Ce=o(263),Oe=o(264),Se=o(17),ke=o.n(Se),Ie=o(62),we=o(55),Pe=(me=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?we.a.BASIC:t,n=e.title,r=void 0===n?"imageGroupEdit:title":n,i=e.label,s=void 0===i?"imageGroupEdit:label":i,c=e.labelVisible,l=void 0===c||c,u=e.logId,d=void 0===u?"gimed":u,h=ke()(e,["type","title","label","labelVisible","logId"]);return p.b.createElement(Ie.a,a()({type:o,title:r,label:s,logId:d,labelVisible:l},h,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editGroupImage()},t}(p.b.Component),u()(me.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(me.prototype,"_handleClick"),me.prototype),me),je=Pe,Te=je;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/view/image-group-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(Pe,"ImageGroupEditRightLabelButton"),e(je,"default")}();var Le=(ge=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?we.a.BASIC:t,n=e.title,r=void 0===n?"imageGroupEditWithoutLabel:title":n,i=e.logId,s=void 0===i?"gimed":i,c=ke()(e,["type","title","logId"]);return p.b.createElement(Ie.a,a()({type:o,title:r,logId:s},c,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editGroupImage()},t}(p.b.Component),u()(ge.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(ge.prototype,"_handleClick"),ge.prototype),ge),Ee=Le,Ne=Ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/view/image-group-edit-button-view.jsx",localName:t}})}catch(e){}}e(Le,"ImageGroupEditButton"),e(Ee,"default")}();var xe,De=o(104),Re=(xe=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?we.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"imageGroupTypeChange:title":n,i=e.label,s=void 0===i?"imageGroupTypeChange:label":i,c=e.groups,l=void 0===c?[{value:"collage",title:"imageGroupTypeChange:collage_title",label:"imageGroupTypeChange:collage_label",logId:"gimcol"},{value:"slide",title:"imageGroupTypeChange:slide_title",label:"imageGroupTypeChange:slide_label",logId:"gimsl"}]:c,u=ke()(e,["type","title","label","groups"]);return p.b.createElement(De.a,a()({type:o,title:r,label:s,groups:l},u,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeType(e)},t}(p.b.Component),u()(xe.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(xe.prototype,"_handleChange"),xe.prototype),xe),Ae=Re,Me=Ae;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/view/image-group-type-change-button-view.jsx",localName:t}})}catch(e){}}e(Re,"ImageGroupTypeChangeButtonView"),e(Ae,"default")}();var Be,Ue,Ve,Fe,ze,We,Ge,He=o(719),qe=o(707),Je=(Be=Object(h.history)({sync:!1}),Ue=Object(h.history)({sync:!1}),Ve=Object(h.history)({sync:!1}),Fe=Object(h.history)({sync:!1}),ze=Object(h.history)({sync:!1}),We=Object(h.history)({sync:!1}),Ge=function(e){function t(){var t;return(t=e.call(this)||this)._imageGroupComponentService=r.V.get("imageGroupComponentService"),t._imageGroupOrderLayerService=r.V.get("imageGroupOrderLayerService"),t._imageUploadService=r.V.get("imageUploadService"),t._editingService=r.V.get("editingService"),t._imageEditService=r.V.get("imageEditService"),t._imageBehavior=r.V.get("imageBehavior"),t._selectionInfoStore=r.V.get("selectionInfoStore"),t._canvasScrollingService=r.V.get("canvasScrollingService"),t._placeLayerService=r.V.get("placeLayerService"),t}c()(t,e);var o=t.prototype;return o.changeType=function(e){var t=e.value,o=this._imageGroupComponentService.getSelectedCompStore();o&&o.layout!==t&&(this._imageGroupComponentService.changeLayout(o,t),this._selectionInfoStore.setRange(o.getCompStartRange()),this._canvasScrollingService.scrollToFocus())},o.editGroupImage=function(){var e=this._imageGroupComponentService.getSelectedCompStore().cloneComponent();this._imageGroupOrderLayerService.open(e)},o.changeImage=function(){var e=j()(w.a.mark(function e(){var t,o,n,i=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._imageGroupComponentService.getSelectedCompStore(),o=this._imageGroupComponentService.getSelectedImage(),e.next=4,this._imageUploadService.openFileDialog();case 4:return n=e.sent,this._imageGroupComponentService.changeImageToShell(),e.next=8,this._imageBehavior.changeImage({targetStoreId:o.id,selectedImages:n}).then(function(e){var n=e.succeededImages,a=e.invalidImageErrors;n.forEach(function(e){var o=e.response;i._imageGroupComponentService.updateShellImage(o,t.id)}),a.length&&(i._imageGroupComponentService.selectImageUnit(t,o),i._imageGroupComponentService.updateComponentPhase(r.N.DONE,t.id),i._editingService.erase())});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=j()(w.a.mark(function e(t){var o,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageGroupComponentService.isComponentActivated(),n=this._imageGroupComponentService.getSelectedImage(),r=o?n.images[0].id:n.id,e.next=5,this._imageEditService.editImage({activeCompId:r,direct:t});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.editLocation=function(){var e=j()(w.a.mark(function e(){var t,o,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._imageGroupComponentService.getSelectedCompStore(),o=t.place,e.next=4,this._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:o?[o]:[]});case 4:(n=e.sent)&&this._imageGroupComponentService.updatePlace(t,n.places[0]);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(r.m),u()(Ge.prototype,"changeType",[h.preventOnComponentProcessing,h.history,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"changeType"),Ge.prototype),u()(Ge.prototype,"editGroupImage",[h.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"editGroupImage"),Ge.prototype),u()(Ge.prototype,"changeImage",[h.sentryCatch,h.preventOnComponentProcessing,Be,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"changeImage"),Ge.prototype),u()(Ge.prototype,"editImage",[h.sentryCatch,h.preventOnDocumentProcessing,Ue,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"editImage"),Ge.prototype),u()(Ge.prototype,"adjustImage",[h.sentryCatch,h.preventOnDocumentProcessing,Ve,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"adjustImage"),Ge.prototype),u()(Ge.prototype,"cropImage",[h.sentryCatch,h.preventOnDocumentProcessing,Fe,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"cropImage"),Ge.prototype),u()(Ge.prototype,"filterImage",[h.sentryCatch,h.preventOnDocumentProcessing,ze,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"filterImage"),Ge.prototype),u()(Ge.prototype,"editLocation",[h.preventOnComponentProcessing,We,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"editLocation"),Ge.prototype),Ge);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/use-case/image-group-button-use-case.js",localName:t}})}catch(e){}}(Je,"ImageGroupButtonUseCase")}();var Ke={"image-edit-right-label":{view:be.a,useCase:Je,styleName:"image-edit"},"image-edit":{view:_e.a,useCase:Je,styleName:"image-edit"},"image-adjust":{view:ve.a,useCase:Je,styleName:"image-adjust"},"image-crop":{view:Ce.a,useCase:Je,styleName:"image-crop"},"image-filter":{view:Oe.a,useCase:Je,styleName:"image-filter"},"image-group-edit-right-label":{view:Te,useCase:Je,styleName:"image-group-edit"},"image-group-edit":{view:Ne,useCase:Je,styleName:"image-group-edit"},"image-group-type-change":{view:Me,useCase:Je,styleName:"image-group",propertyName:"layout"},"image-replacement":{view:He.a,useCase:Je,styleName:"image-replacement"},"image-location":{view:qe.a,useCase:Je,styleName:"image-location"}},Ye=Ke;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Ke,"default")}();var Xe={propertyToolbar:{align:Object(ye.a)("align-group"),"caption-align":Object(ye.a)("caption-align-group"),"image-edit-right-label":Ye["image-edit-right-label"],"image-group-edit-right-label":Ye["image-group-edit-right-label"],"image-group-type-change":Ye["image-group-type-change"],"content-mode":Object(ye.a)("content-mode-group-fit-and-extend"),"separator-bar":Object(ye.a)("separator-bar")},contextToolbar:{"caption-bold":Object(ye.a)("caption-bold"),"special-letter":Object(ye.a)("special-letter"),"caption-link":Object(ye.a)("caption-link"),"caption-align":Object(ye.a)("caption-align"),"image-replacement":Ye["image-replacement"],"image-edit":Ye["image-edit"],"image-group-edit":Ye["image-group-edit"],"image-group-type-change":Ye["image-group-type-change"],"content-mode":Object(ye.a)("content-mode-group-fit-and-extend"),delete:Object(ye.a)("delete"),"separator-bar":Object(ye.a)("separator-bar"),translation:Object(ye.a)("translation")},overlayToolbar:{"content-mode":Object(ye.a)("content-mode-group-fit-and-extend"),"image-filter":Ye["image-filter"],"image-adjust":Ye["image-adjust"],"image-group-edit-right-label":Ye["image-group-edit-right-label"],"image-location":Ye["image-location"],delete:Object(ye.a)("delete")}},Qe=Xe;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/image-group-button-set-map.js",localName:t}})}catch(e){}}(Xe,"default")}();var Ze=o(97),$e=function(e){var t=[];return e.selectedComponents[0].isCaptionFocused()?t.push("caption-align"):t.push("align"),t.push("separator-bar","image-edit-right-label","separator-bar","image-group-edit-right-label","separator-bar","image-group-type-change","separator-bar","content-mode"),t},et=function(e){var t=e.selectedComponents,o=e.selectionInfoStore;if(t.length>1)return[];var n=Object(O.a)(t);if(n.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}var r=o.start.unitId===n.id,i=n.images;if(r){var a=[];return i.every(ot)&&(i.some(nt)&&(a.push("image-edit"),a.push("separator-bar")),a.push("image-group-edit")),[].concat(a,["separator-bar","image-group-type-change","separator-bar","content-mode","separator-bar","delete"])}var s=tt(n,o);if(!s||!ot(s))return[];var c=["image-replacement"];return nt(s)&&c.push("image-edit"),c},tt=function(e,t){var o=t.start.unitId;return Object(Ze.a)(e.images,function(e){return e.id===o})},ot=function(e){return e.isUploaded},nt=function(e){return"normal"===e.displayFormat&&!0===e.internalResource},rt={propertyToolbar:$e,contextToolbar:et,overlayToolbar:function(){return{fixedButtonSets:{top:["content-mode"],bottom:["image-filter","image-adjust","image-group-edit-right-label","image-location","delete"]}}}},it=rt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/image-group-button-resolver.js",localName:t}})}catch(e){}}e($e,"propertyToolbarButtonSetResolver"),e(et,"contextToolbarButtonSetResolver"),e(tt,"getActivatedImage"),e(ot,"isUploaded"),e(nt,"hasEditableImage"),e(rt,"default")}();var at=function(e){function t(){return e.call(this,{buttonSetMap:Qe,buttonResolver:it})||this}return c()(t,e),t}(r.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/index.js",localName:t}})}catch(e){}}(at,"ImageGroupComponentToolbar")}();var st=r.q.extend({name:"ImageGroupComponent",view:pe,useCase:E,service:fe,store:R.a,toolbar:at}),ct=st;t.a=ct;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/index.js",localName:t}})}catch(e){}}e(st,"ImageGroupComponent"),e(ct,"default")}()},141:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(49),a=o.n(i),s=o(48),c=o(335),l=o(53),u=o.n(l),p=o(73),d=o(50),h=o(98),f=o(142),m=o(250),g=o(51),y={bold:"b",underline:"u",italic:"i",strikeThrough:"strike",subscript:"sub",superscript:"sup"},b={url:"urlLink"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/consts.js",localName:t}})}catch(e){}}e(y,"STYLE_TAG_MAP"),e(b,"LINK_TYPE")}();var _,v=o(88),C=o(649),O=o(167),S=(_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).STATUS={LOADING:"loading",COMPLETE:"complete",ERROR:"error"},t.state={status:t.STATUS.LOADING,minimized:!1},t._src="",t._imgRef=s.b.createRef(),t._resizeObserver,t}r()(t,e);var o=t.prototype;return o.UNSAFE_componentWillUpdate=function(e){this._src&&this._src!==e.node.src&&this._resetComponent()},o.componentDidUpdate=function(){var e=this;this._shouldRepresentiveBtn()&&this._imgRef.current&&!this._resizeObserver&&(this._resizeObserver=new m.default(function(t){var o=t[0].contentRect,n=o.width,r=o.height,i=e.props.node.isSmallerThanMinimumSize(n,r);e.setState({minimized:i})}),this._resizeObserver.observe(this._imgRef.current))},o.componentWillUnmount=function(){this._resizeObserver&&this._resizeObserver.disconnect()},o.render=function(){var e=this.props.node,t=e.id,o=e.computedStyle,n=e.link,r=this.state.status,i=this._getInlineStyle(o),a=this._getClassNames(o),c=this._renderRepresentiveBtn(),l=this._renderImagePlaceholder(),u=this._renderImage(),p=this._renderErrorImage();return this._hasBackgroundColor(o)?s.b.createElement("span",{id:t,className:a,style:i},l,r===this.STATUS.ERROR?p:u,c):s.b.createElement("span",{id:t,className:a,style:i,"data-href":n&&n.url},l,r===this.STATUS.ERROR?p:u,c)},o._renderImagePlaceholder=function(){var e=this._resolveImageAreaStyle();return this._isProgressing()?s.b.createElement(s.b.Fragment,null,s.b.createElement("span",{className:"se-inline-image-prepareing-inner",style:e}),s.b.createElement("span",{className:"se-blind"},this.props.uploadProgressTitle)):null},o._renderErrorImage=function(){var e=this.props.notFoundImageTitle;return s.b.createElement("span",{className:"se-state-error"},s.b.createElement("span",{className:"se-state-error-detail"},s.b.createElement("span",{className:"se-state-error-text"},e)))},o._resolveImageAreaStyle=function(){var e=this.props.node,t=e.width;return{paddingTop:""+e.height/t*100+"%"}},o._renderImage=function(){var e=this.props.node,t=e.src,o=e.phase;return this._src=t,o===s.a.PROCESSING?null:s.b.createElement(v.b,{className:"se-inline-image-resource",src:this._src,elementRef:this._imgRef,onLoad:this._handleLoadImage,onError:this._handleErrorImage})},o._renderRepresentiveBtn=function(){var e=u()({"se-set-rep-image-button":!0,"se-is-selected":this.props.node.represent});if(this._shouldRepresentiveBtn()&&!1===this.state.minimized)return s.b.createElement("button",{type:"button",className:e,onClick:this._handleClickRepresentative},s.b.createElement("span",{className:"se-set-rep-image-button-text"},this.props.representativeTitle))},o._shouldRepresentiveBtn=function(){var e=this.props.node,t=e.representativeEnabled,o=void 0===t||t,n=e.internalResource;return this.state.status===this.STATUS.COMPLETE&&n&&!!o&&e.isRepresentativeImage()},o._isProgressing=function(){var e=this.props.node,t=e.path,o=e.src,n=e.phase,r=e.internalResource&&""===t&&""!==o;return this.state.status===this.STATUS.LOADING||n===d.N.PROCESSING||r},o._hasBackgroundColor=function(e){return!(!e||!e.backgroundColor)},o._getInlineStyle=function(e){return{maxWidth:this.props.node.width,color:e.fontColor,backgroundColor:e.backgroundColor}},o._getClassNames=function(e){var t,o=e.fontFamily,n=e.fontSizeCode,r=this.props.node,i=r.link,a=r.width,s=r.height,c=r.selection;return u()(((t={})["se-ff-"+o]=!!o,t["se-"+n]=!!n,t["se-highlight"]=this._hasBackgroundColor(e),t["se-link"]=i&&i.ctype===b.url,t["se-inline-image"]=!0,t["se-inline-image-prepareing"]=this._isProgressing(),t["se-inline-image-prepareing-mini"]=this._isProgressing()&&(a<=60||s<=30),t["se-is-inline-image-block-selected"]=c===d.O.BLOCK,t["__se-node"]=!0,t))},o._resetComponent=function(){this.state.status!==this.STATUS.LOADING&&this.setState({status:this.STATUS.LOADING})},o._handleLoadImage=function(){this.setState({status:this.STATUS.COMPLETE});var e=this.props.useCase;e&&e.refreshAfterLazy()},o._handleErrorImage=function(){this.setState({status:this.STATUS.ERROR});var e=this.props.useCase;e&&e.refreshAfterLazy()},o._handleClickRepresentative=function(e){var t=this.props,o=t.compId,n=t.unitId,r=t.paraId,i=t.node;(0,t.onClickRepresentative)({compId:o,unitId:n,paraId:r,nodeId:i.id}),C.a.log(e.nativeEvent,"tetct.rep")},t}(s.b.Component),a()(_.prototype,"_renderRepresentiveBtn",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(_.prototype,"_renderRepresentiveBtn"),_.prototype),a()(_.prototype,"_handleLoadImage",[g.autobind],Object.getOwnPropertyDescriptor(_.prototype,"_handleLoadImage"),_.prototype),a()(_.prototype,"_handleErrorImage",[g.autobind],Object.getOwnPropertyDescriptor(_.prototype,"_handleErrorImage"),_.prototype),a()(_.prototype,"_handleClickRepresentative",[g.autobind],Object.getOwnPropertyDescriptor(_.prototype,"_handleClickRepresentative"),_.prototype),_);S.propTypes={useCase:s.a.instanceOf(d.c),node:s.a.instanceOf(O.a),uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,linkTitle:s.a.string,unitId:s.a.string,compId:s.a.string,paraId:s.a.string,onClickRepresentative:s.a.func,additionalOption:s.a.object};var k=Object(c.b)(S),I=k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/image-node.jsx",localName:t}})}catch(e){}}e(S,"ImageNodeUnit"),e(k,"default")}();var w=o(57),P=o.n(w),j=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleClick=t.handleClick.bind(P()(t)),t}r()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){},o.render=function(){var e=this.props.node,t=e.id,o=e.value,n=e.computedStyle,r=e.link,i=this._getInlineStyle(n),a=this._getClassNames(n),c=this._getStyleTags(o,n);return this._hasBackgroundColor(n)?s.b.createElement("span",{id:t,className:a,style:i},s.b.createElement("mark",{dangerouslySetInnerHTML:{__html:c}})):s.b.createElement("span",{id:t,className:a,style:i,"data-href":r&&r.url,dangerouslySetInnerHTML:{__html:c}})},o._hasBackgroundColor=function(e){return!(!e||!e.backgroundColor)},o._getInlineStyle=function(e){return{color:e.fontColor,backgroundColor:e.backgroundColor}},o._getClassNames=function(e){var t,o=e.fontFamily,n=e.fontSizeCode,r=this.props.node.link;return u()(((t={"se-emoji":!0})["se-ff-"+o]=!!o,t["se-"+n]=!!n,t["se-highlight"]=this._hasBackgroundColor(e),t["se-link"]=r&&r.ctype===b.url,t["__se-node"]=!0,t))},o._getStyleTags=function(e,t){var o=e;return Object.keys(t).forEach(function(e){if(t[e])switch(e){case"bold":case"italic":case"strikeThrough":case"underline":case"superscript":case"subscript":o="<"+y[e]+">"+o+"</"+y[e]+">"}}),o},o.handleClick=function(e){e.preventDefault()},t}(s.b.Component);j.defaultProps={},j.propTypes={node:s.a.instanceOf(O.a)};var T=Object(c.b)(j),L=T;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/emoji-node.jsx",localName:t}})}catch(e){}}e(j,"EmojiNodeUnit"),e(T,"default")}();var E,N=o(710);function x(e,t){return Object.keys(t).forEach(function(o){if(t[o])switch(o){case"bold":case"italic":case"strikeThrough":case"underline":case"superscript":case"subscript":e="<"+y[o]+">"+e+"</"+y[o]+">"}}),e}var D=function(e){return!(!e||!e.backgroundColor)},R=function(e,t){var o,n=e.fontFamily,r=e.fontSizeCode;return u()(((o={})["se-ff-"+n]=!!n,o["se-"+r]=!!r,o["se-highlight"]=D(e),o["se-link"]=t&&t.ctype===b.url,o["__se-node"]=!0,o))},A=function(e,t,o){var n="";o?n='<span class="se-drop-cap">'+M(e.slice(0,1))+"</span>"+M(e.slice(1)):n=M(e);return x(n,t)},M=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/[\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\ufeff]/g,"&#32;")},B=function(e,t,o,n){if(n)e.innerHTML=A(t,o,n);else{for(var r=e;1===r.nodeType&&r.firstChild;)r=r.firstChild;r.textContent=t}},U=(E=function(e){function t(t){var o;o=e.call(this,t)||this;var n=t.node,r=t.hasDropCap;return o._disposer=null,o._el=null,o._value=n.value,o._hasDropCap=r,o}r()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._register(this.props.node)},o.componentDidUpdate=function(e){var t=e.node,o=this.props,n=o.node,r=o.hasDropCap;this._hasDropCap=r,n!==t&&this._register(n)},o.componentWillUnmount=function(){this._disposer&&this._disposer(),this._disposer=null,this._el=null},o.render=function(){var e=this.props,t=e.node,o=e.hasDropCap,n=t.id,r=t.computedStyle,i=t.link,a=this._getInlineStyle(r),c=R(r,i),l=A(this._value,r,o);return D(r)?s.b.createElement("span",{id:n,className:c,style:a},s.b.createElement("mark",{ref:this._ref,dangerouslySetInnerHTML:{__html:l}})):s.b.createElement("span",{id:n,ref:this._ref,className:c,style:a,"data-href":i&&i.url,dangerouslySetInnerHTML:{__html:l}})},o._ref=function(e){this._el=e},o._getInlineStyle=function(e){return{color:e.fontColor,backgroundColor:e.backgroundColor}},o._register=function(e){var t=this,o=e.computedStyle;this._disposer&&this._disposer(),this._disposer=s.f.observe(e,"value",function(e){t._value!==e.newValue&&(t._value=e.newValue,t._el&&B(t._el,e.newValue,o,t._hasDropCap))},!0)},t}(s.b.Component),a()(E.prototype,"_ref",[g.autobind],Object.getOwnPropertyDescriptor(E.prototype,"_ref"),E.prototype),a()(E.prototype,"_getInlineStyle",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(E.prototype,"_getInlineStyle"),E.prototype),E);U.defaultProps={hasDropCap:!1},U.propTypes={node:s.a.instanceOf(N.a),hasDropCap:s.a.bool};var V=Object(c.b)(U),F=V;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/text-node.jsx",localName:t}})}catch(e){}}e(x,"wrapStyleTags"),e(D,"_hasBackgroundColor"),e(R,"_getClassNames"),e(A,"_getStyleTags"),e(M,"_convertValue"),e(B,"write"),e(U,"TextNodeUnit"),e(V,"default")}();var z=function(e){var t=e.node,o=e.hasDropCap,n=e.uploadProgressTitle,r=e.representativeTitle,i=e.notFoundImageTitle,a=e.onClickRepresentative,c=e.useCase,l=e.unitId,u=e.paraId,p=e.compId,d=e.key;switch(t.ctype){case"imageNode":return s.b.createElement(I,{key:d,useCase:c,unitId:l,paraId:u,compId:p,hasDropCap:o,uploadProgressTitle:n,representativeTitle:r,notFoundImageTitle:i,onClickRepresentative:a,node:t});case"emojiNode":return s.b.createElement(L,{key:d,node:t});default:return s.b.createElement(F,{key:d,hasDropCap:o,node:t})}},W=z;Node.defaultProps={placeholder:""},Node.propTypes={node:s.a.instanceOf(O.a),uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func,useCase:s.a.instanceOf(d.c),unitId:s.a.string,paraId:s.a.string,compId:s.a.string,key:s.a.string},function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/node.jsx",localName:t}})}catch(e){}}(z,"default")}();var G=o(282),H=o(67),q=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.spellCheckInfo,o=e.selectedId,n=t.id,r=t.corrected,i=this._getLargestFontSize(),a=u()("se-grammar","se-"+i,{"se-grammar-emended":r},{"se-grammar-error":!r},{"se-is-selected":o===n});return s.b.createElement("a",{id:n,className:a,"data-grammarid":n},this._renderNodeList())},o._renderNodeList=function(){var e=[];return this.props.nodes.forEach(function(t){var o="spellCheck_"+t.id;e.push(s.b.createElement(F,{key:o,node:t}))}),e},o._getLargestFontSize=function(){var e=this.props.nodes,t="fs0";return Object(H.a)(e,function(e){var o=e.computedStyle.fontSizeCode;t=t>o?t:o}),t},t}(s.b.Component);q.propTypes={nodes:s.a.arrayOf(s.a.object),spellCheckInfo:s.a.object,selectedId:s.a.string};var J=Object(c.b)(q),K=J;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/grammar-node.jsx",localName:t}})}catch(e){}}e(q,"GrammarNode"),e(J,"default")}();var Y=o(713),X=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.context,t=e.spellCheckMap,o=e.selectedId,n=this.props,r=n.paragraph,i=n.uploadProgressTitle,a=n.representativeTitle,c=n.notFoundImageTitle,l=n.compId,u=n.unitId,p=n.useCase,d=n.onClickRepresentative,m=r.nodes,g=r.computedStyle,y=r.id,b=r.firstTextNodeIndex,_=-1,v=t[l],C=Object(f.a)(v,function(e,t){return e[t.position.startNodeId]=t,e},{});return m.map(function(e,t){var n=C[e.id],r=b===t&&!!g.dropCap;if(-1!==_&&t<=_)return!1;if(n&&!1===n.excluded){var f=Object(h.a)(m,function(e){return e.id===n.position.endNodeId});return _=t===f?-1:f,s.b.createElement(K,{key:t,nodes:m.slice(t,f+1),selectedId:o,spellCheckInfo:n})}return W({key:e.id,node:e,hasDropCap:r,uploadProgressTitle:i,representativeTitle:a,notFoundImageTitle:c,onClickRepresentative:d,useCase:p,unitId:u,paraId:y,compId:l})})},t}(s.b.Component);X.contextType=Y.a,X.propTypes={useCase:s.a.instanceOf(d.c),compId:s.a.string,unitId:s.a.string,paragraph:s.a.instanceOf(G.a),placeholder:s.a.string,uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func};var Q,Z=Object(c.b)(X),$=Z;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/node-list.jsx",localName:t}})}catch(e){}}e(X,"NodeList"),e(Z,"default")}();var ee=(Q=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.paragraph,t=e.firstNodeComputedStyle,o=u()(["se-placeholder","__se_placeholder","se-ff-"+t.fontFamily,"se-"+t.fontSizeCode,{"se-placeholder-focused":e.selection===d.O.CURSOR}]),n=this._getStyledPlaceHolder();return s.b.createElement("span",{key:"placeholder",className:o,dangerouslySetInnerHTML:{__html:n}})},o._getStyledPlaceHolder=function(){var e=this.props,t=e.paragraph;return x(e.placeholder,t.firstNodeComputedStyle)},t}(s.b.Component),a()(Q.prototype,"_getStyledPlaceHolder",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(Q.prototype,"_getStyledPlaceHolder"),Q.prototype),Q);ee.propTypes={paragraph:s.a.instanceOf(G.a),placeholder:s.a.string};var te=Object(c.b)(ee),oe=te;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/text-placeholder.jsx",localName:t}})}catch(e){}}e(ee,"TextPlaceholder"),e(te,"default")}();var ne=function(e){var t,o=e.unitId,n=e.compId,r=e.paragraph,i=e.useCase,a=e.placeholder,c=e.uploadProgressTitle,l=e.representativeTitle,p=e.notFoundImageTitle,h=e.onClickRepresentative,f=r.id,m=r.computedStyle,g={lineHeight:m.lineHeight},y=u()(((t={"se-text-paragraph":!0})["se-text-paragraph-align-"+(m.align||"left")]=!0,t["se-text-paragraph-drop-cap"]=m.dropCap,t["se-is-text-paragraph-focused"]=r.selection===d.O.CURSOR,t["se-is-text-paragraph-block-selected"]=r.selection===d.O.BLOCK,t));return s.b.createElement("p",{id:f,style:g,className:y},s.b.createElement($,{useCase:i,unitId:o,paraId:f,compId:n,paragraph:r,uploadProgressTitle:c,representativeTitle:l,notFoundImageTitle:p,onClickRepresentative:h}),a?s.b.createElement(oe,{paragraph:r,placeholder:a}):null)};ne.defaultProps={placeholder:""},ne.propTypes={useCase:s.a.instanceOf(d.c),compId:s.a.string,unitId:s.a.string,paragraph:s.a.instanceOf(G.a),placeholder:s.a.string,uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func,isSingleParagraphFocused:s.a.bool};var re=Object(c.b)(ne),ie=re;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/paragraph.jsx",localName:t}})}catch(e){}}e(ne,"ParagraphUnit"),e(re,"default")}();var ae=o(54),se=o.n(ae),ce=d.E.DISC,le=d.E.CIRCLE,ue=d.E.SQUARE,pe=d.E.DECIMAL,de=d.E.WRAPPER,he=d.E.ITEM,fe=d.E.NESTED,me={0:ce,1:le,2:ue},ge=null,ye=function(e,t){var o=e.type,n=e.key;switch(o){case d.F.UL:return s.b.createElement(be,{node:e,key:n});case d.F.OL:return s.b.createElement(_e,{node:e,key:n});case d.F.NONE:case d.F.DECIMAL:case d.F.BULLET:return s.b.createElement(ve,{node:e,paraProps:t,key:n})}},be=Object(c.b)(function(e){var t=e.node.level,o=u()(de,me[t%3]);return s.b.createElement("ul",{className:o},e.node.children.map(ge))}),_e=Object(c.b)(function(e){var t=u()(de,pe);return s.b.createElement("ol",{className:t},e.node.children.map(ge))}),ve=Object(c.b)(function(e){var t,o=e.node,n=o.type,r=o.paragraph,i=o.children,a=o.filler,c=u()(he,((t={})[fe]=n===d.F.NONE||a,t));return s.b.createElement("li",{className:c},!a&&s.b.createElement(ie,se()({paragraph:r},e.paraProps)),i.map(ge))}),Ce=Object(c.b)(function(e){var t=e.tree.root,o=e.paraProps;return ge=function(e){return ye(e,o)},s.b.createElement(s.b.Fragment,null,t.children.map(ge))}),Oe=Ce,Se=Oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/tree-paragraph.jsx",localName:t}})}catch(e){}}e(ce,"DISC"),e(le,"CIRCLE"),e(ue,"SQUARE"),e(pe,"DECIMAL"),e(de,"WRAPPER"),e(he,"ITEM"),e(fe,"NESTED"),e(me,"BULLET_CLASS_MAP"),e(ge,"renderNode"),e(ye,"renderNodeMap"),e(be,"UL"),e(_e,"OL"),e(ve,"LI"),e(Ce,"TreeParagraph"),e(Oe,"default")}();var ke=o(757),Ie=o(668),we=function(e){var t=e.text,o=e.useCase,n=e.unitId,r=e.compId,i=e.uploadProgressTitle,a=e.representativeTitle,c=e.placeholder,l=e.notFoundImageTitle,u=e.onClickRepresentative,p=t.structuredParagraphStore.paragraphs,d={unitId:n,compId:r,useCase:o,onClickRepresentative:u,uploadProgressTitle:i,representativeTitle:a,notFoundImageTitle:l,placeholder:c};return s.b.createElement(s.b.Fragment,null,p.map(function(e){return e instanceof ke.a?s.b.createElement(Se,{key:e.id,paraProps:d,tree:e}):s.b.createElement(ie,se()({key:e.id,paragraph:e},d))}))};we.propTypes={useCase:s.a.instanceOf(d.c),compId:s.a.string,unitId:s.a.string,text:s.a.object,placeholder:s.a.string,uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func,isSingleParagraphFocused:s.a.bool};var Pe,je=Object(Ie.a)(Object(Ie.c)(Object(c.b)(we),{path:"text.structuredParagraphStore.paragraphs",output:"text.structuredParagraphStore.paragraphs",getKey:function(e){return e.id}}),{path:["text.structuredParagraphStore.paragraphs","text.paragraphs"],output:"text.structuredParagraphStore.paragraphs"}),Te=je;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/paragraph-list.jsx",localName:t}})}catch(e){}}e(we,"ParagraphList"),e(je,"default")}();var Le=(Pe=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={},o}r()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._bindReaction()},t.getDerivedStateFromProps=function(e){return{useReaction:{maxLength:!!e.onLimitTextLength,filterText:!!e.onFilteredText}}},o.componentDidUpdate=function(e){!1===e.text.isEqualStore(this.props.text)&&(this._unbindReaction(),this._bindReaction())},o.componentWillUnmount=function(){this._unbindReaction()},o.render=function(){var e=this.props,t=e.text,o=e.className,n=e.additionalOption,r=e.options,i=e.compId,a=e.unitId,c=e.onClickRepresentative,l=e.useCase,d=e.forwardRef,h=r.isUnitSelector,f=r.useToolbarSlot,m=n.placeholder,g=n.uploadProgressTitle,y=n.representativeTitle,b=n.notFoundImageTitle,_=t.id,v=t.empty&&!t.existTextInListParagraph,C=u()({"se-is-empty":v},o),O=v?m:"";return s.b.createElement(p.a,{id:_,ctype:"text",forwardRef:d,className:C,isUnitSelector:h,useToolbarSlot:f},s.b.createElement(Te,{text:t,useCase:l,unitId:a||t.id,compId:i,uploadProgressTitle:g,representativeTitle:y,notFoundImageTitle:b,placeholder:O,onClickRepresentative:c}))},o._bindReaction=function(){var e=this.props.text;this.state.useReaction.maxLength&&(this._disposerIsOverTextLimit=s.f.reaction(function(){return e.isOverTextLimit},this._handleLimitTextLength)),this.state.useReaction.filterText&&(this._disposerHasFilteredText=s.f.reaction(function(){return e.hasFilteredText},this._handleFilteredTextReaction))},o._unbindReaction=function(){this._disposerIsOverTextLimit&&this._disposerIsOverTextLimit(),this._disposerHasFilteredText&&this._disposerHasFilteredText()},o._handleLimitTextLength=function(e){var t=this.props.text;e&&(this.props.onLimitTextLength(),t.turnOffOverTextLimit())},o._handleFilteredTextReaction=function(e){var t=this.props.text;e&&(this.props.onFilteredText(),t.turnOffFilteredTextState())},t}(s.b.Component),a()(Pe.prototype,"_handleLimitTextLength",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(Pe.prototype,"_handleLimitTextLength"),Pe.prototype),a()(Pe.prototype,"_handleFilteredTextReaction",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(Pe.prototype,"_handleFilteredTextReaction"),Pe.prototype),Pe);Le.defaultProps={id:"",ctype:"textUnit",text:{id:"",paragraphs:[ie.defaultProps],isOverTextLimit:!1},additionalOption:{placeholder:"",uploadProgressTitle:"",representativeTitle:"",notFoundImageTitle:""},placeholder:"",className:"",options:{isUnitSelector:!0,useToolbarSlot:!0}},Le.propTypes={useCase:s.a.instanceOf(d.c),text:s.a.object,forwardRef:s.a.oneOfType([s.a.func,s.a.shape({current:s.a.instanceOf(Element)})]),id:s.a.string.isRequired,unitId:s.a.string,compId:s.a.string,ctype:s.a.oneOf(["textUnit"]).isRequired,placeholder:s.a.string,additionalOption:s.a.object,className:s.a.string,options:s.a.shape({isUnitSelector:s.a.bool,useToolbarSlot:s.a.bool}),onClickRepresentative:s.a.func,onLimitTextLength:s.a.func,onFilteredText:s.a.func};var Ee=Object(c.b)(Le);t.a=Ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/index.jsx",localName:t}})}catch(e){}}e(Le,"TextUnit"),e(Ee,"default")}()},147:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(117),h=o(50),f=o(48),m=o(51),g=o(190),y=(n=function(e){function t(){var t;return(t=e.call(this)||this)._imageGroupOrderLayerService=h.V.get("imageGroupOrderLayerService"),t._imageGroupService=h.V.get("imageGroupComponentService"),t._editingService=h.V.get("editingService"),t._imageUploadService=h.V.get("imageUploadService"),t._dragAndDropService=h.V.get("dragAndDropService"),t._canvasLayoutService=h.V.get("canvasLayoutService"),t._imageBehavior=h.V.get("imageBehavior"),t._imageEditService=h.V.get("imageEditService"),t._dragGhost=h.V.get("dragGhost"),t}l()(t,e);var o=t.prototype;return o.close=function(){this._imageGroupOrderLayerService.close()},o.reorderImages=function(e){this._imageGroupOrderLayerService.reorderImages(e)},o.confirm=function(e,t){var o=this;if(e===g.a.INDIVIDUAL){this._imageGroupService.selectImageGroupCompAsSingle(t);var n=this._imageGroupOrderLayerService.getUnitsAsImageCompStores();setTimeout(function(){o._convertToIndividualImages(n,t)},0)}else this._updateImageGroup(e,t);this._imageGroupOrderLayerService.close()},o._updateImageGroup=function(e,t){var o={images:this._imageGroupOrderLayerService.getImages(),layout:e,compId:t};this._imageGroupService.insertData(o)},o._convertToIndividualImages=function(e,t){this._editingService.insert({sourceComponents:e}),this._editingService.eraseComponent(t)},o.changeLayout=function(e){this._imageGroupOrderLayerService.changeLayout(e)},o.replaceImage=function(){var e=s()(i.a.mark(function e(t){var o,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageGroupOrderLayerService.getCurrentOrderLayerStore(),e.next=3,this._imageUploadService.openFileDialog();case 3:return n=e.sent,r=this._imageGroupOrderLayerService.getImages().find(function(e){return e.id===t}).clone(),this._imageGroupOrderLayerService.changeImageUnitToShell(t),e.next=8,this._changeImage(t,o,n,r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._changeImage=function(e,t,o,n){var r=this;return this._imageBehavior.changeImage({targetStoreId:e,selectedImages:o}).then(function(e){var t=e.succeededImages;return t.length>0?r._imageGroupOrderLayerService.replaceImageFromData(t[0].response):r._imageGroupOrderLayerService.replaceImage(n),e})},o.editImage=function(e){var t=this,o=this._imageGroupOrderLayerService.getEditableImage(),n=e||Object(d.a)(o).id;this._imageEditService.editImageGroupAtOrderLayer({activeCompId:n,editableImages:o,callbacks:{onCompleteEdit:function(e){Object(f.h)(function(){t._imageGroupOrderLayerService.applyEditedImages(e)})}}})},o.deleteImage=function(e){this._imageGroupOrderLayerService.deleteImage(e)},o.dragStart=function(e,t,o){var n=t.toValidJSON();this._dragAndDropService.dragStart({event:e,items:[n],type:"groupLayer",useNativeGhost:o})},o.dragOver=function(e){this._dragGhost.updatePosition(e)},o.drop=function(){this._dragGhost.end(),this._dragAndDropService.reset(),this._canvasLayoutService.refreshVirtualEditable()},o.updateImageGroupRatio=function(e){this._imageGroupOrderLayerService.adjustImageGroupRatio(e.images)},o.updatePhase=function(e,t){this._imageGroupOrderLayerService.updatePhase(e,t)},o.updateImageSize=function(e,t,o){this._imageGroupOrderLayerService.updateImageSize(e,t,o)},t}(h.m),p()(n.prototype,"confirm",[m.preventOnDocumentProcessing,f.d],Object.getOwnPropertyDescriptor(n.prototype,"confirm"),n.prototype),p()(n.prototype,"_updateImageGroup",[m.history,f.d],Object.getOwnPropertyDescriptor(n.prototype,"_updateImageGroup"),n.prototype),p()(n.prototype,"_convertToIndividualImages",[m.history,f.d],Object.getOwnPropertyDescriptor(n.prototype,"_convertToIndividualImages"),n.prototype),p()(n.prototype,"_changeImage",[m.documentProcessing],Object.getOwnPropertyDescriptor(n.prototype,"_changeImage"),n.prototype),p()(n.prototype,"editImage",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"editImage"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(y,"ImageGroupOrderLayerUseCase"),e(b,"default")}()},148:function(e,t,o){"use strict";var n,r,i,a,s,c=o(59),l=o.n(c),u=o(60),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=(o(61),o(16)),_=o(50),v=o(48),C=o(975),O=o(190),S=o(399),k=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,p()(o,"opened",r,h()(o)),p()(o,"layout",i,h()(o)),p()(o,"images",a,h()(o)),p()(o,"compId",s,h()(o)),o.availableReplace=!0;var n=t.state,c=void 0===n?{}:n;return o.opened=Object(b.a)(c,"opened",o.opened),o.layout=Object(b.a)(c,"layout",o.layout),o.images=Object(b.a)(c,"images",o.images),o.compId=Object(b.a)(c,"compId",o.compId),o._componentFactory=_.V.get("componentFactory"),o.availableReplace=o._getAvailableReplaceConfig(),o}m()(t,e);var o=t.prototype;return o._getAvailableReplaceConfig=function(){var e=_.V.get("configAgent").get("plugins.componentSettings.imageGroup.config");return!Object(b.a)(e,"toolbar.contextToolbar.exclude",[]).includes("image-replacement")},o.open=function(e){var t=e.layout,o=e.images,n=e.id;this.opened=!0,this.layout=t,this.images=o,this.compId=n},o.close=function(){this.opened=!1,this.layout=O.a.DEFAULT,this.images=[],this.compId=""},o.changeLayout=function(e){this.layout=e},o.updateImages=function(e){this.images=e},o.reorderImages=function(e){this.images.replace(this._getReorderedImages(e))},o.changeImage=function(e,t){var o=this.images.findIndex(function(t){return t.id===e});this.images[o].setState(t)},o.deleteImage=function(e){var t=this.images.findIndex(function(t){return t.id===e});~t&&this.images.splice(t,1)},o.getImages=function(){return this.images},o.getUnitsAsImageCompStores=function(){var e=this;return this.images.map(function(t){return t.resetWidthPercentage(),e._componentFactory.createComponentWithCompData(l()({ctype:"image"},t))})},o._getReorderedImages=function(e){var t=this;return Array.from(e).reduce(function(e,o){var n=t.images[o.dataset.order];return n&&e.push(n),e},[])},o.adjustImageGroupRatio=function(e){this.layout===O.a.COLLAGE&&this._resolveWidthRatio(e)},o._resolveWidthRatio=function(e){for(var t=e.length,o=0;o<t;o++){var n=e[o],r=void 0;if(++o<t){r=e[o];var i=n.width/n.height,a=i+r.width/r.height;n.widthPercentage=i/a*100,r.widthPercentage=100-n.widthPercentage}else n.widthPercentage=100}},t}(_.e),r=y()(n.prototype,"opened",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=y()(n.prototype,"layout",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.a.DEFAULT}}),a=y()(n.prototype,"images",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=y()(n.prototype,"compId",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y()(n.prototype,"open",[v.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),y()(n.prototype,"close",[v.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),y()(n.prototype,"changeLayout",[v.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLayout"),n.prototype),n);k.schema={opened:C.a.bool,compId:C.a.string,layout:C.a.string,images:C.a.arrayOf(C.a.shape(S.a.schema))};var I=k;t.a=I,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/store/index.js",localName:t}})}catch(e){}}e(k,"ImageGroupOrderLayerStore"),e(I,"default")}()},149:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f=o(59),m=o.n(f),g=o(17),y=o.n(g),b=o(60),_=o.n(b),v=o(1),C=o.n(v),O=o(57),S=o.n(O),k=o(0),I=o.n(k),w=o(49),P=o.n(w),j=(o(61),o(16)),T=o(69),L=o(106),E=o(171),N=o(97),x=o(121),D=o(64),R=o(77),A=o(105),M=o(101),B=o(975),U=o(1211),V=o(50),F=o(48),z=o(168),W=o(399),G=o(191),H=o(1261),q=o(190),J=Object(V.Z)(V.h),K=Object(V.X)(J),Y=(n=function(e){I()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"query"},o.documentWidth=null,_()(o,"layout",r,S()(o)),_()(o,"align",i,S()(o)),_()(o,"caption",a,S()(o)),_()(o,"contentMode",s,S()(o)),_()(o,"place",c,S()(o)),_()(o,"images",l,S()(o)),_()(o,"phase",u,S()(o)),_()(o,"mediaMeta",p,S()(o)),_()(o,"viewMode",d,S()(o)),_()(o,"representativeEnabled",h,S()(o));var n=t,f=n.state,m=void 0===f?{}:f,g=n.config,y=void 0===g?{}:g;return o._configAgent=V.V.get("configAgent"),o._componentFactory=V.V.get("componentFactory"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o.layout=Object(j.a)(m,"layout",o.layout),o.align=Object(j.a)(m,"align",o.align),o.caption=o._createCaptionTextUnitStore(m,y),o.contentMode=Object(j.a)(m,"contentMode",o.contentMode),o.place=Object(j.a)(m,"place",o.place),o.images=o._createImageStores(m.images),o.phase=o._resolveComponentPhase(),o.slideViewHeight=y.slideViewHeight,o.mediaMeta=Object(j.a)(m,"mediaMeta",o.mediaMeta),o.viewMode=Object(j.a)(m,"viewMode",o.viewMode),o.attributes=Object(T.a)(o.attributes,y.attributes),o.showLocationButton=Object(j.a)(y,"enableLocation",!1),o.updateConfig(),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,caption:this.caption,contentMode:this.contentMode,place:F.f.toJS(this.place),images:this.images.map(function(e){return e.toPlainJSON()}),phase:this.phase,mediaMeta:F.f.toJS(this.mediaMeta),viewMode:this.viewMode}},t.updateConfig=function(){e.prototype.updateConfig.call(this),this.images.forEach(function(e){e.updateConfig&&e.updateConfig()}),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},t.updateProperty=function(e,t){var o=e.contentMode,n=e.link,r=y()(e,["contentMode","link"]);if(o&&this.changeContentMode(o),Object(M.a)(this,r),n)return this.changeLink(n,t)},t.changeViewMode=function(e){this.viewMode=e},t.changeContentMode=function(e){this.contentMode=e},t.changeLayout=function(e){this.layout=e,this.adjustImageGroupRatio()},t.insertData=function(e){this.images=e.images,this.changeLayout(e.layout)},t.updateData=function(e){var t=this;e.images.forEach(function(e){var o=t.images.find(function(t){return t.id===e.id});Object(L.a)(o,e)})},t.stripUncompletedImage=function(){var e=this.phaseInfoOfImages;if(e.uncompletedCount>0){var t=e.completedImages;this.images.replace(t),this.layout===q.a.COLLAGE&&this._resolveWidthRatio(t)}},t.updatePlace=function(e){this.place=e},t.applyEditedImage=function(e){var t=this,o=e.photos.map(function(e){return e.modified?t._refineIntoImageData(e):e});this.updateData({compId:e.key,images:o})},t._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,originalWidth:r,originalHeight:n,path:a,id:t,src:""+i+a+(this.thumbnailType?"?type="+this.thumbnailType:"")}},t.adjustImageGroupRatio=function(e){void 0===e&&(e=this.images),this.layout===q.a.COLLAGE&&this._resolveWidthRatio(e)},t._resolveWidthRatio=function(e){for(var t=e.length,o=0;o<t;o++){var n=e[o],r=void 0;if(++o<t){r=e[o];var i=n.width/n.height,a=i+r.width/r.height;n.widthPercentage=i/a*100,r.widthPercentage=100-n.widthPercentage}else n.widthPercentage=100}},t._resolveComponentPhase=function(){return this.images.some(function(e){return e&&e.src})?V.N.DONE:V.N.PROCESSING},t.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,contentMode:this.contentMode,align:t};if(e&&this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(E.a)(n,function(e){return""===e||null===e});o.caption=r}if(this._isImageUnitSelected(e)){var i=Object(N.a)(this.images,{id:e.start.unitId});o.format=i.format,o.displayFormat=i.displayFormat,o.phase=i.phase}else o.phase=this.phase;return o},t.clone=function(e){if(this.caption.isFocused)return this.caption.clone(e);if(this.isUnitFocused){var t=this.getStoreById(e.start.unitId).clone();return t.resetWidthPercentage(),t}return this._componentFactory.createComponentWithCompData(this.toValidJSON())},t.isLibraryComponent=function(){return Object(x.a)(this.images,function(e){return!0===e.isLibraryComponent()})},t.getLibraryItemData=function(){var e=this;return Object(A.a)(Object(R.a)(this.images,function(t){if(t.isLibraryComponent())return Object.assign(t.getLibraryItemData(),{id:e.id})}))},t._isImageUnitSelected=function(e){var t=e.start.unitId;return Object(x.a)(this.images,function(e){return e.id===t})},t._isSelectedComponent=function(){return"single"===this.selection||"multi"===this.selection||"block"===this.selection},t._createCaptionTextUnitStore=function(e,t){var o={state:e.caption,config:Object(D.a)({},t.caption,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},maxLength:1/0,filterTextStyle:{fontFamily:G.b.NOT_ALLOWED,fontSizeCode:G.b.NOT_ALLOWED,fontColor:G.b.NOT_ALLOWED,backgroundColor:G.b.NOT_ALLOWED,italic:G.b.NOT_ALLOWED,underline:G.b.NOT_ALLOWED,strikeThrough:G.b.NOT_ALLOWED,subscript:G.b.NOT_ALLOWED,superscript:G.b.NOT_ALLOWED,dropCap:G.b.NOT_ALLOWED,list:G.b.NOT_ALLOWED}})},n=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),r=Object(j.a)(n,"caption.textStyle",{}),i=o.config.filterTextStyle;return o.config.filterTextStyle=Object(T.a)(i,r),new H.a(o)},t._createImageStores=function(e){var t=this;void 0===e&&(e=[]);var o=e.map(function(e){var o=t._componentFactory.createComponentWithCompData(m()({ctype:"image"},e),{attributes:{cursor:"selectable-unit",selection:"selectable-unit",erasure:"query",drop:"object"}});return o.displayFormat="normal",o});return this.adjustImageGroupRatio(o),o},t.getStoreById=function(e){if(e===this.id)return this;if(e===this.caption.id)return this.caption;var t=this.images.find(function(t){return t.id===e});return t||null},t.isRepresentativeImage=function(){return Object(x.a)(this.images,function(e){return e.isRepresentativeImage()})},t.hasRepresentativeImage=function(){return Object(x.a)(this.images,function(e){return e.hasRepresentativeImage()})},t.releaseRepresentativeImage=function(e){var t=e.unitId,o=this.getStoreById(t);o&&o.releaseRepresentativeImage()},t.setRepresentativeImage=function(e){var t=e.unitId,o=this.getStoreById(t);o||(o=Object(N.a)(this.images,function(e){return e.isRepresentativeImage()})),o&&o.setRepresentativeImage()},t.getRepresentativeId=function(){var e=this;return Object(R.a)(this.images,function(t){return e.id+"|"+t.getRepresentativeId()})},t.getRepresentativeInnerData=function(){var e=Object(N.a)(this.images,function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},t.queryErasure=function(e){if(this._isImageUnitSelected(e)){if(this._removeImageUnit(e),1===this.images.length){var t=this.images.pop().toValidJSON(),o=this._componentFactory.createComponentWithCompData(t);return this.showLocationButton&&this.place&&o.updatePlace(this.place),{result:"replace",component:o,range:o.getComponentActiveRange()}}return{result:"replace",component:this,range:this.getComponentActiveRange()}}if(this._isSelectedComponent())return{result:"self",component:null,range:null}},t._removeImageUnit=function(e){var t=this.images.filter(function(t){return t.id!==e.start.unitId});this.images.replace(t),this.adjustImageGroupRatio()},t.deselect=function(){this.images.forEach(function(e){return e.deselect()}),this.caption.deselect(),this._changeSelectionToNone()},C()(o,[{key:"isUnitFocused",get:function(){return Object(x.a)(this.images,function(e){return"single"===e.selection})}},{key:"isFocused",get:function(){return this.caption.isFocused||this.isUnitFocused||"none"!==this.selection}},{key:"phaseInfoOfImages",get:function(){var e=this.images.filter(function(e){return e.isUploaded}),t=e.length;return{completedImages:e,completedCount:t,uncompletedCount:this.images.length-t}}},{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),o}(K),r=P()(n.prototype,"layout",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.a.DEFAULT}}),i=P()(n.prototype,"align",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=P()(n.prototype,"caption",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=P()(n.prototype,"contentMode",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.a.EXTEND}}),c=P()(n.prototype,"place",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=P()(n.prototype,"images",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=P()(n.prototype,"phase",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"empty"}}),p=P()(n.prototype,"mediaMeta",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=P()(n.prototype,"viewMode",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.T.VIEW_MODE_PC}}),h=P()(n.prototype,"representativeEnabled",[F.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P()(n.prototype,"isUnitFocused",[F.e],Object.getOwnPropertyDescriptor(n.prototype,"isUnitFocused"),n.prototype),P()(n.prototype,"isFocused",[F.e],Object.getOwnPropertyDescriptor(n.prototype,"isFocused"),n.prototype),P()(n.prototype,"phaseInfoOfImages",[F.e],Object.getOwnPropertyDescriptor(n.prototype,"phaseInfoOfImages"),n.prototype),n);Y.ctype="imageGroup",Y.schema={id:B.a.string.isRequired,layout:B.a.string.isRequired,ctype:B.a.string.isRequired,contentMode:B.a.string.isRequired,caption:B.a.captionTextUnit,place:B.a.shape(U.d),images:B.a.arrayOf(B.a.shape(W.a.schema)).isRequired,mediaMeta:B.a.shape(U.b)};var X=Y;t.a=X,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/store/index.js",localName:t}})}catch(e){}}e(J,"RepresentativeCompStore"),e(K,"LinkWritableAndRepresentativeCompStore"),e(Y,"ImageGroupComponentStore"),e(X,"default")}()},150:function(e,t,o){"use strict";var n,r,i,a,s=o(50),c=o(54),l=o.n(c),u=o(0),p=o.n(u),d=o(49),h=o.n(d),f=o(51),m=o(48),g=o(335),y=o(81),b=o(82),_=o(405),v=o(649),C=o(168),O=o(399),S=o(12),k=o.n(S),I=o(18),w=o.n(I),P=(n=Object(f.history)({sync:!1}),r=Object(f.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._imageEditService=s.V.get("imageEditService"),t._imageUploadService=s.V.get("imageUploadService"),t._imageComponentService=s.V.get("imageComponentService"),t._panoramaImageService=s.V.get("panoramaImageService"),t._imageLocationEditLayerService=s.V.get("imageLocationEditLayerService"),t._alertLayerService=s.V.get("alertLayerService"),t._propertyChangeService=s.V.get("propertyChangeService"),t._toastLayerService=s.V.get("toastLayerService"),t._libraryPanelLayoutService=s.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._propertyToolbarLayoutService=s.V.get("propertyToolbarLayoutService"),t._imageBehavior=s.V.get("imageBehavior"),t._i18n=s.V.get("i18n"),t._placeLayerService=s.V.get("placeLayerService"),t}p()(t,e);var o=t.prototype;return o.togglePanoramaDisplay=function(e){var t=this;this._imageComponentService.isTaggedImage(e)?this._alertLayerService.open({type:"confirm",title:this._i18n("imageTag:confirm_added_tag_title"),description:this._i18n("imageTag:confirm_convert_to_vr360_description"),onClickConfirm:function(){return t._confirmPanoramaDisplay(e)},onClickCancel:function(){return t._alertLayerService.close()}}):this._panoramaImageService.togglePanoramaDisplay(e)},o._confirmPanoramaDisplay=function(e){this._imageComponentService.removeMediaTag(e),this._panoramaImageService.togglePanoramaDisplay(e)},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;s.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.changeImage=function(){var e=w()(k.a.mark(function e(t){var o,n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return o=e.sent,e.next=5,this._imageBehavior.changeImage({targetStoreId:t,selectedImages:o}).then(function(e){var t=e.invalidImageErrors;return n._imageBehavior.cleanUpImage(t),e});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=w()(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageEditService.editImage({activeCompId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.openLocationEditLayer=function(e,t){var o=this;this._imageLocationEditLayerService.open({onClickRemove:function(){o._imageComponentService.updatePlace(e,null)},onClickChange:function(){var n=w()(k.a.mark(function n(){var r;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:[t]});case 2:(r=n.sent)&&o._imageComponentService.updatePlace(e,r.places[0]);case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()})},o.attachLocation=function(){var e=w()(k.a.mark(function e(t,o,n){var r,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={isUpdateMode:!0,maxPlaceCount:1},o?r.initialPlaces=[o]:n&&(r.initialPlaces=[{latlng:{latitude:n.latitude,longitude:n.longitude}}]),e.next=4,this._placeLayerService.editPlaces(r);case 4:i=e.sent,this._imageComponentService.updatePlace(t,i.places[0]);case 6:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o.exceedTextMaxLength=function(e){},o.handleMouseUpOnResizer=function(e,t,o){this._imageComponentService.updateImageSize(e.id,t,o)},o.completeImageLoad=function(e){this._imageComponentService.completeImageLoad(e)},o.changeLink=function(e){var t=e.value.trim();if(this._propertyChangeService.isValidLink(t))this._imageComponentService.removeMediaTag(),this._propertyChangeService.changeLink({type:"url",value:t});else{var o=this._i18n("textComponent:is_valid_link");this._toastLayerService.warningMessage(o)}},o.toggleButton=function(e){var t=this,o=e.id;e.showConfirm&&"image-link"===o&&this._imageComponentService.isTaggedImage()?this._alertLayerService.open({type:"confirm",title:this._i18n("imageTag:confirm_added_tag_title"),description:this._i18n("imageTag:confirm_convert_to_link_description"),onClickConfirm:function(){return t._confirmToggle(o)},onClickCancel:function(){return t._alertLayerService.close()}}):this._propertyToolbarLayoutService.toggleButton(o)},o._confirmToggle=function(e){this._propertyToolbarLayoutService.toggleButton(e)},t}(s.c),h()(i.prototype,"togglePanoramaDisplay",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"togglePanoramaDisplay"),i.prototype),h()(i.prototype,"_confirmPanoramaDisplay",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"_confirmPanoramaDisplay"),i.prototype),h()(i.prototype,"setRepresentativeImage",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"setRepresentativeImage"),i.prototype),h()(i.prototype,"changeImage",[n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"changeImage"),i.prototype),h()(i.prototype,"editImage",[f.preventOnDocumentProcessing,r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"editImage"),i.prototype),h()(i.prototype,"openLocationEditLayer",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"openLocationEditLayer"),i.prototype),h()(i.prototype,"attachLocation",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"attachLocation"),i.prototype),h()(i.prototype,"exceedTextMaxLength",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"exceedTextMaxLength"),i.prototype),h()(i.prototype,"handleMouseUpOnResizer",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"handleMouseUpOnResizer"),i.prototype),h()(i.prototype,"completeImageLoad",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"completeImageLoad"),i.prototype),h()(i.prototype,"changeLink",[f.preventOnComponentProcessing,f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"changeLink"),i.prototype),h()(i.prototype,"toggleButton",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"toggleButton"),i.prototype),i),j=P,T=j;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/use-case/index.js",localName:t}})}catch(e){}}e(P,"ImageComponentUseCase"),e(j,"default")}();var L=(a=function(e){function t(t){var o;return(o=e.call(this,t)||this)._editorStatusStore=s.V.get("editorStatusStore"),o._deviceType=s.V.get("configAgent").get("productEnv.deviceType"),o}p()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout||C.b.DEFAULT,a=t.contentMode||C.a.NORMAL;return m.b.createElement(y.a,{id:n,ctype:r,layout:i,contentMode:a,i18n:o},m.b.createElement(b.a,{compId:n,compStore:t},m.b.createElement(_.a,l()({},this.props,{useMediaTag:!0,onDblClickImage:this._handleDblClickImage,onClickPanoramaDisplay:this._handleToggleVR360Display,onClickRepresentative:this._handleClickRepresentative,onClickLocation:this._handleClickLocation,onCompleteImage:this._handleCompleteImage,onLimitTextLength:this._handleLimitTextLength,onMoveToNext:this._handleMoveToNext,onMoveToPrev:this._handleMoveToPrev,resizable:this._isResizable()}),this.props.children)))},o._isResizable=function(){var e=this.props.store,t=e.displayFormat,o=e.phase;return[s.C.NORMAL,s.C.ANIMATED].includes(t)&&this._deviceType!==s.t.MOBILE&&this._editorStatusStore.viewMode===s.T.VIEW_MODE_PC&&o===s.N.DONE},o._handleDblClickImage=function(){var e=this.props,t=e.useCase,o=e.store,n=o.id,r=o.format,i=o.internalResource,a=o.src;r===s.C.NORMAL&&i&&a.toLowerCase().indexOf(".gif")<0?t.editImage(n):t.changeImage(n)},o._handleToggleVR360Display=function(){var e=this.props,t=e.useCase,o=e.store;t.togglePanoramaDisplay(o.id)},o._handleClickRepresentative=function(e){var t=this.props,o=t.store;t.useCase.setRepresentativeImage({compId:o.id,unitId:o.id}),v.a.log(e.nativeEvent,"imect.rep")},o._handleClickLocation=function(){var e=this.props,t=e.store;e.useCase.openLocationEditLayer(t.id,t.place)},o._handleCompleteImage=function(){var e=this.props,t=e.store,o=e.useCase;o.completeImageLoad(t.id),o.repaintCursor()},o._handleLimitTextLength=function(){var e=this.props.i18n("imageComponent:exceed_text_max_length",{maxlength:this.props.store.caption.maxLength});this.props.useCase.exceedTextMaxLength(e)},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(m.b.Component),h()(a.prototype,"_handleDblClickImage",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleDblClickImage"),a.prototype),h()(a.prototype,"_handleToggleVR360Display",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleToggleVR360Display"),a.prototype),h()(a.prototype,"_handleClickRepresentative",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleClickRepresentative"),a.prototype),h()(a.prototype,"_handleClickLocation",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleClickLocation"),a.prototype),h()(a.prototype,"_handleCompleteImage",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleCompleteImage"),a.prototype),h()(a.prototype,"_handleLimitTextLength",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleLimitTextLength"),a.prototype),h()(a.prototype,"_handleMoveToPrev",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleMoveToPrev"),a.prototype),h()(a.prototype,"_handleMoveToNext",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleMoveToNext"),a.prototype),a);L.defaultProps={i18n:function(e){return e}},L.propTypes={shouldForceRefresh:m.a.bool,store:m.a.instanceOf(O.a).isRequired,useCase:m.a.instanceOf(T).isRequired,i18n:m.a.func,children:m.a.oneOfType([m.a.element,m.a.array])};var E=Object(g.b)(L),N=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/view/index.jsx",localName:t}})}catch(e){}}e(L,"ImageComponentView"),e(E,"default")}();var x=o(59),D=o.n(x),R=o(77),A=o(117),M=o(72),B=o(63),U=o(16),V=o(1196),F={BLOB:"blob",DATA_URI:"data-uri"},z=function(){function e(e){this._source=e,this._sourceType=this._resolveSourceType(e),this._imageInfo=this._getBaseInfoFrom(e),null===this._sourceType&&console.debug("[DEBUG]     .")}var t=e.prototype;return t._getBaseInfoFrom=function(e){var t={};if(this._sourceType===F.BLOB){var o=e.type,n=Object(V.a)(e.name,"match",/.(heic|heif)/);!e.type&&n&&(o="image/"+n[1]);var r=Object(M.a)(o.split("/"));t={name:e.name,type:o,ext:r}}else if(this._sourceType===F.DATA_URI){var i=e.match(/data:(.+);/),a=Object(M.a)(i),s=Object(M.a)(a.split("/"));t={name:this._generateNewImageName()+"."+s,type:a,ext:s}}return t},t._generateNewImageName=function(){return"SE_IMAGE_"+((new Date).getTime()+"_"+Math.ceil(1e4*Math.random()))},t._resolveSourceType=function(e){var t=Object(U.a)(e,"name","");return Object(U.a)(e,"type")||Object(V.a)(t,"match",/.heic|.heif/)?F.BLOB:Object(V.a)(e,"match",/^data:/)?F.DATA_URI:null},t.getInfo=function(){var e=w()(k.a.mark(function e(){var t,o,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this._source,o=this._resolveImageSource(t),e.next=5,this._getImageInfo(o);case 5:return n=e.sent,URL.revokeObjectURL(o),e.abrupt("return",D()({},this._imageInfo,{width:n.width,height:n.height}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),t._resolveImageSource=function(e){var t=e;return this._sourceType===F.DATA_URI&&(t=this._dataURItoBlob(e)),URL.createObjectURL(t)},t._getImageInfo=function(e){var t=this;return new Promise(function(o,n){var r=new Image;r.onload=function(e){var n=e.currentTarget;o({width:n.width,height:n.height}),t._fixForIE10GarbageCollectingError(n)},r.onerror=n,r.src=e})},t._fixForIE10GarbageCollectingError=function(e){e.style.display="none",document.body.appendChild(e),document.body.removeChild(e)},t._dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([n],{type:o})},e}(),W=z,G=W;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/local-image-file/index.js",localName:t}})}catch(e){}}e(F,"SOURCE_TYPE"),e(z,"LocalImageFile"),e(W,"default")}();var H=o(245),q=o(648),J=o(508),K=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=s.V.get("configAgent"),t._selectionInfoStore=s.V.get("selectionInfoStore"),t._componentListStore=s.V.get("componentListStore"),t._componentFactory=s.V.get("componentFactory"),t._toastLayerService=s.V.get("toastLayerService"),t._i18n=s.V.get("i18n"),t._maxImageUploadSize=t._configAgent.get("infraConfig.image.maxImageUploadSize")||Number.MAX_SAFE_INTEGER,t._maximumImagesPerUpload=t._configAgent.get("infraConfig.image.maximumImagesPerUpload")||Number.MAX_SAFE_INTEGER,t._documentWidth=t._configAgent.get("productConfig.documentWidth"),t}p()(t,e);var o=t.prototype;return o.validateImageFiles=function(){var e=w()(k.a.mark(function e(t){var o,n,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=1,e.next=3,Promise.all(Object(R.a)(t,function(){var e=w()(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(H.a.isWindows()&&o>r._maximumImagesPerUpload)){e.next=4;break}return e.abrupt("return",{isValid:!1,fileInfo:null,file:t,code:"LIMITATION_BY_SESSION_COUNT"});case 4:if(!(t.size>r._maxImageUploadSize)){e.next=8;break}return e.abrupt("return",{isValid:!1,fileInfo:null,file:t,code:"LIMITATION_BY_SESSION_SIZE"});case 8:if(0!==t.size){e.next=12;break}return e.abrupt("return",{isValid:!1,fileInfo:null,file:t,code:"INVALID_PARAMETER"});case 12:o++;case 13:return e.next=15,r._getSourceInfoFromFile(t);case 15:if(!(n=e.sent)){e.next=20;break}return e.abrupt("return",{isValid:!0,fileInfo:n,file:t});case 20:return e.abrupt("return",{isValid:!1,fileInfo:null,file:t});case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o.createFileUploadData=function(){var e=w()(k.a.mark(function e(t){var o,n,r,i,a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n=[],r=[],e.next=5,this.validateImageFiles(t);case 5:return e.sent.forEach(function(e){var t,i=e.isValid,s=e.file,c=e.fileInfo,l=e.code;if(i)(t=a._createShellWithImage(c)).locationEditable||a.showLocationMinimumImageWidthWarning(),o.push({id:t.id,file:s});else{var u={id:(t=a._createDefaultRatioShell()).id,file:s};l&&(u.code=l),n.push(u)}r.push(t)}),i=this._getUploadTarget(o),e.abrupt("return",{imageCompStores:r,uploadTarget:i,invalidImages:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._getUploadTarget=function(e){var t=[],o=[];return e.forEach(function(e){t.push(e.id),o.push(e.file)}),{ids:t,files:o}},o._createDefaultRatioShell=function(e){var t=this._documentWidth;return this._componentFactory.createComponentWithCompData({width:t,height:t*(9/16),phase:s.N.PROCESSING,ctype:"image",internalResource:!0,origin:e||{ctype:"imageOrigin",srcFrom:"local"}})},o._createShellWithImage=function(e){return this._componentFactory.createComponentWithCompData({name:e.name,alt:e.name,height:e.height,width:e.width,phase:s.N.PROCESSING,ctype:"image",internalResource:!0,origin:e.origin||{ctype:"imageOrigin",srcFrom:"local"}})},o.createShellsFromUrl=function(){var e=w()(k.a.mark(function e(t,o){var n,r,i=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object(R.a)(t,function(){var e=w()(k.a.mark(function e(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._getSourceInfoFromUrl(t,o);case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",i._createShellWithImage(n));case 7:return r={ctype:"imageOrigin",srcFrom:o},e.abrupt("return",i._createDefaultRatioShell(r));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,r=this._getCompIdList(n),e.abrupt("return",{imageCompStores:n,ids:r});case 5:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.createShellsFromCompData=function(e){var t=this,o=Object(R.a)(e,function(e){var o=D()({},e,{src:"",phase:s.N.PROCESSING});return t._componentFactory.createComponentWithCompData(o)});return{imageCompStores:o,ids:this._getCompIdList(o)}},o._getCompIdList=function(e){return e.map(function(e){return e.id})},o._getUpdateShellComp=function(){var e=w()(k.a.mark(function e(t){var o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!q.a.isFile(t)&&!q.a.isBlob(t)){e.next=8;break}return e.next=4,this._getLocalFileInfo(t);case 4:return o=e.sent,e.abrupt("return",this._adjustImageInfo(o));case 8:if(!J.a.isValidURL(t)&&!J.a.isDataURIImage(t)){e.next=13;break}return e.next=11,this._getFileInfoFromUrl(t);case 11:return o=e.sent,e.abrupt("return",o);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),o._getSourceInfoFromFile=function(){var e=w()(k.a.mark(function e(t){var o,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(q.a.isFile(t)||q.a.isBlob(t)||J.a.isDataURIImage(t))){e.next=11;break}return e.next=3,new G(t).getInfo();case 3:if(!(o=e.sent)){e.next=10;break}return(n=this._adjustImageInfo(o)).origin=t.origin,e.abrupt("return",n);case 10:return e.abrupt("return",D()({},t,{width:this._documentWidth,height:this._documentWidth/4*3}));case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._getSourceInfoFromUrl=function(){var e=w()(k.a.mark(function e(t,o){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!J.a.isValidURL(t)&&!J.a.isDataURIImage(t)){e.next=7;break}return e.next=4,this._getFileInfoFromUrl(t);case 4:return n=e.sent,o&&(n.origin={ctype:"imageOrigin",srcFrom:o}),e.abrupt("return",n);case 7:return e.abrupt("return",null);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t,o){return e.apply(this,arguments)}}(),o._getFileInfoFromUrl=function(e){return new Promise(function(t,o){var n=new Image;n.onload=function(e){var o=e.currentTarget;t({width:o.width,height:o.height,originalWidth:o.width,originalHeight:o.height})},n.onerror=function(){o(e)},n.src=e})},o._getLocalFileInfo=function(){var e=w()(k.a.mark(function e(t){var o,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=new G(t),e.next=3,o.getInfo();case 3:return n=e.sent,o=null,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o._adjustImageInfo=function(e){return{name:e.name,width:e.width,height:e.height}},o._getAllImageComponents=function(){return this._componentListStore.getComponentsByCtype("image")},o.checkLimitedSize=function(e){var t=e.value,o=t.width,n=t.height,r=!1,i=!1,a=!1;return(t.isApplyAllChecked?this._getAllImageComponents():this.getSelectedImageCompList()).forEach(function(e){!r&&e.isLonggerThanDocumentWidth(o,n)?r=!0:!a&&e.isSmallerThanMinimumWidth(o,n)&&(a=!0),!i&&e.isSmallerThanMinimumHeight(o,n)&&(i=!0)}),{hasBiggerThanContentWidth:r,hasSmallerThanMinHeight:i,hasSmallerThanMinWidth:a}},o.getSelectedImageCompList=function(){var e=["image","wrappingParagraph"],t=this._selectionInfoStore.toValidJSON().compIdMap,o=Object.keys(t);return this._componentListStore.compList.filter(function(e){return o.includes(e.id)}).filter(function(t){return e.includes(t.ctype)}).map(function(e){return"wrappingParagraph"===e.ctype?e.wrappedSection:e})},o.getSelectedSingleImageCompList=function(){var e=["image"],t=this._selectionInfoStore.toValidJSON().compIdMap,o=Object.keys(t);return this._componentListStore.compList.filter(function(e){return o.includes(e.id)}).filter(function(t){return e.includes(t.ctype)}).map(function(e){return e})},o.getFirstSelectedImageComp=function(){return Object(A.a)(this.getSelectedImageCompList())},o.updateShellImageCompStore=function(e,t){var o=this.getComponentStore(e);o&&this.changeImage(o,t)},o.updateImageSize=function(e,t,o){this.getComponentStore(e).updateImageSize(t,o)},o.changeImage=function(e,t){var o=this._configAgent.get("infraInfo.photoInfra.imageHost"),n=t.animatedCnt>1,r=t.path,i=t.fileName,a=t.fileSize,c=t.width,l=t.height,u=t.domain||e.domain||o,p={alt:i,height:parseInt(l,10),width:parseInt(c,10),originalWidth:parseInt(c,10),originalHeight:parseInt(l,10),path:J.a.getEncodeUrl(r+"/"+i),fileSize:parseInt(a,10),format:n?s.C.ANIMATED:s.C.NORMAL,fileName:i,internalResource:!0,phase:s.N.DONE,domain:u};t.displayFormat&&!n&&(p.displayFormat=t.displayFormat),e.setState(p)},o.changeImageByState=function(e,t){e.setState(t)},o.updatePlace=function(e,t){this.getComponentStore(e).updatePlace(t)},o.completeImageLoad=function(e){this.getComponentStore(e).completeImageLoad()},o.convertImageToNode=function(){var e=this.getSelectedSingleImageCompList();this._toTextCompFrom(e);var t=this._selectionInfoStore.toValidJSON(),o=this._componentListStore.refineComponentList(t);this._selectionInfoStore.setRange(o)},o._toTextCompFrom=function(e){var t=this,o=[];e.forEach(function(e){var n=t._createTextCompFrom(e);o.push(n.getEndPoint()),t._componentListStore.replace(e,n),t._mergeFrom(n)});var n=Object(M.a)(o);this._selectionInfoStore.setRange({start:n,end:n})},o._createTextCompFrom=function(e){return this._componentFactory.createComponentWithCompData({ctype:"text",value:[{ctype:"paragraph",style:{align:e.align},nodes:[{ctype:"imageNode",id:e.id,src:e.src,internalResource:e.internalResource,represent:e.represent,path:e.path,domain:e.domain,width:e.width,height:e.height,fileSize:e.fileSize,fileName:e.fileName}]}]})},o._isEqualParagraphAlign=function(e,t){var o=e.getLastParagraph().computedStyle,n=t.getFirstParagraph().computedStyle;return o.align===n.align},o._mergeFrom=function(e){var t=this._componentListStore.getNextComponent(e);t&&"text"===t.attributes.insertion&&this._isEqualParagraphAlign(e,t)&&(e.append([t]),this._componentListStore.deleteComponentById(t.id))},o.activateUnit=function(e){var t=e.compId,o=e.unitId;this._selectionInfoStore.setRange({start:{compId:t,unitId:o,paraId:null,nodeId:null,offset:0},end:{compId:t,unitId:o,paraId:null,nodeId:null,offset:1}})},o.resetImageLoaded=function(e){var t=this.getComponentStore(e);t&&t.resetImageLoaded()},o.isLinkedImage=function(e){var t=this.getComponentStore(e);return!Object(B.a)(t.link)},o.removeLink=function(e){this.getComponentStore(e).removeImageLink()},o.isTaggedImage=function(e){var t=e?this.getComponentStore(e):this.getFirstSelectedImageComp();return!(![s.C.NORMAL,s.C.ANIMATED].includes(t.displayFormat)||Object(B.a)(t.mediaTags))},o.getMediaTagData=function(e){var t=this.getComponentStore(e);return{mediaTags:t.getMediaTagData(),src:t.src,width:t.width,height:t.height}},o.updateMediaTag=function(e,t){this.getComponentStore(e).updateMediaTag(t)},o.removeMediaTag=function(e){var t=e?this.getComponentStore(e):this.getFirstSelectedImageComp();t&&t.removeMediaTag()},o.showLocationMinimumImageWidthWarning=function(){this._toastLayerService.warningMessage(this._i18n("imageComponent:min_width_location_edit"))},t}(s.a),Y=K,X=Y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/service/index.js",localName:t}})}catch(e){}}e(K,"ImageComponentService"),e(Y,"default")}();var Q,Z=o(80),$=o(17),ee=o.n($),te=o(507),oe=o(187),ne=o(55),re=o(385),ie=(Q=function(e){function t(){return e.apply(this,arguments)||this}p()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?ne.a.CUSTOM_LAYER:t,n=e.value,r=void 0===n?"":n,i=e.title,a=void 0===i?{inactive:"link:title_inactive",active:"link:title_active"}:i,s=e.label,c=void 0===s?"link:label":s,u=e.labelVisible,p=void 0!==u&&u,d=e.selectIfHasValue,h=void 0===d||d,f=e.onValidateValue,g=void 0===f?te.a.hasValue:f,y=e.custom,b=void 0===y?{CustomLayer:re.a,customProps:{placeholder:"link:custom_placeholder",applyLabel:"link:apply_label"}}:y,_=e.logId,v=void 0===_?"urllink":_,C=ee()(e,["type","value","title","label","labelVisible","selectIfHasValue","onValidateValue","custom","logId"]);return m.b.createElement(oe.a,l()({},C,{type:o,title:a,label:c,labelVisible:p,selectIfHasValue:h,onValidateValue:g,logId:v,custom:b,onClick:this._handleClick,onChange:this._handleChange,value:r||""}))},o._handleClick=function(e){this.props.useCase.toggleButton(e)},o._handleChange=function(e){this.props.useCase.changeLink(e),this.props.onClickSelector(e)},t}(m.b.Component),h()(Q.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Q.prototype,"_handleClick"),Q.prototype),h()(Q.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Q.prototype,"_handleChange"),Q.prototype),Q),ae=ie,se=ae;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/buttons/view/link-button-view.jsx",localName:t}})}catch(e){}}e(ie,"LinkButtonView"),e(ae,"default")}();var ce={"image-link":{view:se,useCase:T,propertyName:"link.value",styleName:"link"}},le=ce,ue=le;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(ce,"buttons"),e(le,"default")}();var pe={propertyToolbar:{"image-replacement":Object(Z.a)("image-replacement"),"image-edit-right-label":Object(Z.a)("image-edit-right-label"),"image-resizing":Object(Z.a)("image-resizing"),align:Object(Z.a)("align-group"),"caption-align":Object(Z.a)("caption-align-group"),"content-mode":Object(Z.a)("content-mode-group"),"content-mode-without-default":Object(Z.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(Z.a)("content-mode-group-fit-and-extend"),"content-mode-without-pagefull":Object(Z.a)("content-mode-group-without-pagefull"),"wrapping-layout":Object(Z.a)("wrapping-layout-drop-down"),"image-link":ue["image-link"],"inline-image":Object(Z.a)("inline-image"),"separator-bar":Object(Z.a)("separator-bar"),"image-tag":Object(Z.a)("image-tag")},contextToolbar:{"caption-bold":Object(Z.a)("caption-bold"),"special-letter":Object(Z.a)("special-letter"),"caption-link":Object(Z.a)("caption-link"),"caption-align":Object(Z.a)("caption-align"),"cycle-align":Object(Z.a)("cycle-align"),"image-edit":Object(Z.a)("image-edit"),"content-mode":Object(Z.a)("content-mode-group"),"content-mode-without-default":Object(Z.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(Z.a)("content-mode-group-fit-and-extend"),"content-mode-without-pagefull":Object(Z.a)("content-mode-group-without-pagefull"),delete:Object(Z.a)("delete"),"separator-bar":Object(Z.a)("separator-bar"),"image-tag":Object(Z.a)("image-tag"),translation:Object(Z.a)("translation")},overlayToolbar:{"content-mode":Object(Z.a)("content-mode-group-without-default"),"image-crop":Object(Z.a)("image-crop"),"image-filter":Object(Z.a)("image-filter"),"image-adjust":Object(Z.a)("image-adjust"),"image-location":Object(Z.a)("image-location"),delete:Object(Z.a)("delete")}},de=pe;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/image-button-set-map.js",localName:t}})}catch(e){}}(pe,"default")}();var he=o(121);function fe(e){return["vr360","panorama"].includes(e.displayFormat)}function me(e){return"normal"!==e.displayFormat||!1===e.internalResource}var ge=function(e){var t=e.selectedComponents,o=[],n=t.length,r=Object(he.a)(t,function(e){return["normal","animated"].includes(e.displayFormat)}),i=Object(he.a)(t,fe),a=Object(he.a)(t,me),s=Object(he.a)(t,function(e){return e.imageTagEnabled});return t[0].isCaptionFocused()?o.push("caption-align"):o.push("align"),1===n&&o.push("separator-bar","image-replacement"),i?(o.push("separator-bar","content-mode-fit-and-extend"),o):(!1===a&&o.push("separator-bar","image-edit-right-label"),r?(o.push("separator-bar","image-resizing"),o.push("separator-bar","content-mode-without-pagefull"),1===n?o.push("separator-bar","wrapping-layout"):o.push("separator-bar"),o.push("inline-image"),1===n&&s?o.push("separator-bar","image-tag","image-link"):o.push("separator-bar","image-link")):o.push("separator-bar","content-mode-fit-and-extend"),o)},ye=function(e){var t=e.selectedComponents,o=[],n=Object(he.a)(t,fe),r=Object(he.a)(t,me),i=1===t.length,a=Object(he.a)(t,function(e){return e.imageTagEnabled});if(i){var s=t[0];if(s.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}s.contentMode===C.a.NORMAL&&o.push("cycle-align","separator-bar")}return!1===r&&o.push("image-edit","separator-bar"),n?o.push("content-mode-fit-and-extend"):(o.push("content-mode-without-pagefull"),a&&o.push("separator-bar","image-tag")),o.push("separator-bar","delete"),o},be=function(e){var t=e.selectedComponents,o=t[0],n=[],r=[],i=Object(he.a)(t,me);return(o.isLonggerThanDocumentWidth(o.width)||o.isWidthEqualToDocumentWidth(o.width))&&n.push("content-mode"),!1===i&&r.push("image-crop","image-filter","image-adjust"),r.push("image-location","delete"),{fixedButtonSets:{top:n,bottom:r}}},_e={propertyToolbar:ge,contextToolbar:ye,overlayToolbar:be},ve=_e;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/image-button-resolver.js",localName:t}})}catch(e){}}e(fe,"isVrOrPanorama"),e(me,"isUnEditableImage"),e(ge,"propertyToolbarButtonSetResolver"),e(ye,"contextToolbarButtonSetResolver"),e(be,"overlayToolbarButtonSetResolver"),e(_e,"default")}();var Ce=function(e){function t(){return e.call(this,{buttonSetMap:de,buttonResolver:ve})||this}return p()(t,e),t}(s.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Ce,"ImageComponentToolbar")}();var Oe=s.q.extend({name:"ImageComponent",view:N,useCase:T,service:X,store:O.a,toolbar:Ce}),Se=Oe;t.a=Se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/index.js",localName:t}})}catch(e){}}e(Oe,"ImageComponent"),e(Se,"default")}()},167:function(e,t,o){"use strict";var n,r,i,a,s,c=o(59),l=o.n(c),u=o(60),p=o.n(u),d=o(1),h=o.n(d),f=o(57),m=o.n(f),g=o(0),y=o.n(g),b=o(49),_=o.n(b),v=(o(61),o(16)),C=o(106),O=o(183),S=o(67),k=o(86),I=o(171),w=o(50),P=o(48),j=o(191),T=(n=Object(P.e)({keepAlive:!0}),r=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,p()(o,"link",i,m()(o)),p()(o,"style",a,m()(o)),p()(o,"themeStyle",s,m()(o));var n=t.state,r=void 0===n?{}:n;return o.link=Object(v.a)(r,"link",o.link),o.style=Object(C.a)(o.style,r.style),r.themeStyle&&o.themeStyle.replace(Object.entries(r.themeStyle)),o}y()(t,e);var o=t.prototype;return o.changeLink=function(e){void 0===e&&(e={}),e.value?this.link={ctype:"urlLink",url:e.value}:this.link=null},o.collectStyle=function(){var e=l()({link:this.link},this.computedStyle);return delete e.ctype,e},o.updateTheme=function(e){this.themeStyle.replace(Object.entries(e))},o.updateCharacterStyle=function(e){var t=this,o=this._filterSuperSubScript(e);Object(O.a)(this.style,o,function(e,o,n){return o===t.themeStyle.get(n)?null:o})},o.applyDerivedCharacterStyle=function(e){var t=this,o=Object(I.a)(e,function(e,o){return null!==t.style[o]});this.updateCharacterStyle(o)},o.filterCharStyle=function(e){var t=this;e&&Object(S.a)(e,function(e,o){var n=e===j.b.NOT_ALLOWED;if("link"===o&&n)t.link=null;else if(!1!==t.style.hasOwnProperty(o)){var r="function"==typeof e&&!e(t.style[o]);(n||r)&&(t.style[o]=null)}})},o._filterSuperSubScript=function(e){return!0===e.subscript?e.superscript=!1:!0===e.superscript&&(e.subscript=!1),e},o.is=function(e){return this.id===e},o.hasSameStyle=function(e){return!!e&&Object(k.a)(this.style,e.style)},o.hasSameLink=function(e){return!!e&&Object(k.a)(this.link,e.link)},o.hasUrlLink=function(){return!(!this.link||"urlLink"!==this.link.ctype)},o.getUrlValue=function(){return this.hasUrlLink()?this.link.url:""},o.isTextNode=function(){return!1},o.isImageNode=function(){return!1},o.isEmojiNode=function(){return!1},o.isEmpty=function(){throw new Error("Implement the 'isEmpty()' method.")},o.isMergeable=function(){throw new Error("Implement the 'isMergeable()' method.")},o.getStartPoint=function(){throw new Error("Implement the 'getStartPoint()' method.")},o.getEndPoint=function(){throw new Error("Implement the 'getEndPoint()' method.")},o.getPositionByOffset=function(e){throw new Error("Implement the 'getPositionByOffset()' method.")},o.getNodeLength=function(){throw new Error("Implement the 'getNodeLength()' method.")},o.cloneNode=function(){throw new Error("Implement the 'cloneNode()' method.")},o.deselect=function(){this.selection="none"},o.updateConfig=function(){},o.isLibraryComponent=function(){return!1},h()(t,[{key:"computedStyle",get:function(){var e=this.themeStyle.toJSON();return Object(O.a)(e,this.style,function(e,t,o){return null!==t?t:void 0!==e?e:!!["fontColor","fontFamily","fontSizeCode","backgroundColor"].includes(o)&&""})}}]),t}(w.w),i=_()(r.prototype,"link",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=_()(r.prototype,"style",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"nodeStyle",fontColor:null,fontFamily:null,fontSizeCode:null,backgroundColor:null,bold:null,italic:null,underline:null,strikeThrough:null,subscript:null,superscript:null}}}),s=_()(r.prototype,"themeStyle",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),_()(r.prototype,"computedStyle",[n],Object.getOwnPropertyDescriptor(r.prototype,"computedStyle"),r.prototype),r),L=T;t.a=L,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/abstract-node-store.js",localName:t}})}catch(e){}}e(T,"AbstractNodeStore"),e(L,"default")}()},168:function(e,t,o){"use strict";o.d(t,"b",function(){return r}),o.d(t,"a",function(){return i});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default"},i={NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},a={ImageAlign:n,ImageLayout:r,ImageContentMode:i};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ImageAlign"),e(r,"ImageLayout"),e(i,"ImageContentMode"),e(a,"default")}()},186:function(e,t,o){"use strict";var n,r,i,a,s;o.d(t,"f",function(){return c}),o.d(t,"e",function(){return l}),o.d(t,"g",function(){return u}),o.d(t,"b",function(){return d}),o.d(t,"a",function(){return h}),o.d(t,"h",function(){return m}),o.d(t,"j",function(){return g}),o.d(t,"d",function(){return p}),o.d(t,"c",function(){return f});var c={EVERY_WEEK:"everyWeek",EVERY_OTHER_WEEK:"everyOtherWeek",EVERY_MONTH:"everyMonth"},l={RECRUITING:"recruiting",ACCEPTING:"accepting",AVAILABLE:"available",SALE:"sale"},u={REPETITION:"repetition",NOTIFICATION:"notification",WEEK_DAY_GROUP:"weekDayGroup",DATE_GROUP:"dateGroup"},p=((n={})[c.EVERY_WEEK]="every_week",n[c.EVERY_OTHER_WEEK]="every_other_week",n[c.EVERY_MONTH]="every_month",n[u.DATE_GROUP]="date_group",n[u.WEEK_DAY_GROUP]="week_day_group",n),d=((s={})[u.REPETITION]={ctype:u.REPETITION,repetitionType:null,time:"00:00"},s[u.NOTIFICATION]={ctype:u.NOTIFICATION,type:l.RECRUITING,startDate:null,endDate:null,expired:!1},s[c.EVERY_WEEK]={ctype:c.EVERY_WEEK,daysOfWeek:[]},s[c.EVERY_OTHER_WEEK]={ctype:c.EVERY_OTHER_WEEK,daysOfWeek:[]},s[c.EVERY_MONTH]=((a={})[u.DATE_GROUP]=((r={ctype:c.EVERY_MONTH})[u.DATE_GROUP]={ctype:u.DATE_GROUP,startDay:0,endDay:0},r),a[u.WEEK_DAY_GROUP]=((i={ctype:c.EVERY_MONTH})[u.WEEK_DAY_GROUP]={ctype:u.WEEK_DAY_GROUP,selectedWeeks:[],daysOfWeek:[]},i),a),s);d[u.REPETITION].repetitionType=d[c.EVERY_WEEK];var h="YYYY-MM-DD",f="YYYY.MM.DD",m="HH:mm:ss",g="scheduleLayer",y={RepetitionType:c,NotificationType:l,SubComponentType:u,DefaultData:d,DateFormat:h,TimeFormat:m,i18nKey:g,MessageKeyOfType:p,DisplayDateFormat:f},b=y;t.i=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/consts/index.js",localName:t}})}catch(e){}}e(c,"RepetitionType"),e(l,"NotificationType"),e(u,"SubComponentType"),e(p,"MessageKeyOfType"),e(d,"DefaultData"),e(h,"DateFormat"),e(f,"DisplayDateFormat"),e(m,"TimeFormat"),e(g,"i18nKey"),e(y,"ScheduleLayerConsts"),e(b,"default")}()},187:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(64),p=o(53),d=o.n(p),h=o(48),f=o(335),m=o(216),g=o(51),y=o(1210),b=o(55),_=o(122),v=(n=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-custom-layer-"+this.props.name;y.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-custom-layer-"+this.props.name;y.a.off(e)},o.render=function(){var e=this.props,t=e.id,o=e.type,n=e.name,r=e.namespace,a=e.documentToolbarIconType,s=e.value,c=e.label,l=e.labelVisible,u=e.recentColors,p=e.custom,f=e.isActivated,m=e.i18n,g=e.logAreaId,y=e.logId,v=e.onValidateValue,C=e.focused,O=p.CustomLayer,S=p.customProps,k="link"===n&&v(s),I=m(c),w=a===b.d.TEXT_ICON||l,P=d()("se-"+r+"-toolbar-"+o+"-container","__select-container"),j=d()("se-"+n+"-toolbar-button","se-"+r+"-toolbar-"+o+"-button",{"se-is-activated":f,"se-is-has-value":k}),T=w?"se-toolbar-label":"se-blind",L=g+"."+y,E=this._currentTitle();return h.b.createElement("div",{className:P,"data-type":o,"data-log":L,"data-name":n},h.b.createElement(_.a,{focused:C,namespace:r,type:o,dataName:t,className:j,handleClick:this._handleClickButton,i18n:m,ariaExpanded:""+f,ariaHasPopup:"true"},h.b.createElement("span",{className:"se-toolbar-icon"}),h.b.createElement("span",{className:T,"aria-hidden":"true"},I),h.b.createElement("span",{className:"se-toolbar-tooltip"},E)),f&&h.b.createElement(O,i()({className:"__custom_layer"},S,{namespace:r,recentColors:u,value:s,i18n:m,logAreaId:g,onInput:this._handleInput,onConfirm:this._handleConfirm,onClose:this._handleClose})))},o._currentTitle=function(){var e=this._titleKey();return(0,this.props.i18n)(e)},o._titleKey=function(){var e=this.props,t=e.isActivated,o=e.title;return t?o.active:o.inactive},o._handleInput=function(e){var t=this.props,o=t.type,n=t.label,r=t.id,i=t.name,a=t.isActivated,s=Object(u.a)({type:o,label:n,id:r,name:i,isActivated:a,title:this._currentTitle()},e);this.props.onInput(s)},o._handleConfirm=function(e){var t=this.props,o=t.type,n=t.label,r=t.id,i=t.name,a=t.action,s=t.isActivated,c=t.storageKey,l=Object(u.a)({type:o,label:n,id:r,name:i,action:a,isActivated:s,storageKey:c,title:this._currentTitle()},e);this.props.onChange(l)},o._handleClose=function(){this._handleClickButton({})},o._handleClickButton=function(e){this._triggerClickHandler({event:e,showConfirm:!0})},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&m.a.isOutsideElementbySelector(t,".__select-container")&&this._triggerClickHandler({event:e})},o._triggerClickHandler=function(e){var t=e.event,o=e.showConfirm,n=this.props,r=n.type,i=n.label,a=n.id,s=n.name,c=n.title,l=n.action,u=n.isActivated;this.props.onClick({event:t,type:r,label:i,id:a,name:s,action:l,title:c,isActivated:u,showConfirm:o})},t}(h.b.Component),l()(n.prototype,"_handleInput",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleInput"),n.prototype),l()(n.prototype,"_handleConfirm",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleConfirm"),n.prototype),l()(n.prototype,"_handleClose",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClose"),n.prototype),l()(n.prototype,"_handleClickButton",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButton"),n.prototype),l()(n.prototype,"_handleClickButtonOutside",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),n);v.defaultProps={label:"",id:"",name:"",namespace:"",title:{active:"",inactive:""},labelVisible:!1,isActivated:!1,moreViewButton:!1,focused:!1,selectIfHasValue:!1,custom:{CustomLayer:function(){return h.b.createElement("div",null)},customProps:{}},recentColors:[],onClickSelector:function(){},onChange:function(){},onInput:function(){},onConfirm:function(){},onValidateValue:function(){return!1},i18n:function(e){return e}},v.propTypes={type:h.a.oneOf([b.a.CUSTOM_LAYER]).isRequired,id:h.a.string,name:h.a.string,namespace:h.a.string,documentToolbarIconType:h.a.string,labelVisible:h.a.bool,label:h.a.string,action:h.a.string,title:h.a.shape({active:h.a.string,inactive:h.a.string}),value:h.a.oneOfType([h.a.string,h.a.array,h.a.bool,h.a.number,h.a.object,h.a.bool]),isActivated:h.a.bool,focused:h.a.bool,selectIfHasValue:h.a.bool,custom:h.a.shape({CustomLayer:h.a.oneOfType([h.a.func,h.a.element]),customProps:h.a.object}),recentColors:h.a.oneOfType([h.a.array,h.a.object]),onClickSelector:h.a.func,onChange:h.a.func,onInput:h.a.func,onConfirm:h.a.func,onValidateValue:h.a.func,i18n:h.a.func,logAreaId:h.a.string,logId:h.a.string,storageKey:h.a.string};var C=Object(f.b)(v);t.a=C,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/custom-layer-button.jsx",localName:t}})}catch(e){}}e(v,"CustomLayerButton"),e(C,"default")}()},188:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(53),l=o.n(c),u=o(48),p=o(335),d=o(216),h=o(1210),f=o(51),m=o(55),g=o(386),y=o(122),b=o(50);function _(e,t){if(void 0===t&&(t={}),!t)return e;var o=Object.keys(e),n=t.optionsBadge||[];return o.reduce(function(t,o){var r=e[o],i=n.includes(o);return t[o]=r&&i?Object.assign(r,{badge:i}):r,t},{})}var v=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-label-select-"+this.props.name;h.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-label-select-"+this.props.name;h.a.off(e)},o.render=function(){var e=this.props,t=e.type,o=e.isActivated,n=e.id,r=e.name,i=e.value,a=e.label,s=e.title,c=e.hasIcon,p=e.action,d=e.namespace,h=e.deviceType,f=e.options,v=e.onClickOption,C=e.i18n,O=e.logAreaId,S=e.focused,k=e.logId,I=e.highlight,w=n,P=h===b.t.DESKTOP,j=l()("se-"+d+"-toolbar-"+t+"-container","__select-container"),T=l()("se-"+r+"-toolbar-button",["se-"+d+"-toolbar-"+t+"-button"],o&&"se-is-activated"),L=C((f[i]||{}).label)||C(a),E=_(f,I);return u.b.createElement("div",{className:j,"data-type":t,"data-name":r},u.b.createElement(y.a,{focused:S,namespace:d,type:t,dataName:w,className:T,i18n:C,logId:k,logAreaId:O,highlight:I,handleClick:this.handleClickSelector,ariaExpanded:""+o,ariaHasPopup:"true"},c&&u.b.createElement("span",{className:"se-toolbar-icon","data-role":"icon"}),u.b.createElement("span",{className:"se-toolbar-label","data-role":"label","aria-hidden":P},L),P&&u.b.createElement("span",{className:"se-toolbar-tooltip"},C(s))),o&&u.b.createElement(g.a,{id:n,name:r,options:E,value:i,action:p,namespace:d,type:t,logAreaId:O,optionType:m.c.TEXT,i18n:C,onClickOption:v}))},o.handleClickSelector=function(e){var t=this.props,o=t.type,n=t.id,r=t.name,i=t.label,a=t.title,s=t.value,c=t.options;t.onClickSelector.apply(this,[{event:e,type:o,id:n,name:r,label:i,title:a,value:s,options:c}])},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this.handleClickSelector({})},t}(u.b.Component),s()(n.prototype,"handleClickSelector",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClickSelector"),n.prototype),s()(n.prototype,"_handleClickButtonOutside",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),n);v.defaultProps={id:"",name:"",value:"",label:"",title:"",namespace:"",hasIcon:!0,focused:!1,options:{},highlight:{},optionType:m.c.TEXT,onClickSelector:function(){},onClickOption:function(){},isActivated:!1,i18n:function(e){return e}},v.propTypes={type:u.a.oneOf([m.a.LABEL_SELECT]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,title:u.a.string,action:u.a.string,namespace:u.a.string,deviceType:u.a.string,hasIcon:u.a.bool,focused:u.a.bool,value:u.a.string,options:u.a.oneOfType([u.a.array,u.a.object]).isRequired,highlight:u.a.object,optionType:u.a.string,onClickSelector:u.a.func,onClickOption:u.a.func,i18n:u.a.func,isActivated:u.a.bool,logAreaId:u.a.string,logId:u.a.string};var C=Object(p.b)(v);t.a=C,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/label-select-button.jsx",localName:t}})}catch(e){}}e(_,"makeOptions"),e(v,"LabelSelectButton"),e(C,"default")}()},189:function(e,t,o){"use strict";o.d(t,"f",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"e",function(){return a}),o.d(t,"a",function(){return c}),o.d(t,"b",function(){return l});var n={NO_RESULT:"no_result",NO_SELECTED_LOCATION:"no_selected_location",NO_PLACE_NAME:"no_place_name",EXCEEDED_MAX_LIMIT:"exceeded_max_limit",EXCEEDED_MAX_LIMIT_OF_IMAGE:"exceeded_max_limit_of_image",ALREADY_ADDED:"already_added",EXCEEDED_MAX_PLACE_NAME:"exceeded_max_place_name"},r={DOMESTIC:"domestic",OVERSEAS:"overseas"},i={NAVER:"naver",GOOGLE:"google"},a=o(39).a.REGION_TYPE,s={IMAGE:"default",TEXT:"map_text"},c={domestic:17,overseas:17},l={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ToastTypes"),e(r,"RegionTypes"),e(i,"SearchEngine"),e(a,"SupportRegions"),e(s,"MapTypeOptions"),e(c,"DefaultZoomLevel"),e(l,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP")}()},190:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={DEFAULT:"collage",COLLAGE:"collage",SLIDE:"slide",INDIVIDUAL:"individual"},r={FIT:"fit",EXTEND:"extend"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ImageGroupLayer"),e(r,"ImageGroupContentMode")}()},191:function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"c",function(){return i}),o.d(t,"b",function(){return a});var n={TEXT_START:"textunit_start",PARA_START:"paragraph_start",NODE_START:"node_start",NODE_BODY:"node_body",NODE_END:"node_end",PARA_END:"paragraph_end",TEXT_END:"textunit_end"},r={ERASE_PREV_BR:"erase_prev_br",ERASE_NEXT_BR:"erase_next_br",ERASE_PREV_NODE_CHARACTER:"erase_prev_node_character",ERASE_NEXT_NODE_CHARACTER:"erase_next_node_character",ERASE_CHARACTER:"erase_character",ERASE_NON_TEXT_NODE:"erase_non_text_node",ERASE_PREV_NON_TEXT_NODE:"erase_prev_non_text_node",ERASE_NEXT_NON_TEXT_NODE:"erase_next_non_text_node",DECREASE_INDENT:"decrease_indent"},i={MERGE_ONLY_PREV_NODE:"merge_only_prev_node",MERGE_ONLY_NEXT_NODE:"merge_only_next_node",MERGE_BOTH_SIDE_NODE:"merge_both_side_node",UNMERGEABLE:"unmergeable"},a={ALLOWED:"ALLOWED",NOT_ALLOWED:"NOT_ALLOWED",FOLLOW_CURRENT_STYLE:"FOLLOW_CURRENT_STYLE",conditionalAllowed:function(e){return function(t){return e.includes(t)}}},s={pointPositionTypes:n,eraseTypes:r,filterStyleTypes:a};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/const/index.js",localName:t}})}catch(e){}}e(n,"pointPositionTypes"),e(r,"eraseTypes"),e(i,"mergeTypes"),e(a,"filterStyleTypes"),e(s,"default")}()},192:function(e,t,o){"use strict";var n=o(53),r=o.n(n),i=o(48),a=function(e){var t=e.className,o=r()("__se-toolbar-slot",t);return i.b.createElement("div",{className:o,style:{display:"none"}})};a.defaultProps={className:""},a.propTypes={className:i.a.string};var s=a;t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/toolbar-slot/index.jsx",localName:t}})}catch(e){}}e(a,"ToolbarSlot"),e(s,"default")}()},193:function(e,t,o){"use strict";var n,r,i,a,s,c=o(59),l=o.n(c),u=o(17),p=o.n(u),d=o(60),h=o.n(d),f=o(1),m=o.n(f),g=o(57),y=o.n(g),b=o(0),_=o.n(b),v=o(49),C=o.n(v),O=(o(61),o(69)),S=o(16),k=o(64),I=o(154),w=o(126),P=o(101),j=o(50),T=o(975),L=o(48),E=o(191),N=o(1261),x=o(271),D=(n=function(e){_()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"query",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},h()(o,"layout",r,y()(o)),h()(o,"value",i,y()(o)),h()(o,"source",a,y()(o)),h()(o,"align",s,y()(o)),o._componentFactory=j.V.get("componentFactory");var n=t,c=n.state,l=void 0===c?{}:c,u=n.config,p=void 0===u?{}:u,d=j.V.get("configAgent"),f=d.get("productConfig.quotation.layouts");o.attributes=Object(O.a)(o.attributes,p.attributes),o.layout=Object(S.a)(l,"layout",f&&f[0]||o.layout);var m=d.get("plugins.componentSettings."+o.ctype+".config");return o.value=o._makeTextUnitStore(l.value,Object(k.a)({},p.value,{attributes:{selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},filterTextStyle:{fontSizeCode:E.b.conditionalAllowed(["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38"]),fontFamily:E.b.NOT_ALLOWED,backgroundColor:E.b.NOT_ALLOWED,strikeThrough:E.b.NOT_ALLOWED,subscript:E.b.NOT_ALLOWED,superscript:E.b.NOT_ALLOWED,dropCap:E.b.NOT_ALLOWED,link:E.b.NOT_ALLOWED,list:E.b.NOT_ALLOWED}}),Object(S.a)(m,"value.textStyle",{})),o.source=o._makeTextUnitStore(l.source,Object(k.a)({},p.source,{disable:!1===p.source,attributes:{selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},filterTextStyle:{fontSizeCode:E.b.conditionalAllowed(["fs12"]),backgroundColor:E.b.NOT_ALLOWED,fontFamily:E.b.NOT_ALLOWED,strikeThrough:E.b.NOT_ALLOWED,subscript:E.b.NOT_ALLOWED,superscript:E.b.NOT_ALLOWED,dropCap:E.b.NOT_ALLOWED,link:E.b.NOT_ALLOWED,list:E.b.NOT_ALLOWED}}),Object(S.a)(m,"source.textStyle",{})),o.align=Object(S.a)(l,"align",o.align),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,value:this.value.toPlainJSON(),source:this.source.toPlainJSON(),align:this.align}},t.breakLine=function(e){return this.getText().breakLine(e)},t.erase=function(e,t){return this.getText().erase(e,t)},t.queryCursor=function(e){return this._shouldSelectComponent(e)?{type:"range",range:this.getComponentActiveRange()}:{type:"range",range:null}},t._shouldSelectComponent=function(e){return this._isToComponent(e)||this._isFromExternalByKeyInput(e)||this._isInternalShift(e)},t._isInternalShift=function(e){var t=e.fromPoint,o=e.toPoint,n=e.eventType,r=t.compId===this.id&&t.unitId===this.id,i=this._isTriggeredByKeyInput(n),a=o.compId===this.id;return r&&i&&a},t._isFromExternalByKeyInput=function(e){var t=e.fromPoint,o=e.eventType,n=t.compId!==this.id,r=this._isTriggeredByKeyInput(o);return n&&r},t._isTriggeredByKeyInput=function(e){return"keydown"===e},t._isToComponent=function(e){return e.toPoint.unitId===this.id},t.updateStyle=function(e,t){var o=this.refineSelection(t),n=this._isFocusedOnText(),r=[],i=Object(I.a)(e,["fontSizeCode","fontColor","bold","italic","underline","lineHeight"]),a=e.align;a&&this.changeAlign(a);var s=this.getText().updateStyle(i,o);return n?r.push(s.start,s.end):r.push(t.start,t.end),r},t.changeLayout=function(e){this.layout=e,this.updateTheme()},t.updateProperty=function(e){var t=e.layout,o=p()(e,["layout"]);t&&this.changeLayout(t),Object(P.a)(this,o)},t.filterStyle=function(e){var t=e.value,o=this._getParaAndCharStyle(t),n=o.paraStyle,r=o.charStyle;if(this.value.updateWholeParagraphStyle(n),this.value.updateWholeCharacterStyle(r),this.source){var i=e.source,a=this._getParaAndCharStyle(i);n=a.paraStyle,r=a.charStyle,this.source.updateWholeParagraphStyle(n),this.source.updateWholeCharacterStyle(r)}},t.rotationLayout=function(){var e=Object.keys(x.b).map(function(e){return e.toLowerCase()}),t=e[e.indexOf(this.layout)+1];t?this.changeLayout(t):this.changeLayout(e[0])},t.refineSelection=function(e){var t=this.getText().refineSelection(e);return t.start.compId=this.id,t.end.compId=this.id,t},t.removeFirstParagraph=function(){this.getText().removeFirstParagraph()},t.clone=function(e){if(this._isFocusedOnText(e))return this.getText().clone(e);var t=this.toValidJSON();return this._componentFactory.createComponentWithCompData(t)},t.getPlainTextWithEmoji=function(){return""+this.value.getPlainTextWithEmoji()+this.source.getPlainTextWithEmoji()},t.getStoreById=function(e){return e===this.id?this:e===this.value.id?this.value:e===this.source.id?this.source:null},t._isFocusedOnText=function(){return"none"!==this.value.selection||"none"!==this.source.selection},t.isFocusedOnSourceText=function(){return"none"!==this.source.selection},t.getText=function(e){return e?this[e]:this.isFocusedOnSourceText()?this.source:this.value},t.getTextUnits=function(){return this.source.disable?[this.value]:[this.value,this.source]},t.hasUnit=function(e){return this.getTextUnits().some(function(t){return t.id===e})},t.hasParagraph=function(e){return this.getTextUnits().some(function(t){return t.has(e)})},t.collectStyle=function(e){var t="cursor"===e.mode,o=this.getText().collectStyle(e);delete o.strikeThrough;var n={layout:this.layout,textFormat:"quotation",contentMode:"fit"};return t||(n.align=void 0),l()({},o,n)},t.getUnitStartPoint=function(){return l()({compId:this.id},this.getText().getStartPoint())},t.getUnitEndPoint=function(){return l()({compId:this.id},this.getText().getEndPoint())},t.getEndCollapsedRange=function(e){if(this._isFocusedOnText()){var t=e.end;return{start:t,end:t}}return this.getComponentActiveRange()},t.isEmpty=function(){return this.getText().isEmpty()},t.isEmptyTextNode=function(e){return this.getText().isEmptyTextNode(e)},t.resetStyle=function(){this.getTextUnits().forEach(function(e){e.resetStyle()})},t._makeTextUnitStore=function(e,t,o){var n=t.filterTextStyle;return t.filterTextStyle=Object(O.a)(n,o),new N.a({state:e,config:t})},t._getParaAndCharStyle=function(e){return{paraStyle:Object(I.a)(e,j.K),charStyle:Object(w.a)(e,j.K)}},t.detachParagraphs=function(e,t){return this.getText().detachParagraphs(e,t)},t.detachAllParagraphs=function(){var e=this.value.detachAllParagraphs();if(!this.source.disable&&!this.source.isEmpty()){var t=this.source.detachAllParagraphs();e=e.concat(t)}return e},t.getRangeAfterInsert=function(){return{start:this.getUnitStartPoint(),end:this.getUnitStartPoint()}},t.getOffsetInParagraph=function(e){return this.getStoreById(e.unitId).getOffsetInParagraph(e)},t.getNodeInfoAfterOffset=function(e,t){return this.getStoreById(e.unitId).getNodeInfoAfterOffset(e,t)},t.deselect=function(){this._changeSelectionToNone(),this.value.deselect(),this.source.deselect()},t.putCursor=function(e){var t=e.unitId,o=this.getStoreById(t);this.deselect(),this._changeSelectionToChild(),o.putCursor(e)},t.selectAsBlock=function(e,t){this.deselect(),e.unitId===this.value.id?(this.value.selectAsBlock(e,t),this._changeSelectionToChild()):e.unitId===this.source.id?(this.source.selectAsBlock(e,t),this._changeSelectionToChild()):this._changeSelectionToBlock()},t.selectAsSingle=function(){this.deselect(),this._changeSelectionToSingle()},t.setAvailableContentLength=function(e){this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){this.getText().resetAvailableContentLength()},t.sliceContentText=function(e){if(this.value.textLength>e)this.value.slice(e),this.source.slice(0);else{var t=e-this.value.textLength;this.source.slice(t)}},m()(o,[{key:"isSourceTextOn",get:function(){return this._isFocusedOnText()||!this.source.isEmpty()||this.isActivated}},{key:"isActivated",get:function(){var e=this.selection;return"single"===e||"multi"===e}},{key:"textLength",get:function(){return this.getTextUnits().map(function(e){return e.textLength}).reduce(function(e,t){return e+t})}},{key:"translationEnabled",get:function(){return this._isFocusedOnText()}}]),o}(j.g),r=C()(n.prototype,"layout",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.a}}),i=C()(n.prototype,"value",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=C()(n.prototype,"source",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=C()(n.prototype,"align",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C()(n.prototype,"isSourceTextOn",[L.e],Object.getOwnPropertyDescriptor(n.prototype,"isSourceTextOn"),n.prototype),C()(n.prototype,"isActivated",[L.e],Object.getOwnPropertyDescriptor(n.prototype,"isActivated"),n.prototype),C()(n.prototype,"textLength",[L.e],Object.getOwnPropertyDescriptor(n.prototype,"textLength"),n.prototype),n);D.ctype="quotation",D.schema={id:T.a.string.isRequired,ctype:T.a.string.isRequired,layout:T.a.string.isRequired,value:T.a.textUnit,source:T.a.textUnit,align:T.a.string};var R=D;t.a=R,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/store/index.js",localName:t}})}catch(e){}}e(D,"QuotationComponentStore"),e(R,"default")}()},208:function(e,t,o){"use strict";o.d(t,"a",function(){return a}),o.d(t,"b",function(){return d});var n=o(67),r=o(1026),i="highlight-",a={BADGE:"badge",TOOLTIP:"tooltip",BANNER:"banner"},s="start-date",c=10080;function l(e){return void 0===e&&(e=""),i+e}function u(){var e=r.a.get(l(s)),t=(new Date).getTime();return c<=(t-e)/1e3/60}function p(e,t){if(!e)return!1;var o=e.dataset,n=o.name,r=o.value,i=void 0===r?"":r;if(!n)return!1;var a=t.split(":"),s=a[0],c=a[1];return n===s&&i===(void 0===c?"":c)}var d={get:function(e,t){var o=e.id===t,i=e.badge||[],s=e.tooltip||{},c=o?e.badge:i.includes(t),p=o?e.tooltip:s[t],d=a.BADGE+"-"+t,h=a.TOOLTIP+"-"+t,f=r.a.get(l(d)),m=r.a.get(l(h)),g={badge:!u()&&"shown"!==f&&c,tooltip:"shown"!==m&&p};if(o)return g;var y=[];return Object(n.a)(i,function(e){if(e.indexOf(":")>-1){var o=e.split(":"),n=o[0],i=o[1],s=a.BADGE+"-"+t+":"+i;"shown"!==r.a.get(l(s))&&n===t&&y.push(i)}}),g.optionsBadge=y.length>0&&y,!!(g.badge||g.tooltip||g.optionsBadge)&&g},hide:function(e,t,o){var i=this;t!==a.BADGE||r.a.get(l(s))||r.a.set(l(s),(new Date).getTime());var c=t+"-"+e;r.a.set(l(c),"shown"),o&&t===a.BADGE&&setTimeout(function(){o.classList.remove("se-highlight-toolbar-button"),o.classList.remove("__se-highlight-button");var t=o.querySelector(".__se-highlight-tooltip");t&&i.hide(e,a.TOOLTIP,t);var r=document.querySelectorAll(".se-toolbar")||[];Object(n.a)(r,function(t){var o=t.querySelector(".__se-highlight-button");p(o,e)&&(o.classList.remove("se-highlight-toolbar-button"),o.classList.remove("__se-highlight-button"))})},300),o&&t===a.TOOLTIP&&(o.style.display="none")},shown:function(e,t){var o=t+"-"+e,n=r.a.get(l(o)),i=u();return t===a.BADGE&&i||"shown"===n},remove:function(e){var t=a.BADGE+"-"+e,o=a.TOOLTIP+"-"+e;r.a.remove(l(t)),r.a.remove(l(o))}},h=d;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/button-highlight/index.js",localName:t}})}catch(e){}}e(i,"HIGHLIGHT_KEY_PREFIX"),e(a,"HighlightTypes"),e("shown","HIGHLIGHT_SHOWN_VALUE"),e("se-highlight-toolbar-button","BADGE_CLASS_NAME"),e("__se-highlight-button","BADGE_TARGET_CLASS_NAME"),e("__se-highlight-tooltip","TOOLTIP_TARGET_CLASS_NAME"),e(s,"HIGHLIGHT_START_DATE_KEY"),e(c,"LIMIT_DISPLAY_MINUTES"),e(l,"getKey"),e(u,"limitDisplayDate"),e(p,"isSameBadge"),e(d,"buttonHighlight"),e(h,"default")}()},209:function(e,t,o){"use strict";var n,r=o(59),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(16),h=o(67),f=o(64),m=o(53),g=o.n(m),y=o(50),b=o(48),_=o(335),v=o(51),C=o(649),O=o(55),S=o(208),k=[O.e.DOCUMENT,O.e.PROPERTY],I=(n=function(e){function t(){var t;return(t=e.call(this)||this)._deviceType=y.V.get("configAgent").get("productEnv.deviceType"),t._pluginButtonRegistry=y.V.get("pluginButtonRegistry"),t._upperCaseRegex=new RegExp("[A-Z]"),t.state={wrapperStyle:{overflow:"hidden"}},t}l()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this.props,t=e.namespace;e.isFlexible&&t===O.e.DOCUMENT?this._refineDisplayButtonSet():this._resetWrapperOverflowStyle()},o.componentDidUpdate=function(e){this._shouldRefineDisplayButtonSetOnUpdate(e)&&this._refineDisplayButtonSet()},o.render=function(){var e=this.props.className,t=this._renderButtonList(),o=this._resolveToolbarWrapperStyle();return b.b.createElement("ul",{ref:this._toolbarWrapperRef,className:e,onMouseUp:this._handleClick,style:o},t)},o._toolbarWrapperRef=function(e){this._toolbarWrapper=e},o._shouldRefineDisplayButtonSetOnUpdate=function(e){var t=this.props,o=t.namespace,n=t.isFlexible,r=t.selectedUnitIds,i=t.viewMode;return!!n&&(!!k.includes(o)&&(i!==e.viewMode||o===O.e.PROPERTY&&r!==e.selectedUnitIds))},o._refineDisplayButtonSet=function(){var e=this._toolbarWrapper.childNodes;if(e.length>0){var t=e[0].offsetTop,o=[];Object(h.a)(e,function(e){e.offsetTop!==t&&0!==e.offsetTop||o.push(e)}),this.props.onReflowToolbar({displayButtonCount:o.length})}this._resetWrapperOverflowStyle()},o._resetWrapperOverflowStyle=function(){this.setState({wrapperStyle:{overflow:""}})},o._resolveToolbarWrapperStyle=function(){return this.state.wrapperStyle},o._resolveButtonListClassName=function(e){var t=e.name,o=e.option,n=Object(d.a)(o,"position");return g()("se-toolbar-item","se-toolbar-item-"+t,n?"se-toolbar-"+n:"")},o._renderButtonList=function(){var e=this,t=this.props,o=t.buttons,n=t.moreButtons,r=n&&this._getMoreButtons(n);return o.map(function(t,o){var n=e._resolveButton(t),i=n.className,a=n.buttonView,s=n.props,c=n.handleKeyDown;return r&&"more-view"===t.styleName&&Object(f.a)(s,{options:r}),b.b.createElement("li",{key:t.buttonName+"-"+o,className:i,onKeyDown:c,"data-role":"button-container"},a(s))})},o._getMoreButtons=function(e){var t=this;return e.map(function(e){var o=t._resolveButton(e);return{id:e.styleName,buttonName:e.buttonName,className:o.className,buttonView:o.buttonView,props:o.props}})},o._resolveButton=function(e){var t=this.props,o=t.namespace,n=t.documentToolbarIconType,r=t.i18n,a=t.focusButtonId,c=t.activeButtonId,l=t.activePanelButtonId,u=e.buttonName,p=e.styleName,d=e.compType,h=e.toolbarName,f=s()(e,["buttonName","styleName","compType","toolbarName"]),m=this._resolveButtonListClassName({name:p,option:f.option}),g=this._pluginButtonRegistry.getButtonView({compType:d,toolbarName:h,buttonName:u}),y=this._resolveHandleKeyDown(u),b=this._resolveClickLogId(d),_=u===a,v=u===c||u===l;return{className:m,buttonView:g,props:i()({namespace:o,deviceType:this._deviceType,documentToolbarIconType:n,focused:_,isActivated:v,logAreaId:b,onClickSelector:this._handleClickSelector,i18n:r},f),handleKeyDown:y}},o._resolveClickLogId=function(e){void 0===e&&(e="");var t=this.props,o=t.logAreaId,n=t.namespace,r=e.slice(0,2).split("");if([O.e.DOCUMENT,O.e.PROPERTY,O.e.CONTEXT].includes(n))return o;var i=e.match(this._upperCaseRegex);return i?r.push(i[0].toLowerCase()):r.push(e.slice(e.length-1)),r.join("")+o},o._resolveHandleKeyDown=function(e){var t=this;return function(o){t.props.onKeyDown(o,e)}},o._handleClickSelector=function(e){var t=e.id;this.props.onClickSelector(t)},o._handleClick=function(e){C.a.log(e.nativeEvent);var t=e.target.closest("button");if(t&&t.classList.contains("__se-highlight-button")){var o=t.dataset,n=o.name,r=o.value;if(n){var i=n+(r?":"+r:"");S.b.hide(i,S.a.BADGE,t)}}},t}(b.b.Component),p()(n.prototype,"_toolbarWrapperRef",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_toolbarWrapperRef"),n.prototype),p()(n.prototype,"_refineDisplayButtonSet",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_refineDisplayButtonSet"),n.prototype),p()(n.prototype,"_handleClickSelector",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickSelector"),n.prototype),p()(n.prototype,"_handleClick",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);I.defaultProps={buttons:[],moreButtons:[],className:"",namespace:"",isFlexible:!1,documentToolbarIconType:"",focusButtonId:"",activeButtonId:"",activePanelButtonId:"",logAreaId:"",onKeyDown:function(){},onClickSelector:function(){}},I.propTypes={buttons:b.a.oneOfType([b.a.array,b.a.object]),moreButtons:b.a.oneOfType([b.a.array,b.a.object]),className:b.a.string,namespace:b.a.string,viewMode:b.a.string,isFlexible:b.a.bool,documentToolbarIconType:b.a.string,focusButtonId:b.a.string,activeButtonId:b.a.string,activePanelButtonId:b.a.string,selectedUnitIds:b.a.oneOfType([b.a.array,b.a.object]),logAreaId:b.a.string,onKeyDown:b.a.func,onClickSelector:b.a.func,onReflowToolbar:b.a.func,i18n:b.a.func};var w=Object(_.b)(I);t.a=w,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/index.jsx",localName:t}})}catch(e){}}e(k,"HEADER_TOOLBARS"),e(I,"Toolbar"),e(w,"default")}()},210:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageEdit:title":n,a=e.label,c=void 0===a?"imageEdit:label":a,l=e.labelVisible,u=void 0===l||l,p=e.logId,h=void 0===p?"imgedt":p,g=s()(e,["type","title","label","labelVisible","logId"]);return d.b.createElement(f.a,i()({},g,{type:o,title:r,label:c,logId:h,labelVisible:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageEditRightLabelButton"),e(y,"default")}()},211:function(e,t,o){"use strict";var n=o(48),r=o(53),i=o.n(r);function a(e,t){var o=e&&e<=300&&e>100||t&&t<=150&&t>40,n=e&&e<=100||t&&t<=40;return i()({"se-state-error":!0,"se-state-error-small":o,"se-state-error-tiny":n})}var s=function(e){var t=e.message,o=e.inlineStyle,r=a(e.width,e.height);return n.b.createElement("div",{className:r,style:o},n.b.createElement("div",{className:"se-state-error-detail"},n.b.createElement("div",{className:"se-state-error-text"},t)))};s.defaultProps={message:"",inlineStyle:{}},s.propTypes={width:n.a.number,height:n.a.number,message:n.a.string,inlineStyle:n.a.object};var c=s;t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/placeholder/index.jsx",localName:t}})}catch(e){}}e(a,"resolveWrapperClassName"),e(s,"Placeholder"),e(c,"default")}()},212:function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"c",function(){return i}),o.d(t,"b",function(){return a}),o.d(t,"a",function(){return s}),o.d(t,"e",function(){return c});var n={VIDEO:"video",RICH:"rich"},r={LEFT:"left",CENTER:"center",RIGHT:"right"},i={DEFAULT:"default"},a={NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},s=["facebook","twitter","instagram","slideshare","soundcloud","audioclip","nmv.naver","tv.naver"],c=["facebook","twitter","instagram"],l={OEmbedAlign:r,OEmbedLayout:i,OEmbedContentMode:a,IE10NotSupportedList:s,ScriptTypeList:c};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"OEmbedType"),e(r,"OEmbedAlign"),e(i,"OEmbedLayout"),e(a,"OEmbedContentMode"),e(s,"IE10NotSupportedList"),e(c,"ScriptTypeList"),e(l,"default")}()},213:function(e,t,o){"use strict";o.d(t,"d",function(){return r}),o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a}),o.d(t,"c",function(){return s});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",LAYOUT1:"table_layout1",LAYOUT2:"table_layout2",LAYOUT3:"table_layout3",LAYOUT4:"table_layout4",LAYOUT5:"table_layout5",LAYOUT6:"table_layout6",LAYOUT7:"table_layout7"},i={TABLET:6,MOBILE:3},a={TABLET:640,MOBILE:360},s={thinLine:{tableStyle:"border-style: solid; border-width: 1px 0px 0px 1px;",columnStyle:"border-style: solid; border-width: 0px 1px 1px 0px;"},thickLine:{tableStyle:"border-style: solid; border-width: 2px 0px 0px 2px;",columnStyle:"border-style: solid; border-width: 0px 2px 2px 0px;"},dottedLine:{tableStyle:"border-style: dashed; border-width: 1px 0px 0px 1px;",columnStyle:"border-style: dashed; border-width: 0px 1px 1px 0px;"},doubleLine:{tableStyle:"border-style: solid; border-width: 1px; border-spacing: 1px;",columnStyle:"border-style: solid; border-width: 1px;"},thickDoubleLine:{tableStyle:"border-style: solid; border-width: 1px 2px 2px 1px; border-spacing: 1px;",columnStyle:"border-style: solid; border-width: 2px 1px 1px 2px;"},none:{tableStyle:"border-style: none; border-width: 0px;",columnStyle:"border-style: none; border-width: 0px;"}},c={InlineStyle:s,DefaultColumnCount:i,ALIGN:n,LAYOUT:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ALIGN"),e(r,"LAYOUT"),e(i,"DefaultColumnCount"),e(a,"DefaultWidth"),e(s,"InlineStyle"),e(c,"default")}()},251:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r});var n={TEXT:"text",IMAGE:"image"},r={WHITE:"white",BLACK:"black"},i={BANNER_TYPE:n,FONT_COLOR_TYPE:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"BANNER_TYPE"),e(r,"FONT_COLOR_TYPE"),e(i,"default")}()},252:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r});var n={FF120:"ff120"},r={OGQ_COMMERCIAL:"ogqCommercial",OGQ:"ogq"},i={THUMBNAIL_TYPE:n,PROVIDER_TYPE:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"THUMBNAIL_TYPE"),e(r,"PROVIDER_TYPE"),e(i,"default")}()},253:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={MY:"my",PART:"part",RECOMMEND:"recommend"},r={TemplateTypes:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"TemplateTypes"),e(r,"default")}()},254:function(e,t,o){"use strict";var n,r,i,a,s=o(60),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(49),f=o.n(h),m=(o(61),o(16)),g=o(50),y=o(48),b=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,c()(o,"opened",r,u()(o)),c()(o,"preview",i,u()(o)),c()(o,"isLoading",a,u()(o)),o.dimColor="transparent";var n=t,s=n.state,l=void 0===s?{}:s,p=n.config,d=void 0===p?{}:p;return o._configAgent=g.V.get("configAgent"),o.dimColor=Object(m.a)(d,"dimColor",o.dimColor),o.opened=Object(m.a)(l,"opened",o.opened),o.preview=Object(m.a)(l,"preview",o.preview),o.isLoading=Object(m.a)(l,"isLoading",o.isLoading),o}d()(t,e);var o=t.prototype;return o.open=function(){this.updatePreview(void 0),this.opened=!0},o.close=function(){this.opened=!1,this.isLoading=!1},o.reset=function(){this.updatePreview(void 0)},o.updatePreview=function(e){!this.isLoading&&e||(this.preview=e)},o.setLoading=function(e){this.isLoading=e},o.changeToTextLayout=function(){this.preview.changeToTextLayout()},t}(g.e),r=f()(n.prototype,"opened",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=f()(n.prototype,"preview",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),a=f()(n.prototype,"isLoading",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/store/index.js",localName:t}})}catch(e){}}e(b,"LinkLayerStore"),e(_,"default")}()},255:function(e,t,o){"use strict";var n,r,i,a,s,c=o(60),l=o.n(c),u=o(1),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=(o(61),o(16)),_=o(97),v=o(153),C=o(98),O=o(1041),S=o(72),k=o(142),I=o(50),w=o(48),P=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,l()(o,"opened",r,h()(o)),l()(o,"spellCheckDocument",i,h()(o)),l()(o,"spellCheckList",a,h()(o)),l()(o,"selectedId",s,h()(o));var n=t.state,c=void 0===n?{}:n;return o.opened=Object(b.a)(c,"opened",o.opened),o.spellCheckDocument=Object(b.a)(c,"spellCheckDocument",o.spellCheckDocument),o.spellCheckList=Object(b.a)(c,"spellCheckList",o.spellCheckList),o.selectedId=Object(b.a)(c,"selectedId",o.selectedId),o}m()(t,e);var o=t.prototype;return o.enterSpellCheck=function(e){var t=e.spellCheckDocument,o=e.spellCheckList;this._splitErrataPosition(t,o),this._setStoreStates(t,o),this._openLayout(),this.checkTargetList.length>0&&this.selectFirstErrata()},o.selectFirstErrata=function(){this.selectedId=this.checkTargetList[0].id},o.selectFirstCorrected=function(){this.selectedId=this.correctedList[0].id},o.movePrev=function(e){void 0===e&&(e=!1);var t=this.spellCheckList,o=this.currentCheckInfo,n=Object(C.a)(t,o);if(0!==n){var r={corrected:e,excluded:!1},i=Object(O.a)(t,r,n-1);i<0||(this.selectedId=t[i].id)}},o.moveNext=function(e){void 0===e&&(e=!1);var t=this.spellCheckList,o=this.currentCheckInfo,n=Object(C.a)(t,o);if(n!==o.length-1){var r={corrected:e,excluded:!1},i=Object(C.a)(t,r,n+1);i<0||(this.selectedId=t[i].id)}},o.correctTargetErrata=function(e){this._correctErrata(this.currentCheckInfo,e)},o.correctSameErrata=function(e){var t=this;this.sameConditionList.forEach(function(o){t._correctErrata(o,e)})},o.correctAll=function(){var e=this;this.checkTargetList.forEach(function(t){var o=t.suggests;o.length&&e._correctErrata(t,o[0].term)})},o.excludeTargetErrata=function(){this._excludeErrata(this.currentCheckInfo)},o.excludeSameErrata=function(){var e=this;this.sameConditionList.forEach(function(t){e._excludeErrata(t)})},o.cancelCorrected=function(){this._cancelCorrected(this.currentCheckInfo)},o.cancelSameCorrected=function(){var e=this;this.sameConditionList.forEach(function(t){e._cancelCorrected(t)})},o.closeSpellCheck=function(){this._setStoreStates(),this._closeLayout()},o.togglePopup=function(e){this.selectedId=e||""},o._findParagraph=function(e,t){var o=t.compId,n=t.unitId,r=t.paraId,i=Object(_.a)(e,{id:o}).getTextUnits();return Object(_.a)(i,{id:n}).getParagraphById(r)},o._setStoreStates=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.spellCheckDocument.replace(e),this.spellCheckList.replace(t)},o._openLayout=function(){this.opened=!0},o._closeLayout=function(){this.opened=!1},o._splitErrataPosition=function(e,t){var o=this;t.forEach(function(t){var n=t.position,r=o._findParagraph(e,n),i=r.getNodeInfoAfterOffset(n.startOffset),a=i.node,s=i.offset;if(0===s)n.startNodeId=a.id;else{var c={nodeId:a.id,offset:s},l=r.splitNode(c).back;n.startNodeId=l.id}var u=r.getNodeInfoBeforeOffset(n.endOffset),p=u.node,d=u.offset;if(d===p.value.length)n.endNodeId=p.id;else{var h={nodeId:p.id,offset:d},f=r.splitNode(h).front;n.endNodeId=f.id}})},o._correctErrata=function(e,t){if(!e.corrected){var o=e.position,n=o.startNodeId,r=o.endNodeId,i=this._findParagraph(this.spellCheckDocument,e.position),a=i.getNodesBetween(n,r);e.correctInfo={},e.correctInfo.originalNodes=a.map(function(e){return e.cloneNode()});var s=a[0];if(s.value=t,i.replaceNodesBetween(n,r,s),e.position.endNodeId=n,e.corrected=!0,e.suggests.length){var c=Object(_.a)(e.suggests,{term:t});Object.assign(e.correctInfo,c)}else e.correctInfo.term=t}},o._excludeErrata=function(e){e.excluded||(e.excluded=!0)},o._cancelCorrected=function(e){if(e.corrected){var t=this._findParagraph(this.spellCheckDocument,e.position),o=e.position.startNodeId,n=e.correctInfo.originalNodes.map(function(e){return e});t.replaceNodesBetween(o,o,n),delete e.correctInfo,e.position.endNodeId=Object(S.a)(n).id,e.corrected=!1}},p()(t,[{key:"spellCheckMap",get:function(){return Object(k.a)(this.spellCheckList,function(e,t){return e[t.position.compId]?e[t.position.compId].push(t):e[t.position.compId]=[t],e},{})}},{key:"currentCheckInfo",get:function(){return Object(_.a)(this.spellCheckList,{id:this.selectedId})}},{key:"checkTargetList",get:function(){return Object(v.a)(this.spellCheckList,{corrected:!1,excluded:!1})}},{key:"correctedList",get:function(){return Object(v.a)(this.spellCheckList,{corrected:!0})}},{key:"excludedList",get:function(){return Object(v.a)(this.spellCheckList,{excluded:!0})}},{key:"sameConditionList",get:function(){var e=this.currentCheckInfo||{},t=e.errata,o=e.correctInfo,n=e.corrected,r=e.excluded,i=n?{errata:t,correctInfo:{term:o.term},corrected:n,excluded:r}:{errata:t,corrected:n,excluded:r};return Object(v.a)(this.spellCheckList,i)}}]),t}(I.w),r=y()(n.prototype,"opened",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=y()(n.prototype,"spellCheckDocument",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=y()(n.prototype,"spellCheckList",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=y()(n.prototype,"selectedId",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y()(n.prototype,"spellCheckMap",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"spellCheckMap"),n.prototype),y()(n.prototype,"currentCheckInfo",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"currentCheckInfo"),n.prototype),y()(n.prototype,"checkTargetList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"checkTargetList"),n.prototype),y()(n.prototype,"correctedList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"correctedList"),n.prototype),y()(n.prototype,"excludedList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"excludedList"),n.prototype),y()(n.prototype,"sameConditionList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"sameConditionList"),n.prototype),n),j=P;t.a=j,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/store/index.js",localName:t}})}catch(e){}}e(P,"SpellCheckLayoutStore"),e(j,"default")}()},256:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(50),f=o(51),m=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._eventDispatcherService=h.V.get("eventDispatcherService"),o}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.elementRef,o=(e.onClick,e.children),n=s()(e,["elementRef","onClick","children"]);return d.b.createElement("button",i()({},n,{ref:t,onClick:this._handleClick}),o)},o._handleClick=function(e){var t=this,o={dataset:e.currentTarget.dataset,next:function(){t.props.onClick(e)}};!this._eventDispatcherService.dispatch(h.z.CLICK,o,!0)||this.props.onClick(e)},t}(d.b.Component),p()(n.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);m.defaultProps={elementRef:d.b.createRef(),"data-group":"unknown","data-name":"unknown",onClick:function(){}},m.propTypes={elementRef:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})]),"data-group":d.a.string.isRequired,"data-name":d.a.string.isRequired,onClick:d.a.func};var g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/buttons/button.jsx",localName:t}})}catch(e){}}e(m,"Button"),e(g,"default")}()},257:function(e,t,o){"use strict";var n,r=o(49),i=o.n(r),a=o(50),s=o(48),c=o(51),l=(n=function(){function e(){this._propertyChangeService=a.V.get("propertyChangeService"),this._storageService=a.V.get("storageService"),this._toastLayerService=a.V.get("toastLayerService"),this._i18n=a.V.get("i18n")}var t=e.prototype;return t.changeBackgroundColor=function(e){var t=e.storageKey,o=e.recentColors;this._propertyChangeService.updateStyle(e),this._storageService.setStorageData(t,o)},t.changeFontColor=function(e){var t=e.storageKey,o=e.recentColors;this._propertyChangeService.updateStyle(e),this._storageService.setStorageData(t,o)},t.changeFontFamily=function(e){this._propertyChangeService.updateStyle(e)},t.changeFontSize=function(e){this._propertyChangeService.updateStyle(e)},t.changeLineHeight=function(e){var t=e.value;!t||parseInt(t)<50?this._toastLayerService.warningMessage(this._i18n("editingButtonUseCase:inputAtLeast50")):this._propertyChangeService.updateStyle(e)},t.changeListType=function(e){this._propertyChangeService.updateStyle(e)},t.toggleStrikeThrough=function(){this._propertyChangeService.toggleStyle("strikeThrough")},t.toggleSubscript=function(){this._propertyChangeService.toggleStyle("subscript")},t.toggleSuperscript=function(){this._propertyChangeService.toggleStyle("superscript")},t.toggleUnderline=function(){this._propertyChangeService.toggleStyle("underline")},t.toggleBold=function(){this._propertyChangeService.toggleStyle("bold")},t.toggleItalic=function(){this._propertyChangeService.toggleStyle("italic")},t.toggleDropCap=function(){this._propertyChangeService.toggleStyle("dropCap")},e}(),i()(n.prototype,"changeBackgroundColor",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeBackgroundColor"),n.prototype),i()(n.prototype,"changeFontColor",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFontColor"),n.prototype),i()(n.prototype,"changeFontFamily",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFontFamily"),n.prototype),i()(n.prototype,"changeFontSize",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFontSize"),n.prototype),i()(n.prototype,"changeLineHeight",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLineHeight"),n.prototype),i()(n.prototype,"changeListType",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeListType"),n.prototype),i()(n.prototype,"toggleStrikeThrough",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleStrikeThrough"),n.prototype),i()(n.prototype,"toggleSubscript",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleSubscript"),n.prototype),i()(n.prototype,"toggleSuperscript",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleSuperscript"),n.prototype),i()(n.prototype,"toggleUnderline",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleUnderline"),n.prototype),i()(n.prototype,"toggleBold",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleBold"),n.prototype),i()(n.prototype,"toggleItalic",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleItalic"),n.prototype),i()(n.prototype,"toggleDropCap",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleDropCap"),n.prototype),n),u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/editing-button-use-case.js",localName:t}})}catch(e){}}e(l,"EditingUseCase"),e(u,"default")}()},258:function(e,t,o){"use strict";var n=o(54),r=o.n(n),i=o(17),a=o.n(i),s=o(0),c=o.n(s),l=o(48),u=o(335),p=o(50),d=o(53),h=o.n(d),f=function(e){function t(){var t;return(t=e.call(this)||this)._domAccessor=p.V.get("domAccessor"),t.state={overLayerPosition:!1},t}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._updateLayerPositionState()},o.render=function(){var e=this.props,t=e.forwardRef,o=e.className,n=e.children,i=a()(e,["forwardRef","className","children"]),s=this.state.overLayerPosition?this._adjustLayerPosition():{},c=h()(o);return l.b.createElement("div",r()({ref:t,className:c,style:s},i),n)},o._propertyToolbarPosRight=function(){var e=this._domAccessor.getPropertyToolbar();return e?e.getBoundingClientRect().right:0},o._updateLayerPositionState=function(){var e=this._propertyToolbarPosRight(),t=this.props.forwardRef.current,o=t.getBoundingClientRect().right,n=o>e;if(!n)return null;this._layer=t,this._layerRight=o,this._toolbarRight=e,this._layerDefaultLeft=parseInt(window.getComputedStyle(this._layer).left)||0,this.setState({overLayerPosition:n})},o._adjustLayerPosition=function(){var e=this._domAccessor.getCanvas().getBoundingClientRect().right,t=this._toolbarRight-e,o=this._layerRight-this._toolbarRight+t;return{left:this._layerDefaultLeft-o+"px"}},t}(l.b.Component);f.defaultProps={children:null},f.propTypes={children:l.a.oneOfType([l.a.element,l.a.array]),forwardRef:l.a.oneOfType([l.a.func,l.a.shape({current:l.a.instanceOf(Element)})]),className:l.a.string};var m=Object(u.b)(f);t.a=m,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/toolbar-sub-layer.jsx",localName:t}})}catch(e){}}e(f,"ToolbarSubLayer"),e(m,"default")}()},260:function(e,t,o){"use strict";var n,r=o(49),i=o.n(r),a=o(50),s=o(48),c=o(51),l=(n=function(){function e(){this._propertyChangeService=a.V.get("propertyChangeService")}var t=e.prototype;return t.changeLayout=function(e){var t=e.value;this._propertyChangeService.changeLayout(t)},t.changeQuotationLayout=function(e){var t=e.value;this._propertyChangeService.changeLayout(t)},t.changeContentMode=function(e){var t=e.value;this._propertyChangeService.changeContentMode(t)},e}(),i()(n.prototype,"changeLayout",[c.preventOnComponentProcessing,c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLayout"),n.prototype),i()(n.prototype,"changeQuotationLayout",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeQuotationLayout"),n.prototype),i()(n.prototype,"changeContentMode",[c.preventOnComponentProcessing,c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeContentMode"),n.prototype),n),u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/layout-button-use-case.js",localName:t}})}catch(e){}}e(l,"LayoutButtonUseCase"),e(u,"default")}()},261:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageEditWithoutLabel:title":n,a=e.logId,c=void 0===a?"edit":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-edit-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageEditButtonView"),e(y,"default")}()},262:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageAdjustWithoutLabel:title":n,a=e.logId,c=void 0===a?"adjust":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.adjustImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-adjust-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageAdjustButtonView"),e(y,"default")}()},263:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageCropWithoutLabel:title":n,a=e.logId,c=void 0===a?"edit":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.cropImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-crop-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageCropButtonView"),e(y,"default")}()},264:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageFilterWithoutLabel:title":n,a=e.logId,c=void 0===a?"edit":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.filterImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-filter-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageFilterButtonView"),e(y,"default")}()},265:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageReplacement:title":n,a=e.label,c=void 0===a?"imageReplacement:label":a,l=e.labelVisible,u=void 0===l||l,p=e.logId,h=void 0===p?"imgchg":p,g=s()(e,["type","title","label","labelVisible","logId"]);return d.b.createElement(f.a,i()({},g,{type:o,title:r,label:c,labelVisible:u,logId:h,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.changeImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-replacement-right-label-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageReplacementRightLabelButton"),e(y,"default")}()},266:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",MAP_TEXT:"map_text"},i={};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"MapAlign"),e(r,"MapLayout"),e(i,"default")}()},267:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(48),f=o(51),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._talktalkEditLayerService=d.V.get("talktalkEditLayerService"),t._imageUploadService=d.V.get("imageUploadService"),t._alertLayerService=d.V.get("alertLayerService"),t._editingService=d.V.get("editingService"),t._imageBehavior=d.V.get("imageBehavior"),t}l()(t,e);var o=t.prototype;return o.changeTalktalkAccount=function(e){this._talktalkEditLayerService.changeAccountId(e)},o.changeBannerType=function(e){this._talktalkEditLayerService.changeBannerType(e)},o.loadImage=function(){var e=s()(i.a.mark(function e(){var t,o=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:t=e.sent,this._talktalkEditLayerService.changeImage({}),this._imageBehavior.changeImage({targetStoreId:"talktalkEditLayer",selectedImages:t}).then(function(e){var t=e.succeededImages;t.length>0&&o._talktalkEditLayerService.changeImage(t[0].response)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.close=function(){this._talktalkEditLayerService.close()},o.insertTalktalk=function(){var e=this._talktalkEditLayerService.createTalktalkComponent();this._editingService.insert({sourceComponents:[e]}),this._talktalkEditLayerService.close()},o.editTalktalk=function(){this._talktalkEditLayerService.editTalktalkComponent(),this._talktalkEditLayerService.close()},t}(d.m),p()(n.prototype,"changeTalktalkAccount",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeTalktalkAccount"),n.prototype),p()(n.prototype,"changeBannerType",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeBannerType"),n.prototype),p()(n.prototype,"loadImage",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"loadImage"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"insertTalktalk",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"insertTalktalk"),n.prototype),p()(n.prototype,"editTalktalk",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"editTalktalk"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/use-case/index.js",localName:t}})}catch(e){}}e(m,"TalktalkEditLayerUseCase"),e(g,"default")}()},268:function(e,t,o){"use strict";var n,r,i,a,s,c,l=o(60),u=o.n(l),p=o(1),d=o.n(p),h=o(57),f=o.n(h),m=o(0),g=o.n(m),y=o(49),b=o.n(y),_=(o(61),o(16)),v=o(63),C=o(97),O=o(50),S=o(48),k=o(402),I=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,u()(o,"opened",r,f()(o)),u()(o,"talktalkAccountList",i,f()(o)),u()(o,"selectedAccountId",a,f()(o)),u()(o,"bannerType",s,f()(o)),u()(o,"image",c,f()(o));var n=t.state,l=void 0===n?{}:n;return o.opened=Object(_.a)(l,"opened",o.opened),o.editingMode=k.b.INSERT,o._configAgent=O.V.get("configAgent"),o}g()(t,e);var o=t.prototype;return o.open=function(e){var t=void 0===e?{}:e,o=t.accountId,n=t.bannerType,r=void 0===n?k.a.DEFAULT:n,i=t.image,a=this._configAgent.get("plugins.componentSettings.talktalk.config"),s=Object(_.a)(a,"talkTalkAccountList");Object(v.a)(s)||(this.talktalkAccountList.replace(s),this.selectedAccountId=o||s[0].accountId,this.bannerType=r,this.editingMode=o?k.b.EDIT:k.b.INSERT,this.bannerType===k.a.CUSTOM&&(this.image=i),this.opened=!0)},o.close=function(){this.talktalkAccountList.replace([]),this.selectedAccountId="",this.bannerType=k.a.DEFAULT,this.image={},this.opened=!1},o.changeAccountId=function(e){this.selectedAccountId=e},o.changeBannerType=function(e){this.bannerType=e},o.changeImage=function(e){this.image=e},d()(t,[{key:"selectedAccountInfo",get:function(){var e=this;return 0===this.talktalkAccountList.length?null:Object(C.a)(this.talktalkAccountList,function(t){return t.accountId===e.selectedAccountId})}}]),t}(O.e),r=b()(n.prototype,"opened",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=b()(n.prototype,"talktalkAccountList",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=b()(n.prototype,"selectedAccountId",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=b()(n.prototype,"bannerType",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.a.DEFAULT}}),c=b()(n.prototype,"image",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),n),w=I;t.a=w,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/store/index.js",localName:t}})}catch(e){}}e(I,"TalktalkEditLayerStore"),e(w,"default")}()},269:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(53),a=o.n(i),s=o(48),c=o(335),l=o(141),u=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=s.b.createRef(),o.captionEnabled=t.store.captionEnabled,o}r()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._applyCaptionClassNamesReaction()},o.componentDidMount=function(){this._changeCaptionClassNames()},o.componentWillUnmount=function(){this._disposeReaction()},o.render=function(){if(!this.captionEnabled)return null;var e=this.props,t=e.store,o=e.i18n,n=e.onLimitTextLength,r=e.additionalOption||{placeholder:o("imageComponent:placeholder_caption")},i=this._resolveClassName();return s.b.createElement(l.a,{forwardRef:this._elementRef,compId:t.id,text:t.caption,additionalOption:r,className:i,onLimitTextLength:n})},o._resolveClassName=function(){var e={"se-caption":!0};if(this._elementRef.current){var t=this._elementRef.current.classList;e["se-is-on"]=t.contains("se-is-on"),e["se-is-focused"]=t.contains("se-is-focused")}return a()([e])},o._applyCaptionClassNamesReaction=function(){var e=this;this.captionEnabled&&(this._disposeClassNames=s.f.reaction(function(){return{isCaptionOn:e.props.store.isCaptionOn,isCaptionFocused:e.props.store.isCaptionFocused()}},function(t){var o=t.isCaptionOn,n=t.isCaptionFocused;o?e._elementRef.current.classList.add("se-is-on"):e._elementRef.current.classList.remove("se-is-on"),n?e._elementRef.current.classList.add("se-is-focused"):e._elementRef.current.classList.remove("se-is-focused")}))},o._disposeReaction=function(){this._disposeClassNames&&this._disposeClassNames()},o._changeCaptionClassNames=function(){this.captionEnabled&&(this.props.store.isCaptionOn?this._elementRef.current.classList.add("se-is-on"):this._elementRef.current.classList.remove("se-is-on"),this.props.store.isCaptionFocused()?this._elementRef.current.classList.add("se-is-focused"):this._elementRef.current.classList.remove("se-is-focused"))},t}(s.b.Component);u.defaultProps={},u.propTypes={store:s.a.object.isRequired,children:s.a.oneOfType([s.a.element,s.a.array]),i18n:s.a.func,additionalOption:s.a.object,onLimitTextLength:s.a.func};var p=Object(c.b)(u);t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/caption/index.jsx",localName:t}})}catch(e){}}e(u,"Caption"),e(p,"default")}()},270:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",LINE1:"line1",LINE2:"line2",LINE3:"line3",LINE4:"line4",LINE5:"line5",LINE6:"line6",LINE7:"line7"},i={Align:n,Layout:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"Align"),e(r,"Layout"),e(i,"default")}()},271:function(e,t,o){"use strict";o.d(t,"b",function(){return r}),o.d(t,"a",function(){return a});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",QUOTATION_LINE:"quotation_line",QUOTATION_BUBBLE:"quotation_bubble",QUOTATION_UNDERLINE:"quotation_underline",QUOTATION_POSTIT:"quotation_postit",QUOTATION_CORNER:"quotation_corner"},i={Align:n,QuotationLayout:r},a="default";!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"Align"),e(r,"QuotationLayout"),e(a,"DEFAULT_LAYOUT"),e(i,"default")}()},272:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={DEFAULT:"default"},r={LEFT:"left",CENTER:"center",RIGHT:"right"},i={AudioLayout:n,AudioAlign:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"AudioLayout"),e(r,"AudioAlign"),e(i,"default")}()},273:function(e,t,o){"use strict";var n,r,i,a,s,c=o(59),l=o.n(c),u=o(60),p=o.n(u),d=o(1),h=o.n(d),f=o(57),m=o.n(f),g=o(0),y=o.n(g),b=o(49),_=o.n(b),v=(o(61),o(69)),C=o(16),O=o(106),S=o(338),k=o(64),I=o(77),w=o(50),P=o(240),j=o(48),T=o(191),L=o(403),E={lineBreak:{enter:"next-unit",shiftEnter:"next-unit"},erasure:"query",insertion:"append",drop:"object"},N={erasure:"query",insertion:"text",paste:"text",drop:"text"},x=(n=function(e){y()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"left-and-right",selection:"query",insertion:"append",erasure:"text",drop:"object"},p()(o,"layout",r,m()(o)),p()(o,"phase",i,m()(o)),p()(o,"wrappedSection",a,m()(o)),p()(o,"text",s,m()(o));var n=t,c=n.state,l=void 0===c?{}:c,u=n.config,d=void 0===u?{}:u;o._componentFactory=w.V.get("componentFactory"),o._configAgent=w.V.get("configAgent"),o.attributes=Object(v.a)(o.attributes,d.attributes),o.layout=Object(C.a)(l,"layout",o.layout);var h=Object(C.a)(l,"wrappedSection",{});if(o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o.wrappedSection=o._componentFactory.createComponentWithCompData(h),o._wrappedSectionOriginAttr=o.wrappedSection.attributes,"image"===o.wrappedSection.ctype){var f=o.wrappedSection.caption.attributes;o._wrappedSectionCaptionOriginAttr=f,o.wrappedSection.caption.attributes=Object(O.a)({},f,{lineBreak:{enter:"next-unit",shiftEnter:"line-break-in-paragraph"}})}return o.wrappedSection.attributes=Object(O.a)({},o.wrappedSection.attributes,E),o.text=o._createTextStore(l),o._textOriginAttr=o.text.attributes,o._textValueOriginAttr=o.text.value.attributes,o.text.attributes=Object(O.a)({},o.text.attributes,N),o.text.value.attributes=Object(O.a)({},o.text.value.attributes,N),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,vid:this.vid,layout:this.layout,phase:this.phase,wrappedSection:this.wrappedSection.toPlainJSON(),text:this.text.toPlainJSON()}},t._createTextStore=function(e){var t=Object(C.a)(e,"text");return"text"===Object(C.a)(t,"ctype")?new L.a({state:t}):new L.a({state:{value:t}})},t.breakLine=function(e){return this.findSelectedSlot().breakLine(e)},t.insert=function(e,t){void 0===t&&(t={});var o=this.findSelectedSlot().insert(e,t);return this._changeToWrappingRange(o)},t._isGoingDown=function(e){return e===w.u.DOWN||e===w.u.RIGHT},t._isGoingUp=function(e){return!1===this._isGoingDown(e)},t.querySelection=function(e){var t=e.anchor,o=e.focus,n=e.toPoint,r=e.direction,i=e.isShrink,a=e.eventType;return n.unitId===this.id?this._isGoingDown(r)?{anchor:t,focus:this.getCompEndPoint()}:{anchor:t,focus:this.getCompStartPoint()}:P.a.isKeyboardEvent(a)&&this._isGoingDown(r)&&o.unitId===this.wrappedSection.id?{anchor:t,focus:l()({},this.text.getStartPoint(),{compId:this.id})}:n.unitId===this.text.getText().id?{anchor:t,focus:n}:!1===i&&this._isGoingDown(r)||!0===i&&this._isGoingUp(r)?{anchor:t,focus:l()({},this.wrappedSection.getEndPoint(),{compId:this.id})}:{anchor:t,focus:this.getStartPoint()}},t.getParagraphsLength=function(){return this.text.getParagraphsLength()},t.getPlainTextWithEmoji=function(){var e=this.text.getPlainTextWithEmoji();return"quotation"!==this.wrappedSection.ctype?e:""+this.wrappedSection.getPlainTextWithEmoji()+e},t.getNodeInfoAfterOffset=function(e,t){var o=e.unitId;return this.getStoreById(o).getNodeInfoAfterOffset(e,t)},t.queryErasure=function(e,t,o){if(this.isSelectingWrappedSection()&&!this._isSelectingTextSlot())return this.text.attributes.erasure="text",this.text.getText().attributes.erasure="text",{result:"replace",component:this.text,range:this.text.getCompStartRange()};var n=e.start,r=e.collapsed,i=this.getText(e).existTextInListParagraph;if(r){var a=this.text.getPositionByPoint(n),s=this.text.isEmpty();if(!i&&a===T.d.TEXT_START&&t===w.u.LEFT)return{result:"replace",component:this,range:this._getWrappedSectionSelectRange()};if((s||a===T.d.TEXT_END)&&t===w.u.RIGHT)return{result:"merge-if-text",range:o}}if(this.isAllSelected()){this.text.erase(e,t);var c=this.text.clone();return c.attributes.erasure="text",c.getText().attributes.erasure="text",{result:c.isEmpty()?"self":"replace",component:c,range:c.getCompStartRange()}}var l=this.text.erase(e,t);return{result:"replace",component:this,range:this._changeToWrappingRange(l)}},t.isAllSelected=function(){return"block"===this.selection||this.isSelectingWrappedSection()&&this._isSelectingTextSlot()},t.decomposeWrapped=function(){return"image"===this.wrappedSection.ctype&&(this.wrappedSection.caption.attributes=this._wrappedSectionCaptionOriginAttr),this.wrappedSection.attributes=this._wrappedSectionOriginAttr,this.text.attributes=this._textOriginAttr,this.text.value.attributes=this._textValueOriginAttr,[this.wrappedSection,this.text]},t.removeFirstParagraph=function(){this.text.removeFirstParagraph()},t.removeLastParagraph=function(){this.text.removeLastParagraph()},t.isEmpty=function(){return!1},t.isFirstParagraph=function(e){return this.text.isFirstParagraph(e)},t.isFirstParagraphEmpty=function(){return this.text.isFirstParagraphEmpty()},t.isLastParagraphEmpty=function(){return this.text.isLastParagraphEmpty()},t.collectStyle=function(e){var t,o;if(this.isSelectingWrappedSection()){var n=this.wrappedSection.collectStyle(e);t=n,o={wrappingLayout:this.layout,layout:n.layout}}else t=this.text.collectStyle(e),o={layout:this.layout};return l()({},t,o)},t.getTextStyle=function(e){return this.text.getTextStyle(e)},t.updateStyle=function(e,t){var o=this,n=this.findSelectedSlot().updateStyle(e,t);if("block"===this.selection){var r=this.getComponentActiveRange();return[r.start,r.end]}if(n)return n.map(function(e){return e.compId=o.id,e})},t.updateProperty=function(e,t){var o=this;if(e.layout)return this._changeLayout(e);var n=e.wrappedSection;e.link&&(n=e);var r=this.findSelectedSlot().updateProperty(n,t);if("block"===this.selection){var i=this.getComponentActiveRange();return[i.start,i.end]}return r?r.map(function(e){return e.compId=o.id,e}):void 0},t.refineSelection=function(e){var t=this.findSelectedSlot().refineSelection(e);return this._changeToWrappingRange(t)},t.splitComponent=function(e){var t=this.text.splitComponent(e).back;return t.getText().attributes.erasure="text",{front:this,back:t}},t.isRepresentativeImage=function(){return this.wrappedSection.isRepresentativeImage()||this.text.isRepresentativeImage()},t.setRepresentativeImage=function(e){e.paraId?this.text.setRepresentativeImage(e):this.wrappedSection.setRepresentativeImage()},t.releaseRepresentativeImage=function(e){e.paraId?this.text.releaseRepresentativeImage(e):this.wrappedSection.releaseRepresentativeImage()},t.hasRepresentativeImage=function(){return this.wrappedSection.hasRepresentativeImage()||this.text.hasRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=this.text.getRepresentativeId(),o=this.wrappedSection.getRepresentativeId();return Object(I.a)([].concat(t,[""+o]),function(t){return e.id+"|"+t})},t.getRepresentativeInnerData=function(){return this.text.hasRepresentativeImage()?this.text.getRepresentativeInnerData():this.wrappedSection.hasRepresentativeImage()?this.wrappedSection.getRepresentativeInnerData():null},t.changeAlign=function(){},t.getStoreById=function(e){if(e===this.id)return this;var t=this.text.getStoreById(e);return t||((t=this.wrappedSection.getStoreById(e))||null)},t.hasUnit=function(e){return this.getTextUnits().some(function(t){return t.id===e})},t.getNextUnit=function(){return this.text},t.getPrevUnit=function(){return this.wrappedSection},t.getSelectedAlign=function(e){return this.isSelectingWrappedSection()?this.wrappedSection.getSelectedAlign():this.getText(e).getSelectedAlign(e)},t.getText=function(e){return this.findSelectedSlot()===this.wrappedSection?this.wrappedSection.getText(e):this.text.getText(e)},t.getOffsetInParagraph=function(e){return this.getStoreById(e.unitId).getOffsetInParagraph(e)},t.getTextUnits=function(){var e=this.wrappedSection.getTextUnits(),t=this.text.getTextUnits();return Object(S.a)([e,t])},t.updateConfig=function(){this.wrappedSection.updateConfig(),this.getText().updateConfig()},t.clone=function(e){var t=e.start,o=e.end;return t.unitId!==o.unitId?this._cloneWithinSelection(e):(this._isSelectingTextSlot()?this.text:this.wrappedSection).clone(e)},t.getCompStartRange=function(){var e=this.wrappedSection.getCompStartRange();return this._changeToWrappingRange(e)},t.getCompEndRange=function(){var e=this.text.getCompEndRange();return this._changeToWrappingRange(e)},t.getCompStartPoint=function(){return this._getWrappedSectionStartPoint()},t.getCompEndPoint=function(){return this._getTextEndPoint()},t.getTextStartRange=function(){var e=this._getTextStartPoint();return{start:e,end:e}},t.getStartPoint=function(){return this._getWrappedSectionStartPoint()},t.getEndPoint=function(){return this.isSelectingWrappedSection()?this._getWrappedSectionEndPoint():this._getTextEndPoint()},t.getComponentActiveRange=function(){return{start:this._getWrappedSectionStartPoint(),end:this._getTextEndPoint()}},t.getEndCollapsedRange=function(e){var t=this.findSelectedSlot().getEndCollapsedRange(e);return this._changeToWrappingRange(t)},t._getWrappedSectionSelectRange=function(){return{start:this._getWrappedSectionStartPoint(),end:this._getWrappedSectionEndPoint()}},t._getTextStartPoint=function(){var e=this.text.getStartPoint();return e.compId=this.id,e},t._getTextEndPoint=function(){var e=this.text.getEndPoint();return e.compId=this.id,e},t._getWrappedSectionStartPoint=function(){var e=this.wrappedSection.getCompStartPoint();return e.compId=this.id,e},t._getWrappedSectionEndPoint=function(){var e=this.wrappedSection.getCompEndPoint();return e.compId=this.id,e},t.findSelectedSlot=function(){return this.isSelectingWrappedSection()?this.wrappedSection:this.text},t._isSelectingTextSlot=function(){return"none"!==this.text.getText().selection},t.isSelectingWrappedSection=function(){var e=this.wrappedSection;return"none"!==e.getText().selection||"none"!==e.selection},t._changeToWrappingRange=function(e){return Object(k.a)({start:{compId:this.id},end:{compId:this.id}},e)},t._changeLayout=function(e){return this.layout=e.layout,this._getWrappedSectionSelectRange()},t._cloneWithinSelection=function(e){var t=new o({state:this.toValidJSON()}),n=t.wrappedSection.attributes;return t.text=this.text.clone(e),t.wrappedSection=this.wrappedSection.clone(e),t.wrappedSection.attributes=n,t},t.isLibraryComponent=function(){return this.wrappedSection.isLibraryComponent()||this.text.isLibraryComponent()},t.getLibraryItemData=function(){var e=this,t=[];return this.wrappedSection.isLibraryComponent()&&t.push(Object.assign(this.wrappedSection.getLibraryItemData(),{id:this.id})),this.text.isLibraryComponent()&&t.push.apply(t,this.text.getLibraryItemData().map(function(t){return Object.assign(t,{id:e.id})})),t},t.updateTheme=function(t,o){if(e.prototype.updateTheme.call(this,t,o),this.themeStyle){var n=this.themeStyle,r=n.textThemeStyle,i=n.imageThemeStyle,a=n.quotationThemeStyle;r&&this.text.updateTheme(r);var s=this.wrappedSection&&this.wrappedSection.ctype;"image"===s&&this.wrappedSection.updateTheme(i),"quotation"===s&&this.wrappedSection.updateTheme(a)}},t.updateImage=function(e){this.wrappedSection=Object(O.a)(this.wrappedSection,e)},t.filterOnlyTexts=function(){return this.text.filterOnlyTexts()},t.applyEditedImage=function(e){var t=e.photos[0];if(t.modified){var o=this._refineIntoImageData(t);this.updateImage(o)}},t._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,originalWidth:r,originalHeight:n,path:a,id:t,src:""+i+a+(this.thumbnailType?"?type="+this.thumbnailType:"")}},t.toValidJSON=function(){return{id:this.id,layout:this.layout,ctype:this.ctype,wrappedSection:this.wrappedSection.toValidJSON(),text:this.text.getText().toValidJSON()}},t.deselect=function(){this._changeSelectionToNone(),this.text.deselect(),this.wrappedSection.deselect()},t._shouldSelectAllAsBlock=function(e,t){if(e.compId!==this.id&&t.compId!==this.id)return!0;var o=this.text.getEndPoint(),n=this.text.hasUnit(t.unitId)&&o.nodeId===t.nodeId&&o.offset===t.offset;return e.unitId===this.wrappedSection.id?n||t.compId!==this.id:!!n&&(e.unitId===this.wrappedSection.id||e.compId!==this.id)},t.putCursor=function(e){var t=e.unitId;this._changeSelectionToChild(),this.text.hasUnit(t)?("none"!==this.wrappedSection.selection&&this.wrappedSection.deselect(),this.text.putCursor(e),this.wrappedSection.deselect()):("none"!==this.text.selection&&this.text.deselect(),this.wrappedSection.putCursor(e),this.text.deselect())},t.selectAsBlock=function(e,t){this.deselect(),this._shouldSelectAllAsBlock(e,t)?this._selectAllAsBlock(e,t):this._selectPartAsBlock(e,t)},t.selectAsSingle=function(e){this._changeSelectionToChild(),this.wrappedSection.selectAsSingle(e),this.text.deselect()},t._selectAllAsBlock=function(){this._changeSelectionToBlock()},t._selectPartAsBlock=function(e,t){this._changeSelectionToChild(),this.text.hasUnit(e.unitId)?this.text.selectAsBlock(e,t):null!==this.wrappedSection.getStoreById(t.unitId)?this.wrappedSection.selectAsBlock(e,t):(this.text.selectAsBlock(e,t),this.wrappedSection.selectAsBlock(e,t))},t.setAvailableContentLength=function(e){var t=this.findSelectedSlot();t===this.wrappedSection&&"quotation"!==t.ctype||this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){var e=this.findSelectedSlot();e===this.wrappedSection&&"quotation"!==e.ctype||this.getText().resetAvailableContentLength()},t.sliceContentText=function(e){if("image"!==this.wrappedSection.ctype){var t=this.wrappedSection.textLength;if(t>e)this.wrappedSection.sliceContentText(e),this.text.sliceContentText(0);else{var o=e-t;this.text.sliceContentText(o)}}else this.text.sliceContentText(e)},t.canBeListBySpace=function(e){return this.findSelectedSlot()!==this.wrappedSection&&this.getText(e).canBeListBySpace(e)},t.convertToList=function(e){this.getText(e).convertToList(e)},t.isCaptionFocused=function(){return this.wrappedSection&&this.wrappedSection.isCaptionFocused&&this.wrappedSection.isCaptionFocused()},t.checkNoWrappedCompSelected=function(){return!this.getPrevUnit().isFocused},t.checkFocusedOnQuot=function(){var e=this.getPrevUnit(),t="quotation"===e.ctype,o=e.isFocused;return t&&o},h()(o,[{key:"textLength",get:function(){return"quotation"===this.wrappedSection.ctype?this.text.textLength+this.wrappedSection.textLength:this.text.textLength}},{key:"isBlockSelected",get:function(){return"block"===this.selection}},{key:"translationEnabled",get:function(){return"none"!==this.text.selection||this.wrappedSection&&this.wrappedSection.translationEnabled}}]),o}(Object(w.W)(Object(w.Z)(w.j))),r=_()(n.prototype,"layout",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=_()(n.prototype,"phase",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.N.DONE}}),a=_()(n.prototype,"wrappedSection",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=_()(n.prototype,"text",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_()(n.prototype,"textLength",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"textLength"),n.prototype),_()(n.prototype,"isBlockSelected",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"isBlockSelected"),n.prototype),n);x.ctype="wrappingParagraph";var D=x;t.a=D,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/store/index.js",localName:t}})}catch(e){}}e(E,"wrappedSectionAttributes"),e(N,"wrappedTextAttributes"),e(x,"WrappingParagraphComponentStore"),e(D,"default")}()},274:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={DEFAULT:"default"},r={LEFT:"left",CENTER:"center",RIGHT:"right"},i={FileLayout:n,FileAlign:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"FileLayout"),e(r,"FileAlign"),e(i,"default")}()},28:function(e,t,o){"use strict";o.d(t,"a",function(){return z}),o.d(t,"b",function(){return G});var n=o(1),r=o.n(n),i=o(0),a=o.n(i),s=o(23),c=o(16),l=function(){function e(){}return e.setConfig=function(e){this.config=e},e.getConfig=function(){return this.config},e.help=function(){return" Web SDK   - https://pages.oss.navercorp.com/SE3/SE-Guide/web-reference-book/"},e.set=function(e,t){Object(s.a)(this.config,e,t)},e.get=function(e,t){Object(c.a)(this.config,e,t)},e}();l.config={};var u=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"appCode",set:function(e){this.set("appCode",e)},get:function(){return"  "}},{key:"containerElement",set:function(e){this.set("containerElement",e)},get:function(){return"HTMLElement       ."}},{key:"token",set:function(e){this.set("token",e)},get:function(){return"          ."}},{key:"document",set:function(e){this.set("document",e)},get:function(){return"        ."}},{key:"productConfig",get:function(){return p}},{key:"infraConfig",get:function(){return d}},{key:"modules",get:function(){return"   ( , ,   )     ."}},{key:"plugins",get:function(){return I}},{key:"interceptor",get:function(){return w}}]),t}(l),p=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"language",set:function(e){this.set("productConfig.language",e)},get:function(){return R}},{key:"panelType",set:function(e){this.set("productConfig.panelType",e)},get:function(){return M}},{key:"captionEnabledComponents",set:function(e){this.set("productConfig.captionEnabledComponents",e)},get:function(){return F}},{key:"captionEnabled",set:function(e){this.set("productConfig.captionEnabled",e)},get:function(){return"    "}},{key:"defaultDocument",get:function(){return h}},{key:"domains",get:function(){return f}},{key:"font",get:function(){return g}},{key:"quotation",get:function(){return y}},{key:"horizontalLine",get:function(){return b}},{key:"documentToolbar",get:function(){return m}},{key:"insertMenu",set:function(e){this.set("productConfig.insertMenu",e)},get:function(){return"        ."}},{key:"contextToolbar",set:function(e){this.set("productConfig.contextToolbar",e)},get:function(){return"        ."}},{key:"propertyToolbar",set:function(e){this.set("productConfig.propertyToolbar",e)},get:function(){return"        ."}},{key:"textToolbar",set:function(e){this.set("productConfig.textToolbar",e)},get:function(){return"        ."}},{key:"contextMenu",get:function(){return _}},{key:"searchPanel",get:function(){return v}},{key:"templatePanel",get:function(){return C}},{key:"libraryPanel",get:function(){return S}},{key:"documentWidth",set:function(e){this.set("productConfig.documentWidth",e)},get:function(){return"      .        ."}},{key:"representativeEnabled",set:function(e){this.set("productConfig.representativeEnabled",e)},get:function(){return"  /        ."}},{key:"messageBundle",get:function(){return" UI        ."}},{key:"userDefinedStyle",get:function(){return"   ."}}]),t}(l),d=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"image",get:function(){return"       ."}},{key:"video",get:function(){return"       ."}}]),t}(l),h=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"components",set:function(e){this.set("productConfig.defaultDocument.components",e)},get:function(){return V}}]),t}(l),f=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"editor",set:function(e){this.set("productConfig.domains.editor",e)},get:function(){return"API "}},{key:"dthumb",set:function(e){this.set("productConfig.domains.dthumb",e)},get:function(){return"API "}}]),t}(l),m=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"documentToolbar",set:function(e){this.set("productConfig.documentToolbar.buttonSet",e)},get:function(){return z}}]),t}(l),g=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"fontFamilySet",set:function(e){this.set("productConfig.font.fontFamilySet",e)},get:function(){return H}},{key:"additionalFontFamily",set:function(e){this.set("productConfig.font.additionalFontFamily",e)},get:function(){return""}}]),t}(l),y=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"layouts",set:function(e){this.set("productConfig.quotation.layouts",e)},get:function(){return B}},{key:"useDefault",set:function(e){this.set("productConfig.quotation.useBasicButton",e)}}]),t}(l),b=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"layouts",set:function(e){this.set("productConfig.horizontalLine.layouts",e)},get:function(){return U}},{key:"useDefault",set:function(e){this.set("productConfig.quotation.useBasicButton",e)}}]),t}(l),_=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"exclude",set:function(e){this.set("productConfig.contextMenu.exclude",e)},get:function(){return q}}]),t}(l),v=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"activate",get:function(){return W},set:function(e){this.set("productConfig.searchPanel.activate",e)}},{key:"photo",get:function(){return O}},{key:"book",set:function(e){this.set("productConfig.searchPanel.book",e)},get:function(){return"   "}},{key:"movie",set:function(e){this.set("productConfig.searchPanel.movie",e)},get:function(){return"   "}},{key:"broadcast",set:function(e){this.set("productConfig.searchPanel.broadcast",e)},get:function(){return"   "}},{key:"music",set:function(e){this.set("productConfig.searchPanel.music",e)},get:function(){return"   "}},{key:"show",set:function(e){this.set("productConfig.searchPanel.show",e)},get:function(){return"/   "}},{key:"shopping",set:function(e){this.set("productConfig.searchPanel.shopping",e)},get:function(){return"   "}},{key:"news",set:function(e){this.set("productConfig.searchPanel.news",e)},get:function(){return"   "}}]),t}(l),C=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"recommend",set:function(e){this.set("productConfig.templatePanel.recommend",e)},get:function(){return"   "}},{key:"part",set:function(e){this.set("productConfig.templatePanel.part",e)},get:function(){return"   "}},{key:"my",set:function(e){this.set("productConfig.templatePanel.my",e)},get:function(){return"   "}}]),t}(l),O=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"CCLBanner",set:function(e){this.set("productConfig.searchPanel.photo.CCLBanner",e)},get:function(){return"     "}},{key:"OGQBanner",set:function(e){this.set("productConfig.searchPanel.photo.OGQBanner",e)},get:function(){return"OGQ    "}}]),t}(l),S=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"purchase",set:function(e){this.set("productConfig.libraryPanel.purchase",e)},get:function(){return k}},{key:"autoPopup",set:function(e){this.set("productConfig.libraryPanel.autoPopup",e)},get:function(){return G}}]),t}(l),k=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"banner",set:function(e){this.set("productConfig.libraryPanel.purchase.banner",e)},get:function(){return"    "}}]),t}(l),I=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"componentSettings",get:function(){return T}},{key:"excludeComponents",set:function(e){this.set("plugins.excludeComponents",e)},get:function(){return L}},{key:"customComponents",get:function(){return""}}]),t}(l),w=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"before",set:function(e){this.set("interceptor.before",e)},get:function(){return"AJAX   "}},{key:"after",set:function(e){this.set("interceptor.after",e)},get:function(){return"AJAX   "}}]),t}(l),P=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"contentMode",get:function(){return J}},{key:"config",set:function(e){this.set("plugin.componentSettings.image.config.contentMode",e)}}]),t}(l),j=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"config",get:function(){return P},set:function(e){this.set("plugin.componentSettings.image.config",e)}}]),t}(l),T=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"image",get:function(){return j},set:function(e){this.set("plugin.componentSettings.image",e)}}]),t}(l),L=Object.freeze({AUDIO:"audio",CODE:"code",DOCUMENT_TITLE:"documentTitle",FILE:"file",FORMULA:"formula",HORIZONTAL_LINE:"horizontalLine",IMAGE:"image",IMAGE_GROUP:"imageGroup",IMAGE_STRIP:"imageStrip",MAP:"map",MATERIAL:"material",OEMBED:"oembed",OGLINK:"oglink",QUOTATION:"quotation",SCHEDULE:"schedule",SECTION_TITLE:"sectionTitle",STICKER:"sticker",TABLE:"table",TEXT:"text",VIDEO:"video",WRAPPING_PARAGRAPH:"wrappingParagraph"}),E=Object.freeze({IMAGE_RESIZING:"image-resizing",IMAGE_EDIT:"image-edit",ALIGN:"align",CONTENT_MODE:"content-mode",WRAPPING_LAYOUT:"wrapping-layout",IMAGE_LINK:"image-link",INLINE_IMAGE:"inline-image",SEPARATOR_BAR:"separator-bar"}),N=Object.freeze({TEXT_FORMAT:"text-format",FONT_SIZE:"font-size",BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",FONT_COLOR:"font-color",SEPARATOR_BAR:"separator-bar"}),x=Object.freeze({TEXT_FORMAT:"text-format",FONT_FAMILY:"font-family",FONT_SIZE:"font-size",BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",STRIKETHROUGH:"strikethrough",FONT_COLOR:"font-color",BACKGROUND_COLOR:"background-color",ALIGN_DROP_DOWN_WITH_JUSTIFY:"align-drop-down-with-justify",LINE_HEIGHT:"line-height",DROP_CAP:"drop-cap",SUPERSCRIPT:"superscript",SUBSCRIPT:"subscript",SPECIAL_LETTER:"special-letter",TEXT_LINK:"text-link",SPELLER:"speller",SEPARATOR_BAR:"separator-bar"}),D=Object.freeze({ALLOWED:"ALLOWED",NOT_ALLOWED:"NOT_ALLOWED"}),R=Object.freeze({KO_KR:"ko-KR",EN_US:"en-US",ID_ID:"id-ID",FR_FR:"fr-FR",ES_ES:"es-ES",VI_VN:"vi-VN",ZH_CN:"zh-CN",ZH_TW:"zh-TW",JA_JP:"ja-JP"}),A=Object.freeze({FULL_SCREEN:"fullscreen",EMBED:"embed"}),M=Object.freeze({POPUP:"popup",SIDEBAR:"sidebar"}),B=Object.freeze({DEFAULT:"default",LINE:"quotation_line",BUBBLE:"quotation_bubble",UNDERLINE:"quotation_underline",POSTIT:"quotation_postit",CORNER:"quotation_corner"}),U=Object.freeze({DEFAULT:"default",LINE1:"line1",LINE2:"line2",LINE3:"line3",LINE4:"line4",LINE5:"line5",LINE6:"line6",LINE7:"line7"}),V=Object.freeze({DOCUMENT_TITLE:"documentTitle",TEXT:"text"}),F=Object.freeze({IMGAE:"image",IMAGE_STRIP:"imageStrip",IMAGE_GROUP:"imageGroup",VIDEO:"video"}),z=Object.freeze({TEXT_FORMAT:"text-format-drop-down",IMAGE:"image",SOCIAL_IMAGE:"social-media-image",VIDEO:"video",AUDIO:"audio",QUOTATION:"quotation",HORIZONTAL_LINE:"horizontal-line",MAP:"map",FILE:"file",OGLINK:"oglink",TABLE:"table",SEARCH:"search",LIBRARY:"library",MOMENT:"moment",TEMPLATE:"template",SCHEDULE:"schedule",CODE:"code",STICKER:"sticker",FORMULA:"formula",SEPARATOR_BAR:"separator-bar",TEXT:"text-toolbar",ALIGN:"align",TALKTALK:"talktalk"}),W=Object.freeze({PHOTO:"photo",BOOK:"book",MOVIE:"movie",BROADCAST:"broadcast",SHOW:"show",MUSIC:"music",SHOPPING:"shopping",NEWS:"news"}),G=Object.freeze({DEFAULT:"default",ACTIVE:"active",INACTIVE:"inactive"}),H=Object.freeze({SYSTEM:"system",NANUMGOTHIC:"nanumgothic",NANUMMYEONGJO:"nanummyeongjo",NANUMBARUNGOTHIC:"nanumbarungothic",NANUMSQURE:"nanumsquare"}),q=Object.freeze({CUT:"cut",COPY:"copy",PASTE:"paste",SELECT_ALL:"selectAll",SAVE_AS:"saveAs",DELETE:"delete",UNDO:"undo",REDO:"redo"}),J=Object.freeze({NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"}),K=u;t.c=K,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/consts/configuration.js",localName:t}})}catch(e){}}e(l,"AbstractConfiguration"),e(u,"Configuration"),e(p,"ProductConfig"),e(d,"InfraConfig"),e(h,"DefaultDocumentConfig"),e(f,"DomainsConfig"),e(m,"DocumentToolbarConfig"),e(g,"FontConfig"),e(y,"QuotationConfig"),e(b,"HorizontalLineConfig"),e(_,"ContextMenuConfig"),e(v,"SearchPanelConfig"),e(C,"TemplatePanelConfig"),e(O,"SearchPanelPhotoConfig"),e(S,"LibraryPanelConfig"),e(k,"LibraryPanelPurchaseConfig"),e(I,"PluginsConfig"),e(w,"Interceptor"),e(P,"ImageComponentSettingsConfig"),e(j,"ImageComponentSettings"),e(T,"ComponentSettings"),e(L,"COMPONENTS"),e(E,"PROPERTY_TOOLBAR_IMAGE_BUTTON_TYPES"),e(N,"PROPERTY_TOOLBAR_QUOTATION_BUTTON_TYPES"),e(x,"PROPERTY_TOOLBAR_TEXT_BUTTON_TYPES"),e(D,"FILTER_TEXT_STYLES"),e(R,"LANGUAGE"),e(A,"LAYOUT_TYPE"),e(M,"PANEL_TYPE"),e(B,"QUOTATION_LAYOUT"),e(U,"HORIZONTAL_LINE_LAYOUT"),e(V,"DEFAULT_COMPONENTS"),e(F,"CAPTION_AVAILABLE_COMPONENTS"),e(z,"DOCUMENT_TOOLBAR_BUTTON_TYPES"),e(W,"SEARCH_PANEL_LIST"),e(G,"LIBRARY_AUTO_POPUP_TYPE"),e(H,"FONT_FAMILY_NAMES"),e(q,"CONTEXT_MENU_BUTTON_TYPES"),e(J,"CONTENT_MODES"),e(K,"default")}()},281:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(17),a=o.n(i),s=o(60),c=o.n(s),l=o(1),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=o(49),g=o.n(m),y=(o(61),o(69)),b=o(16),_=o(750),v=o(67),C=o(1045),O=o(117),S=o(72),k=o(1044),I=o(671),w=o(110),P=o(106),j=o(153),T=o(77),L=o(64),E=o(152),N=o(748),x=o(97),D=o(101),R=o(50),A=o(975),M=o(1261),B=o(641),U=o(640),V=o(48),F=o(213),z=o(1043),W=o(185),G={createIndexMap:function(e){var t=[];return Object(z.a)(e.length,function(){t.push([])}),e.map(function(e,o){e.cells.map(function(e,n){for(var r=e.colSpan,i=e.rowSpan,a=0;a<r;a++)for(var s=0;s<i;s++){for(var c=n+a,l=o+s;t[l]&&t[l][c];)n++,c++;t[l]&&!t[l][c]&&(t[l][c]=e.id)}})}),t},getCellIdsByRowIndex:function(e,t){return Object(W.a)(e[t])||[]},getCellIdsByColumnIndex:function(e,t){var o=e.map(function(e){return e[t]});return Object(W.a)(o)},getCellIdsByColumnIndexList:function(e,t){var o=this,n=[];return Object(v.a)(t,function(t){n=n.concat(o.getCellIdsByColumnIndex(e,t))}),n},getSelectedIndex:function(e,t){var o=[],n=[];return Object(v.a)(e,function(e,r){Object(v.a)(e,function(e,i){t===e&&(o.push(r),n.push(i))})}),{rowIndexList:Object(W.a)(o),colIndexList:Object(W.a)(n)}},getFirstSelectedId:function(e,t){var o=this.getSelectedAllIndex(e,t),n=o.rowIndexList,r=o.colIndexList;return e[Object(O.a)(n)][Object(O.a)(r)]},getSelectedAllIndex:function(e,t){var o=this,n=[],r=[];return Object(v.a)(t,function(t){var i=o.getSelectedIndex(e,t);n=n.concat(i.rowIndexList),r=r.concat(i.colIndexList)}),n=this._sortAscending(Object(W.a)(n)),r=this._sortAscending(Object(W.a)(r)),{rowIndexList:n,colIndexList:r}},getSelectedIds:function(e,t){var o,n,r=this.getSelectedAllIndex(e,t),i=r.rowIndexList,a=r.colIndexList,s=[];for(o=Object(O.a)(i);o<=Object(S.a)(i);o++)for(n=Object(O.a)(a);n<=Object(S.a)(a);n++)s.push(e[o][n]);var c=Object(W.a)(s);return t.length!==c.length&&(s=this.getSelectedIds(e,c)),Object(W.a)(s)},getIndexByCellId:function(e,t){var o=[],n=[];return Object(v.a)(e,function(e,r){var i=e.indexOf(t);Object(v.a)(e,function(e,o){t===e&&n.push(o)}),i>-1&&o.push(r)}),{rowIndexList:Object(W.a)(o),colIndexList:Object(W.a)(n)}},getCellIdDiffRowWithDown:function(e,t){var o=t+1;if(o===e.length)return this.getCellIdsByRowIndex(e,t);var n=e[t],r=e[o],i=[];return Object(v.a)(r,function(e,t){var o=n[t];e!==o&&i.push(o)}),Object(W.a)(i)},getCellIdDiffColWithRight:function(e,t){var o=t+1;if(o===e[0].length)return this.getCellIdsByColumnIndex(e,t);var n=this.getCellIdsByColumnIndex(e,t),r=this.getCellIdsByColumnIndex(e,o),i=[];return Object(v.a)(n,function(e){r.indexOf(e)<0&&i.push(e)}),Object(W.a)(i)},_sortAscending:function(e){return e.sort(function(e,t){return e-t})}},H={TableSelectionFinder:G};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/table-selection-finder.js",localName:t}})}catch(e){}}e(G,"TableSelectionFinder"),e(H,"default")}();var q,J,K,Y,X,Q,Z,$,ee,te,oe=o(98),ne=o(191),re=(q=function(e){f()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).id="",o.ctype="tableCell",o.attributes={cursor:"query",selection:"query-with-trapped",insertion:"inline-image-allowed-append",drop:"object",paste:"query",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},o.defaultValueTextConfig={filterTextStyle:{backgroundColor:ne.b.NOT_ALLOWED,subscript:ne.b.NOT_ALLOWED,superscript:ne.b.NOT_ALLOWED,dropCap:ne.b.NOT_ALLOWED}},c()(o,"value",J,d()(o)),c()(o,"backgroundColor",K,d()(o)),c()(o,"colSpan",Y,d()(o)),c()(o,"rowSpan",X,d()(o)),c()(o,"width",Q,d()(o)),c()(o,"height",Z,d()(o)),c()(o,"borderInlineStyle",$,d()(o)),c()(o,"textAlign",ee,d()(o)),c()(o,"selection",te,d()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o.id=i.id||R.ab.generate(),o._configAgent=R.V.get("configAgent");var l=o._configAgent.get("plugins.componentSettings.table.config");o.value=o._createTextUnitStore(i.value,Object(L.a)({},o.defaultValueTextConfig,s.value),Object(b.a)(l,"value.textStyle",{})),o.backgroundColor=Object(b.a)(i,"backgroundColor",o.backgroundColor),o.colSpan=Object(b.a)(i,"colSpan",o.colSpan),o.rowSpan=Object(b.a)(i,"rowSpan",o.rowSpan),o.width=o.adjustCellWidth(Object(b.a)(i,"width",o.width)),o.height=Object(b.a)(i,"height",o.height);var u=Object(b.a)(i,"borderInlineStyle",o.borderInlineStyle);return o.borderInlineStyle=o._refineBorderStyle(u),o.textAlign=Object(b.a)(i,"textAlign",o.textAlign),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,value:this.value.toPlainJSON(),backgroundColor:this.backgroundColor,colSpan:this.colSpan,rowSpan:this.rowSpan,width:this.width,height:this.height,borderInlineStyle:this.borderInlineStyle,textAlign:this.textAlign}},t.clone=function(e){return this.getText().clone(e)},t.getParagraphById=function(e){return this.getText().getParagraphById(e)},t.isLinkNodeEdge=function(e){return this.getText().isLinkNodeEdge(e)},t.isImageNode=function(e){var t=this.getText().getNodeByPoint(e);return t&&t.isImageNode()},t.shouldAdjustWritePoint=function(e){return this.getText().shouldAdjustWritePoint(e)},t.adjustWritePointOnEdge=function(e){return this.getText().adjustWritePointOnEdge(e)},t.write=function(e,t,o){var n=this.getText().write(e,t,o);return this._refinePointUnitId(n)},t.writeEmoji=function(e,t){var o=this.getText().writeEmoji(e,t);return this._refinePointUnitId(o)},t.changeLink=function(e,t){var o=this,n=this.getText();return t.start.unitId=n.id,n.changeLink(this.checkProtocol(e),t).map(function(e){return e.unitId=o.id,e})},t.breakLine=function(e,t){return this.getText().breakLine(e,t)},t.erase=function(e,t){var o=this.getText().erase(e,t);return this._refineRangeUnitId(o)},t.refineSelection=function(e){var t=this.getText().refineSelection(e);return this._refineRangeUnitId(t)},t.updateWidth=function(e){this.width=this.adjustCellWidth(e)},t.updateHeight=function(e){this.height=e},t.updateStyle=function(e,t){var o=this.refineSelection(t),n=[];if(this._isParagraphStyle(e)){var r=this.getText().updateParagraphStyle(e,o);n.push(r.start,r.end)}else{var i=this.getText().updateCharacterStyle(e,o);n.push(i.start,i.end)}return n},t.updateWholeStyle=function(e){this._isParagraphStyle(e)?this.getText().updateWholeParagraphStyle(e):this.getText().updateWholeCharacterStyle(e)},t.createShellInlineImages=function(e,t){return this.getText().createImageNodes(e,t)},t.updateInlineImage=function(e,t){this.getText().updateImageNode(e,t)},t.deleteInlineImage=function(e){return this.getText().deleteImageNode(e)},t.updateBackgroundColor=function(e){this.backgroundColor=e},t.updateInlineStyle=function(e){this.borderInlineStyle=e},t.select=function(){this.selection="block"},t.selectAsBlock=function(e,t){this.selection="child",this.getText().selectAsBlock(e,t)},t.deselect=function(){this.selection="none",this.getText().deselect()},t.replaceValue=function(e){var t=this._createTextUnitStore(e.value,this.defaultValueTextConfig);this.value=t},t._createTextUnitStore=function(e,t,o){var n=t.filterTextStyle;return t.filterTextStyle=Object(y.a)(n,o),new M.a({state:e,config:t})},t._refineRangeUnitId=function(e){return e.start=this._refinePointUnitId(e.start),e.end=this._refinePointUnitId(e.end),e},t._refinePointUnitId=function(e){return e.unitId=this.id,e},t._isParagraphStyle=function(e){var t=Object.keys(e)[0];return R.K.includes(t)},t._refineBorderStyle=function(e){var t=B.a.convertInlineStyleToObject(e),o=B.a.adjustMinBorderWidth(t,"1px");return B.a.convertObjectToInlineStyle(o)},t.getText=function(){return this.value},t.getStartPoint=function(){return Object.assign(this.getText().getStartPoint(),{unitId:this.id})},t.getEndPoint=function(){return Object.assign(this.getText().getEndPoint(),{unitId:this.id})},t.getPositionByPoint=function(e){return this.getText().getPositionByPoint(e)},t.collectStyle=function(e){return this.getText().collectStyle(e)},t.isEmpty=function(){return this.getText().isEmpty()},t.mergeWith=function(e,t){var o=this.getText().mergeWith(e,{mergePoint:t,isAttach:!0});return o.start.unitId=this.id,o.end.unitId=this.id,o},t.isEmptyTextNode=function(e){return this.getText().isEmptyTextNode(e)},t.isLibraryComponent=function(){return this.getText().isLibraryComponent()},t.getLibraryItemData=function(e){var t=e.compId;return this.getText().getLibraryItemData({compId:t,unitId:this.id})},t.refineParagraphWithPoint=function(e){return this.getText().refineParagraphWithPoint(e)},t.isRepresentativeImage=function(){return this.getText().isRepresentativeImage()},t.hasRepresentativeImage=function(){return this.getText().hasRepresentativeImage()},t.setRepresentativeImage=function(e,t){return this.getText().setRepresentativeImage(e,t)},t.setDefaultRepresentativeImage=function(){return this.getText().setDefaultRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=this.getText().getRepresentativeId();return Object(T.a)(t,function(t){return""+e.id+t})},t.getRepresentativeInnerData=function(){return this.getText().getRepresentativeInnerData()},t.releaseRepresentativeImage=function(e){this.getText().releaseRepresentativeImage(e)},t.putCursor=function(e){this.selection="child",this.getText().putCursor(e)},t.adjustCellWidth=function(e){return e>100?100:e<=0?1:e},u()(o,[{key:"isSelected",get:function(){return"block"===this.selection}}]),o}(Object(R.X)(R.w)),J=g()(q.prototype,"value",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=g()(q.prototype,"backgroundColor",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=g()(q.prototype,"colSpan",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),X=g()(q.prototype,"rowSpan",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q=g()(q.prototype,"width",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 33.33}}),Z=g()(q.prototype,"height",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 43}}),$=g()(q.prototype,"borderInlineStyle",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ee=g()(q.prototype,"textAlign",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"left"}}),te=g()(q.prototype,"selection",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),g()(q.prototype,"isSelected",[V.e],Object.getOwnPropertyDescriptor(q.prototype,"isSelected"),q.prototype),q);re.schema={id:A.a.string.isRequired,ctype:A.a.string.isRequired,borderInlineStyle:A.a.string,colSpan:A.a.number.isRequired,rowSpan:A.a.number.isRequired,width:A.a.number.isRequired,height:A.a.number.isRequired,backgroundColor:A.a.string,value:A.a.textUnit};var ie,ae,se=re,ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/cell-store.js",localName:t}})}catch(e){}}e(re,"CellStore"),e(se,"default")}();var le=(ie=function(e){f()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).id="",o.ctype="tableRow",o.defaultFilterTextStyle={},c()(o,"cells",ae,d()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o._styleFilter=Object(P.a)(o.defaultFilterTextStyle,s.filterTextStyle),o.id=i.id||R.ab.generate(),o.cells=o._createCells(i.cells,s),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,cells:this.cells.map(function(e){return e.toPlainJSON()})}},t.cloneWithSelectedCell=function(){var e=Object(j.a)(this.cells,function(e){return e.isSelected}),t=[];return e.length&&e.forEach(function(e){t.push(e.toValidJSON())}),{ctype:"tableRow",cells:t}},t.pasteCells=function(e,t){for(var o=this.cells.length,n=0;n<o;n++){var r=t.cells[n];if(!r||!(e+n<o))break;this.cells[e+n].replaceValue(r)}},t.removeCellBy=function(e){return this.cells.remove(e)},t.insertCellToIndex=function(e,t){var o=r()({},t),n=new ce({state:o});return this.cells.splice(e,0,n),n.id},t.getAllCelIdInRow=function(){return Object(T.a)(this.cells,function(e){return e.id})},t.getCellIdsSelectedSingleRow=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&1===t.rowSpan&&e.push(t.id)}),e},t.getCellIdsSelectedMultiRow=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&t.rowSpan>1&&e.push(t.id)}),e},t.getCellIdsSelectedSingleCol=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&1===t.colSpan&&e.push(t.id)}),e},t.getCellIdsSelectedMultiCol=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&t.colSpan>1&&e.push(t.id)}),e},t.getSelectedCellIds=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&e.push(t.id)}),e},t.refreshWidthAllBy=function(e){this.cells.forEach(function(t){t.width=t.adjustCellWidth(parseFloat((t.width/e*100).toFixed(2)))})},t.getColIndexOf=function(e){var t=[].concat(e);return Object(oe.a)(this.cells,function(e){return t.indexOf(e.id)>-1})},t._createCells=function(e,t){return e?e.map(function(e){return new ce({state:e,config:t})}):[new ce({config:t}),new ce({config:t}),new ce({config:t})]},o}(R.w),ae=g()(ie.prototype,"cells",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie);le.schema={ctype:A.a.string.isRequired,cells:A.a.arrayOf(A.a.shape(ce.schema)).isRequired};var ue,pe,de,he,fe,me,ge,ye,be=le,_e=be;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/row-store.js",localName:t}})}catch(e){}}e(le,"RowStore"),e(be,"default")}();var ve=(ue=function(e){f()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"query",selection:"query",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"query"},c()(o,"layout",pe,d()(o)),c()(o,"width",de,d()(o)),c()(o,"columnCount",he,d()(o)),c()(o,"rows",fe,d()(o)),c()(o,"align",me,d()(o)),c()(o,"borderStyleName",ge,d()(o)),c()(o,"borderInlineStyle",ye,d()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o.attributes=Object(y.a)(o.attributes,s.attributes),o.layout=Object(b.a)(i,"layout",o.layout),o.borderStyleName=Object(b.a)(i,"borderStyleName",o.borderStyleName),o.width=Object(b.a)(i,"width",o.width),o.columnCount=Object(b.a)(i,"columnCount",o.columnCount),o._configAgent=R.V.get("configAgent");var l=Object(b.a)(i,"borderInlineStyle",o.borderInlineStyle);return o.borderInlineStyle=o._refineBorderStyle(l),o.rows=Object(b.a)(i,"rows",o.rows),o.align=Object(b.a)(i,"align",o.align),i.rows&&0!==i.rows.length?o.rows=o._createRowStores(i.rows):o.rows=[new _e,new _e,new _e],o._updateTableMap(),o._refreshCellWidthAll(),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,width:this.width,columnCount:this.columnCount,rows:this.rows.map(function(e){return e.toPlainJSON()}),align:this.align,borderStyleName:this.borderStyleName,borderInlineStyle:this.borderInlineStyle}},t.writeText=function(e,t){return this.getCurrentTargetCell(e).writeText(e,t)},t.breakLine=function(e,t){var o=this.getCurrentTargetCell({focus:e});return o.getParagraphById(e.paraId)?o.breakLine(e,t):e},t.queryErasure=function(e,t){var o=this.selectedState,n=o.isRowSelectedAll,r=o.isColSelectedAll,i=n&&r;return!i&&(n||r)?{result:"replace",range:this.deleteCell(),component:this}:!i&&this._isFocusedOnText(e)?{result:"replace",range:this.getCurrentTargetCell(e).erase(e,t),component:this}:i||this.isSelectedComponent?{result:"self",range:null,component:null}:{result:null,range:{start:e.start,end:e.end},component:this}},t.querySelection=function(e){var t=e.direction,o=e.toPoint,n=e.anchor,r=e.focus,i=e.isShrink,a=void 0!==i&&i,s=e.eventType,c=[R.u.UP,R.u.LEFT].includes(t),l=[R.u.UP,R.u.DOWN].includes(t)&&"keydown"===s,u=[R.u.LEFT,R.u.RIGHT].includes(t)&&"keydown"===s,p=o.compId,d=o.unitId;if(this.isFocused&&this.hasUnit(r.unitId)){if(p===d||this.id!==p)return this._extendCellSelectionToEdge(c,n.unitId);if(this.id===p&&this.hasUnit(d)){var h=d;return l?h=this._getUpDownDestCellBy(t,r):u&&(h=this._getLeftRightDestCellBy(t,r)),this._resolveFocusAndAnchor(n.unitId,h)}return null}return this.id===p?a?{focus:c?this.getEndPoint():this.getStartPoint()}:{focus:c?this.getStartPoint():this.getEndPoint()}:null},t.queryCursor=function(e){var t,o=e.direction,n=e.toPoint,r=e.fromPoint,i="keydown"===e.eventType,a=[R.u.UP,R.u.LEFT].includes(o),s=this.selectedCellIds.length>0,c=this.hasUnit(r.unitId);if(i&&s){var l=Object(O.a)(this.selectedCellIds),u=Object(S.a)(this.selectedCellIds);return(t=a?this.getCellById(l):this.getCellById(u))?(n=a?this._getCellStartPonit(t):this._getCellEndPonit(t),this._deselectCells(),{type:"range",range:{start:n,end:n}}):{type:"range",range:null}}this._deselectCells();var p=[R.u.LEFT,R.u.RIGHT].includes(o);if(i&&p){var d=o===R.u.LEFT;return(t=d?this.getPrevCell(r):this.getNextCell(r))?{type:"range",range:{start:n=d?this._getCellEndPonit(t):this._getCellStartPonit(t),end:n}}:{type:"range",range:null}}if(this.id===n.unitId&&!i)return{type:"range",range:{start:this.getStartPoint(),end:this.getEndPoint()}};if(c&&i){if(o===R.u.UP)return this._getUpCell(r);if(o===R.u.DOWN)return this._getDownCell(r)}return{type:"range",range:null}},t.updateTheme=function(t,o){if(e.prototype.updateTheme.call(this,t,o),this.themeStyle&&this.themeStyle[this.layout]){var n=this.themeStyle[this.layout].value;this.getTextUnits().forEach(function(e){e.updateTheme(n)})}},t.updateProperty=function(e,t){var o=e.layout,n=e.resizing,r=e.tableBorder,i=e.link,s=e.cellBackgroundColor,c=e.cellWidth,l=e.cellHeight,u=a()(e,["layout","resizing","tableBorder","link","cellBackgroundColor","cellWidth","cellHeight"]);if(!(Object(_.a)(e)<1)){if(o&&this.changeLayout(o),n&&this.changeTableWidth(n),r&&this.changeTableBorderStyle(r),"string"==typeof s&&this.changeCellsBackgroundColor(s,t),c&&this.changeCellWidth(c.id,c.widthToAdd),l&&this.changeCellHeight(l.id,l.heightToAdd),Object(D.a)(this,u),i)return this.changeLink(i,t);if(this.selectedCellCount>0)return[this._collapsedToStart()]}},t.updateStyle=function(e,t){var o=e.tableAlign,n=e.align,r=this.selectedCellCount>0,i="block"===this.selection&&!1===this._isFocusedOnText(t);if(o)return this.changeAlign(o);if(r)return this.changeCellsTextStyle(this.selectedCellIds,e),[];if(i)return n&&this.changeAlign(n),this.changeCellsTextStyle(this.getAllCellIds(),e),Object(E.a)(this.getComponentActiveRange());if(this.isSelectedComponent)return this.changeCellsTextStyle(this.getAllCellIds(),e),[this.getCompEndRange()];var a=this.getCurrentTargetCell(t);return a&&a.updateStyle(e,t)},t.changeLink=function(e,t){return this.getCurrentTargetCell(t).changeLink(e,t)},t.changeTableWidth=function(e){this.width=e},t.changeAlign=function(e){if(this.align=e,this.selectedCellCount>0)return[this._collapsedToStart()]},t.changeCellsTextStyle=function(e,t){var o=this;Object(v.a)(e,function(e){o.getCellById(e).updateWholeStyle(t)})},t.changeLayout=function(e){this.layout=e,this.updateTheme(),this._removeBorderStyle()},t.changeTableBorderStyle=function(e){var t=e.borderStyle,o=" border-color: "+(e.color||"rgb(210, 210, 210)")+";",n=F.c[t].tableStyle||"",r=F.c[t].columnStyle||"";this.borderStyleName=t,this.borderInlineStyle=n+o,this._updateCellsStyle(r+o)},t.changeCellsBackgroundColor=function(e,t){var o=this,n=this.selectedCellIds.length>0;if(!n&&!this.isSelectedComponent)return this.getCurrentTargetCell(t).updateBackgroundColor(e);var r=n?this.selectedCellIds:this.getAllCellIds();Object(v.a)(r,function(t){o.getCellById(t).updateBackgroundColor(e)})},t.changeViewMode=function(){this._deselectCells()},t.selectCells=function(e){var t=G.getSelectedIds(this._indexMap,e);this._selectCells(t)},t.selectAll=function(){var e=this.getAllCellIds();return this.selectCells(e),this._resolveFocusAndAnchor(Object(O.a)(e),Object(S.a)(e))},t.selectRowByIds=function(e){var t=G.getSelectedAllIndex(this._indexMap,e).rowIndexList,o=G.getCellIdsByRowIndex(this._indexMap,t[0]);return this._deselectCells(),this.selectCells(o),this._resolveFocusAndAnchor(Object(O.a)(o),Object(S.a)(o))},t.insertRowById=function(e){var t=G.getIndexByCellId(this._indexMap,e).rowIndexList,o=Object(S.a)(t),n=G.getCellIdDiffRowWithDown(this._indexMap,o),r=this._insertRow(n,o);return this.updateTheme(),r},t.insertColumnById=function(e){var t=G.getIndexByCellId(this._indexMap,e).colIndexList,o=Object(S.a)(t),n=G.getCellIdDiffColWithRight(this._indexMap,o),r=this._insertColumn(n,o);return this.updateTheme(),r},t.selectColByIds=function(e){var t=G.getSelectedAllIndex(this._indexMap,e).colIndexList,o=G.getCellIdsByColumnIndexList(this._indexMap,t);return this._deselectCells(),this.selectCells(o),this._resolveFocusAndAnchor(Object(O.a)(o),Object(S.a)(o))},t.mergeCells=function(){var e=this.selectedCellIds,t=e[0],o=this.getCellById(t),n=Object(k.a)(e),r=G.getSelectedAllIndex(this._indexMap,e),i=r.rowIndexList,a=r.colIndexList,s=this._getCellSizeByIndex(i[0],a[0]),c=s.width,l=s.height;o.colSpan=a.length,o.rowSpan=i.length,o.height=l,o.width=c;var u=this._mergeText(o,n);this._deselectCells();var p=this._removeCells(n);return this._reduceRowSpanAtRowIndex(p,i[0]),this._updateTableMap(),this.selectCells([t]),u},t.splitRowCells=function(){var e=this._addRowSingleCells();this._updateTableMap();var t=this._splitMultiRowCells();this._updateTableMap();var o=e.concat(t);this.selectCells(o),this.updateTheme()},t.splitColumnCells=function(){var e=this,t=[];G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList.forEach(function(o){var n=e.rows[o].getCellIdsSelectedSingleCol(),r=e.rows[o].getCellIdsSelectedMultiCol(),i=e._splitSingleColumnCells(o,n);e._updateTableMap();var a=e._splitMultiColumnCells(o,r);e._updateTableMap(),t=t.concat(i,a)}),this.selectCells(t),this.updateTheme()},t.deleteCell=function(){return this.selectedState.isRowSelectedAll?this._removeSelectedRows():this._removeCells(this.selectedCellIds),this._deselectCells(),this._updateTableMap(),this._refreshCellWidthAll(),{start:this.getStartPoint(),end:this.getEndPoint()}},t.changeCellWidth=function(e,t){var o=G.getIndexByCellId(this._indexMap,e).colIndexList,n=Object(S.a)(o),r=G.getCellIdDiffColWithRight(this._indexMap,n),i=this._indexMap[0].length===n+1;if(t=this._parseFloatToFixedSecondDecimal(t),i){var a=this.width+this.width*(t/100);(a=Math.min(a,100))>0&&(this.changeTableWidth(a),this._refreshCellWidthAll())}else{var s=G.getCellIdDiffColWithRight(this._indexMap,n+1),c=this.getCellById(s[0]),l=this.getCellById(r[0]);if(!c)return;var u=c.width-t<=0,p=l&&l.width+t<0;if(u||p)return!1;this._updateCellsWidth(r,t),this._updateCellsWidth(s,-1*t)}},t.changeCellHeight=function(e,t){var o=this,n=G.getIndexByCellId(this._indexMap,e).rowIndexList,r=Object(S.a)(n),i=G.getCellIdDiffRowWithDown(this._indexMap,r),a=this.getCellById(i[0]);a&&a.height+t<0||Object(v.a)(i,function(e){var n=o.getCellById(e);n&&n.updateHeight(n.height+t)})},t.adjustToEqualWidth=function(){var e=this;this.selectColByIds(this.selectedCellIds);var t=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).colIndexList,o=this._getTotalWidthBy(0,!0);Object(v.a)(this.selectedCellIds,function(n){var r=e.getCellById(n),i=e._parseFloatToFixedSecondDecimal(r.colSpan/t.length*o);r.updateWidth(i)}),this._refreshCellWidthAll()},t.merge=function(e,t){var o=this,n=Object(O.a)(e);if(1===e.length&&"table"===n.ctype){var r=this.cellIdOfTopLeftInSelected||this.getCurrentTargetCell({focus:t}).id,i=G.getIndexByCellId(this._indexMap,r),a=i.rowIndexList,s=i.colIndexList,c=Object(O.a)(s),l=Object(O.a)(a),u=Object(I.a)(this.rows,l),p=n.toValidJSON(),d=this._filterRowsWithValue(p.rows);return Object(v.a)(u,function(e,t){var n=l+t,r=Object(I.a)(o._indexMap[n],c),i=e.getColIndexOf(r);if(i>-1){var a=d.shift();a&&e.pasteCells(i,a)}}),this.updateTheme(),{components:[this]}}return this._mergeOnlyText(e,t)},t.mergeWith=function(e){var t=this,o=this.cellIdOfTopLeftInSelected||this.getCurrentTargetCell().id,n=G.getIndexByCellId(this._indexMap,o),r=n.rowIndexList,i=n.colIndexList,a=Object(O.a)(i),s=Object(O.a)(r),c=Object(I.a)(this.rows,s),l=e.toValidJSON(),u=this._filterRowsWithValue(l.rows);Object(v.a)(c,function(e,o){var n=s+o,r=Object(I.a)(t._indexMap[n],a),i=e.getColIndexOf(r);if(i>-1){var c=u.shift();c&&e.pasteCells(i,c)}})},t.clone=function(e){var t,o=this,n=this.selectedCellIds.length!==this._hashArray.getLength();if(this._isFocusedOnText(e)){var r=e.start;return this.getCellById(r.unitId).clone(e)}if(this.isCellSelected&&n){var i=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,a=this.toValidJSON(),s=[];Object(v.a)(i,function(e){var t=o.rows[e].cloneWithSelectedCell();t&&s.push(t)}),t=Object(P.a)(a,{rows:s})}else t=this.toValidJSON();return this._componentFactory.createComponentWithCompData(t)},t.getStoreById=function(e){if(e===this.id)return this;if(this.hasUnit(e)){var t=this.getCellById(e);return"block"===t.selection?this:t}return null},t.canBeListBySpace=function(e){return this._getTextUnit(e.start.unitId).canBeListBySpace(e)},t.convertToList=function(e){return this._getTextUnit(e.start.unitId).convertToList(e)},t._getTextUnit=function(e){return this.getCellById(e).value},t.getTextUnits=function(){var e=[];return this._hashArray.forEach(function(t){e.push(t.getText())}),e},t.filterOnlyTexts=function(){return this.getTextUnits().map(function(e){return e.filterOnlyTexts()})},t.updateConfig=function(){this.getTextUnits().forEach(function(e){e.updateConfig&&e.updateConfig()})},t.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o=this.borderInlineStyle,n=this.cellsCollectStyle(e),r=B.a.convertInlineStyleToObject(o,!0);return Object(L.a)({tableWidth:this.width,layout:this.layout,border:{style:this.borderStyleName||"thinLine",color:r.borderColor||"#d2d2d2"},tableAlign:t},n)},t.cellsCollectStyle=function(e){var t=this.selectedCellCount>0,o=this.getCurrentTargetCell(e),n={};return t?n=this._getCellsStyle(e,this.selectedCellIds):this.isSelectedComponent?n=this._getCellsStyle(e,this.getAllCellIds()):o&&(n=o.collectStyle(e)),n},t.getCellIdsOfMultiRowCells=function(){var e=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,t=this.rows.toJS(),o=[];return Object(v.a)(e,function(e){var n=t[e].getCellIdsSelectedMultiRow();o=Object(C.a)(o,n)}),o},t.createShellInlineImages=function(e,t){return this.getCellById(e.unitId).createShellInlineImages(e,t)},t.updateInlineImage=function(e,t){this.getCellById(e.unitId).updateInlineImage(e,t)},t.deleteInlineImage=function(e){var t=this.getCellById(e.unitId).deleteInlineImage(e);return r()({compId:this.id},t)},t.getEndCollapsedRange=function(e){var t=e.end;return this.hasUnit(t.unitId)?{start:t,end:t}:e},t.getSelectedCellIdsInFirstRow=function(){var e=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList;return 0===e.length?[]:this.rows[Object(O.a)(e)].getSelectedCellIds()},t.getSelectedCellIdsInLastRow=function(){var e=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList;return 0===e.length?[]:this.rows[Object(S.a)(e)].getSelectedCellIds()},t.refineSelection=function(e){var t=this.getCurrentTargetCell(e).refineSelection(e);return t.start.compId=this.id,t.end.compId=this.id,t},t.hasUnit=function(e){return this._hashArray.has(e)},t.getUnitStartPoint=function(){var e=this._hashArray.getDataByIndex(0);return this._getCellStartPonit(e)},t.getCurrentTargetCell=function(e){return this.getCellById(e.focus.unitId)},t.getAllCellIds=function(){return this._hashArray.getKeys()},t.getAllCellStores=function(){return this._hashArray.getDataList()},t.getFirstCell=function(){return this._hashArray.getFirst()},t.getLastCell=function(){return this._hashArray.getLast()},t.getCellById=function(e){return this._hashArray.getDataById(e)},t.getNextCellById=function(e){return this._hashArray.getNext(e)},t.getNextCell=function(e){return this._hashArray.getNext(e.unitId)},t.getPrevCell=function(e){return this._hashArray.getPrev(e.unitId)},t.getPositionByPoint=function(e){return this.getCellById(e.unitId).getPositionByPoint(e)},t.getRangeAfterInsert=function(){var e=this.getFirstCell(),t=Object.assign(e.getStartPoint(),{compId:this.id});return{start:t,end:t}},t.isLibraryComponent=function(){return this.getAllCellStores().some(function(e){return e.isLibraryComponent()})},t.getLibraryItemData=function(){var e=this,t=[];return this.getAllCellStores().forEach(function(o){t.push.apply(t,o.getLibraryItemData({compId:e.id}))}),t},t.isRepresentativeImage=function(){return this.getAllCellStores().some(function(e){return e.isRepresentativeImage()})},t.hasRepresentativeImage=function(){return this.getAllCellStores().some(function(e){return e.hasRepresentativeImage()})},t.releaseRepresentativeImage=function(e){this.getCellById(e.unitId).releaseRepresentativeImage(e)},t.setRepresentativeImage=function(e){var t=e.unitId,o=e.paraId,n=e.nodeId;t?this.getCellById(t).setRepresentativeImage(o,n):this.setDefaultRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=[];return this.getAllCellStores().forEach(function(o){o.getRepresentativeId().forEach(function(o){t.push(e.id+"|"+o)})}),t},t.getRepresentativeInnerData=function(){var e=Object(x.a)(this.getAllCellStores(),function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},t.setDefaultRepresentativeImage=function(){this.getAllCellStores().some(function(e){return!!e.isRepresentativeImage()&&(e.setDefaultRepresentativeImage(),!0)})},t.deselect=function(){this._deselect()},t.putCursor=function(e){this._changeSelectionToChild(),this.getCellById(e.unitId).putCursor(e)},t.selectAsSingle=function(e,t){e.unitId===this.id&&0===this.selectedCellIds.length?this._changeSelectionToSingle():(this._changeSelectionToChild(),this._changeCellSelection(e.unitId,t.unitId))},t.selectAsBlock=function(e,t){this._deselect(),this.getCellById(e.unitId)?(this._changeSelectionToChild(),this._selectCellsAsBlock(e,t)):this._changeSelectionToBlock()},t._selectCellsAsBlock=function(e,t){var o=this,n=G.getSelectedIds(this._indexMap,[e.unitId,t.unitId]);Object(v.a)(n,function(n){o.getCellById(n).selectAsBlock(e,t)})},t._filterRowsWithValue=function(e){return Object(j.a)(e,function(e){return e.cells.length>0})},t._updateCellsWidth=function(e,t){var o=this;Object(v.a)(e,function(e){var n=o.getCellById(e);n&&n.updateWidth(n.width+t)})},t._getCellSizeByIndex=function(e,t){var o=this._getTotalHeightBy(t,!0),n=this._getTotalWidthBy(e,!0);return{width:this._adjustCellWidth(n),height:o}},t._getTotalHeightBy=function(e,t){var o=this,n=G.getCellIdsByColumnIndex(this._indexMap,e),r=0;return Object(v.a)(n,function(e){var n=o.getCellById(e);(n&&n.isSelected||!t)&&(r=o._parseFloatToFixedSecondDecimal(r+n.height))}),r},t._getTotalWidthBy=function(e,t){var o=this,n=G.getCellIdsByRowIndex(this._indexMap,e),r=0;return Object(v.a)(n,function(e){var n=o.getCellById(e);!n.isSelected&&t||(r=o._parseFloatToFixedSecondDecimal(r+n.width))}),r},t._adjustCellWidth=function(e){return e>100?100:e<=0?1:e},t._insertRow=function(e,t){var o=t+1;this._deselectCells();var n=this._createRowBySingleCell(e);this.rows.splice(o,0,n);var r=n.getAllCelIdInRow();return this._updateTableMap(),this._updateUnSelectedAfterSplitRow(o,r),this._updateTableMap(),this.selectCells(r),this._resolveFocusAndAnchor(Object(O.a)(r),Object(S.a)(r))},t._insertColumn=function(e,t){var o=this;this._deselectCells();var n=this._getMinWidthByIds(e),r=Object(T.a)(e,function(e){return o._insertSingleColumnCell(e,n)});return this._widenColSpanByIndex(t,e,n),this._updateTableMap(),this.selectCells(r),this._refreshCellWidthAll(),this._resolveFocusAndAnchor(Object(O.a)(r),Object(S.a)(r))},t._splitSingleColumnCells=function(e,t){var o=this;return Object(T.a)(t,function(t){var n=o._splitSingleColumnCell(e,t);return o._updateColSpan(t),n})},t._splitMultiColumnCells=function(e,t){var o=this;return Object(T.a)(t,function(t){return o._splitMultiColumnCell(e,t)})},t._insertSingleColumnCell=function(e,t){if(e){var o=G.getIndexByCellId(this._indexMap,e).rowIndexList,n=Object(O.a)(o),r=this.getCellById(e),i=r.rowSpan,a=r.height,s=r.backgroundColor,c=r.textAlign,l=r.borderInlineStyle,u=this.rows[n].getColIndexOf(e)+1,p={rowSpan:i,width:t,height:a,backgroundColor:s,textAlign:c,borderInlineStyle:l};return this.rows[n].insertCellToIndex(u,p)}},t._splitSingleColumnCell=function(e,t){var o=this.getCellById(t),n=this.rows[e].getColIndexOf(t)+1,r=o.rowSpan,i=o.colSpan,a=o.width,s=o.height,c=o.backgroundColor,l=o.textAlign,u=o.borderInlineStyle,p=this._parseFloatToFixedSecondDecimal(o.width/2),d={width:p,rowSpan:r,colSpan:i,height:s,backgroundColor:c,textAlign:l,borderInlineStyle:u};return o.width=a-p,this.rows[e].insertCellToIndex(n,d)},t._splitMultiColumnCell=function(e,t){var o=this.getCellById(t),n=Math.ceil(o.colSpan/2),r=this.rows[e].getColIndexOf(t)+1,i=o.rowSpan,a=o.colSpan,s=o.width,c=o.height,l=o.backgroundColor,u=o.textAlign,p=o.borderInlineStyle,d=a-n,h=this._parseFloatToFixedSecondDecimal(s*(d/a)),f={width:h,colSpan:d,rowSpan:i,height:c,backgroundColor:l,textAlign:u,borderInlineStyle:p};return o.width=o.width-h,o.colSpan=n,this.rows[e].insertCellToIndex(r,f)},t._updateColSpan=function(e){var t=this;G.getSelectedIndex(this._indexMap,e).colIndexList.forEach(function(o){t._widenColSpanByIndex(o,[e])})},t._widenColSpanByIndex=function(e,t,o){var n=this;void 0===o&&(o=0);var r=G.getCellIdsByColumnIndex(this._indexMap,e);r.length<1||r.forEach(function(e){if(!(t.indexOf(e)>-1)&&e){var r=n.getCellById(e);r.colSpan=r.colSpan+1,r.width=r.width+o}})},t._updateTableMap=function(){this._hashArray=this._createCellHashArray(),this._indexMap=G.createIndexMap(this.rows),this._updateColumnCount()},t._updateColumnCount=function(){this.columnCount=this.rows.reduce(function(e,t){var o=t.cells.reduce(function(e,t){return e+(t.colSpan||1)},0);return o>e?o:e},1)},t._createCellHashArray=function(){var e=[];return this.rows.forEach(function(t){t.cells.forEach(function(t){e.push(t)})}),new U.a(e)},t._mergeText=function(e,t){var o=this,n={start:this._getRangeOfSingleSelectedCell(e.getStartPoint(),0),end:this._getRangeOfSingleSelectedCell(e.getEndPoint(),1)};return t.forEach(function(t){var n=o.getCellById(t).getText();n.isEmpty()||e.getText().mergeWith(n)}),n},t._mergeOnlyText=function(e,t){var o=new M.a;e.forEach(function(e){"text"===e.attributes.insertion&&o.mergeWith(e.getText())}),o.isEmpty()||o.removeFirstParagraph();var n=this.getCurrentTargetCell({focus:t}).mergeWith(o,t);return n.start.compId=this.id,n.end.compId=this.id,{components:[this],range:n}},t._getRangeOfSingleSelectedCell=function(e,t){var o={paraId:null,nodeId:null,offset:t};return r()({},e,o)},t._deselectCells=function(){this._hashArray.forEach(function(e){e.deselect()})},t._selectCells=function(e){var t=this;Object(v.a)(e,function(e){var o=t.getCellById(e);o&&o.select()})},t._getUpCell=function(e){for(var t=e.unitId,o=G.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)i-=1,a=this._indexMap[i]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellEndPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"prev-component",range:null}},t._getDownCell=function(e){for(var t=e.unitId,o=G.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)i+=1,a=this._indexMap[i]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellStartPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"next-component",range:null}},t._getLeftCell=function(e){for(var t=e.unitId,o=G.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)r-=1,a=this._indexMap[r]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellEndPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"prev-component",range:null}},t._getRightCell=function(e){for(var t=e.unitId,o=G.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)r+=1,a=this._indexMap[i]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellStartPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"next-component",range:null}},t._getUpDownDestCellBy=function(e,t){var o;if(e===R.u.UP){var n=this._getUpCell(t),r=n.type,i=n.range;o="range"===r?i.start.unitId:t.unitId}if(e===R.u.DOWN){var a=this._getDownCell(t),s=a.type,c=a.range;o="range"===s?c.start.unitId:t.unitId}return o},t._getLeftRightDestCellBy=function(e,t){var o;if(e===R.u.LEFT){var n=this._getLeftCell(t),r=n.type,i=n.range;o="range"===r?i.start.unitId:t.unitId}if(e===R.u.RIGHT){var a=this._getRightCell(t),s=a.type,c=a.range;o="range"===s?c.start.unitId:t.unitId}return o},t._collapsedToStart=function(){var e=Object(O.a)(this.selectedCellIds),t=this.getCellById(e);return this._deselectCells(),this._getCellStartPonit(t)},t._getCellStartPonit=function(e){return Object.assign(e.getStartPoint(),{compId:this.id})},t._getCellEndPonit=function(e){return Object.assign(e.getEndPoint(),{compId:this.id})},t._changeCellSelection=function(e,t){var o=[];e===t?o.push(t):o.push(e,t),this.selectCells(o)},t._extendCellSelectionToEdge=function(e,t){var o=e?this.getFirstCell().id:this.getLastCell().id;return this._deselectCells(),this.selectCells([t,o]),this._resolveFocusAndAnchor(t,o)},t._resolveFocusAndAnchor=function(e,t){var o=G.getIndexByCellId(this._indexMap,e),n=o.rowIndexList,r=o.colIndexList,i=G.getIndexByCellId(this._indexMap,t),a=i.rowIndexList,s=i.colIndexList,c=n[0]>a[0],l=n[0]===a[0]&&r[0]>s[0],u=c||l?1:0,p=c||l?0:1;return{anchor:{compId:this.id,unitId:e,paraId:null,nodeId:null,offset:u},focus:{compId:this.id,unitId:t,paraId:null,nodeId:null,offset:p}}},t._getCellsStyle=function(e,t){var o=this,n=t.map(function(t){return o.getCellById(t).collectStyle(e)});return B.a.mergeStyles(n)},t._createRowStores=function(e){return e.map(function(e){return new _e({state:e})})},t._addRowSingleCells=function(){var e=this,t=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,o=this.rows.toJS(),n=0,r=[];return Object(v.a)(t,function(t){var i=t+n+1,a=e._insertSingleRow(t,i,o);a&&(r=r.concat(a.getAllCelIdInRow()),e._updateUnSelectedAfterSplitRow(t,r),n++)}),r},t._insertSingleRow=function(e,t,o){var n=this._createRowBySelectedCell(o[e]);if(n)return this.rows.splice(t,0,n),n},t._refreshCellWidthAll=function(){var e=this._getTotalWidthBy(0,!1);Object(v.a)(this.rows,function(t){t.refreshWidthAllBy(e)})},t._getMinWidthByIds=function(e){var t,o=this;return Object(v.a)(e,function(e){if(e){var n=o.getCellById(e).width;(!t||t>n)&&(t=n)}}),t},t._splitMultiRowCells=function(){var e=this,t=this.getCellIdsOfMultiRowCells();return t.length<1?[]:Object(T.a)(t,function(t){var o=G.getSelectedIndex(e._indexMap,t).rowIndexList,n=e.getCellById(t),r=n.rowSpan,i=n.colSpan,a=n.width,s=n.height,c=n.backgroundColor,l=n.textAlign,u=n.borderInlineStyle,p=Math.ceil(r/2),d=e._parseFloatToFixedSecondDecimal(s*(p/r)),h={rowSpan:r-p,height:s-d,width:a,colSpan:i,backgroundColor:c,textAlign:l,borderInlineStyle:u};n.rowSpan=p,n.height=d;var f=Object(O.a)(o)+p,m=G.getCellIdsByRowIndex(e._indexMap,f).indexOf(t);return e.rows[f].insertCellToIndex(m,h)})},t._createRowBySingleCell=function(e,t){var o=this;if(e.length<1)return null;var n=[];return Object(v.a)(e,function(e){var r=o.getCellById(e),i=r.colSpan,a=r.width,s=r.height,c={colSpan:i,width:a,backgroundColor:r.backgroundColor,borderInlineStyle:r.borderInlineStyle,textAlign:r.textAlign};if(t){var l=o._parseFloatToFixedSecondDecimal(s/2);r.height=l,c.height=s-l}n.push(c)}),new _e({state:{cells:n}})},t._createRowBySelectedCell=function(e){var t=e.getCellIdsSelectedSingleRow();return this._createRowBySingleCell(t,!0)},t._updateUnSelectedAfterSplitRow=function(e,t){var o=this;G.getCellIdsByRowIndex(this._indexMap,e).map(function(e){var n=o.getCellById(e);(!n.isSelected&&!t.includes(n.id)||n.rowSpan>1)&&(n.rowSpan=n.rowSpan+1)})},t._removeSelectedRows=function(){var e=this,t=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,o=this.rows.toJS();Object(v.a)(t,function(t){e.rows.remove(o[t])})},t._removeCells=function(e){var t,o,n=this,r=0;return Object(N.a)(this.rows,function(i){for(var a=!0;a;)o||(t=e.pop(),o=n.getCellById(t)),(a=i.cells.remove(o))&&(o=null);0===i.getAllCelIdInRow().length&&(n.rows.remove(i),r++)}),r},t._updateCellsStyle=function(e){this._hashArray.forEach(function(t){t.updateInlineStyle(e)})},t._removeBorderStyle=function(){this.borderStyleName="",this.borderInlineStyle="",this._updateCellsStyle("")},t._isFocusedOnText=function(e){return this.hasUnit(e.focus.unitId)&&!!e.focus.paraId},t._parseFloatToFixedSecondDecimal=function(e){return parseFloat(e.toFixed(2))},t._deselect=function(){this._changeSelectionToNone(),this._deselectCells()},t._reduceRowSpanAtRowIndex=function(e,t){var o=this;e>0&&G.getCellIdsByRowIndex(this._indexMap,t).forEach(function(t){var n=o.getCellById(t);n.rowSpan=Math.max(n.rowSpan-e,1)})},t._refineBorderStyle=function(e){var t=B.a.convertInlineStyleToObject(e),o=B.a.adjustMinBorderWidth(t,"1px");return B.a.convertObjectToInlineStyle(o)},u()(o,[{key:"isSelectedComponent",get:function(){return Object(w.a)(["single","multi","block"],this.selection)}},{key:"isCellSelected",get:function(){return this.selectedCellIds.length>0||"child"===this.selection}},{key:"selectedCellIds",get:function(){var e=[];return this.rows.forEach(function(t){var o=t.getSelectedCellIds();e.push.apply(e,o)}),e}},{key:"selectedCellCount",get:function(){return this.isFocused&&this.selectedCellIds.length}},{key:"selectedState",get:function(){var e=G.getSelectedAllIndex(this._indexMap,this.selectedCellIds),t=e.rowIndexList,o=e.colIndexList;return{isRowSelectedAll:this._indexMap[0].length===o.length,isColSelectedAll:this._indexMap.length===t.length}}},{key:"isSelectedSingleColumnCell",get:function(){return 1===G.getSelectedAllIndex(this._indexMap,this.selectedCellIds).colIndexList.length}},{key:"cellIdOfTopRightInSelected",get:function(){return Object(S.a)(this.getSelectedCellIdsInFirstRow())}},{key:"cellIdOfTopLeftInSelected",get:function(){return Object(O.a)(this.getSelectedCellIdsInFirstRow())}},{key:"cellIdOfBottomRightInSelected",get:function(){return Object(S.a)(this.getSelectedCellIdsInLastRow())}},{key:"translationEnabled",get:function(){return!0}}]),o}(R.g),pe=g()(ue.prototype,"layout",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.d.DEFAULT}}),de=g()(ue.prototype,"width",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),he=g()(ue.prototype,"columnCount",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),fe=g()(ue.prototype,"rows",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),me=g()(ue.prototype,"align",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=g()(ue.prototype,"borderStyleName",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ye=g()(ue.prototype,"borderInlineStyle",[V.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g()(ue.prototype,"isSelectedComponent",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"isSelectedComponent"),ue.prototype),g()(ue.prototype,"isCellSelected",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"isCellSelected"),ue.prototype),g()(ue.prototype,"selectedCellIds",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"selectedCellIds"),ue.prototype),g()(ue.prototype,"selectedCellCount",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"selectedCellCount"),ue.prototype),g()(ue.prototype,"selectedState",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"selectedState"),ue.prototype),g()(ue.prototype,"isSelectedSingleColumnCell",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"isSelectedSingleColumnCell"),ue.prototype),g()(ue.prototype,"cellIdOfTopRightInSelected",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"cellIdOfTopRightInSelected"),ue.prototype),g()(ue.prototype,"cellIdOfTopLeftInSelected",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"cellIdOfTopLeftInSelected"),ue.prototype),g()(ue.prototype,"cellIdOfBottomRightInSelected",[V.e],Object.getOwnPropertyDescriptor(ue.prototype,"cellIdOfBottomRightInSelected"),ue.prototype),ue);ve.ctype="table",ve.schema={id:A.a.string.isRequired,ctype:A.a.string.isRequired,layout:A.a.string.isRequired,align:A.a.string,width:A.a.number.isRequired,rows:A.a.arrayOf(A.a.shape(_e.schema)).isRequired,columnCount:A.a.number.isRequired,borderStyleName:A.a.string,borderInlineStyle:A.a.string};var Ce=ve;t.a=Ce;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/index.js",localName:t}})}catch(e){}}e(ve,"TableComponentStore"),e(Ce,"default")}()},282:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b=o(17),_=o.n(b),v=o(59),C=o.n(v),O=o(60),S=o.n(O),k=o(1),I=o.n(k),w=o(57),P=o.n(w),j=o(0),T=o.n(j),L=o(49),E=o.n(L),N=(o(61),o(16)),x=o(106),D=o(182),R=o(183),A=o(154),M=o(126),B=o(748),U=o(67),V=o(105),F=o(117),z=o(171),W=o(102),G=o(152),H=o(97),q=o(640),J=o(507),K=o(641),Y=o(50),X=o(48),Q=o(167),Z=o(710),$=o(69),ee=o(975),te=o(191),oe=o(508),ne=Object(Y.Z)(Q.a),re=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="imageNode",S()(o,"link",r,P()(o)),S()(o,"src",i,P()(o)),S()(o,"internalResource",a,P()(o)),S()(o,"represent",s,P()(o)),S()(o,"domain",c,P()(o)),S()(o,"path",l,P()(o)),S()(o,"phase",u,P()(o)),S()(o,"width",p,P()(o)),S()(o,"height",d,P()(o)),S()(o,"fileSize",h,P()(o)),S()(o,"fileName",f,P()(o)),S()(o,"style",m,P()(o)),S()(o,"selection",g,P()(o)),S()(o,"representativeEnabled",y,P()(o));var n=t,b=n.state,_=void 0===b?{}:b,v=n.config,C=void 0===v?{}:v,O=Object(N.a)(_,"path",o.path);if(o.path=oe.a.getEncodeUrl(O),o._configAgent=Y.V.get("configAgent"),o.attributes=Object($.a)(o.attributes,C.attributes),o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.domain=Object(N.a)(C,"domain",o._configAgent.get("infraInfo.photoInfra.imageHost")),o.imageMinimumHeight=C.imageMinimumHeight||o._configAgent.get("editorInfo.imageMinimumHeight"),o.imageMinimumWidth=C.imageMinimumWidth||o._configAgent.get("editorInfo.imageMinimumWidth"),o.src=null===Object(N.a)(_,"src",o.src)?null:o._getValidSrc(Object(N.a)(_,"src",o.src)),o.internalResource=Object(N.a)(_,"internalResource",o.internalResource),o.width=Object(N.a)(_,"width",o.width)||0,o.height=Object(N.a)(_,"height",o.height)||0,o.updateConfig(),o.width&&o.height)o._resolveWidthAndHeight(o.width,o.height);else{delete _.contentMode;var k=new Image;k.onload=function(){o.width=k.width,o.height=k.height,o._resolveWidthAndHeight(o.width,o.height)},k.src=o.src}return o.fileSize=Object(N.a)(_,"fileSize",o.fileSize),o.fileName=Object(N.a)(_,"fileName",o.fileName),o.phase=o._resolveComponentPhase(_),o.selection=Object(N.a)(_,"selection",o.selection),o.represent=Object(N.a)(_,"represent",o.represent),o._resolveSrc(),o}T()(t,e);var o=t.prototype;return o._getValidSrc=function(e){var t=oe.a.isImageTag(e)?oe.a.getSrcFromImageTag(e):e;return/^data:image\/[a-zA-Z]*;base64,/.test(t)?t:oe.a.prependProtocol(oe.a.getEncodeUrl(t))},o._resolveWidthAndHeight=function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height);var o=e,n=t;if(o>this.documentWidth){var r=this.documentWidth/e;o=this.documentWidth,n=Math.floor(t*r)}this._updateSize(o,n)},o._updateSize=function(e,t){this.width=Math.floor(e),this.height=Math.floor(t)},o.updateImageNode=function(e){this.src=Object(N.a)(e,"src",this.src),this.height=Object(N.a)(e,"height",this.height),this.width=Object(N.a)(e,"width",this.width),this.path=Object(N.a)(e,"path",this.path),this.phase=Object(N.a)(e,"phase",this.phase),this.fileSize=Object(N.a)(e,"fileSize",this.fileSize),this.fileName=Object(N.a)(e,"fileName",this.fileName),this._resolveSrc()},o.getRepresentativeImageURL=function(){return""+this.domain+this.path},o.getRepresentativeInnerData=function(){return this.toValidJSON()},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},o.isRepresentativeImage=function(){return e.prototype.isRepresentativeImage.call(this)&&!this.isSmallerThanMinimumSize(this.width,this.height)},o.isSmallerThanMinimumSize=function(e,t){var o=e<this.imageMinimumWidth,n=t<this.imageMinimumHeight;return o||n},o._resolveSrc=function(){var e=this.domain,t=this.path,o=this.internalResource;if(!t||!1===o)return this;var n=this.thumbnailType||"w1000";this.src=""+e+t+"?type="+n},o._resolveComponentPhase=function(e){if(!Object(N.a)(e,"internalResource"))return Y.N.DONE;var t=Object(N.a)(e,"src"),o=Object(N.a)(e,"width"),n=Object(N.a)(e,"height"),r=Object(N.a)(e,"phase",Y.N.EMPTY);return t&&o&&n?Y.N.DONE:r},o.isLibraryComponent=function(){return!0===this.internalResource},o.getLibraryItemData=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=this.toValidJSON(),i=Object.assign(r,{id:o,paraId:n,nodeId:this.id,link:Object(N.a)(this.link,"url","")});return{id:t,key:""+this.domain+this.path,thumbnail:this.src,data:i}},o.isImageNode=function(){return!0},o.isEmpty=function(){return""===this.src},o.isMergeable=function(){return!1},o.getStartPoint=function(){return{nodeId:this.id,offset:0}},o.getEndPoint=function(){return{nodeId:this.id,offset:1}},o.getPositionByOffset=function(e){return 0===e?te.d.NODE_START:te.d.NODE_END},o.getUrlInNode=function(){return null},o.getNodeLength=function(){return 1},o.cloneNode=function(){var e=this.toValidJSON();return e.themeStyle=this.themeStyle.toJSON(),new t({state:e})},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,src:this.src,style:X.f.toJS(this.style),link:X.f.toJS(this.link),internalResource:this.internalResource,represent:this.represent,path:this.path,domain:this.domain,width:this.width,height:this.height,fileName:this.fileName,fileSize:this.fileSize,phase:this.phase,themeStyle:X.f.toJS(this.themeStyle)}},t}(ne),r=E()(n.prototype,"link",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=E()(n.prototype,"src",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=E()(n.prototype,"internalResource",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),s=E()(n.prototype,"represent",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=E()(n.prototype,"domain",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=E()(n.prototype,"path",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=E()(n.prototype,"phase",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Y.N.EMPTY}}),p=E()(n.prototype,"width",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=E()(n.prototype,"height",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=E()(n.prototype,"fileSize",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=E()(n.prototype,"fileName",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E()(n.prototype,"style",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"nodeStyle",fontColor:null,fontFamily:null,fontSizeCode:null,backgroundColor:null,bold:null,italic:null,underline:null,strikeThrough:null,subscript:null,superscript:null}}}),g=E()(n.prototype,"selection",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),y=E()(n.prototype,"representativeEnabled",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n);re.schema={id:ee.a.string,ctype:ee.a.string.isRequired,src:ee.a.string.isRequired,style:ee.a.shape({ctype:ee.a.string.isRequired,fontColor:ee.a.string,fontFamily:ee.a.string,fontSizeCode:ee.a.string,backgroundColor:ee.a.string,bold:ee.a.bool,italic:ee.a.bool,underline:ee.a.bool,strikeThrough:ee.a.bool,subscript:ee.a.bool,superscript:ee.a.bool}),link:ee.a.shape({ctype:ee.a.string.isRequired,url:ee.a.string.isRequired}),internalResource:ee.a.bool.isRequired,represent:ee.a.bool.isRequired,path:ee.a.string,domain:ee.a.string,width:ee.a.number.isRequired,height:ee.a.number.isRequired,fileName:ee.a.string,fileSize:ee.a.number};var ie,ae,se,ce,le=re,ue=le;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/image-node-store.js",localName:t}})}catch(e){}}e(ne,"RepresentativeNodeStore"),e("w1000","DEFAULT_THUMBNAIL_TYPE"),e(re,"ImageNodeStore"),e(le,"default")}();var pe=(ie=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="emojiNode",S()(o,"value",ae,P()(o)),S()(o,"link",se,P()(o)),S()(o,"style",ce,P()(o));var n=t.state,r=void 0===n?{}:n;return o.value=Object(N.a)(r,"value",o.value),o}T()(t,e);var o=t.prototype;return o.isEmojiNode=function(){return!0},o.isEmpty=function(){return""===this.value},o.isMergeable=function(){return!1},o.getStartPoint=function(){return{nodeId:this.id,offset:0}},o.getEndPoint=function(){return{nodeId:this.id,offset:1}},o.getPositionByOffset=function(e){return 0===e?te.d.NODE_START:te.d.NODE_END},o.getUrlInNode=function(){return null},o.getNodeLength=function(){return 1},o.getPlainTextLength=function(){return this.value.length},o.cloneNode=function(){return new t({state:this.toValidJSON(),themeStyle:X.f.toJS(this.themeStyle)})},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,value:this.value,style:X.f.toJS(this.style),link:X.f.toJS(this.link),themeStyle:X.f.toJS(this.themeStyle)}},t}(Q.a),ae=E()(ie.prototype,"value",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),se=E()(ie.prototype,"link",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=E()(ie.prototype,"style",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"nodeStyle",fontColor:null,fontFamily:null,fontSizeCode:null,backgroundColor:null,bold:null,italic:null,underline:null,strikeThrough:null,subscript:null,superscript:null}}}),ie);pe.schema={id:ee.a.string,ctype:ee.a.string.isRequired,value:ee.a.string.isRequired,style:ee.a.shape({ctype:ee.a.string.isRequired,fontColor:ee.a.string,fontFamily:ee.a.string,fontSizeCode:ee.a.string,backgroundColor:ee.a.string,bold:ee.a.bool,italic:ee.a.bool,underline:ee.a.bool,strikeThrough:ee.a.bool,subscript:ee.a.bool,superscript:ee.a.bool}),link:ee.a.shape({ctype:ee.a.string.isRequired,url:ee.a.string.isRequired})};var de,he,fe,me,ge,ye,be,_e=pe,ve=_e;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/emoji-node-store.js",localName:t}})}catch(e){}}e(pe,"EmojiNodeStore"),e(_e,"default")}();var Ce=(de=Object(X.e)({keepAlive:!0}),he=Object(X.e)({keepAlive:!0}),fe=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="paragraph",S()(o,"selection",me,P()(o)),S()(o,"nodes",ge,P()(o)),S()(o,"style",ye,P()(o)),S()(o,"themeStyle",be,P()(o)),o._configAgent=Y.V.get("configAgent");var n=t.state,r=void 0===n?{}:n;return o.nodes=o._createNodeStores(Object(N.a)(r,"nodes",o.nodes)),o.style=Object(x.a)(o.style,r.style),r.themeStyle&&o.themeStyle.replace(Object.entries(r.themeStyle)),o.selection=Object(N.a)(r,"selection",o.selection),o._hashArray=new q.a(o.nodes),o}T()(t,e);var o=t.prototype;return o.isListParagraph=function(){return!!this.style.list},o.updateConfig=function(){this.nodes.forEach(function(e){e.updateConfig&&e.updateConfig()})},o.addNode=function(e,t){this._hashArray.add(e,t)},o.removeNode=function(e){this._hashArray.remove(e)},o.removeNodesBetween=function(e,t){this._hashArray.removeBetween(e,t)},o.removeNodesWithSelection=function(e){var t=e.start,o=e.end,n=this.splitNode(o),r=this.splitNode(t),i=n.front,a=r.back;t.nodeId===o.nodeId&&(i=a),this.removeNodesBetween(a.id,i.id),this.refine(r.front.id)},o.adjustWritePointOnEdge=function(e){var t=this.getNodeById(e.nodeId),o=this.createSameStyleNode(t),n=this.getPositionByPoint(e);if(n===te.d.NODE_START){var r=this.getPrevNode(e.nodeId);if(r&&r.isMergeable(o))return r.getEndPoint()}else if(n===te.d.NODE_END){var i=this.getNextNode(e.nodeId);if(i&&i.isMergeable(o))return i.getStartPoint()}return this._addNewNodeByPoint(e,o),o.getStartPoint()},o.isWholeParagraph=function(e){var t=e.start,o=e.end,n=t,r=o;this.has(t.nodeId)||(n=this.getStartPoint()),this.has(o.nodeId)||(r=this.getEndPoint());var i=this.getPositionByPoint(n),a=this.getPositionByPoint(r);return i===te.d.PARA_START&&a===te.d.PARA_END},o._addNewNodeByPoint=function(e,t){var o=this.getPositionByPoint(e);if(o===te.d.PARA_START||o===te.d.NODE_START){var n=this.getNodeIndex(e.nodeId);this.addNode(t,n)}else if(o===te.d.PARA_END||o===te.d.NODE_END){var r=this.getNodeIndex(e.nodeId)+1;this.addNode(t,r)}},o._splitNonTextNode=function(e){var t=this.getNodeById(e.nodeId),o=this.createSameStyleNode(t),n=this.getPositionByPoint(e);return this._addNewNodeByPoint(e,o),n===te.d.PARA_START||n===te.d.NODE_START?{front:o,back:t}:n===te.d.PARA_END||n===te.d.NODE_END?{front:t,back:o}:void 0},o.createSameStyleNode=function(e){return new Z.a({state:{style:e.style,themeStyle:X.f.toJS(e.themeStyle)}})},o.insertEmoji=function(e,t,o){void 0===o&&(o=null);var n=this.splitNode(t),r=n.front,i=n.back,a=this.getNodeIndex(r.id)+1,s=this._createSameStyleEmojiNode(r,e);o&&s.changeLink(o),this.addNode(s,a),r.isEmpty()&&this.removeNode(r.id);var c={nodeId:i.id,offset:i.getStartPoint().offset};return C()({},t,c)},o.insertPlainText=function(e,t,o){void 0===o&&(o=null);var n=this.splitNode(e),r=n.front,i=n.back,a=(r.isTextNode()?r.split(r.getNodeLength()):i.split(0)).back;return o&&a.changeLink(o),a.writeValue({offset:0,value:t}),this.addNode(a,this.getNodeIndex(r.id)+1),{paraId:this.id,nodeId:i.id,offset:0}},o._createSameStyleEmojiNode=function(e,t){return new ve({state:{value:t,style:e.style,themeStyle:X.f.toJS(e.themeStyle)}})},o._getFirstNodeWithValue=function(){var e=this.getFirstNode();return e.isEmpty()?this.getNextNode(e.id):e},o.isStartWithEmoji=function(){var e=this._getFirstNodeWithValue();return e&&e.isEmojiNode()||!1},o.writeValue=function(e){var t=this.getNodeById(e.nodeId).writeValue(e);return C()({paraId:this.id},t)},o.merge=function(e){e.refine();var t=e.getFirstNode(),o=this.getLastNode(),n=o.isMergeable(t),r={paraId:this.id,nodeId:o.id};!this.isEmpty()||t.isEmpty()||n||(r=Object.assign(r,{nodeId:t.id}));var i=e.detachNodes();return this.addNode(i),this.refine(),r},o.mergeWithSpace=function(e){this.getLastNode().mergeValue({value:" "}),this.merge(e)},o.replaceNodesBetween=function(e,t,o){this._hashArray.replaceBetween(o,e,t)},o.replaceAllNodes=function(e){this.nodes.replace(e),this._hashArray.syncUpWithDataList()},o.detachNodes=function(e,t){return this._hashArray.detachData(e,t)},o.split=function(e){var o=this._cloneStyle(),n=te.d.PARA_START,r=te.d.TEXT_START,i=this.getPositionByPoint(e);[n,r].includes(i)?this.style.dropCap=null:o.dropCap=null;var a=this.splitNode(e),s=a.front,c=a.back,l=this.getLastNode(),u=this.detachNodes(c.id,l.id),p=new t({state:{style:o,themeStyle:X.f.toJS(this.themeStyle),nodes:u}});return s.isEmpty()&&(s.changeLink(),this.getNodesLength()>1&&this.removeNode(s.id)),c.isEmpty()&&c.changeLink(),{front:this,back:p}},o.splitNode=function(e){var t=e.nodeId,o=e.offset,n=this.getNodeById(t);if(n.isTextNode()){var r=n.split(o),i=r.front,a=r.back,s=this.getNodeIndex(i.id)+1;return this.addNode(a,s),{front:i,back:a}}return this._splitNonTextNode(e)},o.updateTheme=function(e){var t=["lineHeight","align","dropCap"],o=Object(A.a)(e,t);this.themeStyle.replace(Object.entries(o));var n=Object(M.a)(e,t);this.nodes.forEach(function(e){e.updateTheme(n)})},o.updateParagraphStyle=function(e){var t=this,o=e.listType,n=e.listLevel,r=_()(e,["listType","listLevel"]),i=r.align,a=r.lineHeight;i&&i!==Y.o.LEFT&&i!==Y.o.JUSTIFY&&(r.dropCap=null),a&&(r.lineHeight=Number(a)),o&&(r.list="reset"===o?null:{ctype:"paragraphListStyle",type:o,level:this.listLevel||0}),Number.isInteger(n)&&(o||this.isListParagraph())&&(r.list={ctype:"paragraphListStyle",type:o||this.listType,level:n}),Object(R.a)(this.style,r,function(e,o,n){return o===t.themeStyle.get(n)?null:o})},o.updateWholeCharacterStyle=function(e){var t=this.getFirstNode(),o=this.getLastNode();this.updateCharacterStyle(e,{startNode:t,endNode:o})},o.updateCharacterStyle=function(e,t){var o=t.startNode,n=t.endNode;this.getNodesBetween(o.id,n.id).forEach(function(t){t.updateCharacterStyle(e)})},o.applyDerivedParagraphStyle=function(e){var t=this,o=Object(z.a)(e,function(e,o){return null!==t.style[o]});this.updateParagraphStyle(o)},o.applyDerivedStylesToWholeCharacter=function(e){this.nodes.forEach(function(t){t.applyDerivedCharacterStyle(e)})},o.changeLink=function(e,t){var o=t.startNode,n=t.endNode;this.getNodesBetween(o.id,n.id).forEach(function(t){t.changeLink(e)})},o.writeAndLink=function(e,t){var o=this,n=this.getNodeById(t.nodeId),r=t;if(n.link)n.changeLink(e);else{var i=e.description,a=e.value;i&&i.length>0?J.a.separateCallbacksWithEmoji(i,function(t){r=o.insertEmoji(t,r,e)},function(t){r=o.insertPlainText(r,t,e)}):r=this.insertPlainText(r,a,e)}return r},o.refine=function(e){this.getNodesLength()<=1||this._mergeMergeableNode(e)},o._removeEmptyNode=function(e){var t=this;void 0===e&&(e=[]);var o=this.nodes,n=[].concat(e);Object(B.a)(o,function(e){var r=e.id;e.isEmpty()&&n.indexOf(r)<0&&o.length>1&&t.removeNode(r)})},o._mergeMergeableNode=function(e){var t=this.nodes,o=this.getFirstNode();Object(U.a)(t,function(e,t){0!==t&&(o.isMergeable(e)?(o.mergeValue(e),e.value=""):o=e)}),this._removeEmptyNode(e)},o.unwrapDropCap=function(){this.updateParagraphStyle({dropCap:null})},o.filterTextStyle=function(e){var t=this;e&&(Object(U.a)(e,function(e,o){if(!1!==t.style.hasOwnProperty(o)){var n=e===te.b.NOT_ALLOWED,r="function"==typeof e&&!e(t.style[o]);(n||r)&&(t.style[o]=null)}}),this.nodes.forEach(function(t){t.filterCharStyle(e)}))},o.filterTextBy=function(e){var t=!1;return this.nodes.forEach(function(o){o.filterTextBy(e)&&(t=!0)}),t},o.getNodeById=function(e){return this._hashArray.getDataById(e)},o.getNodeByIndex=function(e){return this._hashArray.getDataByIndex(e)},o.getNodeIndex=function(e){return this._hashArray.getIndex(e)},o.getFirstNode=function(){return this._hashArray.getFirst()},o.getLastNode=function(){return this._hashArray.getLast()},o.getPrevNode=function(e){return this._hashArray.getPrev(e)},o.getNextNode=function(e){return this._hashArray.getNext(e)},o.getNodesBetween=function(e,t){return this._hashArray.getBetween(e,t)},o.getNodesLength=function(){return this._hashArray.getLength()},o.has=function(e){return this._hashArray.has(e)},o.isOnlyUrlLink=function(){return 1===this.getNodesLength()&&this.getFirstNode().hasUrlLink()},o.isLinkNodeEdge=function(e){if(!1===this.getNodeById(e.nodeId).hasUrlLink())return!1;var t=this.getPositionByPoint(e);return t===te.d.PARA_START||t===te.d.NODE_START||t===te.d.NODE_END||t===te.d.PARA_END},o.isFirstTextNode=function(e){return this.getFirstNode().id===e},o.shouldUnwrapDropCapByErase=function(e,t,o,n){return!!this.style.dropCap&&(!1!==this.isFirstTextNode(t)&&!!(n&&e===Y.u.LEFT&&1===o||n&&e===Y.u.RIGHT&&0===o||!n&&0===o))},o.clear=function(){this._hashArray.clear()},o.toString=function(){return this.nodes.map(function(e){return e.value}).join("")},o.isEmpty=function(){var e=this.getNodesLength();return 0===e||1===e&&this.getFirstNode().isEmpty()},o.getStartPoint=function(){var e=this.getFirstNode();return{paraId:this.id,nodeId:e.id,offset:0}},o.getEndPoint=function(){var e=this.getLastNode(),t=e.getEndPoint();return{paraId:this.id,nodeId:e.id,offset:t.offset}},o.getPositionByPoint=function(e){var t=e.nodeId,o=e.offset,n=this.getNodeById(t),r=n.getPositionByOffset(o),i=this.getFirstNode()===n&&(n.isEmpty()||r===te.d.NODE_START),a=this.getLastNode()===n&&(n.isEmpty()||r===te.d.NODE_END);return i?te.d.PARA_START:a?te.d.PARA_END:r},o.is=function(e){return this.id===e},o.collectStyle=function(e){var t=e.start,o=e.end,n=this.getNodesBetween(t.nodeId,o.nodeId),r=Object(V.a)(n);if(0===r.length)return{};r.length>1&&(r[0].getNodeLength()===t.offset&&r.shift());var i=r.map(function(e){return e.collectStyle()}),a=K.a.mergeStyles(i),s=C()({},this.computedStyle,a);return delete s.ctype,s},o.getTextStyle=function(e){var t=this.getNodeById(e.nodeId)||this.getFirstNode(),o=C()({},this.style,t.style);return delete o.ctype,o},o.getSelectedAlign=function(){return{align:this.style.align}},o.getOffsetInParagraph=function(e){for(var t=e.nodeId,o=e.offset,n=this.nodes,r=this.getNodeIndex(t),i=0,a=0;a<=r;a++)i+=a===r?o:n[a].getNodeLength();return i},o.getNodeValueLength=function(e){return this.getNodeById(e).getNodeLength()},o.getNodeInfoBeforeOffsetByPlainTextLength=function(e){var t=this.nodes,o=e,n=null,r=o;return t.some(function(e){if(n)return!0;if(!e.getPlainTextLength)return!1;var t=e.getPlainTextLength();o<=t&&(n=e,e.isTextNode()?r=o:e.isEmojiNode()&&(r=o===t?e.getEndPoint().offset:e.getStartPoint().offset)),o-=t}),{node:n,offset:r}},o.getNodeInfoBeforeOffset=function(e){var t=this.nodes,o=e,n=null,r=o;return t.some(function(e){if(n)return!0;var t=e.getNodeLength();(o===t||o<t)&&(n=e,r=o),o-=t}),{node:n,offset:r}},o.getNodeInfoAfterOffset=function(e){var t=this.nodes,o=e,n=null,r=o;return t.some(function(e){if(n)return!0;var t=e.getNodeLength();(0===o||o<t)&&(n=e,r=o),o-=t}),n||(n=this.getLastNode(),r=n.getNodeLength()),{node:n,offset:r}},o.getPlainText=function(){var e=[];return this.nodes.forEach(function(t){t.isTextNode()&&e.push(t.value)}),e.join("")},o.getPlainTextWithEmoji=function(){var e=[];return this.nodes.forEach(function(t){(t.isTextNode()||t.isEmojiNode())&&e.push(t.value)}),e.join("")},o.stripOffNonTexts=function(){this.replaceImageToText(),this.refine()},o.replaceImageToText=function(){var e=this;this.getAllImageNode().forEach(function(t){var o=e.createSameStyleNode(t);o.id=t.id,e.replaceNodesBetween(t.id,t.id,o)})},o.getAllImageNode=function(){return this.nodes.filter(function(e){return e.isImageNode()})},o.isBackward=function(e,t){var o=this.getNodeIndex(e.nodeId),n=this.getNodeIndex(t.nodeId);return!(n<o)&&(n!==o||e.offset<=t.offset)},o.isCenterOrRightAlign=function(){return["center","right"].includes(this.style.align)},o.createImageNodes=function(e,t){var o=this,n=[],r=[],i=[],a=this.getNodeById(e.nodeId),s=t.map(function(t){var s,c=t.isValid,l=t.file,u=t.fileInfo,p=t.code,d=e.unitId,h=e.paraId;if(c)s=new ue({state:{internalResource:!0,width:parseInt(u.width,10),height:parseInt(u.height,10),phase:Y.N.PROCESSING,fileName:l.name,fileSize:parseInt(l.size,10),themeStyle:X.f.toJS(a.themeStyle)}}),n.push("unitId:"+d+",paraId:"+h+",nodeId:"+s.id),r.push(l);else{var f=o._configAgent.get("productConfig.documentWidth");s=new ue({state:{internalResource:!0,width:f,height:f*(9/16),phase:Y.N.PROCESSING,fileName:l.name,fileSize:parseInt(l.size,10),themeStyle:X.f.toJS(a.themeStyle)}}),i.push({id:"unitId:"+d+",paraId:"+h+",nodeId:"+s.id,file:l,code:p})}return s}),c=this.splitNode(e).front,l=this.getNodeIndex(c.id);return this.addNode(s,l+1),{uploadTarget:{ids:n,files:r},invalidImages:i}},o.updateImageNodeById=function(e,t){var o=this.getNodeById(e);o&&o.updateImageNode({path:t.path+"/"+t.fileName,width:parseInt(t.width,10),height:parseInt(t.height,10),fileName:t.fileName,fileSize:parseInt(t.fileSize,10),internalResource:!0,phase:"DONE"})},o._getFirstImageNode=function(){return Object(F.a)(this.nodes.filter(function(e){return e.isImageNode()}))},o._cloneStyle=function(){return Object(D.a)(this.style)},o._createNodeStores=function(e){return 0===e.length?[new Z.a]:e.map(function(e){return e instanceof Q.a?e:"imageNode"===e.ctype?new ue({state:e}):"emojiNode"===e.ctype?new ve({state:e}):new Z.a({state:e})})},o.getUrlInNode=function(e){return this.getNodeById(e.nodeId).getUrlInNode(e)},o.toValidJSON=function(){var e=Object(z.a)(this.style,function(e){return null===e}),t={id:this.id,ctype:this.ctype,nodes:this.nodes.map(function(e){return e.toValidJSON()})};return Object(W.a)(e).length>1&&(t.style=e),t},o.isLibraryComponent=function(){return this.nodes.some(function(e){return e.isLibraryComponent()})},o.getLibraryItemData=function(e){var t=this,o=e.compId,n=e.unitId,r=[];return this.nodes.forEach(function(e){e.isLibraryComponent()&&r.push(e.getLibraryItemData({compId:o,unitId:n,paraId:t.id}))}),r},o.setRepresentativeImage=function(e){var t=e?this.getNodeById(e):this._getFirstImageNode();t&&t.setRepresentativeImage()},o.releaseRepresentativeImage=function(e){this.getNodeById(e).releaseRepresentativeImage()},o.hasRepresentativeImage=function(){return this.nodes.some(function(e){return e.isImageNode()&&e.hasRepresentativeImage()})},o.isRepresentativeImage=function(){return this.nodes.some(function(e){return e.isImageNode()&&e.isRepresentativeImage()})},o.getRepresentativeId=function(){var e=this,t=[];return this.nodes.forEach(function(o){if(o.isImageNode()){var n=o.hasRepresentativeImage(),r=o.isRepresentativeImage(),i=o.getRepresentativeImageURL(),a="|"+e.id+"|"+o.id+":"+r+":"+n;i?t.push(a+":"+i):t.push(""+a)}}),t},o.getRepresentativeInnerData=function(){var e=Object(H.a)(this.nodes,function(e){return e.isImageNode()&&e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},o.hasInlineImage=function(){return this.nodes.some(function(e){return e.isImageNode()})},o.hasTextNode=function(){return this.nodes.some(function(e){return!e.isImageNode()})},o.hasDropCapInParagraph=function(){return this.style.dropCap},o.canBeListBySpace=function(){if(this.isListParagraph())return!1;var e=this.getPlainTextWithEmoji();return Object(G.a)(Y.Q).includes(e)},o.deselect=function(){this.selection="none",this.nodes.forEach(function(e){return e.deselect()})},o.toPlainJSON=function(){return C()({},this._toPlainJSON)},I()(t,[{key:"computedStyle",get:function(){var e=X.f.toJS(this.themeStyle);return Object(R.a)(e,this.style,function(e,t,o){return null!==t?"lineHeight"===o?t.toString():"list"===o?t.type:t:void 0!==e?"lineHeight"===o?e.toString():e:!!["align","lineHeight","list"].includes(o)&&null})}},{key:"firstNodeComputedStyle",get:function(){return this.getFirstNode().computedStyle}},{key:"isFocused",get:function(){return"none"!==this.selection}},{key:"firstTextNodeIndex",get:function(){return this.nodes.findIndex(function(e){return!e.empty})||0}},{key:"listType",get:function(){return this.style.list&&this.style.list.type}},{key:"listLevel",get:function(){return this.style.list&&this.style.list.level}},{key:"_toPlainJSON",get:function(){return{id:this.id,ctype:this.ctype,nodes:this.nodes.map(function(e){return e.toPlainJSON()}),style:X.f.toJS(this.style),themeStyle:X.f.toJS(this.themeStyle)}}}]),t}(Y.w),me=E()(fe.prototype,"selection",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),ge=E()(fe.prototype,"nodes",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ye=E()(fe.prototype,"style",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"paragraphStyle",align:null,lineHeight:null,dropCap:null,list:null}}}),be=E()(fe.prototype,"themeStyle",[X.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),E()(fe.prototype,"computedStyle",[de],Object.getOwnPropertyDescriptor(fe.prototype,"computedStyle"),fe.prototype),E()(fe.prototype,"firstNodeComputedStyle",[X.e],Object.getOwnPropertyDescriptor(fe.prototype,"firstNodeComputedStyle"),fe.prototype),E()(fe.prototype,"isFocused",[X.e],Object.getOwnPropertyDescriptor(fe.prototype,"isFocused"),fe.prototype),E()(fe.prototype,"firstTextNodeIndex",[X.e],Object.getOwnPropertyDescriptor(fe.prototype,"firstTextNodeIndex"),fe.prototype),E()(fe.prototype,"_toPlainJSON",[he],Object.getOwnPropertyDescriptor(fe.prototype,"_toPlainJSON"),fe.prototype),fe),Oe=Ce;t.a=Oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/paragraph-store.js",localName:t}})}catch(e){}}e(Ce,"ParagraphStore"),e(Oe,"default")}()},284:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(49),a=o.n(i),s=o(64),c=o(53),l=o.n(c),u=o(48),p=o(335),d=o(216),h=o(51),f=o(55),m=o(1210),g=function(e){var t,o=e.name,n=e.value,r=e.defaultValue,i=e.invertIcon,a=!e.multipleValue&&(n||r),s=l()("se-toolbar-icon-"+o,{"se-is-inverted":i}),c="#fff"===a||"#ffffff"===a,p=l()(((t={})["se-"+o+"-indicator"]=!0,t["se-is-white-color"]=c,t["se-is-multiple-color"]=null===n,t));return u.b.createElement("span",{className:"se-toolbar-color-picker-icon"},u.b.createElement("span",{"data-role":"color",className:p,style:{backgroundColor:a}}),u.b.createElement("span",{"data-role":"icon",className:s}))};g.defaultProps={name:"",value:"",defaultValue:"#fff"},g.propTypes={name:u.a.string,value:u.a.string,defaultValue:u.a.string,invertIcon:u.a.bool,multipleValue:u.a.bool};var y=g,b=y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker-icon/background-color-icon.jsx",localName:t}})}catch(e){}}e(g,"BackgroundColorIcon"),e(y,"default")}();var _=function(e){var t,o=e.name,n=e.value,r=e.defaultValue,i=e.multipleValue,a=!i&&(n||r),s="#fff"===a||"#ffffff"===a,c=l()(((t={})["se-"+o+"-indicator"]=!0,t["se-is-white-color"]=s,t["se-is-multiple-color"]=i,t));return u.b.createElement("span",{className:"se-toolbar-color-picker-icon"},u.b.createElement("span",{className:"se-toolbar-icon-"+o}),u.b.createElement("span",{"data-role":"color",className:c,style:{backgroundColor:a}}))};_.defaultProps={name:"",value:"",defaultValue:"#000"},_.propTypes={name:u.a.string,value:u.a.string,defaultValue:u.a.string,multipleValue:u.a.bool};var v=_,C=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker-icon/font-color-icon.jsx",localName:t}})}catch(e){}}e(_,"FontColorIcon"),e(v,"default")}();var O,S=o(743),k=o(122),I=o(50),w=(O=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._isHexColor=function(e){return/^#([a-f\d]{3,6})$/i.test(e)},t._splitHexCode=function(e){var t=/^#([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(e);return 4===e.length&&(t[1]+=t[1],t[2]+=t[2],t[3]+=t[3]),t},t._isDarknessnessColor=function(e){if(!t._isHexColor(e))return!1;var o=t._splitHexCode(e),n=parseInt(o[1],16)/255,r=parseInt(o[2],16)/255,i=parseInt(o[3],16)/255;return(Math.max(n,r,i)+Math.min(n,r,i))/2<.5},t}r()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._RECENT_COLOR_LENGTH=12;var e="click.se-toolbar-color-picker-"+this.props.name;m.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-color-picker-"+this.props.name;m.a.off(e)},o.render=function(){var e=this.props,t=e.namespace,o=e.name,n=e.type,r=e.label,i=e.value,a=e.isActivated,s=e.recentColors,c=e.i18n,p=c(r),d=l()(["se-"+t+"-"+n+"-container","__select-container"]),h=this._renderCurrentColor();return u.b.createElement("div",{className:d,"data-type":n,"data-name":o},h,a&&u.b.createElement(S.a,{color:i,recentColors:s,onChangeColor:this._handleChangeColor,label:p,i18n:c}))},o._renderCurrentColor=function(){var e=this.props,t=e.id,o=e.namespace,n=e.useBackground,r=e.label,i=e.useCurrentColor,a=e.value,s=e.defaultValue,c=e.deviceType,p=e.name,d=e.i18n,h=e.type,f=e.title,m=e.focused,g=e.isActivated,y=e.logAreaId,_=e.logId,v=c===I.t.DESKTOP,O=n?b:C,S={value:a,multipleValue:null===a,name:p,defaultValue:s,invertIcon:!!n&&this._isDarknessnessColor(a||s)},w=d(r),P=d(f),j=l()("se-"+o+"-toolbar-"+h+"-button","se-"+p+"-toolbar-button",{"se-is-activated":g});return!1===i?u.b.createElement(k.a,{focused:m,namespace:o,type:h,dataName:t,className:j,i18n:d,handleClick:this._handleClickSelector,ariaExpanded:""+g,ariaHasPopup:"true"},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":v},w),v&&u.b.createElement("span",{className:"se-toolbar-tooltip"},P)):u.b.createElement(k.a,{focused:m,namespace:o,type:h,dataName:t,logAreaId:y,logId:_,className:j,i18n:d,handleClick:this._handleClickSelector,ariaExpanded:""+g,ariaHasPopup:"true"},u.b.createElement(O,S),u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":v},w),v&&u.b.createElement("span",{className:"se-toolbar-tooltip"},P))},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this._handleClickSelector({})},o._handleClickSelector=function(e){var t=this.props,o=t.onClickSelector,n=t.type,r=t.id,i=t.name,a=t.label;o.apply(this,[{event:e,id:r,type:n,name:i,label:a}])},o._handleChangeColor=function(e){var t=this.props,o=t.onChange,n=t.id,r=t.type,i=t.name,a=t.label,c=t.title,l=t.storageKey,u=t.recentColors,p=u.indexOf(e.value);p>-1&&u.splice(p,1),u.unshift(e.value),u.length>this._RECENT_COLOR_LENGTH&&u.pop(),o(Object(s.a)({id:n,type:r,label:a,name:i,title:c,storageKey:l,recentColors:u},e))},t}(u.b.Component),a()(O.prototype,"_handleClickButtonOutside",[h.autobind],Object.getOwnPropertyDescriptor(O.prototype,"_handleClickButtonOutside"),O.prototype),a()(O.prototype,"_handleClickSelector",[h.autobind],Object.getOwnPropertyDescriptor(O.prototype,"_handleClickSelector"),O.prototype),a()(O.prototype,"_handleChangeColor",[h.autobind],Object.getOwnPropertyDescriptor(O.prototype,"_handleChangeColor"),O.prototype),O);w.defaultProps={label:"",id:"",name:"",namespace:"",focused:!1,title:"",storageKey:"",value:"",recentColors:[],onClickSelector:function(){},onChange:function(){},i18n:function(e){return e}},w.propTypes={type:u.a.oneOf([f.a.COLOR_PICKER]).isRequired,id:u.a.string,name:u.a.string,namespace:u.a.string,focused:u.a.bool,label:u.a.string,title:u.a.string,storageKey:u.a.string,value:u.a.string,defaultValue:u.a.string,useBackground:u.a.bool,useCurrentColor:u.a.bool,deviceType:u.a.string,isActivated:u.a.bool,onClickSelector:u.a.func,onChange:u.a.func,i18n:u.a.func,recentColors:u.a.oneOfType([u.a.array,u.a.object]),logAreaId:u.a.string,logId:u.a.string};var P=Object(p.b)(w);t.a=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/color-picker-button.jsx",localName:t}})}catch(e){}}e(w,"ColorPickerButton"),e(P,"default")}()},285:function(e,t,o){"use strict";var n=o(50),r=o(1209),i=o(395),a=o(0),s=o.n(a),c=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(n.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/service/index.js",localName:t}})}catch(e){}}(c,"ImageTypeLayerService")}();var l=o(396),u=n.G.extend({name:"ImageTypeLayer",view:Object(r.a)({Loader:function(){return o.e(45).then(o.bind(null,1227))}}),useCase:i.a,service:c,store:l.a}),p=u;t.a=p;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/index.js",localName:t}})}catch(e){}}e(u,"ImageTypeLayer"),e(p,"default")}()},344:function(e,t,o){"use strict";var n,r,i,a=o(60),s=o.n(a),c=o(57),l=o.n(c),u=o(0),p=o.n(u),d=o(49),h=o.n(d),f=(o(61),o(16)),m=o(50),g=o(48),y=o(672),b=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,s()(o,"message",r,l()(o)),s()(o,"opened",i,l()(o)),o.lastingMoment=2e3,o.unmountDelayTime=400,o.type=y.a.WARNING;var n=t,a=n.state,c=void 0===a?{}:a,u=n.config,p=void 0===u?{}:u;return o.opened=Object(f.a)(c,"opened",o.opened),o.message=Object(f.a)(c,"message",o.message),o.lastingMoment=Object(f.a)(p,"lastingMoment",o.lastingMoment),o.type=Object(f.a)(p,"type",o.type),o}p()(t,e);var o=t.prototype;return o.openToast=function(e){var t=e.type,o=e.message;this.type=t,this.message=o,this.opened=!0},o.hideToast=function(){this.opened=!1},t}(m.e),r=h()(n.prototype,"message",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=h()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/store/index.js",localName:t}})}catch(e){}}e(b,"ToastLayerStore"),e(_,"default")}()},345:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(50),a=function(e){function t(){var t;return(t=e.call(this)||this)._uploadProgressLayerService=i.V.get("uploadProgressLayerService"),t}r()(t,e);var o=t.prototype;return o.confirm=function(){this._uploadProgressLayerService.confirm()},o.close=function(){this._uploadProgressLayerService.end()},t}(i.m),s=a;t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(a,"UploadProgressLayerUseCase"),e(s,"default")}()},346:function(e,t,o){"use strict";o.d(t,"a",function(){return C});var n,r,i,a,s,c,l,u=o(60),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=(o(61),o(16)),_=o(50),v=o(48),C={PROGRESSING:"progressing",DONE:"done",CLOSE:"close"},O=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this)||this,p()(o,"opened",r,h()(o)),p()(o,"title",i,h()(o)),p()(o,"description",a,h()(o)),p()(o,"count",s,h()(o)),p()(o,"totalCount",c,h()(o)),p()(o,"phase",l,h()(o));var n=t.state,u=void 0===n?{}:n;return o.opened=Object(b.a)(u,"opened",o.opened),o.title=Object(b.a)(u,"title",o.title),o.description=Object(b.a)(u,"description",o.description),o.count=Object(b.a)(u,"count",o.count),o.totalCount=Object(b.a)(u,"totalCount",o.totalCount),o.phase=Object(b.a)(u,"phase",o.phase),o}m()(t,e);var o=t.prototype;return o.start=function(e){this.opened=!0,this.title=e.title||"",this.description=e.description||"",this.totalCount=e.totalCount||0,this.phase=C.PROGRESSING},o.update=function(e){this.title=e.title,this.description=e.description,this.count+=1;var t=e.doneStateResolver||this._defaultDoneStateResolver;this._checkAllDone(t)},o.end=function(){this.title="",this.description="",this.count=0,this.totalCount=0,this.phase=C.CLOSE,this.opened=!1},o.confirmProgress=function(){this.phase=C.CLOSE},o._checkAllDone=function(e){if(this.count===this.totalCount){var t=e({count:this.count,totalCount:this.totalCount}),o=t.title,n=t.description;this.title=o,this.description=n,this.count=0,this.totalCount=0,this.phase=C.DONE}},o._defaultDoneStateResolver=function(){return{title:"",description:""}},t}(_.e),r=y()(n.prototype,"opened",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=y()(n.prototype,"title",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=y()(n.prototype,"description",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=y()(n.prototype,"count",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=y()(n.prototype,"totalCount",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=y()(n.prototype,"phase",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.PROGRESSING}}),n),S=O;t.b=S,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/store/index.js",localName:t}})}catch(e){}}e(C,"PHASE_TYPES"),e(O,"UploadProgressLayerStore"),e(S,"default")}()},347:function(e,t,o){"use strict";var n=o(57),r=o.n(n),i=o(0),a=o.n(i),s=o(50),c=function(e){function t(){var t;return(t=e.call(this)||this)._highlightBannerLayerService=s.V.get("highlightBannerLayerService"),s.V.get("configAgent").get("productEnv.deviceType")===s.t.MOBILE?t._highlightBannerLayerService.open():s.V.get("eventDispatcherService").once(s.D.CHANGE_CURSOR,t.open.bind(r()(t))),t}a()(t,e);var o=t.prototype;return o.open=function(){this._highlightBannerLayerService.open()},o.close=function(){this._highlightBannerLayerService.close()},t}(s.m),l=c;t.a=l,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(c,"HighlightBannerLayerUseCase"),e(l,"default")}()},348:function(e,t,o){"use strict";var n,r,i,a=o(60),s=o.n(a),c=o(57),l=o.n(c),u=o(0),p=o.n(u),d=o(49),h=o.n(d),f=(o(61),o(16)),m=o(50),g=o(48),y=o(208),b=o(251),_=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this)||this,s()(o,"opened",r,l()(o)),s()(o,"type",i,l()(o)),o.fontColor=b.b.BLACK,o.dimmedColor="transparent",o.bgColor="",o.title="",o.description="",o.buttonText="",o.buttonTextColor="",o.buttonColor="",o.link="",o.src="";var n=t.state,a=void 0===n?{}:n;o._configAgent=m.V.get("configAgent");var c=o._configAgent.get("productConfig.highlight"),u=c&&c.banner;if(o.shown=!c||!u||y.b.shown(o.type,y.a.BANNER),o.opened=Object(f.a)(a,"opened",o.opened),c&&c.banner){var p=c.banner;o.type=Object(f.a)(a,"type",p.type||o.type),o.fontColor=Object(f.a)(a,"fontColor",p.fontColor||o.fontColor),o.dimmedColor=Object(f.a)(a,"dimmedColor",p.dimmedColor||o.dimmedColor),o.title=p.title,o.description=p.description,o.bgColor=p.bgColor,o.buttonText=p.buttonText,o.buttonTextColor=p.buttonTextColor,o.buttonColor=p.buttonColor,o.link=p.link,o.src=p.src}return o}p()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(m.e),r=h()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=h()(n.prototype,"type",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.a.IMAGE}}),n),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/store/index.js",localName:t}})}catch(e){}}e(_,"HighlightBannerLayerStore"),e(v,"default")}()},349:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._alertLayerService=c.V.get("alertLayerService"),t}i()(t,e);var o=t.prototype;return o.open=function(e){this._alertLayerService.open(e)},o.close=function(){this._alertLayerService.close()},o.confirm=function(){this._alertLayerService.confirm()},o.cancel=function(){this._alertLayerService.cancel()},t}(c.m),s()(n.prototype,"open",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),s()(n.prototype,"confirm",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"confirm"),n.prototype),s()(n.prototype,"cancel",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"cancel"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"AlertLayerUseCase"),e(p,"default")}()},350:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=o(50).n,r={AlertTypes:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"AlertTypes"),e(r,"default")}()},351:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u=o(60),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=(o(61),o(350)),_=o(50),v=o(48),C=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this)||this,p()(o,"type",r,h()(o)),p()(o,"opened",i,h()(o)),p()(o,"title",a,h()(o)),p()(o,"description",s,h()(o)),p()(o,"errorList",c,h()(o)),p()(o,"isDimUse",l,h()(o)),o.buttons=[],o.custom=null,o.className="";var n=t,u=n.config,d=void 0===u?{}:u,f=n.state,m=void 0===f?{}:f;return o.type=m.type||o.type,o.opened=m.opened||o.opened,o.title=m.title||o.title,o.description=m.description||o.description,o.errorList=m.errorList||o.errorList,o.showErrorInfo=d.showErrorInfo,o.custom=m.custom||o.custom,o}m()(t,e);var o=t.prototype;return o.open=function(e){if(!e)return!1;this.type=e.type,this.title=e.title,this.description=e.description,this.errorList=e.errorList||[],this.buttons=e.buttons||[],this.isDimUse=!1!==e.isDimUse&&this.isDimUse,this.custom=e.custom||this.custom,this.className=e.className||this.className,this.opened=!0},o.close=function(){this.opened=!1,this.errorList.clear()},t}(_.e),r=y()(n.prototype,"type",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.a.ALERT}}),i=y()(n.prototype,"opened",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=y()(n.prototype,"title",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=y()(n.prototype,"description",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=y()(n.prototype,"errorList",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),l=y()(n.prototype,"isDimUse",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n),O=C;t.a=O,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/store/index.js",localName:t}})}catch(e){}}e(C,"AlertLayerStore"),e(O,"default")}()},352:function(e,t,o){"use strict";var n,r,i=o(59),a=o.n(i),s=o(12),c=o.n(s),l=o(18),u=o.n(l),p=o(0),d=o.n(p),h=o(49),f=o.n(h),m=o(50),g=o(51),y=o(48),b=o(64),_=o(252),v=o(120),C=(n=Object(g.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=m.V.get("i18n"),t._searchPanelLayoutService=m.V.get("searchPanelLayoutService"),t._editingService=m.V.get("editingService"),t._toastLayerService=m.V.get("toastLayerService"),t._imageDetailLayerService=m.V.get("imageDetailLayerService"),t._imageBehavior=m.V.get("imageBehavior"),t._dragAndDropService=m.V.get("dragAndDropService"),t._paidPhotoNotificationLayerService=m.V.get("paidPhotoNotificationLayerService"),t._hotkeyBinder=m.V.get("hotkeyBinder"),t}d()(t,e);var o=t.prototype;return o.search=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.search(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.recommendData=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetAll(),e.prev=1,e.next=4,this._searchPanelLayoutService.recommendData(t,o);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t,o){return e.apply(this,arguments)}}(),o.keywordSearch=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.keywordSearch(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.changeSearchOption=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.changeSearchOption(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.changeSearchType=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.changeSearchType(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.open=function(){this._searchPanelLayoutService.open()},o.close=function(){this._paidPhotoNotificationLayerService.close(),this._searchPanelLayoutService.close()},o.resetAll=function(){this._searchPanelLayoutService.resetAll()},o.insertItem=function(){var e=u()(c.a.mark(function e(t,o){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("photo"!==this._searchPanelLayoutService.getSearchType()){e.next=14;break}return e.next=4,this._isAuthorizedImage(t);case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this._searchPanelLayoutService.itemDataToCompData(t);case 9:return n=e.sent,e.next=12,this._imageBehavior.insertImageFromCompData([n]);case 12:e.next=18;break;case 14:return e.next=16,this._searchPanelLayoutService.itemDataToStore(t);case 16:r=e.sent,this._insertComponent(a()({sourceComponents:[r]},o));case 18:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._insertComponent=function(e){return this._editingService.insert(e)},o.dragStart=function(){var e=u()(c.a.mark(function e(t,o){var n,r,i,a,s,l,u,p,d=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isUnboughtPhoto(o)){e.next=5;break}return t.preventDefault(),this._dragAndDropService.dragStart({event:t,items:[],type:"aside"}),setTimeout(function(){return d._dragAndDropService.drop(null)}),e.abrupt("return");case 5:if(n=this._searchPanelLayoutService.getSearchType(),r=o.provider,i=o.purchased,a=o.free,s=this._searchPanelLayoutService.convertToDragItem(o),this._dragAndDropService.dragStart({event:t,items:[s],type:"aside"}),"photo"!==n){e.next=23;break}if(!i&&r===_.a.OGQ_COMMERCIAL&&!a){e.next=21;break}return e.next=13,this._isAuthorizedImage(o);case 13:if(e.sent){e.next=16;break}return e.abrupt("return");case 16:return l=Object(b.a)({},{fromText:this._i18n("searchPanelLayout:from_text",{username:o.username,providerdisplayname:o.providerDisplayName})},o),e.next=19,this._searchPanelLayoutService.itemDataToCompData(l);case 19:u=e.sent,this._dragAndDropService.setItem(u,"aside");case 21:e.next=28;break;case 23:if("news"===n){e.next=28;break}return e.next=26,this._searchPanelLayoutService.itemDataToStore(o);case 26:p=e.sent,this._dragAndDropService.setItem(p,"aside");case 28:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._isUnboughtPhoto=function(e){var t=this._searchPanelLayoutService.getSearchType(),o=e.purchased,n=e.provider;return"photo"===t&&!1===o&&n===_.a.OGQ_COMMERCIAL},o.nextPage=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.nextPage();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),o.reset=function(){this._searchPanelLayoutService.reset()},o.openDetailLayer=function(e){this._imageDetailLayerService.open(e)},o.updatePaidItem=function(e){this._paidPhotoNotificationLayerService.open(),this._searchPanelLayoutService.updatePaidItem(e)},o.removeItemById=function(e){this._searchPanelLayoutService.removeItemById(e)},o.showWarning=function(e){this._toastLayerService.warningMessage(e)},o._isAuthorizedImage=function(){var e=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.provider!==_.a.OGQ_COMMERCIAL){e.next=7;break}return e.next=4,this._searchPanelLayoutService.authorizedImage(t.id);case 4:if(e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.focusInput=function(){this._hotkeyBinder.pause()},o.blurInput=function(){this._hotkeyBinder.unpause()},o.makeDThumbUrl=function(e){return v.a.makeDthumbHttpsUrl(e)},o.refresh=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._searchPanelLayoutService.updateErrorStatus(!1),e.prev=1,e.next=4,this._searchPanelLayoutService.requestData(this._searchPanelLayoutService.getSearchType(),this._searchPanelLayoutService.getSearchOption());case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o._triggerServerError=function(){this._searchPanelLayoutService.updateErrorStatus(!0),this.showWarning(this._i18n("searchPanelLayout:error_server_data_load"))},o.setSearchedState=function(e){this._searchPanelLayoutService.setSearchedState(e)},t}(m.m),f()(r.prototype,"search",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"search"),r.prototype),f()(r.prototype,"recommendData",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"recommendData"),r.prototype),f()(r.prototype,"keywordSearch",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"keywordSearch"),r.prototype),f()(r.prototype,"changeSearchOption",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeSearchOption"),r.prototype),f()(r.prototype,"changeSearchType",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeSearchType"),r.prototype),f()(r.prototype,"open",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"open"),r.prototype),f()(r.prototype,"close",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),f()(r.prototype,"resetAll",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"resetAll"),r.prototype),f()(r.prototype,"insertItem",[g.preventOnComponentProcessing,n,y.d],Object.getOwnPropertyDescriptor(r.prototype,"insertItem"),r.prototype),f()(r.prototype,"nextPage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"nextPage"),r.prototype),f()(r.prototype,"reset",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),f()(r.prototype,"openDetailLayer",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"openDetailLayer"),r.prototype),f()(r.prototype,"updatePaidItem",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"updatePaidItem"),r.prototype),f()(r.prototype,"removeItemById",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"removeItemById"),r.prototype),f()(r.prototype,"focusInput",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"focusInput"),r.prototype),f()(r.prototype,"blurInput",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"blurInput"),r.prototype),f()(r.prototype,"refresh",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"refresh"),r.prototype),f()(r.prototype,"_triggerServerError",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"_triggerServerError"),r.prototype),r),O=C;t.a=O,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(C,"SearchPanelLayoutUseCase"),e(O,"default")}()},353:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m=o(59),g=o.n(m),y=o(60),b=o.n(y),_=o(1),v=o.n(_),C=o(57),O=o.n(C),S=o(0),k=o.n(S),I=o(49),w=o.n(I),P=(o(61),o(16)),j=o(98),T=o(218),L=o(755),E=o(519),N=o(50),x=o(48),D=o(86),R=["photo","book","movie","broadcast","music","show","shopping","news"],A=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,b()(o,"initialized",r,O()(o)),b()(o,"opened",i,O()(o)),b()(o,"searchOption",a,O()(o)),b()(o,"total",s,O()(o)),b()(o,"next",c,O()(o)),b()(o,"start",l,O()(o)),b()(o,"searchType",u,O()(o)),b()(o,"items",p,O()(o)),b()(o,"isFetchNextPageError",d,O()(o)),b()(o,"errorStatus",h,O()(o)),b()(o,"alreadySearchedState",f,O()(o));var n=t.state,m=void 0===n?{}:n;return o.name="search",o._configAgent=N.V.get("configAgent"),o._searchPanelConfig=o._configAgent.get("productConfig.searchPanel"),o.initialized=Object(P.a)(m,"initialized",o.initialized),o.opened=Object(P.a)(m,"opened",o.opened),o.searchOption=Object(P.a)(m,"searchOption",o.searchOption),o.total=Object(P.a)(m,"total",o.total),o.next=Object(P.a)(m,"next",o.next),o.start=Object(P.a)(m,"start",o.start),o.searchType=Object(P.a)(m,"searchType",Object(P.a)(o._searchPanelConfig,"activate",o.searchType)),o.items=Object(P.a)(m,"items",o.items),o.isFetchNextPageError=Object(P.a)(m,"isFetchNextPageError",o.isFetchNextPageError),o}k()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus=!1},o.update=function(e){this._replaceHttpThumbnailToHttps(e.items),this._update(e)},o.updateErrorStatus=function(e){this.errorStatus=e},o.updateItemById=function(e){var t=e.id,o=e.props,n=this._getPlainItemsAndIndexById(t),r=n.plainItems,i=n.index;r[i]=Object.assign(r[i],o),this.items=r},o.removeItemById=function(e){var t=this._getPlainItemsAndIndexById(e),o=t.plainItems,n=t.index;o.splice(n,1),this.items=o},o._getPlainItemsAndIndexById=function(e){var t=x.f.toJS(this.items);return{plainItems:t,index:Object(j.a)(t,function(t){return t.id===e})}},o.append=function(e){this._replaceHttpThumbnailToHttps(e.items),this._append(e)},o.changeSearchType=function(e){this.searchType=e},o.changeSearchOption=function(e){var t=Object(T.a)(Object(P.a)(e,"keyword",this.searchOption.keyword));this.searchOption=g()({},this.searchOption,e,{keyword:t})},o._update=function(e){Object.assign(this,{next:{}},e),this.initialized=!0},o._replaceHttpThumbnailToHttps=function(e){e.forEach(function(e){if(e.image){e.image=e.image.replace("http://sstatic.naver.net","https://ssl.pstatic.net/sstatic")}})},o._append=function(e){var t=e.items,o=e.searchOption,n=e.next,r=e.total,i=e.isFetchNextPageError;t&&(this.items=this.items.concat(t)),this.next=n,this.total!==r&&(this.total=i?this.total:r),(!o||Object(D.a)(o.keyword,this.searchOption.keyword)&&Object(D.a)(o.orientation,x.f.toJS(this.searchOption.orientation))&&Object(D.a)(o.paid,x.f.toJS(this.searchOption.paid)))&&(this.isFetchNextPageError=!!i)},o.reset=function(){this.initialized=!1,this.items=[],this.total=0,this.start="1",this.next={},this.isFetchNextPageError=!1,this.errorStatus=!1},o.resetAll=function(){this.reset(),this.searchOption={keyword:""},this.searchType=Object(P.a)(this._searchPanelConfig,"activate","photo")},o.getItemByIndex=function(e){return this.items[e]},o.availableMaterials=function(){var e=Object(E.a)(this._searchPanelConfig,function(e,t,o){!t&&R.includes(o)&&e.push(o)},[]);return Object(L.a)(R,e)},o.getPanelConfig=function(e){return Object(P.a)(this._searchPanelConfig,e,{})},o.setSearchedState=function(e){this.alreadySearchedState=e},v()(t,[{key:"item",get:function(){return{initialized:this.initialized,keyword:this.keyword,searchType:this.searchType,searchOption:this.searchOption,total:this.total,next:this.next,items:this.items,isFetchNextPageError:this.isFetchNextPageError}}},{key:"alreadySearched",get:function(){return this.alreadySearchedState}}]),t}(N.w),r=w()(n.prototype,"initialized",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=w()(n.prototype,"opened",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=w()(n.prototype,"searchOption",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{keyword:""}}}),s=w()(n.prototype,"total",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=w()(n.prototype,"next",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=w()(n.prototype,"start",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),u=w()(n.prototype,"searchType",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"photo"}}),p=w()(n.prototype,"items",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=w()(n.prototype,"isFetchNextPageError",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=w()(n.prototype,"errorStatus",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=w()(n.prototype,"alreadySearchedState",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(n.prototype,"item",[x.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n),M=A;t.a=M,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(R,"DEFAULT_ALLOWS_MATERIALS"),e(A,"SearchPanelLayoutStore"),e(M,"default")}()},354:function(e,t,o){"use strict";var n,r,i=o(59),a=o.n(i),s=o(12),c=o.n(s),l=o(18),u=o.n(l),p=o(0),d=o.n(p),h=o(49),f=o.n(h),m=o(50),g=o(51),y=o(48),b=o(120),_=(n=Object(g.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=m.V.get("i18n"),t._momentPanelLayoutService=m.V.get("momentPanelLayoutService"),t._editingService=m.V.get("editingService"),t._toastLayerService=m.V.get("toastLayerService"),t._dragAndDropService=m.V.get("dragAndDropService"),t}d()(t,e);var o=t.prototype;return o.search=function(){var e=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetAll(),e.prev=1,e.next=4,this._momentPanelLayoutService.search(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),o.changeMomentOption=function(e){this._momentPanelLayoutService.changeMomentOption(e)},o.open=function(){this._momentPanelLayoutService.open()},o.close=function(){this._momentPanelLayoutService.close()},o.resetAll=function(){this._momentPanelLayoutService.resetAll()},o.insertItem=function(){var e=u()(c.a.mark(function e(t,o){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._momentPanelLayoutService.itemDataToStore(t);case 2:return n=e.sent,e.abrupt("return",this._editingService.insert(a()({sourceComponents:[n]},o)));case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.dragStart=function(){var e=u()(c.a.mark(function e(t,o){var n,r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.dragType,!(r=o.itemData).isPrivate){e.next=4;break}return this.showWarning(this._i18n("momentPanelLayout:error_drag_private_item")),e.abrupt("return",!1);case 4:return i=this._momentPanelLayoutService.convertToDragItem(r),this._dragAndDropService.dragStart({event:t,items:[i],type:n}),e.next=8,this._momentPanelLayoutService.itemDataToCompData(r);case 8:a=e.sent,this._dragAndDropService.setItem(a,n);case 10:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._momentPanelLayoutService.nextPage();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),o.reset=function(){this._momentPanelLayoutService.reset()},o.removeItemById=function(e){this._momentPanelLayoutService.removeItemById(e)},o.showWarning=function(e){this._toastLayerService.warningMessage(e)},o.makeDThumbUrl=function(e){return b.a.makeDthumbHttpsUrl(e)},o.refresh=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._momentPanelLayoutService.updateErrorStatus(!1),e.prev=1,e.next=4,this._momentPanelLayoutService.search(this._momentPanelLayoutService.getMomentOption());case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o._triggerServerError=function(){this._momentPanelLayoutService.updateErrorStatus(!0),this.showWarning(this._i18n("momentPanelLayout:error_server_data_load"))},t}(m.m),f()(r.prototype,"search",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"search"),r.prototype),f()(r.prototype,"changeMomentOption",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeMomentOption"),r.prototype),f()(r.prototype,"open",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"open"),r.prototype),f()(r.prototype,"close",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),f()(r.prototype,"resetAll",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"resetAll"),r.prototype),f()(r.prototype,"insertItem",[g.preventOnComponentProcessing,n,y.d],Object.getOwnPropertyDescriptor(r.prototype,"insertItem"),r.prototype),f()(r.prototype,"dragStart",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"dragStart"),r.prototype),f()(r.prototype,"nextPage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"nextPage"),r.prototype),f()(r.prototype,"reset",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),f()(r.prototype,"removeItemById",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"removeItemById"),r.prototype),f()(r.prototype,"refresh",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"refresh"),r.prototype),f()(r.prototype,"_triggerServerError",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"_triggerServerError"),r.prototype),r),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"MomentPanelLayoutUseCase"),e(v,"default")}()},355:function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"c",function(){return i}),o.d(t,"b",function(){return a});var n={ORDER:"ordering"},r={ordering:"latest"},i="moment",a=10,s={OPTION_LIST:n,DEFAULT_OPTION:r,MOMENT_TYPE:i,MAX_FETCH_COUNT:a};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"OPTION_LIST"),e(r,"DEFAULT_OPTION"),e(i,"MOMENT_TYPE"),e(a,"MAX_FETCH_COUNT"),e(s,"default")}()},356:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f=o(59),m=o.n(f),g=o(60),y=o.n(g),b=o(1),_=o.n(b),v=o(57),C=o.n(v),O=o(0),S=o.n(O),k=o(49),I=o.n(k),w=(o(61),o(16)),P=o(98),j=o(50),T=o(48),L=o(355),E=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,y()(o,"initialized",r,C()(o)),y()(o,"opened",i,C()(o)),y()(o,"momentOption",a,C()(o)),y()(o,"total",s,C()(o)),y()(o,"next",c,C()(o)),y()(o,"start",l,C()(o)),y()(o,"momentType",u,C()(o)),y()(o,"items",p,C()(o)),y()(o,"isFetchNextPageError",d,C()(o)),y()(o,"errorStatus",h,C()(o));var n=t.state,f=void 0===n?{}:n;return o.name="moment",o._configAgent=j.V.get("configAgent"),o._momentPanelConfig=o._configAgent.get("productConfig.momentPanel"),o.initialized=Object(w.a)(f,"initialized",o.initialized),o.opened=Object(w.a)(f,"opened",o.opened),o.momentOption=Object(w.a)(f,"momentOption",o.momentOption),o.total=Object(w.a)(f,"total",o.total),o.next=Object(w.a)(f,"next",o.next),o.start=Object(w.a)(f,"start",o.start),o.momentType=Object(w.a)(f,"momentType",Object(w.a)(o._momentPanelConfig,"activate",o.momentType)),o.items=Object(w.a)(f,"items",o.items),o.isFetchNextPageError=Object(w.a)(f,"isFetchNextPageError",o.isFetchNextPageError),o}S()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus=!1},o.update=function(e){this._replaceHttpThumbnailToHttps(e.items),this._update(e)},o.updateErrorStatus=function(e){this.errorStatus=e},o.updateItemById=function(e){var t=e.id,o=e.props,n=this._getPlainItemsAndIndexById(t),r=n.plainItems,i=n.index;r[i]=Object.assign(r[i],o),this.items=r},o.removeItemById=function(e){var t=this._getPlainItemsAndIndexById(e),o=t.plainItems,n=t.index;o.splice(n,1),this.items=o},o._getPlainItemsAndIndexById=function(e){var t=T.f.toJS(this.items);return{plainItems:t,index:Object(P.a)(t,function(t){return t.id===e})}},o.append=function(e){this._replaceHttpThumbnailToHttps(e.items),this._append(e)},o.changeMomentOption=function(e){this.items=[],this.momentOption=m()({},this.momentOption,e)},o._update=function(e){Object.assign(this,{next:{}},e),this.initialized=!0,this.isFetchNextPageError=!1},o._replaceHttpThumbnailToHttps=function(e){e.forEach(function(e){if(e.image){e.image.url=e.image.url.replace("http://sstatic.naver.net","https://ssl.pstatic.net/sstatic")}})},o._append=function(e){var t=e.items,o=e.next,n=e.total,r=e.isFetchNextPageError;t&&(this.items=this.items.concat(t)),this.next=o,this.total!==n&&(this.total=r?this.total:n),this.isFetchNextPageError=!!r},o.reset=function(){this.initialized=!1,this.items=[],this.total=0,this.start="1",this.next={},this.isFetchNextPageError=!1,this.errorStatus=!1},o.resetAll=function(){this.reset(),this.momentOption=L.a,this.momentType=Object(w.a)(this._momentPanelConfig,"activate","moment")},o.getItemByIndex=function(e){return this.items[e]},o.getPanelConfig=function(e){return Object(w.a)(this._momentPanelConfig,e,{})},_()(t,[{key:"item",get:function(){return{initialized:this.initialized,momentType:this.momentType,momentOption:this.momentOption,total:this.total,next:this.next,items:this.items,isFetchNextPageError:this.isFetchNextPageError}}}]),t}(j.w),r=I()(n.prototype,"initialized",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=I()(n.prototype,"opened",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=I()(n.prototype,"momentOption",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.a}}),s=I()(n.prototype,"total",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=I()(n.prototype,"next",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=I()(n.prototype,"start",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),u=I()(n.prototype,"momentType",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.c}}),p=I()(n.prototype,"items",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=I()(n.prototype,"isFetchNextPageError",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=I()(n.prototype,"errorStatus",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I()(n.prototype,"item",[T.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n),N=E;t.a=N,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(E,"MomentPanelLayoutStore"),e(N,"default")}()},357:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(51),f=o(48),m=o(358),g=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=d.V.get("editingService"),t._stickerPanelLayoutService=d.V.get("stickerPanelLayoutService"),t._documentToolbarLayoutService=d.V.get("documentToolbarLayoutService"),t._toastLayerService=d.V.get("toastLayerService"),t._storageService=d.V.get("storageService"),t._dragAndDropService=d.V.get("dragAndDropService"),t._localStorageKey="STICKER_PANEL//STORAGE",t._i18n=d.V.get("i18n"),t}l()(t,e);var o=t.prototype;return o.closeStickerRefreshLayer=function(){this._stickerPanelLayoutService.closeRefreshPanel()},o.refreshSticker=function(){var e=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._stickerPanelLayoutService.closeRefreshPanel(),e.prev=1,e.next=4,this._stickerPanelLayoutService.updateCategory();case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed,this._stickerPanelLayoutService.updateErrorStatus(!0),this._toastLayerService.warningMessage(this._i18n("stickerPanelLayout:error_server_data_load"));case 11:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o.loadInitializeData=function(){var e=s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._storageService.getStorageData(this._localStorageKey),e.prev=1,e.next=4,this._stickerPanelLayoutService.loadInitializeData(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerErrorToast();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o.clickMarketLink=function(){this._stickerPanelLayoutService.openRefreshPanel(m.a.BUY_STICKER)},o.clickStickerSettings=function(){this._stickerPanelLayoutService.openRefreshPanel(m.a.CHANGE_SETTING)},o.open=function(){this._stickerPanelLayoutService.open()},o.close=function(){this._stickerPanelLayoutService.close()},o.dragStart=function(e,t){var o=this._stickerPanelLayoutService.getStickerCompData(t);this._dragAndDropService.dragStart({event:e,items:[o],type:"aside",dropCallback:this._handleDropCallback.bind(this,t)})},o._handleDropCallback=function(e){this._pushUsedSticker(e)},o.updateStickerPack=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._stickerPanelLayoutService.updateStickerPack(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerErrorToast();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),o.updateUsedStickerPack=function(){var e=this._storageService.getStorageData(this._localStorageKey);this._stickerPanelLayoutService.updateUsedStickerPack(e)},o.insertSticker=function(e){var t=this._stickerPanelLayoutService.insertItem(e);this._editingService.insert({sourceComponents:[t]}),this._pushUsedSticker(e)},o._pushUsedSticker=function(e){var t=this._storageService.getStorageData(this._localStorageKey)||[],o=this._stickerPanelLayoutService.getUsedStickerList(t,e);this._storageService.setStorageData(this._localStorageKey,o)},o.refresh=function(){this._stickerPanelLayoutService.updateErrorStatus(!1),this.loadInitializeData()},o._triggerErrorToast=function(){this._stickerPanelLayoutService.updateErrorStatus(!0),this._toastLayerService.warningMessage(this._i18n("stickerPanelLayout:error_server_data_load"))},t}(d.m),p()(n.prototype,"loadInitializeData",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"loadInitializeData"),n.prototype),p()(n.prototype,"clickMarketLink",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"clickMarketLink"),n.prototype),p()(n.prototype,"clickStickerSettings",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"clickStickerSettings"),n.prototype),p()(n.prototype,"open",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),p()(n.prototype,"close",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"dragStart",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"dragStart"),n.prototype),p()(n.prototype,"updateStickerPack",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"updateStickerPack"),n.prototype),p()(n.prototype,"updateUsedStickerPack",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"updateUsedStickerPack"),n.prototype),p()(n.prototype,"insertSticker",[h.preventOnComponentProcessing,h.history,f.d],Object.getOwnPropertyDescriptor(n.prototype,"insertSticker"),n.prototype),p()(n.prototype,"refresh",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"refresh"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(g,"StickerPanelLayoutUseCase"),e(y,"default")}()},358:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n="sticker-refresh-layer//",r={BUY_STICKER:n+"buySticker",CHANGE_SETTING:n+"changeSetting"},i={RefreshTypes:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"NAMESPACE"),e(r,"RefreshTypes"),e(i,"default")}()},359:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p=o(60),d=o.n(p),h=o(1),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(49),v=o.n(_),C=(o(61),o(16)),O=o(77),S=o(98),k=o(50),I=o(48),w=o(358),P={HEIGHT_PER_ICON:74,FIRST_X_POSITION:0,SECOND_X_POSITION:82,THIRD_X_POSITION:160,ICON_LENGTH_PER_LINE:3},j=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,d()(o,"opened",r,g()(o)),d()(o,"initialized",i,g()(o)),d()(o,"categoryInfo",a,g()(o)),d()(o,"stickerPack",s,g()(o)),d()(o,"activeIndex",c,g()(o)),d()(o,"errorStatus",l,g()(o)),d()(o,"refreshType",u,g()(o));var n=t.state,p=void 0===n?{}:n;return o.name="sticker",o.opened=Object(C.a)(p,"opened",o.opened),o.initialized=Object(C.a)(p,"initialized",o.initialized),o.categoryInfo=Object(C.a)(p,"categoryInfo",o.categoryInfo),o.stickerPack=Object(C.a)(p,"stickerPack",o.stickerPack),o.activeIndex=Object(C.a)(p,"activeIndex",o.activeIndex),o}b()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus=!1,this.refreshType=""},o.updateErrorStatus=function(e){this.errorStatus=e},o.updateCategory=function(e){this._updateCategory(e),this.initialized=!0},o.updateStickerPack=function(e){var t=e.stickerPack,o=e.packCode;this._updateStickerPack(t),this._updateActiveIndexByPackCode(o)},o.updateActiveIndexByPackCode=function(e){this._updateActiveIndexByPackCode(e)},o.updateUsedStickerPack=function(e){this._updateStickerPack(e),this._updateActiveIndexByPackCode("used")},o._updateActiveIndexByPackCode=function(e){var t=this._getPackIndexByPackCode(e);this.activeIndex=t},o._updateCategory=function(e){this.categoryInfo=e},o._updateStickerPack=function(e){this.stickerPack=e},o._getPackIndexByPackCode=function(e){return Object(S.a)(this.categoryInfo.list,function(t){return t.packCode===e})},o._getStickerXPosition=function(e){var t=P.FIRST_X_POSITION,o=P.SECOND_X_POSITION,n=P.THIRD_X_POSITION;switch(e){case 0:return t;case 1:return o;case 2:return n}},o.openRefreshPanel=function(e){e===w.a.BUY_STICKER||e===w.a.CHANGE_SETTING?this.refreshType=e:this.refreshType=""},o.closeRefreshPanel=function(){this.refreshType=""},f()(t,[{key:"categoryList",get:function(){var e=this.categoryInfo.info;return Object(O.a)(this.categoryInfo.list,function(t){var o=e.domain+"/"+t.packCode;return{packCode:t.packCode,isAnimated:t.isAnimated,activeIcon:o+"/"+e.tabOnName,inactiveIcon:o+"/"+e.tabOffName,stickerPackImage:o+"/"+e.previewName}})}},{key:"stickerList",get:function(){var e=this,t=this.categoryInfo.info,o=t.domain,n=t.previewName,r=P.HEIGHT_PER_ICON,i=P.ICON_LENGTH_PER_LINE;return Object(O.a)(this.stickerPack,function(t){var a=t.packCode,s=t.seq,c=t.stickerInfo,l=t.animated,u=o+"/"+a+"/"+n,p=(s-1)%i,d=-e._getStickerXPosition(p),h=-Math.floor((s-1)/i)*r,f=c.originalUrl+"?"+c.type.animated;return{packCode:a,stickerCode:c.stickerCode,seq:s,animated:l,animatedUrl:f,url:u,backgroundPosition:d+"px "+h+"px"}})}}]),t}(k.w),r=v()(n.prototype,"opened",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=v()(n.prototype,"initialized",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=v()(n.prototype,"categoryInfo",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{info:{},list:[]}}}),s=v()(n.prototype,"stickerPack",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=v()(n.prototype,"activeIndex",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=v()(n.prototype,"errorStatus",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=v()(n.prototype,"refreshType",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v()(n.prototype,"categoryList",[I.e],Object.getOwnPropertyDescriptor(n.prototype,"categoryList"),n.prototype),v()(n.prototype,"stickerList",[I.e],Object.getOwnPropertyDescriptor(n.prototype,"stickerList"),n.prototype),n),T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(P,"IconStyle"),e(j,"StickerPanelLayoutStore"),e(T,"default")}()},360:function(e,t,o){"use strict";var n,r,i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(49),f=o.n(h),m=o(64),g=o(51),y=o(48),b=o(50),_=(n=Object(g.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=b.V.get("i18n"),t._componentListStore=b.V.get("componentListStore"),t._libraryPanelLayoutService=b.V.get("libraryPanelLayoutService"),t._imageDetailLayerService=b.V.get("imageDetailLayerService"),t._editingService=b.V.get("editingService"),t._dragAndDropService=b.V.get("dragAndDropService"),t._imageBehavior=b.V.get("imageBehavior"),t._toastLayerService=b.V.get("toastLayerService"),t._documentService=b.V.get("documentService"),t._eventDispatcherService=b.V.get("eventDispatcherService"),t._documentToolbarLayoutService=b.V.get("documentToolbarLayoutService"),t._stickerRefreshLayerService=b.V.get("stickerRefreshLayerService"),t._panelContainerLayerService=b.V.get("panelContainerLayerService"),t._eventDispatcherService.on(b.z.DOCUMENT_LOADED,t._documentLoaded.bind(u()(t))),t._eventDispatcherService.on(b.z.DOCUMENT_CHANGED,t._documentChanged.bind(u()(t))),t}d()(t,e);var o=t.prototype;return o.open=function(){this._libraryPanelLayoutService.open()},o.close=function(){this._libraryPanelLayoutService.close()},o.updateMediaList=function(){this._libraryPanelLayoutService.updateMediaList()},o._getLibraryItems=function(){return this._libraryPanelLayoutService.getLibraryItems()},o._isNewDocument=function(){return this._documentService.getDocumentStatus()===b.v.NORMAL},o._autoPopup=function(){this._libraryPanelLayoutService.isTimeToAutoPopup(this._isNewDocument())&&this._panelContainerLayerService.getPanelType()===b.L.SIDEBAR&&(this._libraryPanelLayoutService.openTab("current_document"),this._documentToolbarLayoutService.setPanelButtonEnable("library",!0),this._panelContainerLayerService.openPanel("library"))},o._documentLoaded=function(){var e=this;setTimeout(function(){e.updateMediaList(),e._libraryItems=e._getLibraryItems()},0)},o._documentChanged=function(){this.updateMediaList(),this._autoPopup(),this._libraryItems=this._getLibraryItems()},o.removeItemBy=function(e){var t=this._libraryPanelLayoutService.getSyncUnitList(e);t.length&&this._editingService.eraseUnit(t),this._libraryPanelLayoutService.removeItemBy(e)},o.dragStart=function(){var e=c()(a.a.mark(function e(t,o){var n,r,i,s,c,l,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.dragType,r=o.itemIndex,i=o.itemData,this._dragAndDropService.dragStart({event:t,items:[i],type:n}),"purchased_list"!==(s=this._libraryPanelLayoutService.getLibraryType())){e.next=11;break}return c=Object(m.a)({},{fromText:this._i18n("libraryPanelLayout:from_text",{username:i.username,providerdisplayname:i.providerDisplayName})},i),e.next=7,this._libraryPanelLayoutService.itemDataToCompData(c);case 7:l=e.sent,this._dragAndDropService.setItem(l,n),e.next=16;break;case 11:if("current_document"!==s){e.next=16;break}return e.next=14,this._libraryPanelLayoutService.getCompData(r);case 14:u=e.sent,this._dragAndDropService.setItem(u,n);case 16:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.changeLibraryType=function(e,t){this._libraryPanelLayoutService.changeLibraryType(e,t)},o.changeOrderOption=function(e){this._libraryPanelLayoutService.changeOrderOption(e)},o.setRepresentativeImage=function(e){var t=this._libraryPanelLayoutService.getSyncUnitList(e)[0];b.V.get("representativeImageService").setRepresentativeImage(t),this._libraryPanelLayoutService.updateMediaList()},o.insertItem=function(){var e=c()(a.a.mark(function e(t){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._libraryPanelLayoutService.itemDataToCompData(t);case 2:return o=e.sent,e.next=5,this._imageBehavior.insertImageFromCompData([o]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=c()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._libraryPanelLayoutService.nextPage();case 2:(t=e.sent)&&this.showWarning(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.openDetailLayer=function(e){this._imageDetailLayerService.open(e)},o.showWarning=function(e){this._toastLayerService.warningMessage(e)},t}(b.m),f()(r.prototype,"open",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"open"),r.prototype),f()(r.prototype,"close",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),f()(r.prototype,"updateMediaList",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"updateMediaList"),r.prototype),f()(r.prototype,"removeItemBy",[g.history,y.d],Object.getOwnPropertyDescriptor(r.prototype,"removeItemBy"),r.prototype),f()(r.prototype,"dragStart",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"dragStart"),r.prototype),f()(r.prototype,"changeLibraryType",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeLibraryType"),r.prototype),f()(r.prototype,"changeOrderOption",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeOrderOption"),r.prototype),f()(r.prototype,"setRepresentativeImage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"setRepresentativeImage"),r.prototype),f()(r.prototype,"insertItem",[n,y.d],Object.getOwnPropertyDescriptor(r.prototype,"insertItem"),r.prototype),f()(r.prototype,"nextPage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"nextPage"),r.prototype),f()(r.prototype,"openDetailLayer",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"openDetailLayer"),r.prototype),r),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"LibraryPanelLayoutUseCase"),e(v,"default")}()},361:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m=o(59),g=o.n(m),y=o(60),b=o.n(y),_=o(1),v=o.n(_),C=o(57),O=o.n(C),S=o(0),k=o.n(S),I=o(49),w=o.n(I),P=(o(61),o(16)),j=o(77),T=o(1040),L=o(1039),E=o(185),N=o(102),x=o(1194),D=o(117),R=o(110),A=o(50),M=o(48),B=o(28),U=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,b()(o,"opened",r,O()(o)),b()(o,"initialized",i,O()(o)),b()(o,"libraryKeyList",a,O()(o)),b()(o,"libraryDataMap",s,O()(o)),b()(o,"libraryType",c,O()(o)),b()(o,"items",l,O()(o)),b()(o,"orderOption",u,O()(o)),b()(o,"total",p,O()(o)),b()(o,"next",d,O()(o)),b()(o,"start",h,O()(o)),b()(o,"isFetchNextPageError",f,O()(o)),o.autoPopupMode=B.b.DEFAULT;var n=t.state,m=void 0===n?{}:n;o._configAgent=A.V.get("configAgent"),o._libraryConfig=o._configAgent.get("productConfig.libraryPanel"),o._thumbnailTypeMap=o._configAgent.get("editorInfo.thumbnailType"),o.name="library",o.opened=Object(P.a)(m,"opened",o.opened),o.initialized=Object(P.a)(m,"initialized",o.initialized),o.libraryKeyList=Object(P.a)(m,"libraryKeyList",o.libraryKeyList),o.libraryDataMap=Object(P.a)(m,"libraryDataMap",o.libraryDataMap),o.libraryType=Object(P.a)(m,"libraryType",o.libraryType),o.orderOption=Object(P.a)(m,"orderOption",o.orderOption),o.total=Object(P.a)(m,"total",o.total),o.next=Object(P.a)(m,"next",o.next),o.start=Object(P.a)(m,"start",o.start),o.items=Object(P.a)(m,"items",o.items),o.isFetchNextPageError=Object(P.a)(m,"isFetchNextPageError",o.isFetchNextPageError),o.librarySrcMap={},o._availableLibrary=["current_document"];var g=!1===o._libraryConfig?B.b.INACTIVE:Object(P.a)(o._libraryConfig,"autoPopup",o.autoPopupMode);return Object(R.a)(B.b,g)&&(o.autoPopupMode=g),!1!==Object(P.a)(o._libraryConfig,"purchase")&&o._availableLibrary.push("purchased_list"),o}k()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o.update=function(e){this._update(e)},o.append=function(e){this._append(e)},o.changeLibraryType=function(e){this.libraryType=e},o.changeOrderOption=function(e){this.items=[],this.orderOption=g()({},this.orderOption,e)},o.reset=function(){this.initialized=!1,this.items=[],this.total=0,this.start="1",this.next={},this.isFetchNextPageError=!1},o._update=function(e){Object.assign(this,{next:{}},e),this.initialized=!0},o._append=function(e){e.items&&(this.items=this.items.concat(e.items)),this.next=e.next,this.isFetchNextPageError=!!e.isFetchNextPageError},o.updateMediaList=function(e,t){var o=this._refineNewMediaDataMap(e,t);this._updateLibraryKeyList(o),this._updateLibraryDataMap(o),this.initialized=!0},o.removeItemByIndex=function(e){var t=this.libraryKeyList.splice(e,1);Object(L.a)(this.libraryDataMap,t)},o._refineNewMediaDataMap=function(e,t){var o=this;return Object.keys(this.librarySrcMap).length?(Object.keys(t).forEach(function(e){var t=o.librarySrcMap[e];o.libraryKeyList.forEach(function(e,n){e===t&&o.removeItemByIndex(n)})}),this.librarySrcMap=t,Object(T.a)(e,"key")):(this.librarySrcMap=t,Object(T.a)(e,"key"))},o._updateLibraryKeyList=function(e){this.libraryKeyList=Object(E.a)(this.libraryKeyList.concat(Object(N.a)(e)))},o._updateLibraryDataMap=function(e){var t=this;this.libraryDataMap=Object(x.a)(this.libraryKeyList,Object(j.a)(this.libraryKeyList,function(o){var n=Object(P.a)(e,o,[]);if(0===n.length)return t.libraryDataMap[o].syncUnitList=[],Object.assign(t.libraryDataMap[o],{syncUnitList:[]});var r=e[o],i=Object(D.a)(r),a=r.some(function(e){var o=!0===t._configAgent.get("productConfig.representativeEnabled");return!0===e.data.represent&&o}),s=Object(P.a)(i,"data"),c=Object(P.a)(i,"thumbnail");if(["image","video","imageNode"].includes(s.ctype)&&(s.represent=a),["image","imageNode"].includes(s.ctype)){var l=s.domain,u=s.path,p=t._thumbnailTypeMap.normal,d=t._thumbnailTypeMap.small;c=d?""+l+u+"?type="+d:""+l+u+"?type="+p}var h=Object(j.a)(n,function(e){return{compId:e.id,unitId:Object(P.a)(e,"data.id",e.id),paraId:Object(P.a)(e,"data.paraId"),nodeId:Object(P.a)(e,"data.nodeId")}});return{type:Object(P.a)(i,"data.ctype"),thumbnail:c,baseCompData:s,syncUnitList:h}}))},o.getItemByIndex=function(e){var t=M.f.toJS(Object(P.a)(this.libraryItemList,e));return Object(L.a)(t,"baseCompData.id"),t},o.getLibraryItems=function(){return this.libraryItemList},o.availableLibrary=function(){return this._availableLibrary},v()(t,[{key:"libraryItemList",get:function(){var e=this;return Object(j.a)(this.libraryKeyList,function(t){return Object(P.a)(e.libraryDataMap,t)})}},{key:"showPurchaseBanner",get:function(){return!1!==Object(P.a)(this._libraryConfig,"purchase.banner")}},{key:"item",get:function(){return{initialized:this.initialized,orderOption:this.orderOption,total:this.total,next:this.next,items:this.items,isFetchNextPageError:this.isFetchNextPageError}}}]),t}(A.w),r=w()(n.prototype,"opened",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=w()(n.prototype,"initialized",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=w()(n.prototype,"libraryKeyList",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=w()(n.prototype,"libraryDataMap",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=w()(n.prototype,"libraryType",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"current_document"}}),l=w()(n.prototype,"items",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=w()(n.prototype,"orderOption",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ordering:"latest"}}}),p=w()(n.prototype,"total",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=w()(n.prototype,"next",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=w()(n.prototype,"start",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),f=w()(n.prototype,"isFetchNextPageError",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(n.prototype,"libraryItemList",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"libraryItemList"),n.prototype),w()(n.prototype,"item",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n),V=U;t.a=V,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(U,"LibraryPanelLayoutStore"),e(V,"default")}()},362:function(e,t,o){"use strict";var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(49),h=o.n(d),f=o(50),m=o(48),g=o(51),y=o(253),b=(n=Object(g.history)({sync:!1}),r=Object(g.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._templatePanelLayoutService=f.V.get("templatePanelLayoutService"),t._editingService=f.V.get("editingService"),t._canvasScrollingService=f.V.get("canvasScrollingService"),t._toastLayerService=f.V.get("toastLayerService"),t._loadingLayerService=f.V.get("loadingLayerService"),t._documentToolbarLayoutService=f.V.get("documentToolbarLayoutService"),t._loadingProgressLayoutService=f.V.get("loadingProgressLayoutService"),t._documentValidateService=f.V.get("documentValidateService"),t._i18n=f.V.get("i18n"),t._documentService=f.V.get("documentService"),t._dragAndDropService=f.V.get("dragAndDropService"),t._eventDispatcherService=f.V.get("eventDispatcherService"),t}p()(t,e);var o=t.prototype;return o.insertPartTemplate=function(e){var t=this._templatePanelLayoutService.getPartTemplateData(e),o=this._documentService.convertComponents(t),n=this._templatePanelLayoutService.getPartTemplateComponentList(o);n&&this._editingService.append({sourceComponents:n,followCurrentAlign:!1})},o.applyTemplate=function(e,t){switch(t){case y.a.RECOMMEND:this.applyRecommendTemplate(e);break;case y.a.MY:this.applyMyTemplate(e);break;case y.a.PART:this.insertPartTemplate(e)}return!0},o.applyRecommendTemplate=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyTemplateAfterCheck("applyRecommendTemplate",t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.applyMyTemplate=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyTemplateAfterCheck("applyMyTemplate",t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.addMyTemplate=function(){var e=l()(s.a.mark(function e(){var t,o,n,r,i,a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._documentService.getDocumentData(),e.next=3,this._documentValidateService.validateAsync(t.document);case 3:if(!1!==(o=e.sent).valid){e.next=7;break}return this._showInvalidDocumentWarn(o),e.abrupt("return");case 7:return this._documentService.hasVideoComponent()&&(n=this._i18n("templatePanelLayout:save_my_template_without_video"),this._toastLayerService.infoMessage(n)),this._loadingProgressLayoutService.show(),e.prev=10,r=this._i18n("templatePanelLayout:info_save_my_template"),e.next=14,this._templatePanelLayoutService.addMyTemplate(t);case 14:return i=e.sent,a=i.message,c=void 0===a?null:a,this._toastLayerService.infoMessage(c||r),e.next=20,this._templatePanelLayoutService.loadMyTemplateList();case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(10),e.t0.failed&&this._triggerServerError();case 26:return e.prev=26,this._loadingProgressLayoutService.hide(),e.finish(26);case 29:case"end":return e.stop()}},e,this,[[10,22,26,29]])}));return function(){return e.apply(this,arguments)}}(),o._showInvalidDocumentWarn=function(e){var t="";switch(e.reason){case f.S.TITLE_REQUIRED:t=this._i18n("documentValidate:warn_title_required"),this._canvasScrollingService.focusTitle();break;case f.S.CONTENT_REQUIRED:t=this._i18n("documentValidate:warn_contents_required"),this._canvasScrollingService.focusToFirstComp();break;case f.S.TITLE_CONTENT_REQUIRED:t=this._i18n("documentValidate:warn_title_contents_required"),this._canvasScrollingService.focusTitle()}t&&this._showWarning(t)},o.deleteMyTemplate=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==confirm(this._i18n("templatePanelLayout:confirm_to_delete_my_template"))){e.next=2;break}return e.abrupt("return");case 2:return this._loadingProgressLayoutService.show(),e.prev=3,e.next=6,this._templatePanelLayoutService.deleteMyTemplate(t);case 6:return e.next=8,this._templatePanelLayoutService.loadMyTemplateList();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.failed&&this._triggerServerError();case 14:return e.prev=14,this._loadingProgressLayoutService.hide(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[3,10,14,17]])}));return function(t){return e.apply(this,arguments)}}(),o.dragStart=function(e,t){var o=this._templatePanelLayoutService.getPartTemplateData(t),n=this._documentService.convertComponents(o);this._dragAndDropService.dragStart({event:e,items:n,type:"template"})},o.open=function(){this._templatePanelLayoutService.open()},o.close=function(){this._templatePanelLayoutService.close()},o.loadRecommendList=function(){var e=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._templatePanelLayoutService.showLoadingIcon(),e.next=4,this._templatePanelLayoutService.loadRecommendList();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 10:return e.prev=10,this._templatePanelLayoutService.hideLoadingIcon(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),o.loadPartTemplateList=function(){var e=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._templatePanelLayoutService.showLoadingIcon(),e.next=4,this._templatePanelLayoutService.loadPartTemplateList();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 10:return e.prev=10,this._templatePanelLayoutService.hideLoadingIcon(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),o.loadMyTemplateList=function(){var e=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._templatePanelLayoutService.showLoadingIcon(),e.next=4,this._templatePanelLayoutService.loadMyTemplateList();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 10:return e.prev=10,this._templatePanelLayoutService.hideLoadingIcon(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),o.changeTemplateType=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._templatePanelLayoutService.changeTemplateType(t),e.t0=t,e.next=e.t0===y.a.RECOMMEND?4:e.t0===y.a.MY?7:e.t0===y.a.PART?10:13;break;case 4:return e.next=6,this.loadRecommendList();case 6:return e.abrupt("break",13);case 7:return e.next=9,this.loadMyTemplateList();case 9:return e.abrupt("break",13);case 10:return e.next=12,this.loadPartTemplateList();case 12:return e.abrupt("break",13);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._showWarning=function(e){this._toastLayerService.warningMessage(e)},o._applyTemplateAfterCheck=function(){var e=l()(s.a.mark(function e(t,o){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadingLayerService.open(),e.next=3,this._applyTemplate(t,o);case 3:this._loadingLayerService.close();case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._applyTemplate=function(){var e=l()(s.a.mark(function e(t,o){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._templatePanelLayoutService[t](o);case 2:(n=e.sent)&&(this._documentService.setDocumentData(n),this._canvasScrollingService.focusToInitialCursorIndex());case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._triggerServerError=function(){this.updateErrorStatus(!0),this._showWarning(this._i18n("templatePanelLayout:error_load_data"))},o.updateErrorStatus=function(e){this._templatePanelLayoutService.updateErrorStatus(e)},t}(f.m),h()(i.prototype,"insertPartTemplate",[g.preventOnComponentProcessing,g.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"insertPartTemplate"),i.prototype),h()(i.prototype,"applyRecommendTemplate",[n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"applyRecommendTemplate"),i.prototype),h()(i.prototype,"applyMyTemplate",[r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"applyMyTemplate"),i.prototype),h()(i.prototype,"addMyTemplate",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"addMyTemplate"),i.prototype),h()(i.prototype,"deleteMyTemplate",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"deleteMyTemplate"),i.prototype),h()(i.prototype,"dragStart",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"dragStart"),i.prototype),h()(i.prototype,"open",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"open"),i.prototype),h()(i.prototype,"close",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),h()(i.prototype,"loadRecommendList",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"loadRecommendList"),i.prototype),h()(i.prototype,"loadPartTemplateList",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"loadPartTemplateList"),i.prototype),h()(i.prototype,"loadMyTemplateList",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"loadMyTemplateList"),i.prototype),h()(i.prototype,"changeTemplateType",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"changeTemplateType"),i.prototype),h()(i.prototype,"updateErrorStatus",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"updateErrorStatus"),i.prototype),i),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(b,"TemplatePanelLayoutUseCase"),e(_,"default")}()},363:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p=o(60),d=o.n(p),h=o(57),f=o.n(h),m=o(0),g=o.n(m),y=o(49),b=o.n(y),_=(o(61),o(16)),v=o(97),C=o(153),O=o(64),S=o(50),k=o(48),I=o(253),w=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,d()(o,"initialized",r,f()(o)),d()(o,"opened",i,f()(o)),d()(o,"isLoading",a,f()(o)),d()(o,"errorStatus",s,f()(o)),d()(o,"total",c,f()(o)),d()(o,"selectedTemplateType",l,f()(o)),d()(o,"items",u,f()(o)),o.usePreview=!0;var n=t,p=n.state,h=void 0===p?{}:p,m=n.config,g=void 0===m?{}:m;return o._configAgent=S.V.get("configAgent"),o._panelConfig=o._configAgent.get("productConfig.templatePanel")||{},o._availableTemplates=Object(C.a)([I.a.RECOMMEND,I.a.PART,I.a.MY],function(e){return!1!==o._panelConfig[e]}),o.name="template",o.initialized=Object(_.a)(h,"initialized",o.initialized),o.opened=Object(_.a)(h,"opened",o.opened),o.isLoading=Object(_.a)(h,"isLoading",o.isLoading),o.total=Object(_.a)(h,"total",o.total),o.selectedTemplateType=Object(_.a)(o._panelConfig,"activate",o._availableTemplates[0]),o.items=Object(_.a)(h,"items",o.items),o.usePreview=Object(_.a)(g,"usePreview",o.usePreview),o}g()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus&&(this.initialized=!1,this.errorStatus=!1)},o.showLoadingIcon=function(){this.isLoading=!0},o.hideLoadingIcon=function(){this.isLoading=!1},o.update=function(e,t){this._update(e,t)},o.changeTemplateType=function(e){this.selectedTemplateType=e},o.getItemById=function(e){var t=this.toValidJSON().items[this.selectedTemplateType];return Object(v.a)(t,{templateNo:parseInt(e)})},o.updateErrorStatus=function(e){this.errorStatus=e},o._update=function(e,t){var o;void 0===t&&(t=this.selectedTemplateType);var n=e.items,r=e.totalCount;Object.assign(this,{items:Object(O.a)({},(o={},o[t]=n,o),this.items),total:r})},o.initialize=function(){this.initialized=!0},o.availableTemplates=function(){return this._availableTemplates},o.reset=function(){Object.assign(this,{initialized:!1,total:0,items:{recommend:[],part:[],my:[]},errorStatus:!1})},t}(S.w),r=b()(n.prototype,"initialized",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=b()(n.prototype,"opened",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=b()(n.prototype,"isLoading",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=b()(n.prototype,"errorStatus",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=b()(n.prototype,"total",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=b()(n.prototype,"selectedTemplateType",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"recommend"}}),u=b()(n.prototype,"items",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{recommend:[],part:[],my:[]}}}),n),P=w;t.a=P,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(w,"TemplatePanelLayoutStore"),e(P,"default")}()},364:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(48),f=o(51),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._linkLayerService=d.V.get("linkLayerService"),t._crawlerService=d.V.get("crawlerService"),t._editingService=d.V.get("editingService"),t}l()(t,e);var o=t.prototype;return o.updatePreview=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._beforeUpdatePreview(),e.next=3,this._crawlerService.crawlFrom(t);case 3:o=e.sent,this._linkLayerService.updatePreview(o),this._linkLayerService.setLoading(!1);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._beforeUpdatePreview=function(){this._linkLayerService.setLoading(!0)},o.changeToTextLayout=function(){this._linkLayerService.changeToTextLayout()},o.insertComponent=function(e){this._editingService.insert({sourceComponents:[e]})},o.close=function(){this._linkLayerService.close()},o.resetLinkLayer=function(){this._linkLayerService.reset()},t}(d.m),p()(n.prototype,"changeToTextLayout",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeToTextLayout"),n.prototype),p()(n.prototype,"insertComponent",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"insertComponent"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"resetLinkLayer",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"resetLinkLayer"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"LinkLayerUseCase"),e(g,"default")}()},365:function(e,t,o){"use strict";o.d(t,"a",function(){return y});var n,r,i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=o(50),f=o(48),m=o(51),g=o(366),y=(n=Object(m.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=h.V.get("configAgent"),t._cloudSnsLayerService=h.V.get("cloudSnsLayerService"),t._imageTypeLayerService=h.V.get("imageTypeLayerService"),t._canvasLayoutService=h.V.get("canvasLayoutService"),t._imageBehavior=h.V.get("imageBehavior"),t._complexImageLayoutsEnabled=t._configAgent.get("productConfig.complexImageLayoutsEnabled"),t}u()(t,e);var o=t.prototype;return o.close=function(){this._cloudSnsLayerService.close()},o.openCloudSNSWindowPopup=function(){var e=c()(a.a.mark(function e(t){var o,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cloudSnsLayerService.openCloudSNSWindowPopup({type:t});case 2:return o=e.sent,n=t||"ncloud",e.next=6,this._insertImageFromUrls(n,o);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertImageFromUrls=function(){var e=c()(a.a.mark(function e(t,o){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length,!this._canUseComplexLayouts(n)){e.next=5;break}this._imageTypeLayerService.open({type:g.a.SNS,payload:o,serviceType:t}),e.next=7;break;case 5:return e.next=7,this._imageBehavior.insertImageFromUrls(o,t);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._canUseComplexLayouts=function(e){return e>1&&this._complexImageLayoutsEnabled},t}(h.m),d()(r.prototype,"close",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),d()(r.prototype,"openCloudSNSWindowPopup",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"openCloudSNSWindowPopup"),r.prototype),d()(r.prototype,"_insertImageFromUrls",[n,f.d],Object.getOwnPropertyDescriptor(r.prototype,"_insertImageFromUrls"),r.prototype),r);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/use-case/index.js",localName:t}})}catch(e){}}(y,"CloudSnsLayerUseCase")}()},366:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={SNS:"sns",FILE:"file"};!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/consts/index.js",localName:t}})}catch(e){}}(n,"ImageTypeLayerDataType")}()},367:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(16)),f=o(50),m=o(48),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.openCloudSnsPopup=function(){this.opened=!0},o.closeCloudSnsPopup=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"CloudSnsLayerStore"),e(y,"default")}()},368:function(e,t,o){"use strict";var n,r,i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=o(50),f=o(48),m=o(51),g=(n=Object(m.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._imageDetailLayerService=h.V.get("imageDetailLayerService"),t._searchPanelLayoutService=h.V.get("searchPanelLayoutService"),t._paidPhotoNotificationLayerService=h.V.get("paidPhotoNotificationLayerService"),t._searchPanelLayoutService=h.V.get("searchPanelLayoutService"),t._imageBehavior=h.V.get("imageBehavior"),t}u()(t,e);var o=t.prototype;return o.insertImage=function(){var e=c()(a.a.mark(function e(t){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._searchPanelLayoutService.itemDataToCompData(t);case 2:return o=e.sent,e.next=5,this._imageBehavior.insertImageFromCompData([o]);case 5:this.close();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.close=function(){this._imageDetailLayerService.close()},o.closeLoadingLayer=function(){this._imageDetailLayerService.closeLoadingLayer()},o.updatePaidItem=function(e){this.close(),this._paidPhotoNotificationLayerService.open(),this._searchPanelLayoutService.updatePaidItem(e)},t}(h.m),d()(r.prototype,"insertImage",[n,f.d],Object.getOwnPropertyDescriptor(r.prototype,"insertImage"),r.prototype),d()(r.prototype,"close",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),d()(r.prototype,"closeLoadingLayer",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"closeLoadingLayer"),r.prototype),r),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(g,"ImageDetailLayerUseCase"),e(y,"default")}()},369:function(e,t,o){"use strict";var n,r,i,a,s=o(60),c=o.n(s),l=o(1),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=o(49),g=o.n(m),y=(o(61),o(16)),b=o(50),_=o(48),v=o(679),C=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,c()(o,"opened",r,d()(o)),c()(o,"isLoading",i,d()(o)),c()(o,"imageInfo",a,d()(o));var n=t.state,s=void 0===n?{}:n;return o.opened=Object(y.a)(s,"opened",o.opened),o.isLoading=Object(y.a)(s,"isLoading",o.isLoading),o.imageInfo=Object(y.a)(s,"imageInfo",o.imageInfo),o}f()(t,e);var o=t.prototype;return o.openImageDetailLayer=function(e){void 0===e&&(e={}),this.isLoading=!0,this._updateImageInfo(e),this.opened=!0},o.closeImageDetailLayer=function(){this._resetImageDetailLayer()},o.openLoadingLayer=function(){this.isLoading=!0},o.closeLoadingLayer=function(){this.isLoading=!1},o._updateImageInfo=function(e){Object.assign(this.imageInfo,e)},o._resetImageDetailLayer=function(){this.opened=!1,this.isLoading=!1,this.imageInfo={provider:"",providerDisplayName:"",username:"",createdAt:"",width:0,height:0,urls:{img:"",link:"",thumb:""},rights:""}},o._getCclCode=function(e){return e?v.b[e]:"CC0"},u()(t,[{key:"ccl",get:function(){var e=this.imageInfo.rights;return this._getCclCode(e)}}]),t}(b.e),r=g()(n.prototype,"opened",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=g()(n.prototype,"isLoading",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=g()(n.prototype,"imageInfo",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{provider:"",providerDisplayName:"",username:"",createdAt:"",width:0,height:0,urls:{img:"",link:"",thumb:""},rights:""}}}),g()(n.prototype,"ccl",[_.e],Object.getOwnPropertyDescriptor(n.prototype,"ccl"),n.prototype),n),O=C;t.a=O,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/store/index.js",localName:t}})}catch(e){}}e(C,"ImageDetailLayerStore"),e(O,"default")}()},37:function(e,t,o){"use strict";var n={INSERT_COMPONENTS:"insertComponents",PREPEND_COMPONENTS:"prependComponents",APPEND_COMPONENTS:"appendComponents"},r={INSERT_IMAGES:"insertImages",INSERT_IMAGE_FILES:"insertImagesByFile",INSERT_IMAGE_URLS:"insertImagesByUrl"},i={COMMON:n,IMAGE:r},a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/consts/command.js",localName:t}})}catch(e){}}e(n,"COMMON_COMMAND"),e(r,"IMAGE_COMMAND"),e(i,"COMMAND"),e(a,"default")}()},370:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(48),f=o(51),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=d.V.get("editingService"),t._componentFactory=d.V.get("componentFactory"),t._placeLayerService=d.V.get("placeLayerService"),t._scheduleComponentService=d.V.get("scheduleComponentService"),t._scheduleLayerService=d.V.get("scheduleLayerService"),t}l()(t,e);var o=t.prototype;return o.insertScheduleComponent=function(e){if(!1!==this._isValidConfirm(e)){var t=this._scheduleLayerService.toScheduleComponentData(),o=this._componentFactory.createComponentWithCompData(t);this._editingService.insert({sourceComponents:[o]}),this._scheduleLayerService.close()}},o.updateScheduleComponent=function(e){if(!1!==this._isValidConfirm(e)){var t=this._scheduleLayerService.toScheduleComponentData();this._scheduleComponentService.updateComponent(t),this._scheduleComponentService.updateSchedule(t.id),this._scheduleLayerService.close()}},o.disableEmptyTitleWarning=function(){this._scheduleLayerService.disableEmptyTitleWarning()},o.setRepetitionInfo=function(e){this._scheduleLayerService.setRepetitionInfo(e)},o.removeLocation=function(){this._scheduleLayerService.removePlacesMap()},o.openPlaceLayer=function(){var e=s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1});case 2:(t=e.sent)&&this._scheduleLayerService.updatePlacesMap(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.handleInput=function(e,t){var o,n=t.target,r=n.type,i=n.checked,a=n.value,s="checkbox"===r?i:a;this._scheduleLayerService.updateProperty(((o={})[e]=s,o))},o.updateProperty=function(e){this._scheduleLayerService.updateProperty(e)},o.setDateAt=function(e,t){this._scheduleLayerService.setDateAt(e,t)},o.setNotification=function(e){this._scheduleLayerService.setNotification(e)},o.setRepetition=function(e){this._scheduleLayerService.setRepetition(e)},o.close=function(){this._scheduleLayerService.close()},o._isValidConfirm=function(e){return""===e.title.trim()?(this._scheduleLayerService.enableEmptyTitleWarning(),!1):!e.isInvalidEndDate&&(!(e.repetition&&!e.repetitionInfo)||(this._scheduleLayerService.showAndHideRepetitionWarning(),!1))},t}(d.m),p()(n.prototype,"insertScheduleComponent",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"insertScheduleComponent"),n.prototype),p()(n.prototype,"updateScheduleComponent",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateScheduleComponent"),n.prototype),p()(n.prototype,"disableEmptyTitleWarning",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"disableEmptyTitleWarning"),n.prototype),p()(n.prototype,"setRepetitionInfo",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepetitionInfo"),n.prototype),p()(n.prototype,"removeLocation",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"removeLocation"),n.prototype),p()(n.prototype,"openPlaceLayer",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"openPlaceLayer"),n.prototype),p()(n.prototype,"handleInput",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"handleInput"),n.prototype),p()(n.prototype,"updateProperty",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateProperty"),n.prototype),p()(n.prototype,"setDateAt",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setDateAt"),n.prototype),p()(n.prototype,"setNotification",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setNotification"),n.prototype),p()(n.prototype,"setRepetition",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepetition"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"ScheduleLayerUseCase"),e(g,"default")}()},371:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_=o(59),v=o.n(_),C=o(60),O=o.n(C),S=o(1),k=o.n(S),I=o(57),w=o.n(I),P=o(0),j=o.n(P),T=o(49),L=o.n(T),E=(o(61),o(16)),N=o(63),x=o(170),D=o(67),R=o(126),A=o(50),M=o(48),B=o(52),U=o(186),V=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,O()(o,"opened",r,w()(o)),O()(o,"visibleEndDate",i,w()(o)),O()(o,"isModifyMode",a,w()(o)),O()(o,"dateOnly",s,w()(o)),O()(o,"emptyTitleWarning",c,w()(o)),O()(o,"repetitionInfo",l,w()(o)),O()(o,"isShowRepetitionWarning",u,w()(o)),O()(o,"title",p,w()(o)),O()(o,"startAt",d,w()(o)),O()(o,"endAt",h,w()(o)),O()(o,"placesMap",f,w()(o)),O()(o,"linkUrl",m,w()(o)),O()(o,"content",g,w()(o)),O()(o,"notification",y,w()(o)),O()(o,"repetition",b,w()(o)),o.scheduleId=null;var n=t.state,_=void 0===n?{}:n;return o.opened=Object(E.a)(_,"opened",o.opened),o.visibleEndDate=Object(E.a)(_,"visibleEndDate",o.visibleEndDate),o.isModifyMode=Object(E.a)(_,"isModifyMode",o.isModifyMode),o.dateOnly=Object(E.a)(_,"dateOnly",o.dateOnly),o.title=Object(E.a)(_,"title",o.title),o.emptyTitleWarning=Object(E.a)(_,"emptyTitleWarning",o.emptyTitleWarning),o.startAt=Object(E.a)(_,"startAt",o.startAt),o.endAt=Object(E.a)(_,"endAt",o.endAt),o.placesMap=Object(E.a)(_,"placesMap",o.placesMap),o.linkUrl=Object(E.a)(_,"linkUrl",o.linkUrl),o.content=Object(E.a)(_,"content",o.content),o.scheduleId=Object(E.a)(_,"scheduleId",o.scheduleId),o._moment=B.a.time.getMomentInstance,o.notification=Object(E.a)(_,"notification",o.notification),o.repetition=Object(E.a)(_,"repetition",o.repetition),o}j()(t,e);var o=t.prototype;return o.open=function(e){var t=v()({visibleEndDate:!1,isModifyMode:!1,dateOnly:!1,emptyTitleWarning:!1,title:"",startAt:null,endAt:null,placesMap:null,linkUrl:"",content:"",repetition:null,notification:null},e);t.visibleEndDate=!1===Object(N.a)(t.endAt),t.startAt=this._resolveDateTimeWithCeilMinute(t.startAt),t.endAt=this._resolveEndAt(t.startAt,t.endAt),this.updateProperty(t),this.isModifyMode=Object(x.a)(t,"id"),this.opened=!0},o._resetAll=function(){this.visibleEndDate=!1,this.isModifyMode=!1,this.dateOnly=!1,this.title="",this.emptyTitleWarning=!1,this.startAt=null,this.endAt=null,this.placesMap=null,this.linkUrl="",this.content="",this.notification=null,this.repetition=null,this.scheduleId=null},o.close=function(){this._resetAll(),this.opened=!1},o.updatePlacesMap=function(e){this.updateProperty({placesMap:e})},o.updateProperty=function(e){var t=this;Object(D.a)(e,function(e,o){t.hasOwnProperty(o)&&(t[o]=e)})},o.setNotification=function(e){this.notification=e},o.setRepetition=function(e){this.repetition=e},o.enableEmptyTitleWarning=function(){this.emptyTitleWarning=!0},o.disableEmptyTitleWarning=function(){this.emptyTitleWarning=!1},o.setRepetitionInfo=function(e){this.repetitionInfo=e},o.showAndHideRepetitionWarning=function(){var e=this;this.isShowRepetitionWarning=!0,setTimeout(function(){e.isShowRepetitionWarning=!1},2e3)},o.setDateAt=function(e,t){this[e]=t},o.toScheduleComponentData=function(){var e=this.toValidJSON();e.ctype="schedule",!1===e.visibleEndDate&&(e.endAt=null),e.linkUrl=B.a.url.prependProtocol(e.linkUrl);var t=["opened","visibleEndDate","emptyTitleWarning","isInvalidEndDate","resolvedEndAt","repetitionInfo","isShowRepetitionWarning"];return this.isModifyMode||t.push("id"),Object(R.a)(e,t)},o._resolveEndAt=function(e,t){return Object(N.a)(t)?this._moment(e).add(1,"h").format():t},o._resolveDateTimeWithCeilMinute=function(e){return Object(N.a)(e)&&(e={}),B.a.time.getTimeCeilMinuteWith(e,5).format()},o._isInvalidDate=function(){var e=this.visibleEndDate;if(!this.dateOnly&&e){var t=this.startAt,o=this.endAt;if(this._moment(o).diff(this._moment(t))<=0)return!0}return!1},k()(t,[{key:"isInvalidEndDate",get:function(){return this._isInvalidDate()}},{key:"resolvedEndAt",get:function(){var e=this.startAt;return this._moment(e).add(1,"h").format()}},{key:"isMonthly",get:function(){return this.repetition&&this.repetition.repetitionType.ctype===U.f.EVERY_MONTH}},{key:"hasRepetition",get:function(){return!!this.repetition}},{key:"hasNotification",get:function(){return!!this.notification}},{key:"hasRepetitionDateGroup",get:function(){return!!this.repetition.repetitionType.dateGroup}},{key:"isTimeDisabled",get:function(){return this.dateOnly||!!this.hasRepetition}},{key:"_durationDateCount",get:function(){var e=this._moment(this.startAt);return this._moment(this.endAt).diff(e,"days")}},{key:"isOverMonth",get:function(){var e=this._moment(this.startAt).format(U.a).split("-"),t=e[0],o=e[1],n=e[2],r=this._moment(this.endAt).format(U.a).split("-"),i=r[0],a=r[1],s=r[2];return+t<+i||t===i&&(+o+1<+a||+o+1==+a&&+n<=+s)}},{key:"isShowRepetition",get:function(){return this._durationDateCount>=14}},{key:"hasDateGroup",get:function(){var e=this.repetition.repetitionType.dateGroup;return e&&e.startDay}},{key:"locationTitle",get:function(){return this.placesMap?this.placesMap.places[0].name:""}}]),t}(A.e),r=L()(n.prototype,"opened",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=L()(n.prototype,"visibleEndDate",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=L()(n.prototype,"isModifyMode",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=L()(n.prototype,"dateOnly",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=L()(n.prototype,"emptyTitleWarning",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=L()(n.prototype,"repetitionInfo",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=L()(n.prototype,"isShowRepetitionWarning",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=L()(n.prototype,"title",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=L()(n.prototype,"startAt",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=L()(n.prototype,"endAt",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=L()(n.prototype,"placesMap",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=L()(n.prototype,"linkUrl",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=L()(n.prototype,"content",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=L()(n.prototype,"notification",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=L()(n.prototype,"repetition",[M.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L()(n.prototype,"isInvalidEndDate",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"isInvalidEndDate"),n.prototype),L()(n.prototype,"resolvedEndAt",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"resolvedEndAt"),n.prototype),L()(n.prototype,"isMonthly",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"isMonthly"),n.prototype),L()(n.prototype,"hasRepetition",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"hasRepetition"),n.prototype),L()(n.prototype,"hasNotification",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"hasNotification"),n.prototype),L()(n.prototype,"hasRepetitionDateGroup",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"hasRepetitionDateGroup"),n.prototype),L()(n.prototype,"isTimeDisabled",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"isTimeDisabled"),n.prototype),L()(n.prototype,"_durationDateCount",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"_durationDateCount"),n.prototype),L()(n.prototype,"isOverMonth",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"isOverMonth"),n.prototype),L()(n.prototype,"isShowRepetition",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"isShowRepetition"),n.prototype),L()(n.prototype,"hasDateGroup",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"hasDateGroup"),n.prototype),L()(n.prototype,"locationTitle",[M.e],Object.getOwnPropertyDescriptor(n.prototype,"locationTitle"),n.prototype),n),F=V;t.a=F,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/store/index.js",localName:t}})}catch(e){}}e(V,"ScheduleLayerStore"),e(F,"default")}()},372:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._fileUploadLayerService=c.V.get("fileUploadLayerService"),t}return i()(t,e),t.prototype.close=function(){this._fileUploadLayerService.close()},t}(o(680).a),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"FileUploadLayerUseCase"),e(p,"default")}()},373:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(16)),f=o(67),m=o(50),g=o(48),y=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o.updateProperty=function(e){var t=this;Object(f.a)(e,function(e,o){t.hasOwnProperty(o)&&(t[o]=e)})},t}(m.e),r=d()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/store/index.js",localName:t}})}catch(e){}}e(y,"FileUploadLayerStore"),e(b,"default")}()},374:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._libraryPanelLayoutService=c.V.get("libraryPanelLayoutService")||{openTab:function(){}},t._searchPanelLayoutService=c.V.get("searchPanelLayoutService")||{close:function(){}},t._paidPhotoNotificationLayerService=c.V.get("paidPhotoNotificationLayerService")||{close:function(){}},t}i()(t,e);var o=t.prototype;return o.close=function(){this._paidPhotoNotificationLayerService.close()},o.openPurchasedListTab=function(){this._paidPhotoNotificationLayerService.close(),this._searchPanelLayoutService.close(),this._libraryPanelLayoutService.openTab("purchased_list")},t}(c.m),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),s()(n.prototype,"openPurchasedListTab",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"openPurchasedListTab"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"PaidPhotoNotificationLayerUseCase"),e(p,"default")}()},375:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(16)),f=o(50),m=o(48),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"PaidPhotoNotificationLayerStore"),e(y,"default")}()},376:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(48),f=o(51),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._spellCheckLayoutService=d.V.get("spellCheckLayoutService"),t._canvasScrollingService=d.V.get("canvasScrollingService"),t._toastLayerService=d.V.get("toastLayerService"),t._loadingLayerService=d.V.get("loadingLayerService"),t._viewModeLayoutService=d.V.get("viewModeLayoutService"),t._i18n=d.V.get("i18n"),t._alertLayerService=d.V.get("alertLayerService"),t}l()(t,e);var o=t.prototype;return o.checkAgain=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadingLayerService.open(),e.next=3,this._spellCheckAgain(t);case 3:this._loadingLayerService.close();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cancelSpellCheck=function(){this._spellCheckLayoutService.cancelSpellCheck()},o.close=function(){this.cancelSpellCheck()},o.confirmSpellCheck=function(e){this._spellCheckLayoutService.confirmSpellCheck(e),this._canvasScrollingService.focusToFirstComp()},o.togglePopup=function(e){this._spellCheckLayoutService.togglePopup(e)},o.correctAll=function(){this._spellCheckLayoutService.correctAll()},o._toastEmptyErrata=function(e){e||this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata"))},o._spellCheckAgain=function(){var e=s()(i.a.mark(function e(t){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._spellCheckLayoutService.getParagraphList(t.spellCheckDocument),e.next=3,this._spellCheckLayoutService.getResultSpellCheck(o);case 3:if(n=e.sent,!1!==this._isValidCheckResult(n)){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",this._spellCheckLayoutService.checkAgain(n,t));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._isValidCheckResult=function(e){return!e.aborted&&(e.failed?(this._alertLayerService.open({type:"alert",title:this._i18n("spellCheckLayout:spell_check_fail_title"),description:this._i18n("spellCheckLayout:spell_check_fail")}),!1):0!==e.length||(this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata")),!1))},o.getViewMode=function(){var e=d.T.VIEW_MODE_PC;return this._viewModeLayoutService&&(e=this._viewModeLayoutService.getViewMode()),e},t}(d.m),p()(n.prototype,"checkAgain",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"checkAgain"),n.prototype),p()(n.prototype,"cancelSpellCheck",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"cancelSpellCheck"),n.prototype),p()(n.prototype,"confirmSpellCheck",[h.d,f.history],Object.getOwnPropertyDescriptor(n.prototype,"confirmSpellCheck"),n.prototype),p()(n.prototype,"togglePopup",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"togglePopup"),n.prototype),p()(n.prototype,"correctAll",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"correctAll"),n.prototype),p()(n.prototype,"_toastEmptyErrata",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"_toastEmptyErrata"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"SpellCheckLayoutUseCase"),e(g,"default")}()},377:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(50),a=function(e){function t(){var t;return(t=e.call(this)||this)._videoUploadLayerService=i.V.get("videoUploadLayerService"),t}return r()(t,e),t.prototype.close=function(){this._videoUploadLayerService.close()},t}(i.m),s=a;t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(a,"VideoUploadLayerUseCase"),e(s,"default")}()},378:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(16)),f=o(50),m=o(48),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"VideoUploadLayerStore"),e(y,"default")}()},379:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._helpPanelLayoutService=c.V.get("helpPanelLayoutService"),t._storageService=c.V.get("storageService"),t._localStorageKey="HELP_PANEL//STORAGE",t}i()(t,e);var o=t.prototype;return o.__ON_LAZY__=function(){this._storageService.getStorageData(this._localStorageKey)?this._helpPanelLayoutService.close():(this._storageService.setStorageData(this._localStorageKey,{alreadyOpened:!0}),this._helpPanelLayoutService.open())},o.openHelpLayer=function(e,t){this._helpPanelLayoutService.openLayer(e,t)},o.closeHelpLayer=function(){this._helpPanelLayoutService.closeLayer()},o.close=function(){this._helpPanelLayoutService.close(),this._helpPanelLayoutService.closeLayer()},t}(c.m),s()(n.prototype,"openHelpLayer",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"openHelpLayer"),n.prototype),s()(n.prototype,"closeHelpLayer",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"closeHelpLayer"),n.prototype),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"HelpPanelLayoutUseCase"),e(p,"default")}()},380:function(e,t,o){"use strict";var n,r,i,a,s,c=o(60),l=o.n(c),u=o(57),p=o.n(u),d=o(0),h=o.n(d),f=o(49),m=o.n(f),g=(o(61),o(16)),y=o(48),b=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,l()(o,"opened",r,p()(o)),l()(o,"isLayerOpen",i,p()(o)),l()(o,"layerKey",a,p()(o)),l()(o,"layerTitle",s,p()(o)),o.unmountDelayTime=400;var n=t.state,c=void 0===n?{}:n;return o.opened=Object(g.a)(c,"opened",o.opened),o.isLayerOpen=Object(g.a)(c,"isLayerOpen",o.isLayerOpen),o.layerKey=Object(g.a)(c,"layerKey",o.layerKey),o.layerTitle=Object(g.a)(c,"layerTitle",o.layerTitle),o}h()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o.openLayer=function(){this.isLayerOpen=!0},o.closeLayer=function(){this.isLayerOpen=!1},o.setLayerKey=function(e){this.layerKey=e},o.setLayerTitle=function(e){this.layerTitle=e},t}(o(50).w),r=m()(n.prototype,"opened",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i=m()(n.prototype,"isLayerOpen",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=m()(n.prototype,"layerKey",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"START_INTERFACE"}}),s=m()(n.prototype,"layerTitle",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(b,"HelpPanelLayoutStore"),e(_,"default")}()},381:function(e,t,o){"use strict";var n,r,i,a,s=o(60),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(49),f=o.n(h),m=(o(61),o(50)),g=o(48),y=o(245).a.NOT_MACOS,b=[{command:"cut",className:"cut",hotkey:y?"Ctrl+X":"+X"},{command:"copy",className:"copy",hotkey:y?"Ctrl+C":"+C"},{command:"paste",className:"paste",hotkey:y?"Ctrl+V":"+V"},{command:"selectAll",className:"select-all",hotkey:y?"Ctrl+A":"+A"},{command:"saveAs",className:"save-as",hotkey:""},{command:"delete",className:"delete",hotkey:"Delete"},{command:"undo",className:"undo",hotkey:y?"Ctrl+Z":"+Z"},{command:"redo",className:"redo",hotkey:y?"Ctrl+Y":"+Shift+Z"}],_=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,c()(o,"opened",r,u()(o)),c()(o,"top",i,u()(o)),c()(o,"left",a,u()(o)),o.saveAsUrl=null,o.itemGroups=[];var n=t.state,s=void 0===n?{}:n;return o._excludes=m.V.get("configAgent").get("productConfig.contextMenu.exclude")||[],o._selectionInfoStore=m.V.get("selectionInfoStore"),o.opened=s.opened||o.opened,o}d()(t,e);var o=t.prototype;return o.open=function(e){void 0===e&&(e={});var t=e,o=t.top,n=t.left,r=t.saveAsUrl;this.top=o||0,this.left=n||0,this.saveAsUrl=r,this.itemGroups=this._makeItemGroups(e),this.opened=!0},o._makeItemGroups=function(e){var t=e.selectAllable,o=e.undoable,n=e.redoable,r=this._selectionInfoStore.collapsed,i=b.map(function(e){switch(e.command){case"copy":case"cut":case"delete":e.disabled=r;break;case"selectAll":e.disabled=!t;break;case"undo":e.disabled=!o;break;case"redo":e.disabled=!n;break;default:e.disabled=!1}return e});return[this._group("editing",i.slice(0,4)),this.saveAsUrl&&this._group("image",i.slice(4,5)),this._group("delete",i.slice(5,6)),this._group("history",i.slice(6,8))].filter(function(e){return!!e})},o._group=function(e,t){var o=this;if(void 0===t&&(t=[]),(t=t.filter(function(e){return!o._excludes.includes(e.command)})).length>0)return{key:e,items:t}},o.close=function(){this.opened=!1},t}(m.e),r=f()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=f()(n.prototype,"top",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=f()(n.prototype,"left",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/store/index.js",localName:t}})}catch(e){}}e(y,"NOT_MACOS"),e(b,"ITEMS"),e(_,"ContextmenuLayerStore"),e(v,"default")}()},382:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._a11yHelpLayerService=c.V.get("a11yHelpLayerService"),t}i()(t,e);var o=t.prototype;return o.open=function(){this._a11yHelpLayerService.open()},o.close=function(){this._a11yHelpLayerService.close()},t}(c.m),s()(n.prototype,"open",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"A11yHelpLayerUseCase"),e(p,"default")}()},383:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(16)),f=o(50),m=o(48),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"A11yHelpLayerStore"),e(y,"default")}()},384:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(48),f=o(51),m=o(507),g=(n=function(e){function t(){var t;return(t=e.call(this)||this)._imageComponentService=d.V.get("imageComponentService"),t._imageTagLayerService=d.V.get("imageTagLayerService"),t._toastLayerService=d.V.get("toastLayerService"),t._alertLayerService=d.V.get("alertLayerService"),t._crawlerService=d.V.get("crawlerService"),t._searchLayerService=d.V.get("searchLayerService"),t._i18n=d.V.get("i18n"),t}l()(t,e);var o=t.prototype;return o.open=function(){this._imageTagLayerService.open()},o.close=function(){var e=this;if(this._imageTagLayerService.getTagChanged()){var t={i18nTitle:"title_confirm_close_layer",i18nDesc:"confirm_sure_to_close",funcConfirm:function(){return e._imageTagLayerService.close()},funcCancel:function(){return e._alertLayerService.close()}};this._showConfirmLayer(t)}else this._imageTagLayerService.close()},o.showToast=function(e){this._toastLayerService.warningMessage(e)},o.changeTab=function(e){var t=this;void 0===e&&(e="");var o=this._imageTagLayerService,n=o.getDuplicateConfig(),r=0===o.getTags().length,i=o.checkOnlyUrlTags(),a=o.getCurrentTabIndex();if(!(o.getTabIdByIndex(a)===e))if(n||r||i)this._changeTab(e);else{var s={i18nTitle:"title_confirm_layer",i18nDesc:"confirm_sure_to_change_tab",funcConfirm:function(){return t._changeTab(e,!0)},funcCancel:function(){return t._alertLayerService.close()}};this._showConfirmLayer(s)}},o._changeTab=function(e,t){void 0===t&&(t=!1),this._imageTagLayerService.changeTab(e,t)},o.changeToMaterialTab=function(e){this._searchLayerService.requestData(e)},o.changeSubCategory=function(e){var t=this,o=this._imageTagLayerService,n=o.getDuplicateConfig(),r=0===o.getTags().length;if(!(o.getcurrentSubCategoryIndex()===e))if(n||r)this._imageTagLayerService.changeSubCategory(e);else{var i={i18nTitle:"title_confirm_layer",i18nDesc:"confirm_sure_to_change_tab",funcConfirm:function(){return t._imageTagLayerService.changeSubCategory(e,!0)},funcCancel:function(){return t._alertLayerService.close()}};this._showConfirmLayer(i)}},o.setIsUrl=function(e){this._imageTagLayerService.setIsUrl(e)},o.search=function(e){this._imageTagLayerService.clearSearchResult(),this.setIsUrl(!1);var t=e.keyword;this._checkUrlPattern(t)?this._crawlUrl(t):this._imageTagLayerService.search(e)},o._crawlUrl=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setIsUrl(!0),this._imageTagLayerService.setLoadingState(!0),e.prev=2,e.next=5,this._crawlerService.crawlFromReturnRaw(t);case 5:(o=e.sent)||this._imageTagLayerService.searchFail(),this._imageTagLayerService.updateCrawledResult(o,t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this._imageTagLayerService.searchFail();case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),o.updateKeyword=function(e){this._imageTagLayerService.updateKeyword(e)},o.addNewTag=function(e){this._imageTagLayerService.addNewTag(e)},o.checkAddibleTag=function(e){return this._imageTagLayerService.checkAddibleTag(e)},o.delTag=function(e){var t=this,o={i18nTitle:"title_confirm_delete_tag",i18nDesc:"confirm_sure_to_delete",funcConfirm:function(){return t._imageTagLayerService.delTag(e)},funcCancel:function(){return t._alertLayerService.close()}};this._showConfirmLayer(o)},o.updateTag=function(e,t){this._imageTagLayerService.updateTag(e,t)},o.nextPage=function(){var e=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._imageTagLayerService.nextPage();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),o.clearSearchLayer=function(){this._imageTagLayerService.clearSearchLayer()},o.clearSearchResult=function(){this._imageTagLayerService.clearSearchResult()},o.confirmTags=function(){var e=this._imageTagLayerService.getTags(),t=this._imageTagLayerService.getCompId();this._imageComponentService.removeLink(t),this._imageComponentService.updateMediaTag(t,e),this._imageTagLayerService.close()},o.updatePinPoint=function(e){this._imageTagLayerService.updatePinPoint(e)},o._triggerServerError=function(){this.showToast(this._i18n("imageTagLayer:error_server_data_load"))},o._showConfirmLayer=function(e){var t=e.i18nTitle,o=e.i18nDesc,n=e.funcConfirm,r=e.funcCancel;this._alertLayerService.open({type:"confirm",className:"se-popup-tag-delete",title:this._i18n("imageTagLayer:"+t),description:this._i18n("imageTagLayer:"+o),onClickConfirm:n,onClickCancel:r,isDimUse:!1})},o._checkUrlPattern=function(e){void 0===e&&(e="");var t=m.a.getUrlPattern().test(e),o=this._imageTagLayerService.getAllowUrlAttach();return t&&o},t}(d.m),p()(n.prototype,"nextPage",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"nextPage"),n.prototype),p()(n.prototype,"confirmTags",[f.history],Object.getOwnPropertyDescriptor(n.prototype,"confirmTags"),n.prototype),p()(n.prototype,"_triggerServerError",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"_triggerServerError"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(g,"ImageTagLayerUseCase"),e(y,"default")}()},385:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(48),l=o(335),u=o(53),p=o.n(u),d=o(51),h=o(258),f=o(508),m=o(218),g=(n=function(e){function t(){var t;return(t=e.call(this)||this)._refLayer=c.b.createRef(),t.state={value:""},t}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this.mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t.mapStateFromProps(e)})},o.render=function(){var e=this.props,t=e.applyLabel,o=e.placeholder,n=e.i18n,r=e.logAreaId+".urlok",i=p()("se-custom-layer-link-apply-button",{"se-custom-layer-link-apply-button-has-url":!!this.state.value}),a=p()("se-custom-layer-option","se-custom-layer-option-link");return c.b.createElement(h.a,{forwardRef:this._refLayer,className:a,"data-log":r},c.b.createElement("input",{className:"se-custom-layer-link-input",type:"url","data-role":"input",placeholder:n(o),value:this.state.value,onKeyPress:this._onKeyPressHandler,onChange:this.handleChangeInput}),c.b.createElement("button",{type:"button",className:i,title:n(t),"data-role":"confirm",onClick:this.handleClickConfirm},c.b.createElement("span",{className:"se-blind"},n(t))))},o.decodeUrl=function(e){return f.a.getDecodeUrl(e)},o.mapStateFromProps=function(e){var t=e.value?e.value:"";return{value:t?this.decodeUrl(t):""}},o.handleChangeInput=function(e){var t=e.target.value;this.setState({value:t}),this.props.onInput({event:e,value:t})},o.handleClickConfirm=function(e){this._onConfirm(e)},o._onKeyPressHandler=function(e){"Enter"===e.key&&this._onConfirm(e)},o._onConfirm=function(e){var t=this._toValidUrl();this.props.onConfirm({event:e,value:t})},o._toValidUrl=function(){return f.a.getEncodeUrl(Object(m.a)(this.state.value))},t}(c.b.Component),s()(n.prototype,"handleChangeInput",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChangeInput"),n.prototype),s()(n.prototype,"handleClickConfirm",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClickConfirm"),n.prototype),s()(n.prototype,"_onKeyPressHandler",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onKeyPressHandler"),n.prototype),n);g.defaultProps={placeholder:"",value:"",onConfirm:function(){},onInput:function(){},i18n:function(e){return e},applyLabel:""},g.propTypes={placeholder:c.a.string,value:c.a.string,onConfirm:c.a.func,onInput:c.a.func,i18n:c.a.func,applyLabel:c.a.string,logAreaId:c.a.string,confirmLogId:c.a.string};var y=Object(l.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/link-input-form.jsx",localName:t}})}catch(e){}}e(g,"LinkInputForm"),e(y,"default")}()},386:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(53),p=o.n(u),d=o(48),h=o(335),f=o(51),m=o(685),g=o(258),y=(n=function(e){function t(){var t;return(t=e.call(this)||this).state={inputValue:""},t._refLayer=d.b.createRef(),t}s()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.name,n=t.options,r=t.optionType,a=p()("se-toolbar-option","se-toolbar-option-"+o),s=Object.keys(n).map(function(t,o){return d.b.createElement(m.a,i()({optionId:t,optionType:r,inputValue:e.state.inputValue,onClickOptionList:e._handleClickOption,onChangeInputValue:e._handleChangeInputValue,onConfirmInputValue:e._handleConfirmInputValue},e.props,{key:t+"_"+o}))});return d.b.createElement(g.a,{forwardRef:this._refLayer,className:a,role:"listbox"},s)},o._handleClickOption=function(e){var t=this.props,o=t.id,n=t.name,r=t.options,i=t.action,a=t.onClickOption,s=e.currentTarget.getAttribute("data-value"),c=r[s],l=c.useInput,u=c.label,p=c.submenuOpen;a({event:e,id:o,name:n,value:l?""+this.state.inputValue:s,label:u,submenuOpen:p,action:i}),l||this.setState({inputValue:""}),e.preventDefault()},o._handleChangeInputValue=function(e){this.setState({inputValue:e})},o._handleConfirmInputValue=function(e){var t=this.props,o=t.id,n=t.name,r=t.options,i=t.action,a=t.onClickOption,s=r[e.currentTarget.getAttribute("data-value")].label;a({event:e,id:o,name:n,value:""+this.state.inputValue,label:s,action:i})},t}(d.b.Component),l()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),l()(n.prototype,"_handleChangeInputValue",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChangeInputValue"),n.prototype),l()(n.prototype,"_handleConfirmInputValue",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleConfirmInputValue"),n.prototype),n);y.defaultProps={id:"",name:"",value:"",optionType:"",options:{},onClickOption:function(){}},y.propTypes={id:d.a.string,name:d.a.string,value:d.a.string,action:d.a.string,optionType:d.a.string,options:d.a.oneOfType([d.a.array,d.a.object]),onClickOption:d.a.func};var b=Object(h.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/select-option.jsx",localName:t}})}catch(e){}}e(y,"SelectOption"),e(b,"default")}()},387:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(126),p=o(1197),d=o(53),h=o.n(d),f=o(48),m=o(335),g=o(51),y=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._inputRef=f.b.createRef(),t}s()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props)),this.isCompositionChange=!1},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t._mapStateFromProps(e)})},o.render=function(){var e=this.props,o=e.className,n=e.placeholder,r=e.title,a=Object(u.a)(this.props,Object.keys(t.propTypes)),s=this.state.value,c=h()(o);return f.b.createElement("input",i()({className:c,type:"text",placeholder:n,value:s,title:r,ref:this._inputRef,onChange:this._handleChangeInputValue,onCompositionUpdate:this._handleCompositionChange,onKeyDown:this._handleKeyDownHandler,onKeyPress:this._handleKeyPressHandler,onBlur:this._handleBlur,onClick:this._handleClick},a))},o.focus=function(){this._inputRef.current.focus()},o._handleCompositionChange=function(){this.isCompositionChange=!0},o._mapStateFromProps=function(e){return{min:e.min,max:e.max,value:e.value}},o._handleKeyDownHandler=function(e){var t=this.state.value,o=this.props.maxLength,n=t.toString(),r=e.key,i=e.keyCode>58&&!(e.keyCode>=96&&e.keyCode<=105),a=o&&n.length+1>o;(i||!1===isNaN(r)&&a)&&e.preventDefault()},o._handleKeyPressHandler=function(e){"Enter"===e.key&&this._triggerConfirmEvent(e)},o._handleBlur=function(){var e=this.state,t=e.min,o=e.max,n=e.value;if(!1===this._isValid(n)){var r=Math.abs(n-t),i=Math.max(n-o);this.setState({value:i>r?o:t}),this.props.onConfirm(event,this.state.value)}},o._handleChangeInputValue=function(e){var t=""===e.target.value?"":Number(e.target.value);isNaN(t)||this.isCompositionChange?this.isCompositionChange=!1:(this.setState({value:t}),this.props.onChange(t),this.isCompositionChange=!1)},o._triggerConfirmEvent=function(e){this.props.onConfirm(e,this.state.value)},o._isValid=function(e){var t=this.state,o=t.min,n=t.max,r=Number(e),i=!1===Object(p.a)(r,o,n+1);return""===e||!i},o._handleClick=function(){this.props.autofocus&&this.focus()},t}(f.b.Component),l()(n.prototype,"_handleCompositionChange",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleCompositionChange"),n.prototype),l()(n.prototype,"_handleKeyDownHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleKeyDownHandler"),n.prototype),l()(n.prototype,"_handleKeyPressHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleKeyPressHandler"),n.prototype),l()(n.prototype,"_handleBlur",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleBlur"),n.prototype),l()(n.prototype,"_handleChangeInputValue",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChangeInputValue"),n.prototype),l()(n.prototype,"_handleClick",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);y.defaultProps={className:"",placeholder:"",value:"",min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,autofocus:!1,onChange:function(){},onConfirm:function(){}},y.propTypes={className:f.a.string,placeholder:f.a.oneOfType([f.a.number,f.a.string]),value:f.a.oneOfType([f.a.number,f.a.string]),maxLength:f.a.number,min:f.a.number,max:f.a.number,autofocus:f.a.bool,onChange:f.a.func,onConfirm:f.a.func};var b=Object(m.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/numeric-input/index.jsx",localName:t}})}catch(e){}}e(y,"NumericInput"),e(b,"default")}()},388:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(53),l=o.n(c),u=o(48),p=o(335),d=o(51),h=o(55),f=o(122),m=o(50),g=o(97),y=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){this.setState(this._mapStateFromProps(e))},o.render=function(){var e=this,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.deviceType,a=t.groups,s=t.type,c=t.i18n,p=t.logAreaId,d=t.focused,g=this.state.selected,y=a.length,b=i===m.t.DESKTOP,_=l()("se-"+r+"-toolbar-cycle-toggle-container"),v=a.map(function(t,i){var m,_=t.value,v=t.logId,C=g===_,O=0===i?a[y-1]:a[i-1],S=g===O.value,k=l()("se-"+r+"-toolbar-"+s+"-button","se-"+n+"-"+_+"-toolbar-button",((m={})["se-"+s+"-button-current"]=C,m["se-"+s+"-button-next"]=S,m));return u.b.createElement(f.a,{logAreaId:p,logId:v,focused:C&&d,namespace:r,type:h.a.CYCLE_TOGGLE,dataName:o,className:k,i18n:c,handleClick:e.handleChange,key:_,dataValue:_},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-blind","aria-hidden":b},c(O.label)),b&&u.b.createElement("span",{className:"se-toolbar-tooltip"},c(O.label)))});return u.b.createElement("div",{className:_,"data-type":h.a.CYCLE_TOGGLE,"data-name":n},v)},o._mapStateFromProps=function(e){return{selected:this.decideSelectedValue(e)}},o._doNotContainsValueInGroups=function(e,t){return!Object(g.a)(e,function(e){return e.value===t})},o.decideSelectedValue=function(e){void 0===e&&(e={});var t=e,o=t.value,n=t.groups;return this._doNotContainsValueInGroups(n,o)?(n[0]||{}).value:o},o.handleChange=function(e){var t=e.currentTarget.dataset.value,o={event:e,id:this.props.id,name:this.props.name,title:this.props.title,label:this.props.label,value:t};this.setState({selected:t}),this.props.onChange(o)},t}(u.b.Component),s()(n.prototype,"handleChange",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChange"),n.prototype),n);y.defaultProps={label:"",id:"",name:"",title:"",focused:!1,namespace:"",value:null,onChange:function(){},i18n:function(e){return e}},y.propTypes={id:u.a.string,name:u.a.string,label:u.a.string,title:u.a.string,focused:u.a.bool,namespace:u.a.string,deviceType:u.a.string,type:u.a.string,groups:u.a.oneOfType([u.a.object,u.a.array]).isRequired,value:u.a.oneOfType([u.a.string,u.a.number,u.a.bool]),onChange:u.a.func,i18n:u.a.func,logAreaId:u.a.string,logId:u.a.string};var b=Object(p.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/cycle-toggle-button.jsx",localName:t}})}catch(e){}}e(y,"CycleToggleButton"),e(b,"default")}()},389:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(53),l=o.n(c),u=o(48),p=o(335),d=o(216),h=o(1210),f=o(51),m=o(55),g=o(386),y=o(122),b=o(50),_=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={selectedValue:"default"},o}i()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-icon-select-"+this.props.name;h.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-icon-select-"+this.props.name;h.a.off(e)},t.getDerivedStateFromProps=function(e,t){return e.selectedValue!==t.selectedValue?{selectedValue:e.selectedValue}:null},o.render=function(){var e,t,o,n=this.props,r=n.id,i=n.isActivated,a=n.name,s=n.title,c=n.label,p=n.selectorLabel,d=n.value,h=n.action,f=n.namespace,_=n.documentToolbarIconType,v=n.deviceType,C=n.options,O=n.logAreaId,S=n.i18n,k=n.type,I=n.focused,w=n.logId,P=r,j=S(c),T=S(p),L=f===m.e.DOCUMENT,E=v===b.t.DESKTOP,N=l()("se-"+f+"-toolbar-"+k+"-container",i&&"se-is-activated","__select-container",((e={})["se-"+f+"-toolbar-"+_+"-container"]=E&&L,e)),x=l()("se-"+f+"-toolbar-"+k+"-button","se-"+a+"-"+this.state.selectedValue+"-toolbar-button",((t={})["se-"+_+"-toolbar-button"]=E&&L,t)),D=l()("se-"+f+"-toolbar-select-option-button",i&&"se-is-activated",((o={})["se-"+_+"-toolbar-select-option-button"]=E&&L,o));return u.b.createElement("div",{className:N,"data-type":m.a.ICON_SELECT,"data-name":a},u.b.createElement(y.a,{logId:w,namespace:f,type:k,dataName:P,dataValue:this.state.selectedValue,i18n:S,focused:I,className:x,logAreaId:O,handleClick:this.handleClick},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-toolbar-tooltip"},S(s))),u.b.createElement(y.a,{className:D,namespace:f,type:k,dataName:P,i18n:S,handleClick:this.handleClickSelector,ariaExpanded:""+i,ariaHasPopup:"true"},u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":"true"},T),u.b.createElement("span",{className:"se-toolbar-tooltip"},T)),u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":"true"},j),i&&u.b.createElement(g.a,{id:r,name:a,options:C,value:d,action:h,namespace:f,type:k,optionType:m.c.ICON,logAreaId:O,i18n:S,onClickOption:this._handleClickOption}))},o.handleClick=function(e){var t=this.props,o=t.onClick,n=t.type,r=t.id,i=t.name,a=t.label,s=t.title,c=t.value,l=t.options,u=t.action;o.apply(this,[{event:e,type:n,id:r,name:i,label:a,title:s,value:c,action:u,options:l,selectedValue:this.state.selectedValue}])},o._handleClickOption=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.setState({selectedValue:t[0].value}),this.props.onClickOption.apply(this,t)},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this.handleClickSelector({})},o.handleClickSelector=function(e){var t=this.props,o=t.onClickSelector,n=t.type,r=t.id,i=t.name,a=t.label;o.apply(this,[{event:e,type:n,id:r,name:i,label:a}])},t}(u.b.Component),s()(n.prototype,"handleClick",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClick"),n.prototype),s()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),s()(n.prototype,"_handleClickButtonOutside",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),s()(n.prototype,"handleClickSelector",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClickSelector"),n.prototype),n);_.defaultProps={label:"",title:"",id:"",name:"",value:"",namespace:"",options:{},logAreaId:"",logId:"",onClick:function(){},onClickSelector:function(){},onClickOption:function(){},isActivated:!1,focused:!1,i18n:function(e){return e},selectedValue:""},_.propTypes={type:u.a.oneOf([m.a.ICON_SELECT]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,selectorLabel:u.a.string,action:u.a.string,title:u.a.string,value:u.a.string,namespace:u.a.string,options:u.a.oneOfType([u.a.array,u.a.object]),documentToolbarIconType:u.a.string,deviceType:u.a.string,logAreaId:u.a.string,logId:u.a.string,onClick:u.a.func,onClickSelector:u.a.func,onClickOption:u.a.func,i18n:u.a.func,isActivated:u.a.bool,focused:u.a.bool,selectedValue:u.a.string};var v=Object(p.b)(_);t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/icon-select-button.jsx",localName:t}})}catch(e){}}e(_,"IconSelectButton"),e(v,"default")}()},39:function(e,t,o){"use strict";var n={REGION_TYPE:{BOTH:"both",DOMESTIC:"domestic",OVERSEAS:"overseas"}};t.a=n,function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/consts/option.js",localName:t}})}catch(e){}}(n,"default")}()},390:function(e,t,o){"use strict";o.d(t,"a",function(){return d});var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=o(51),p={DEFAULT:"DEFAULT",INSERT:"INSERT",DELETE:"DELETE",UPDATE:"UPDATE"},d=(n=function(e){function t(){var t;return(t=e.call(this)||this)._formulaComponentService=c.V.get("formulaComponentService"),t._formulaEditService=c.V.get("formulaEditService"),t._editingService=c.V.get("editingService"),t._propertyChangeService=c.V.get("propertyChangeService"),t._themeService=c.V.get("themeService"),t}i()(t,e);var o=t.prototype;return o.insertFormula=function(){var e=this._formulaComponentService.getFormulaListWithNewFormula(),t=e.compList,o=e.newFormula;this._formulaEditService.openFormulaEditor({activeCompData:o,compList:t,callback:this._onEditSuccess.bind(this),fontSizeCode:this._getDefaultFontSizeCode()})},o.editFormula=function(e){var t=this._formulaComponentService.getFormulaCompList(),o=e||this._formulaComponentService.activeCompData();this._formulaEditService.openFormulaEditor({activeCompData:o,compList:t,callback:this._onEditSuccess.bind(this),fontSizeCode:this._getDefaultFontSizeCode()})},o._onInsertSuccess=function(e){this._updateFormulaDataList(e)},o._onEditSuccess=function(e){this._updateFormulaDataList(e)},o._getDefaultFontSizeCode=function(){return((this._themeService.getComponentThemeStyle("formula")||{}).default||{}).fontSizeCode},o._updateFormulaDataList=function(e){var t=this;e.forEach(function(e){var o=t._resolveFormulaComponentData(e);o.mode===p.INSERT?t._insertFormulaComponent(o):o.mode===p.UPDATE?t._updateFormulaComponent(o):o.mode===p.DELETE&&t._removeFormulaComponent(o)})},o._resolveFormulaComponentData=function(e){return e.fontSizeCode="fs"+e.fontSize,e},o._insertFormulaComponent=function(e){var t={sourceComponents:[this._formulaComponentService.createComponent(e)]};this._editingService.insert(t)},o._updateFormulaComponent=function(e){this._formulaComponentService.updateComponent(e)},o._removeFormulaComponent=function(e){this._editingService.eraseComponent(e.id)},t}(c.c),s()(n.prototype,"insertFormula",[u.preventOnComponentProcessing,l.d],Object.getOwnPropertyDescriptor(n.prototype,"insertFormula"),n.prototype),s()(n.prototype,"editFormula",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"editFormula"),n.prototype),s()(n.prototype,"_onInsertSuccess",[u.history],Object.getOwnPropertyDescriptor(n.prototype,"_onInsertSuccess"),n.prototype),s()(n.prototype,"_onEditSuccess",[u.history],Object.getOwnPropertyDescriptor(n.prototype,"_onEditSuccess"),n.prototype),n);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/formula-use-case.js",localName:t}})}catch(e){}}e(p,"FormulaEditTypes"),e(d,"FormulaUseCase")}()},391:function(e,t,o){"use strict";var n,r,i=o(0),a=o.n(i),s=o(49),c=o.n(s),l=o(50),u=o(48),p=o(51),d=(n=Object(p.history)({throttle:!0}),r=function(e){function t(){var t;return(t=e.call(this)||this)._specialLetterLayerService=l.V.get("specialLetterLayerService"),t._editingService=l.V.get("editingService"),t._storageService=l.V.get("storageService"),t}a()(t,e);var o=t.prototype;return o.close=function(){this._specialLetterLayerService.close()},o.insertSpecialLetter=function(e){var t=this._specialLetterLayerService.getRecentSpecialLetterList(e),o=t.key,n=t.list;this._editingService.writeSpecialCharacter(e),this._specialLetterLayerService.updateRecentSpecialLetterList(n),this._storageService.setStorageData(o,n)},o.changeLetterGroup=function(e){this._specialLetterLayerService.changeLetterGroup(e)},o.hasChangedPosition=function(){this._specialLetterLayerService.hasChangedPosition()},t}(l.m),c()(r.prototype,"close",[u.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),c()(r.prototype,"insertSpecialLetter",[n,u.d],Object.getOwnPropertyDescriptor(r.prototype,"insertSpecialLetter"),r.prototype),c()(r.prototype,"changeLetterGroup",[u.d],Object.getOwnPropertyDescriptor(r.prototype,"changeLetterGroup"),r.prototype),c()(r.prototype,"hasChangedPosition",[u.d],Object.getOwnPropertyDescriptor(r.prototype,"hasChangedPosition"),r.prototype),r),h=d;t.a=h,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(d,"SpecialLetterLayerUseCase"),e(h,"default")}()},392:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={SPECIAL_LETTER_ID:"special-letter",STORAGE_VALUE_MAX_LENGTH:120,POPUP_OFFSET_CORRECTION:11},r={DefaultValues:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"DefaultValues"),e(r,"default")}()},393:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(48),f=o(51),m=o(189),g=o(245),y=(n=function(e){function t(){var t;return(t=e.call(this)||this)._placeLayerService=d.V.get("placeLayerService"),t._eventDispatcherService=d.V.get("eventDispatcherService"),t._editingService=d.V.get("editingService"),t._i18n=d.V.get("i18n"),t._finderService=d.V.get("finderService"),t._alertLayerService=d.V.get("alertLayerService"),t._selectionInfoStore=d.V.get("selectionInfoStore"),t._locationPrivacyService=d.V.get("locationPrivacyService"),t}l()(t,e);var o=t.prototype;return o.open=function(e){var t=void 0===e?{}:e,o=t.option,n=void 0===o?{}:o,r=t.events,i=void 0===r?{}:r;this._events=i,this._placeLayerService.open(n)},o.confirm=function(){var e=s()(i.a.mark(function e(t){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=[]),e.next=3,this._placeLayerService.fetchStaticMap(t);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:this._events&&this._events.confirm?this._events.confirm({places:t,thumbnail:o}):(n=this._placeLayerService.createComponent({places:t,imgUrl:o}),this._placeLayerService.isUpdateMode()?this._placeLayerService.resolve(n):this._editingService.insert({sourceComponents:[n]})),this.close();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cancel=function(){this._events&&this._events.cancel&&this._events.cancel(),this.close()},o.close=function(){this._placeLayerService.resolve(null),this._placeLayerService.close(),this._events=null},o.loadInitializeData=function(){var e=s()(i.a.mark(function e(){var t,o,n,r,a,s,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.a.isIE10()||!this._placeLayerService.isOverseas()){e.next=6;break}this.close(),this._showIE10Alert(),e.next=32;break;case 6:if(this._placeLayerService.isJsLoadError()){e.next=31;break}if(t=this._locationPrivacyService.isAllowedAccess(),o=this._placeLayerService.getSupportRegion(),n={initialized:!0,supportRegion:o},!t){e.next=28;break}if(r=this._finderService.getImageComponentOnDocument(),!((a=this._placeLayerService.extractImageUrls(r)||[]).length>0&&o===m.e.BOTH)){e.next=23;break}return e.next=16,this._placeLayerService.fetchImageExif(a);case 16:if(s=e.sent,this._locationPrivacyService.writeUserLocation(),!s){e.next=23;break}return e.next=21,this._placeLayerService.getSuggestion(s);case 21:(c=e.sent)&&(n.initialSearch=c);case 23:if(n.initialSearch){e.next=28;break}return e.next=26,this._placeLayerService.fetchCoordByIp();case 26:(l=e.sent)&&(n.initialCenter=l);case 28:this._placeLayerService.updateInitializeData(n),e.next=32;break;case 31:this.close();case 32:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.autocomplete=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._placeLayerService.fetchAutocomplete(t);case 2:(o=e.sent)&&this._placeLayerService.updateAutocompleteData(o);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.selectKeyword=function(){var e=s()(i.a.mark(function e(t){var o,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.description,!(n=t.placeId)){e.next=8;break}return e.next=4,this._placeLayerService.fetchSearchByPlaceId(n);case 4:r=e.sent,this._placeLayerService.updateSearchData({items:[r],pagination:{itemCount:1,currentPage:1,hasNextPage:!1}}),e.next=10;break;case 8:return e.next=10,this.search(o);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.search=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._placeLayerService.startSearching(),e.prev=1,e.next=4,this._placeLayerService.fetchSearch(t);case 4:o=e.sent,this._placeLayerService.updateSearchData(o),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.failed&&this._showSearchError();case 12:return e.prev=12,this._placeLayerService.stopSearching(),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,8,12,15]])}));return function(t){return e.apply(this,arguments)}}(),o.nextpage=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._placeLayerService.fetchNextPage(t);case 3:o=e.sent,this._placeLayerService.updateSearchData(o),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.failed&&this._showSearchError();case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),o.addPlace=function(){var e=s()(i.a.mark(function e(t){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.place,!this._placeLayerService.isAddedPlace(o)){e.next=3;break}return e.abrupt("return",null);case 3:if(this._placeLayerService.isIdenticalRegionOfAddedPlace(o)){e.next=6;break}return this._showAlert({title:"error_different_region_type_title",description:"error_different_region_type_desc"}),e.abrupt("return",null);case 6:if(this._placeLayerService.getSupportRegion()!==m.e.BOTH){e.next=13;break}return e.next=10,this._checkPlaceCoordinate(o);case 10:if(e.sent){e.next=13;break}return e.abrupt("return",null);case 13:if(!this._placeLayerService.isFullPlace()){e.next=17;break}return n=this._placeLayerService.getMaxPlaceCount(),this._placeLayerService.showToast({type:m.f.EXCEEDED_MAX_LIMIT,payload:{maxPlaceCount:n}}),e.abrupt("return",null);case 17:this._placeLayerService.addPlaces([o]);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.addPlaceByInfoWindow=function(e){this._placeLayerService.updateEditingInfoWindowData(null),this.addPlace({place:e})},o.openEditingInfoWindow=function(){var e=s()(i.a.mark(function e(t){var o,n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._placeLayerService.fetchGeocode(t);case 3:if(!(o=e.sent)){e.next=10;break}if(!this._placeLayerService.isAddedPlace(o)){e.next=7;break}return e.abrupt("return");case 7:this._placeLayerService.updateEditingInfoWindowData(o),e.next=11;break;case 10:this._showAlert({title:"error_geocoding_title",description:"error_geocoding_desc",onClickConfirm:function(){n.changeIndicatorStatus(!1)}});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0.failed&&this._showAlert({title:"error_geocoding_title",description:"error_geocoding_api_desc",onClickConfirm:function(){n.changeIndicatorStatus(!1)}});case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),o.removePlace=function(e){this._placeLayerService.removePlace(e)},o.changeIndicatorStatus=function(e){this._placeLayerService.updateIndicatorStatus(e),e||this._placeLayerService.updateEditingInfoWindowData(null)},o.updateEditingInfoWindow=function(e){this._placeLayerService.updateEditingInfoWindowData(e)},o._checkPlaceCoordinate=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.__isDomestic){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,this._placeLayerService.fetchDomesticCheck(t.latlng);case 5:if(!e.sent){e.next=9;break}return this._showAlert({title:"error_domestic_item_with_google_title",description:"error_domestic_item_with_google"}),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.highlight=function(e){if("click"===e.type){var t=e.item;this._placeLayerService.isIdenticalRegion(t)||this._placeLayerService.updateRegionType(t.__isDomestic?m.c.DOMESTIC:m.c.OVERSEAS,!0)}this._placeLayerService.updateHighlightData(e)},o.updateRegionType=function(e){var t=this,o=this._placeLayerService.hasPlaces();if(g.a.isIE10())return this._showIE10Alert(),!1;o?this._showAlert({type:"confirm",title:"has_places_title",description:"has_places_description",onClickConfirm:function(){return t._placeLayerService.updateRegionType(e)}}):this._placeLayerService.updateRegionType(e)},o._showAlert=function(e){var t=e.type,o=void 0===t?"alert":t,n=e.title,r=e.description,i=e.onClickConfirm,a=void 0===i?function(){}:i;this._alertLayerService.open({type:o,isDimUse:!1,title:this._i18n("placeLayer:"+n),description:this._i18n("placeLayer:"+r),onClickConfirm:a})},o._showIE10Alert=function(){this._showAlert({title:"not_supported_google_title",description:"not_supported_google_description"})},o._showSearchError=function(){this._showAlert({title:"error_search_title",description:"error_search_desc"})},o.updateJsLoadErrorStatus=function(e){this._placeLayerService.updateJsLoadErrorStatus(e)},o.overPlaceNameLength=function(e){this._placeLayerService.showToast({type:m.f.EXCEEDED_MAX_PLACE_NAME,payload:{maxPlaceNameLength:e}})},t}(d.m),p()(n.prototype,"confirm",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"confirm"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"loadInitializeData",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"loadInitializeData"),n.prototype),p()(n.prototype,"autocomplete",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"autocomplete"),n.prototype),p()(n.prototype,"selectKeyword",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"selectKeyword"),n.prototype),p()(n.prototype,"search",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"search"),n.prototype),p()(n.prototype,"nextpage",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"nextpage"),n.prototype),p()(n.prototype,"addPlace",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"addPlace"),n.prototype),p()(n.prototype,"addPlaceByInfoWindow",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"addPlaceByInfoWindow"),n.prototype),p()(n.prototype,"openEditingInfoWindow",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"openEditingInfoWindow"),n.prototype),p()(n.prototype,"removePlace",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"removePlace"),n.prototype),p()(n.prototype,"changeIndicatorStatus",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeIndicatorStatus"),n.prototype),p()(n.prototype,"updateEditingInfoWindow",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateEditingInfoWindow"),n.prototype),p()(n.prototype,"highlight",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"highlight"),n.prototype),p()(n.prototype,"updateRegionType",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateRegionType"),n.prototype),p()(n.prototype,"updateJsLoadErrorStatus",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateJsLoadErrorStatus"),n.prototype),p()(n.prototype,"overPlaceNameLength",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"overPlaceNameLength"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(y,"PlaceLayerUseCase"),e(b,"default")}()},394:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_,v=o(59),C=o.n(v),O=o(60),S=o.n(O),k=o(1),I=o.n(k),w=o(57),P=o.n(w),j=o(0),T=o.n(j),L=o(49),E=o.n(L),N=(o(61),o(16)),x=o(756),D=o(86),R=o(98),A=o(121),M=o(110),B=o(50),U=o(48),V=o(189),F=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,S()(o,"regionType",r,P()(o)),S()(o,"opened",i,P()(o)),S()(o,"indicatorActivated",a,P()(o)),S()(o,"initialized",s,P()(o)),S()(o,"autocompleteData",c,P()(o)),S()(o,"searchData",l,P()(o)),S()(o,"editingInfoWindowData",u,P()(o)),S()(o,"isSearching",p,P()(o)),S()(o,"initialKeyword",d,P()(o)),S()(o,"places",h,P()(o)),S()(o,"highlightData",f,P()(o)),S()(o,"maxPlaceCount",m,P()(o)),S()(o,"toastInfo",g,P()(o)),S()(o,"initialCenter",y,P()(o)),S()(o,"jsErrorStatus",b,P()(o)),S()(o,"supportRegion",_,P()(o)),o.maxPageSize=5,o.maxItemsPerPage=7,o.maxItemsOfAutocomplete=8,o.maxItemsAdded=5,o.channel="naver_editorpencil",o.gmapApiKey="AIzaSyDKo6MfoC1plkhfaMG_fS87pSQjOUMlOhA",o.maxPlaceNameLength=1/0;var n=t,v=n.state,C=void 0===v?{}:v,O=n.config,k=void 0===O?{}:O;return o.regionType=Object(N.a)(C,"regionType",o.regionType),o.opened=Object(N.a)(C,"opened",o.opened),o.indicatorActivated=Object(N.a)(C,"indicatorActivated",o.indicatorActivated),o.initialized=Object(N.a)(C,"initialized",o.initialized),o.autocompleteData=Object(N.a)(C,"autocompleteData",o.autocompleteData),o.searchData=Object(N.a)(C,"searchData",o.searchData),o.editingInfoWindowData=Object(N.a)(C,"editingInfoWindowData",o.editingInfoWindowData),o.isSearching=Object(N.a)(C,"isSearching",o.isSearching),o.initialKeyword=Object(N.a)(C,"initialKeyword",o.initialKeyword),o.places=Object(N.a)(C,"places",o.places),o.maxPageSize=Object(N.a)(k,"maxPageSize",o.maxPageSize),o.maxItemsPerPage=Object(N.a)(k,"maxItemsPerPage",o.maxItemsPerPage),o.maxItemsOfAutocomplete=Object(N.a)(k,"maxItemsOfAutocomplete",o.maxItemsOfAutocomplete),o.maxItemsAdded=Object(N.a)(k,"maxItemsAdded",o.maxItemsAdded),o.maxWidthOfInfoWindow=Object(N.a)(k,"maxWidthOfInfoWindow",o.maxWidthOfInfoWindow),o.maxPlaceNameLength=Object(N.a)(k,"maxPlaceNameLength",o.maxPlaceNameLength),o._updateVariableByExternalConfig(),o}T()(t,e);var o=t.prototype;return o._updateVariableByExternalConfig=function(){var e=B.V.get("configAgent");this.markerIcons=e.get("editorInfo.placesMapInfo");var t=e.get("plugins.layoutSettings.placeLayer.config.supportRegion");this.supportRegion=Object(M.a)(V.e,t)?t:this.supportRegion,this.channel=e.get("infraInfo.mapInfra.googleMapChannelId")||this.channel,this.gmapApiKey=e.get("infraInfo.mapInfra.googleMapClientKey")||this.gmapApiKey},o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this._reset()},o.updateAutocompleteData=function(e){this.autocompleteData=e},o.updateSearchingStatus=function(e){e&&(this.autocompleteData=null,this.searchData=null),this.isSearching=e},o.updateHighlightData=function(e){this.highlightData=e},o.updateInitializeData=function(e){var t=e.initialCenter,o=void 0===t?null:t,n=e.initialPlaces,r=void 0===n?this.places:n,i=e.initialKeyword,a=void 0===i?"":i,s=e.initialSearch,c=void 0===s?null:s,l=e.maxPlaceCount,u=e.supportRegion,p=void 0===u?null:u,d=e.initialized,h=void 0===d?this.initialized:d,f=Object(N.a)(c,"items",null),m=this._hasOverseas(f)||this._hasOverseas(r);this.initialized=h,this.supportRegion=Object(M.a)(V.e,p)?p:this.supportRegion,(this.supportRegion===V.e.BOTH&&m||this.supportRegion===V.e.OVERSEAS)&&(this.regionType=V.c.OVERSEAS),this.places=r,this.maxPlaceCount=l||this.maxPlaceCount||this.maxItemsAdded,this.initialKeyword=a,this.searchData=c,this.initialCenter=o},o.updateJsLoadErrorStatus=function(e){this.jsErrorStatus=e},o.showToast=function(e){this.toastInfo=C()({id:B.ab.generate()},e)},o.hideToast=function(){this.toastInfo=null},o.addPlaces=function(e){var t=this.places.slice();this.places=[].concat(t,e),this.indicatorActivated=!1},o.removePlace=function(e){Object(x.a)(this.places,function(t){return Object(D.a)(t,e)})},o.resetPlaces=function(){this.places.replace([])},o._reset=function(){this.initialized=!1,this.maxPlaceCount=this.maxItemsAdded,this.initialKeyword="",this.regionType=V.c.DOMESTIC,this._resetLayer()},o._resetLayer=function(){this.searchData=null,this.editingInfoWindowData=null,this.isSearching=!1,this.indicatorActivated=!1,this.highlightData=null,this.toastInfo=null,this.places=[],this.jsErrorStatus=!1},o._isAdded=function(e){return Object(R.a)(this.places,e)>-1},o._isHighlight=function(e){var t=this.highlightData&&this.highlightData.item||{};return!this.editingInfoWindowData&&e.name===t.name&&e.address===t.address&&e.placeId===t.placeId},o._makeUid=function(e){var t=e.latlng;return t.latitude+","+t.longitude+","+e.placeId},o._refinePlaces=function(){var e=this,t=[];return this.places.forEach(function(o,n){t.push(C()({},o,{pIndex:n,zIndex:100,uid:e._makeUid(o),isAdded:!0,isHighlight:e._isHighlight(o)}))}),t},o._refineSearchResultExceptAdded=function(){var e=this,t=[];return Object(N.a)(this.searchData,"items",[]).forEach(function(o){if(!e._isAdded(o)){var n=e._isHighlight(o),r=n?200:1;t.push(C()({},o,{zIndex:r,uid:e._makeUid(o),isAdded:!1,isHighlight:n}))}}),t},o.updateSearchData=function(e){var t=Object(N.a)(e,"items",null);if(t&&t.length>0){var o=this._hasOverseas(t)?V.c.OVERSEAS:V.c.DOMESTIC;this.regionType!==o&&(this.regionType=o)}this.editingInfoWindowData=null,this.indicatorActivated=!1,this.highlightData=null,this.searchData=e},o.updateIndicatorStatus=function(e){e&&(this.searchData=null,this.autocompleteData=null,this.editingInfoWindowData=null),this.indicatorActivated=e},o.updateEditingInfoWindowData=function(e){this.editingInfoWindowData=e},o.updateRegionType=function(e,t){t||this._resetLayer(),this.autocompleteData=null,this.regionType=e},o.updateCompData=function(e){this.compData=e},o._hasOverseas=function(e){return!!e&&Object(A.a)(e,["__isDomestic",!1])},I()(t,[{key:"isDomestic",get:function(){return this.regionType===V.c.DOMESTIC}},{key:"isFullPlace",get:function(){return this.places.length===this.maxPlaceCount}},{key:"mapCursor",get:function(){var e=this.regionType===V.c.DOMESTIC?"open":"url("+window.location.protocol+"//maps.gstatic.com/mapfiles/openhand_8_8.cur),default";return this.indicatorActivated?"crosshair":e}},{key:"refinedSearchResult",get:function(){var e=this,t=[],o=Object(N.a)(this.searchData,"items",[]),n=Object(N.a)(this.searchData,"pagination"),r=Object(N.a)(this.searchData,"status");return o.forEach(function(o){var n=e._isHighlight(o);t.push(C()({},o,{uid:e._makeUid(o),isAdded:e._isAdded(o),isHighlight:n,zIndex:n?100:1}))}),{items:t,pagination:n,status:r}}},{key:"mapMarkers",get:function(){var e=this._refineSearchResultExceptAdded(),t=this._refinePlaces();return[].concat(e,t)}},{key:"mapModel",get:function(){var e=Object(N.a)(this.highlightData,"type",null),t=Object(N.a)(this.searchData,"items",null),o=this.editingInfoWindowData,n=this.isDomestic,r=V.a.overseas,i=V.a.domestic,a=this.initialCenter;n||(a=null);var s={};if(o)return s.zoom=n?i:r,s.center=o.latlng,s;switch(e){case"click":s.zoom=n?i:r,s.center=this.highlightData.item.latlng;break;case"mouseenter":break;default:s.boundary=t||(this.places.length?this.places:null),s.boundary?s.zoom=n?i:r:s.zoom=a?i:n?i:1,s.center=a}return s}}]),t}(B.e),r=E()(n.prototype,"regionType",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.c.DOMESTIC}}),i=E()(n.prototype,"opened",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=E()(n.prototype,"indicatorActivated",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=E()(n.prototype,"initialized",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=E()(n.prototype,"autocompleteData",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=E()(n.prototype,"searchData",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=E()(n.prototype,"editingInfoWindowData",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=E()(n.prototype,"isSearching",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=E()(n.prototype,"initialKeyword",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E()(n.prototype,"places",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=E()(n.prototype,"highlightData",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E()(n.prototype,"maxPlaceCount",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=E()(n.prototype,"toastInfo",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E()(n.prototype,"initialCenter",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=E()(n.prototype,"jsErrorStatus",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=E()(n.prototype,"supportRegion",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return V.e.BOTH}}),E()(n.prototype,"isDomestic",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"isDomestic"),n.prototype),E()(n.prototype,"isFullPlace",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"isFullPlace"),n.prototype),E()(n.prototype,"mapCursor",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"mapCursor"),n.prototype),E()(n.prototype,"refinedSearchResult",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"refinedSearchResult"),n.prototype),E()(n.prototype,"mapMarkers",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"mapMarkers"),n.prototype),E()(n.prototype,"mapModel",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"mapModel"),n.prototype),n),z=F;t.a=z,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/store/index.js",localName:t}})}catch(e){}}e(F,"PlaceLayerStore"),e(z,"default")}()},395:function(e,t,o){"use strict";var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(49),h=o.n(d),f=o(50),m=o(48),g=o(51),y=o(190),b=o(366),_=(n=Object(g.history)({sync:!1}),r=Object(g.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._imageTypeLayerService=f.V.get("imageTypeLayerService"),t._imageBehavior=f.V.get("imageBehavior"),t._imageUploadService=f.V.get("imageUploadService"),t}p()(t,e);var o=t.prototype;return o.confirm=function(){var e=l()(s.a.mark(function e(t){var o,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.type,n=t.data,this.close(),e.t0=o,e.next="list"===e.t0?5:"gif"===e.t0?8:"collage"===e.t0?9:"slide"===e.t0?12:15;break;case 5:return e.next=7,this._insertImage(n);case 7:case 8:return e.abrupt("break",16);case 9:return e.next=11,this._insertGroupImage(y.a.COLLAGE,n);case 11:return e.abrupt("break",16);case 12:return e.next=14,this._insertGroupImage(y.a.SLIDE,n);case 14:case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.close=function(){this._imageTypeLayerService.close()},o._insertImage=function(){var e=l()(s.a.mark(function e(t){var o,n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.type,n=t.payload,r=t.insertInterceptor,i=t.serviceType,o!==b.a.FILE){e.next=6;break}return e.next=4,this._imageBehavior.insertImage(n,r);case 4:e.next=9;break;case 6:if(o!==b.a.SNS){e.next=9;break}return e.next=9,this._imageBehavior.insertImageFromUrls(n,i);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertGroupImage=function(){var e=l()(s.a.mark(function e(t,o){var n,r,i,a,c,l,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.type,r=o.payload,i=o.insertInterceptor,a=o.serviceType,c=r.validFiles,l=void 0===c?[]:c,u=this._imageUploadService.getExceededCountByMax(l.length),1!==l.length-u){e.next=9;break}return e.next=7,this._imageBehavior.insertImage(r,i);case 7:e.next=17;break;case 9:if(n!==b.a.FILE){e.next=14;break}return e.next=12,this._imageBehavior.insertGroupImage(t,r,i);case 12:e.next=17;break;case 14:if(n!==b.a.SNS){e.next=17;break}return e.next=17,this._imageBehavior.insertImageGroupFromUrls(t,r,a);case 17:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t}(f.m),h()(i.prototype,"confirm",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"confirm"),i.prototype),h()(i.prototype,"close",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),h()(i.prototype,"_insertImage",[n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"_insertImage"),i.prototype),h()(i.prototype,"_insertGroupImage",[r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"_insertGroupImage"),i.prototype),i),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"ImageTypeLayerUseCase"),e(v,"default")}()},396:function(e,t,o){"use strict";var n,r,i,a,s=o(60),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(49),f=o.n(h),m=(o(61),o(16)),g=o(50),y=o(48),b=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,c()(o,"data",r,u()(o)),c()(o,"opened",i,u()(o)),c()(o,"isGroupImageAvailable",a,u()(o)),o.maxGroupImageLength=10;var n=t,s=n.state,l=void 0===s?{}:s,p=n.config,d=void 0===p?{}:p;return o.data=Object(m.a)(l,"data",o.data),o.opened=Object(m.a)(l,"opened",o.opened),o.dimColor=Object(m.a)(d,"dimColor","transparent"),o.isGroupImageAvailable=Object(m.a)(l,"isGroupImageAvailable",o.isGroupImageAvailable),o.maxGroupImageLength=Object(m.a)(d,"maxGroupImageLength",o.maxGroupImageLength),o}d()(t,e);var o=t.prototype;return o.open=function(e){this.data=e,this.opened=!0,this.isGroupImageAvailable=e.payload.length<=this.maxGroupImageLength},o.close=function(){this.data={},this.opened=!1},t}(g.e),r=f()(n.prototype,"data",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=f()(n.prototype,"opened",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=f()(n.prototype,"isGroupImageAvailable",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/store/index.js",localName:t}})}catch(e){}}e(b,"ImageTypeLayerStore"),e(_,"default")}()},397:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._imageLocationEditLayerService=c.V.get("imageLocationEditLayerService"),t}i()(t,e);var o=t.prototype;return o.removeLocation=function(){this._imageLocationEditLayerService.remove(),this.close()},o.changeLocation=function(){this._imageLocationEditLayerService.change(),this.close()},o.close=function(){this._imageLocationEditLayerService.close()},t}(c.m),s()(n.prototype,"removeLocation",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"removeLocation"),n.prototype),s()(n.prototype,"changeLocation",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLocation"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"ImageLocationEditLayerUseCase"),e(p,"default")}()},398:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(50)),f=o(48),m=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,a()(t,"opened",r,c()(t)),t}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(h.e),r=d()(n.prototype,"opened",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/store/index.js",localName:t}})}catch(e){}}e(m,"ImageLocationEditLayerStore"),e(g,"default")}()},399:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_,v,C,O,S,k,I,w,P,j,T,L=o(17),E=o.n(L),N=o(60),x=o.n(N),D=o(1),R=o.n(D),A=o(57),M=o.n(A),B=o(0),U=o.n(B),V=o(49),F=o.n(V),z=(o(61),o(64)),W=o(117),G=o(16),H=o(3),q=o(25),J=o(69),K=o(171),Y=o(22),X=o(110),Q=o(101),Z=o(50),$=o(975),ee=o(1211),te=o(48),oe=o(1261),ne=o(191),re=o(508),ie=o(513),ae=o(168),se=Object(q.a)(function(e){return new Promise(function(t,o){var n=new Image;n.onload=function(){t({width:n.width,height:n.height})},n.onerror=function(t){se.cache.delete(e),o(t)},n.src=e})}),ce=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"query",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.domain="",o.thumbnailTypeMap={},o.imageMinimumHeight=0,o.imageMinimumWidth=0,o.documentWidth=null,o.imageTag={},x()(o,"layout",r,M()(o)),x()(o,"contentMode",i,M()(o)),x()(o,"align",a,M()(o)),x()(o,"src",s,M()(o)),x()(o,"width",c,M()(o)),x()(o,"height",l,M()(o)),x()(o,"originalWidth",u,M()(o)),x()(o,"originalHeight",p,M()(o)),x()(o,"alt",d,M()(o)),x()(o,"caption",h,M()(o)),x()(o,"place",f,M()(o)),x()(o,"location",m,M()(o)),x()(o,"path",g,M()(o)),x()(o,"internalResource",y,M()(o)),x()(o,"fileSize",b,M()(o)),x()(o,"link",_,M()(o)),x()(o,"widthPercentage",v,M()(o)),x()(o,"format",C,M()(o)),x()(o,"displayFormat",O,M()(o)),x()(o,"phase",S,M()(o)),x()(o,"represent",k,M()(o)),x()(o,"mediaMeta",I,M()(o)),x()(o,"origin",w,M()(o)),x()(o,"imageLoaded",P,M()(o)),x()(o,"mediaTags",j,M()(o)),x()(o,"representativeEnabled",T,M()(o));var n=t,L=n.state,E=void 0===L?{}:L,N=n.config,D=void 0===N?{}:N;o._config=D,o._configAgent=Z.V.get("configAgent"),o._componentFactory=Z.V.get("componentFactory"),o._sentryManager=Z.V.get("sentryManager"),o.attributes=Object(J.a)(o.attributes,D.attributes),o.thumbnailTypeMap=D.thumbnailTypeMap||o._configAgent.get("editorInfo.thumbnailType")||{normal:"w1000",vr360:"preview1200_675",panorama:"preview1200_675"},o.imageMinimumHeight=D.imageMinimumHeight||o._configAgent.get("editorInfo.imageMinimumHeight"),o.imageMinimumWidth=D.imageMinimumWidth||o._configAgent.get("editorInfo.imageMinimumWidth"),o.useOriginalImage=o._configAgent.get("infraConfig.image.useOriginalImage"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.showLocationButton=!1!==Object(G.a)(D,"enableLocation",!1),o.enableLocationMinimumImageWidth=Object(G.a)(D,"enableLocation.minimumImageWidth");var R=o._configAgent.get("productConfig.imageTag");if("boolean"==typeof R?R||(o.imageTag=null):"object"==typeof R&&(o.imageTag=R),E.key)o.id=Object(G.a)(E,"key",o.id),o.src=E.domain+E.path||o.src,o.domain=Object(G.a)(E,"domain",o.domain),o.path=Object(G.a)(E,"path",o.path),o.originalWidth=Object(G.a)(E,"width",o.originalWidth),o.originalHeight=Object(G.a)(E,"height",o.originalHeight),o.internalResource=!0,o.represent=!1;else{o.layout=Object(G.a)(E,"layout",o.layout),o.align=Object(G.a)(E,"align",o.align),o.src=o._getValidSrc(Object(G.a)(E,"src",o.src)),o.width=Object(G.a)(E,"width"),o.height=Object(G.a)(E,"height"),o.originalWidth=E.originalWidth||o.width,o.originalHeight=E.originalHeight||o.height,o.originalWidth&&o.originalHeight?o.width&&o.height?o._resolveWidthAndHeight({width:o.width,height:o.height}):(o._updateSize(o.originalWidth,o.originalHeight),o._resolveWidthAndHeight({width:o.width,height:o.height})):(delete E.contentMode,se(o._imageUrl).then(function(e){var t=e.width,n=e.height;o._updateSize(t,n),o.originalWidth=o.width,o.originalHeight=o.height,o._resolveWidthAndHeight({width:o.width,height:o.height}),o._resolveContentModeBySize()}));var A=Object(G.a)(E,"path",o.path);o.path=re.a.getEncodeUrl(A),o.alt=Object(G.a)(E,"alt",o.alt),o.caption=o._createCaptionTextUnitStore(E,D),o.place=Object(G.a)(E,"place",o.place),o.location=o._extractLocation(E),o.domain=Object(G.a)(E,"domain",o._configAgent.get("infraInfo.photoInfra.imageHost")),o.internalResource=Object(G.a)(E,"internalResource",o.internalResource),o.fileSize=Object(G.a)(E,"fileSize",o.fileSize),o.fileName=Object(G.a)(E,"fileName",o.fileName),o.link=Object(G.a)(E,"link",o.link),o.widthPercentage=Object(G.a)(E,"widthPercentage",o.widthPercentage),o.format=Object(G.a)(E,"format",o.format),o.displayFormat=Object(G.a)(E,"displayFormat",o.displayFormat),o.phase=o._resolveComponentPhase(E),o.represent=Object(G.a)(E,"represent",o.represent),o.mediaMeta=Object(G.a)(E,"mediaMeta",o.mediaMeta),o.contentMode=Object(G.a)(E,"contentMode"),o.allowVR360OrPanorama=Object(G.a)(E,"allowVR360OrPanorama",!0),o.mediaTags=Object(G.a)(E,"mediaTags",o.mediaTags)}return o.origin=Object(G.a)(E,"origin",{ctype:"imageOrigin",srcFrom:"local"}),o.imageLoaded=Object(G.a)(E,"imageLoaded",!1),o.updateConfig(),o._resolveImageFormat(E),o._resolveThumbnailType(),E.contentMode?o._resolveSizeByContentMode():o._resolveContentModeBySize(),!0===o.internalResource&&""===o.path&&o.phase===Z.N.DONE&&o._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageComponentStore.constructor"),e.setExtra("cause","   path  !"),e.setExtra("data",o.toPlainJSON()),o._sentryManager.captureMessage("    ")}),o}U()(t,e);var o=t.prototype;return o._getValidSrc=function(e){var t=re.a.isImageTag(e)?re.a.getSrcFromImageTag(e):e;return/^data:image\/[a-zA-Z]*;base64,/.test(t)?t:re.a.prependProtocol(re.a.getEncodeUrl(t))},o.setState=function(e){var t=this,o=e.width,n=e.height,r=e.caption;if(r){var i=new oe.a({state:r});delete e.caption,this.caption=i}return this.domain=Object(G.a)(e,"domain",this.domain),this.layout=Object(G.a)(e,"layout",this.layout),this.contentMode=Object(G.a)(e,"contentMode",this.contentMode),this.align=Object(G.a)(e,"align",this.align),this.src=Object(G.a)(e,"src",this.src),this.alt=Object(G.a)(e,"alt",this.alt),this.place=Object(G.a)(e,"place",this.place),this.location=this._extractLocation(e),this.path=Object(G.a)(e,"path",this.path),this.fileSize=Object(G.a)(e,"fileSize",this.fileSize),this.fileName=Object(G.a)(e,"fileName",this.fileName),this.internalResource=Object(G.a)(e,"internalResource",this.internalResource),this.link=Object(G.a)(e,"link",this.link),this.widthPercentage=Object(G.a)(e,"widthPercentage",this.widthPercentage),this.format=Object(G.a)(e,"format",this.format),this.displayFormat=Object(G.a)(e,"displayFormat",this.displayFormat),this.represent=Object(G.a)(e,"represent",this.represent),this.origin=Object(G.a)(e,"origin",this.origin),this._resolveImageFormat(e),this._resolveThumbnailType(),o=Object(G.a)(e,"width",this.width),n=Object(G.a)(e,"height",this.height),this._updateSize(o,n),this._resolveWidthAndHeight({width:this.width,height:this.height}),this.originalWidth=Object(G.a)(e,"originalWidth",this.originalWidth),this.originalHeight=Object(G.a)(e,"originalHeight",this.originalHeight),o&&this._resolveContentModeBySize(),this.phase=Object(G.a)(e,"phase",this.phase),!0===this.internalResource&&""===this.path&&this.phase===Z.N.DONE&&this._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageComponentStore.setState"),e.setExtra("cause","   path  !"),e.setExtra("data",t.toPlainJSON()),t._sentryManager.captureMessage("   .")}),this},o.resetWidthPercentage=function(){this.widthPercentage=0},o._extractLocation=function(e){var t=Object(G.a)(e,"location",this.location);return t&&t.longitude&&t.latitude?t:null},o.changeContentMode=function(e){var t=Z.C.NORMAL,o=Z.C.ANIMATED;(e!==ae.a.NORMAL||[t,o].includes(this.displayFormat))&&(this.contentMode=e,this._resolveSizeByContentMode())},o.updateImageSize=function(e,t){this._updateSize(e,t),this._resolveContentModeBySize()},o.changeSize=function(e){if([Z.C.NORMAL,Z.C.ANIMATED].includes(this.displayFormat)){var t=e.width,o=e.height,n=e.isReset,r=this.width/this.height,i=t,a=o,s=!0;i?a||(a=t/r):i=o*r,n&&(i=this.originalWidth,a=this.originalHeight,s=!1),this._resolveWidthAndHeight({width:i,height:a,hasBoundedBelowSize:s}),this._resolveContentModeBySize()}},o._updateSize=function(e,t){this.width=Math.floor(e),this.height=Math.floor(t),this._correctOriginalSize(e,t)},o._correctOriginalSize=function(e,t){var o=this,n=t/e*1e3,r=this.originalHeight/this.originalWidth*1e3;Math.abs(n-r)<5||se(this._imageUrl).then(function(e){var t=e.width,n=e.height;o.originalWidth=t,o.originalHeight=n})},o.changeLink=function(e,t){return void 0===e&&(e={}),!0===this.caption.isFocused?this.caption.changeLink(this.checkProtocol(e),t):(this.link=e.value?this.checkProtocol(e).value:null,[this.getStartPoint()])},o.removeImageLink=function(){this.link=null},o.updateProperty=function(e,t){var o=e.contentMode,n=e.link,r=e.resizing,i=E()(e,["contentMode","link","resizing"]);if(o&&this.changeContentMode(o),r&&this.changeSize(r),Object(Q.a)(this,i),n)return this.changeLink(n,t)},o.changeAlign=function(e){e&&(this.align=e)},o.togglePanoramaDisplay=function(){var e=Z.C.PANORAMA,t=Z.C.NORMAL,o=this.displayFormat===e?t:e;this.layout="default",this.contentMode=ae.a.FIT,this.displayFormat=o,this._resolveSizeByContentMode(),this._resolveThumbnailType()},o.merge=function(e,t,o){void 0===o&&(o={});var n=Object(W.a)(e),r=o.targetCompOfInsertPoint;if("image"===n.ctype){var i=0===t.offset?[n,this]:[this,n],a=this.caption;r?a=r.caption:this.caption.isEmpty()&&(a=n.caption);var s=ie.a.dropProperty(a.toValidJSON(),"id"),c=this._componentFactory.createComponentWithCompData({ctype:"imageStrip",align:this.align,caption:s});return i.forEach(function(e){e.format!==Z.C.PANORAMA&&e.format!==Z.C.VR360||(e.displayFormat=Z.C.NORMAL,e._resolveThumbnailType())}),c.merge(i,t),{components:[c]}}return{components:[this].concat(e)}},o.updatePlace=function(e){this.place=e},o.completeImageLoad=function(){this.imageLoaded=!0},o.applyEditedImage=function(e){var t=this;Object(te.h)(function(){var o=e.photos[0];if(o.modified){var n=t._refineIntoImageData(o),r=n.fileSize,i=n.height,a=n.path,s=n.src,c=n.width,l=t.isLonggerThanDocumentWidth(c)||t.isWidthEqualToDocumentWidth(c);c===t.originalWidth||l||(t.contentMode=ae.a.NORMAL),t.src=s,t.path=a,t.fileSize=r,t._resolveWidthAndHeight({width:c,height:i}),t.originalWidth=c,t.originalHeight=i,t.phase=Z.N.DONE}})},o._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,path:a,id:t,src:""+i+a+(this.thumbnailTypeMap.normal?"?type="+this.thumbnailTypeMap.normal:"")}},o.getStoreById=function(e){return e===this.id?this:e===this.caption.id?this.caption:null},o.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,contentMode:this.contentMode,size:{width:this.width,height:this.height},link:{value:this.link},align:t,displayFormat:this.displayFormat,mediaTags:this.mediaTags};if(e&&!0===this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(K.a)(n,function(e){return""===e||null===e});o.caption=r}return o},o.getSelectedAlign=function(){return{align:this.align}},o._resolveWidthAndHeight=function(e){var t=e.width,o=void 0===t?this.width:t,n=e.height,r=void 0===n?this.height:n,i=e.hasBoundedBelowSize,a=void 0!==i&&i,s=this.width/this.height,c=o,l=r;if(a&&l<this.imageMinimumHeight&&(c=(l=this.imageMinimumHeight)*s),a&&c<this.imageMinimumWidth)l=(c=this.imageMinimumWidth)/s;else if(c>this.documentWidth){var u=this.documentWidth/o;c=this.documentWidth,l=Math.floor(r*u)}this._updateSize(c,l)},o._resolveThumbnailType=function(){var e=this.domain,t=this.path,o=this.internalResource;if(!t||!1===o)return this;var n=this.displayFormat,r=this.thumbnailTypeMap,i=r.normal,a=r.vr360,s=r.panorama,c="?type="+i;n&&"vr360"===n&&a&&(c="?type="+a),n&&"panorama"===n&&s&&(c="?type="+s),this.src=""+e+t+c},o._resolveImageFormat=function(e){void 0===e&&(e={});var t=this.path;if("string"!=typeof t||!this.allowVR360OrPanorama)return!1;var o=t.indexOf("PM-1.P-eq")>=0,n=t.indexOf("PM-1.P-pa")>=0,r=this.format;!0===o?r=Z.C.VR360:!0===n&&(r=Z.C.PANORAMA),this.format=r;var i=e.displayFormat;this.displayFormat=i||r},o._getExternalContentMode=function(){var e=this._configAgent.get("plugins.componentSettings."+this.ctype+".config");return Object(G.a)(e,"contentMode")},o._getDefaultContentMode=function(e){if(e){var t=this.getLayoutThemeStyle(this.themeStyle)||{};return Object(G.a)(t,"component.contentMode",ae.a.FIT)}return ae.a.NORMAL},o._validateContentMode=function(e){return e&&Object(X.a)(ae.a,e)},o._resolveContentModeBySize=function(){var e=this.isLonggerThanDocumentWidth(this.width)||this.isWidthEqualToDocumentWidth(this.width),t=this._getExternalContentMode(),o=Object(Y.a)(t)?t({width:this.width,height:this.height,largerThanDocumentWidth:e}):t;this._validateContentMode(o)?this.contentMode=o:this.contentMode=this._getDefaultContentMode(e)},o.isWidthEqualToDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e===this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height===this.documentWidth},o.isLonggerThanDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e>this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height>this.documentWidth},o.isSmallerThanMinimumHeight=function(e,t){return void 0===e&&(e=""),this._isNumber(t)?t<this.imageMinimumHeight:!!this._isNumber(e)&&e*this.height/this.width<this.imageMinimumHeight},o.isSmallerThanMinimumWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e<this.imageMinimumWidth:!!this._isNumber(t)&&t*this.width/this.height<this.imageMinimumWidth},o._isNumber=function(e){return"number"==typeof e},o.queryDragAndDrop=function(e){var t=e.type,o=e.items,n=e.dropPoint,r=e.insertDirection,i=e.itemIds,a=e.isOnEdge;if(i.includes(this.id))return null;var s=Object(W.a)(o),c=this._configAgent.get("plugins.excludeComponents")||[];return"external-file"===t||o.length>1||s&&"image"!==s.ctype||a||c.includes("imageStrip")?{insertPoint:n,insertCommand:r===Z.x.BOTTOM?"append":"prepend",direction:r}:{insertPoint:n,insertCommand:"query",direction:0===n.offset?Z.x.LEFT:Z.x.RIGHT}},o.isLibraryComponent=function(){return!1===this.shouldUploadImage()&&!0===this.internalResource},o.getLibraryItemData=function(){var e=this.toValidJSON();return e.widthPercentage=0,e.caption=null,{id:this.id,key:""+this.domain+this.path,thumbnail:this.src,data:e}},o.getRepresentativeImageURL=function(){return""+this.domain+this.path},o.getRepresentativeInnerData=function(){return this.toValidJSON()},o._resolveComponentPhase=function(e){if(!Object(G.a)(e,"internalResource"))return Z.N.DONE;var t=Object(G.a)(e,"src"),o=Object(G.a)(e,"width",e.originalWidth),n=Object(G.a)(e,"height",e.originalHeight),r=Object(G.a)(e,"path",""),i=Object(G.a)(e,"phase",Z.N.EMPTY);return t&&o&&n&&r?Z.N.DONE:i},o.shouldUploadImage=function(){return this.src&&!this.path},o._createCaptionTextUnitStore=function(e,t){var o={state:e.caption,config:Object(z.a)({},t.caption,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},maxLength:1/0,filterTextStyle:{fontFamily:ne.b.NOT_ALLOWED,fontSizeCode:ne.b.NOT_ALLOWED,fontColor:ne.b.NOT_ALLOWED,backgroundColor:ne.b.NOT_ALLOWED,italic:ne.b.NOT_ALLOWED,underline:ne.b.NOT_ALLOWED,strikeThrough:ne.b.NOT_ALLOWED,subscript:ne.b.NOT_ALLOWED,superscript:ne.b.NOT_ALLOWED,dropCap:ne.b.NOT_ALLOWED,list:ne.b.NOT_ALLOWED}})},n=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),r=Object(G.a)(n,"caption.textStyle",{}),i=o.config.filterTextStyle;return o.config.filterTextStyle=Object(J.a)(i,r),new oe.a(o)},o._resolveSizeByContentMode=function(){var e=this.documentWidth/this.width,t=ae.a.NORMAL,o=ae.a.FIT,n=ae.a.EXTEND,r=ae.a.PAGEFULL,i=Z.C.NORMAL,a=Z.C.ANIMATED;if(this.contentMode===t&&[i,a].includes(this.displayFormat))if(this.width<this.documentWidth)this._updateSize(this.width,this.height);else if(this.width>this.documentWidth||this.originalWidth>=this.documentWidth){var s=.75*this.documentWidth,c=this.height*e*.75;this._updateSize(s,c)}else this.originalWidth<this.documentWidth&&this._resolveWidthAndHeight({width:this.originalWidth,height:this.originalHeight});else if([o,n,r].includes(this.contentMode)){var l=Math.floor(this.height*e);this._updateSize(this.documentWidth,l)}},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},o.isRepresentativeImage=function(){return e.prototype.isRepresentativeImage.call(this)&&!this.isSmallerThanMinimumSize(this.width,this.height)},o.isSmallerThanMinimumSize=function(e,t){return this.isSmallerThanMinimumWidth(e,t)||this.isSmallerThanMinimumHeight(e,t)},o.resetImageLoaded=function(){this.imageLoaded=!1},o.getMediaTagData=function(){var e=this.mediaTags?this.mediaTags:[];return te.f.toJS(e)},o.updateMediaTag=function(e){this.mediaTags=e},o.removeMediaTag=function(){this.mediaTags=null},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.latex,contentMode:this.contentMode,align:this.align,src:this.src,width:this.width,height:this.height,alt:this.alt,caption:this.caption.toPlainJSON(),place:te.f.toJS(this.place),location:te.f.toJS(this.location),path:this.path,internalResource:this.internalResource,fileSize:this.fileSize,fileName:this.fileName,link:this.link,widthPercentage:this.widthPercentage,format:this.format,displayFormat:this.displayFormat,mediaTags:te.f.toJS(this.mediaTags),phase:this.phase,represent:this.represent,mediaMeta:te.f.toJS(this.mediaMeta),origin:te.f.toJS(this.origin),originalWidth:this.originalWidth,originalHeight:this.originalHeight}},R()(t,[{key:"locationEditable",get:function(){return!this.enableLocationMinimumImageWidth||this.originalWidth>=this.enableLocationMinimumImageWidth}},{key:"isLoaded",get:function(){return this.phase===Z.N.LOADED}},{key:"isUploaded",get:function(){var e=this.phase;return e===Z.N.LOADED||e===Z.N.DONE}},{key:"_imageUrl",get:function(){if(this.path){var e=this.domain+this.path;return!1===this.useOriginalImage?e+"?type="+this.thumbnailTypeMap.normal:e}return this.src}},{key:"imageTagEnabled",get:function(){return Object(H.a)(this.imageTag)}},{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),t}(Object(Z.X)(Object(Z.Z)(Z.h))),r=F()(n.prototype,"layout",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=F()(n.prototype,"contentMode",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.a.FIT}}),a=F()(n.prototype,"align",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=F()(n.prototype,"src",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=F()(n.prototype,"width",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=F()(n.prototype,"height",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=F()(n.prototype,"originalWidth",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=F()(n.prototype,"originalHeight",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=F()(n.prototype,"alt",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=F()(n.prototype,"caption",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=F()(n.prototype,"place",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=F()(n.prototype,"location",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=F()(n.prototype,"path",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=F()(n.prototype,"internalResource",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=F()(n.prototype,"fileSize",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=F()(n.prototype,"link",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=F()(n.prototype,"widthPercentage",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=F()(n.prototype,"format",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.C.NORMAL}}),O=F()(n.prototype,"displayFormat",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.C.NORMAL}}),S=F()(n.prototype,"phase",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.N.EMPTY}}),k=F()(n.prototype,"represent",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=F()(n.prototype,"mediaMeta",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=F()(n.prototype,"origin",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=F()(n.prototype,"imageLoaded",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=F()(n.prototype,"mediaTags",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F()(n.prototype,"representativeEnabled",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F()(n.prototype,"locationEditable",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"locationEditable"),n.prototype),F()(n.prototype,"isLoaded",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"isLoaded"),n.prototype),F()(n.prototype,"isUploaded",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"isUploaded"),n.prototype),F()(n.prototype,"_imageUrl",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"_imageUrl"),n.prototype),n);ce.ctype="image",ce.schema={id:$.a.string.isRequired,ctype:$.a.string.isRequired,layout:$.a.string.isRequired,align:$.a.string,src:$.a.string.isRequired,internalResource:$.a.bool,represent:$.a.bool.isRequired,path:$.a.string,domain:$.a.string,fileSize:$.a.number.isRequired,width:$.a.number.isRequired,widthPercentage:$.a.number,height:$.a.number.isRequired,originalWidth:$.a.number,originalHeight:$.a.number,fileName:$.a.string,caption:$.a.captionTextUnit,location:$.a.shape(ee.f),link:$.a.string,format:$.a.string.isRequired,displayFormat:$.a.string.isRequired,imageLoaded:$.a.bool,mediaTags:$.a.arrayOf($.a.shape({ctype:$.a.string.isRequired,point:$.a.shape(ee.e),links:$.a.arrayOf($.a.shape({ctype:$.a.string.isRequired,url:$.a.string.isRequired,title:$.a.string.isRequired,iconType:$.a.string.isRequired,thumbnail:$.a.shape(ee.g).isRequired,description:$.a.string.isRequired,categoryId:$.a.string.isRequired,provider:$.a.string.isRequired,meta:$.a.object}))})),contentMode:$.a.string.isRequired,place:$.a.shape(ee.d),mediaMeta:$.a.shape(ee.b),origin:$.a.shape(ee.a).isRequired};var le=ce;t.a=le,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/store/index.js",localName:t}})}catch(e){}}e(se,"getOriginalImageSize"),e(ce,"ImageComponentStore"),e(le,"default")}()},400:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(50),h=o(48),f=o(51),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._translationLayerService=d.V.get("translationLayerService"),t._editingService=d.V.get("editingService"),t._toastLayerService=d.V.get("toastLayerService"),t}l()(t,e);var o=t.prototype;return o.applyToDoc=function(e){this._editingService.writeTextWithSoftLineBreak(e),this._translationLayerService.close()},o.translate=function(e,t,o){this._translationLayerService.translate(e,t,o)},o.close=function(){this._translationLayerService.close()},o.changeLangCode=function(){var e=s()(i.a.mark(function e(t){var o,n,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.code,n=t.sourceLayer,r=t.fromCode,a=t.toCode,!n){e.next=6;break}return e.next=4,this._translationLayerService.changeSourceLangCode({code:o,fromCode:r,toCode:a});case 4:e.next=8;break;case 6:return e.next=8,this._translationLayerService.changeTargetLangCode({code:o,fromCode:r,toCode:a});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.warningMessage=function(e){this._toastLayerService.warningMessage(e)},o.resetTextOvered=function(){this._translationLayerService.resetTextOvered()},t}(d.m),p()(n.prototype,"applyToDoc",[h.d,f.history],Object.getOwnPropertyDescriptor(n.prototype,"applyToDoc"),n.prototype),p()(n.prototype,"translate",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"translate"),n.prototype),p()(n.prototype,"changeLangCode",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLangCode"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"TranslationLayerUseCase"),e(g,"default")}()},401:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p=o(60),d=o.n(p),h=o(1),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(49),v=o.n(_),C=(o(61),o(50)),O=o(48),S=o(712),k=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];return t=e.call.apply(e,[this].concat(n))||this,d()(t,"opened",r,g()(t)),d()(t,"_fromCode",i,g()(t)),d()(t,"_toCode",a,g()(t)),d()(t,"translatedText",s,g()(t)),d()(t,"loading",c,g()(t)),d()(t,"unknownLangCode",l,g()(t)),d()(t,"textOvered",u,g()(t)),t.MAX_LENGTH=5e3,t._detectionMode=!0,t._sourceText="",t}b()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.unknownLangCode=!1},o.update=function(e,t,o,n){this.translatedText=e,this._sourceText=t,this._toCode=o,this._fromCode=n},o.setDetectionMode=function(e){this._detectionMode=e},f()(t,[{key:"sourceText",get:function(){return this._sourceText}},{key:"fromCode",get:function(){return this._fromCode}},{key:"toCode",get:function(){return this._toCode}},{key:"detectionMode",get:function(){return this._detectionMode}}]),t}(C.w),r=v()(n.prototype,"opened",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=v()(n.prototype,"_fromCode",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.b}}),a=v()(n.prototype,"_toCode",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.c}}),s=v()(n.prototype,"translatedText",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=v()(n.prototype,"loading",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=v()(n.prototype,"unknownLangCode",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=v()(n.prototype,"textOvered",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),I=k;t.a=I,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/store/index.js",localName:t}})}catch(e){}}e(k,"TranslationLayerStore"),e(I,"default")}()},402:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r});var n={DEFAULT:"default",CUSTOM:"custom"},r={INSERT:"insert",EDIT:"edit"},i={BannerType:n,EditingMode:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/const/index.js",localName:t}})}catch(e){}}e(n,"BannerType"),e(r,"EditingMode"),e(i,"default")}()},403:function(e,t,o){"use strict";var n,r,i,a=o(17),s=o.n(a),c=o(60),l=o.n(c),u=o(1),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=(o(61),o(69)),_=o(64),v=o(77),C=o(16),O=o(101),S=o(50),k=o(48),I=o(975),w=o(191),P=o(1261),j=(n=function(e){m()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).isSelectable=!1,o.attributes={cursor:null,selection:null,insertion:"text",drop:"text",paste:"text",erasure:"text"},l()(o,"layout",r,h()(o)),l()(o,"value",i,h()(o));var n=t,a=n.state,s=void 0===a?{}:a,c=n.config,u=void 0===c?{}:c;o.attributes=Object(b.a)(o.attributes,u.attributes),o._configAgent=S.V.get("configAgent");var p=Object(_.a)({},u.value,{filterTextStyle:{fontSizeCode:w.b.conditionalAllowed(["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38"])},attributes:{selection:"text",insertion:"text",drop:"text",paste:"text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"text"}}),d=s.value||o.value,f=o._configAgent.get("plugins.componentSettings."+o.ctype+".config"),m=Object(C.a)(f,"value.textStyle",{}),g=p.filterTextStyle;return p.filterTextStyle=Object(b.a)(g,m),o.value=new P.a({state:d,config:p}),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,value:this.value.toPlainJSON()}},t.getStoreById=function(e){return e===this.id?this:e===this.value.id?this.value:null},t.changeLink=function(e,t){var o=this.refineSelection(t);return this.getText().changeLink(this.checkProtocol(e),o)},t.changeLayout=function(e){this.layout=e,this.updateTheme()},t.updateProperty=function(e,t){var o=e.layout,n=e.link,r=s()(e,["layout","link"]);if(o&&this.changeLayout(o),Object(O.a)(this,r),n)return this.changeLink(n,t)},t.applyUserDefinedStyle=function(e){if(this.getText().isEmpty()){this.updateUserDefinedStyle(e);var t=e.align;t&&(this.align=t)}},t.updateUserDefinedStyle=function(e){var t=this.getText(),o={start:t.getStartPoint(),end:t.getEndPoint()};this.updateStyles(e,o)},t.collectStyle=function(e){var t=this.getText().collectStyle(e);return Object(_.a)({textFormat:this.ctype,layout:this.layout,textLayout:this.layout,hasInlineImage:this.hasInlineImageInParagraph(e),isStartWithEmoji:this.hasParagraphStartsWithEmoji(e)},t)},t.hasDropCapInParagraph=function(e){return this.getText().hasDropCapInParagraph(e)},t.hasInlineImageOnly=function(){return this.getText().hasInlineImageOnly()},t.hasInlineImageInParagraph=function(e){return this.getText().hasInlineImageInParagraph(e)},t.isLibraryComponent=function(){return this.getText().isLibraryComponent()},t.getLibraryItemData=function(){return this.getText().getLibraryItemData({compId:this.id})},t.hasParagraphStartsWithEmoji=function(e){return this.getText().hasParagraphStartsWithEmoji(e)},t.setRepresentativeImage=function(e){var t=e.paraId,o=e.nodeId;this.getText().setRepresentativeImage(t,o)},t.updateConfig=function(){this.getText().updateConfig()},t.releaseRepresentativeImage=function(e){this.getText().releaseRepresentativeImage(e)},t.hasRepresentativeImage=function(){return this.getText().hasRepresentativeImage()},t.isRepresentativeImage=function(){return this.getText().isRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=this.getText().getRepresentativeId();return Object(v.a)(t,function(t){return""+e.id+t})},t.getRepresentativeInnerData=function(){return this.getText().getRepresentativeInnerData()},t.setAvailableContentLength=function(e){this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){this.getText().resetAvailableContentLength()},t.isAvailableForDropcap=function(e){return!this.hasInlineImageInParagraph(e)&&!this.hasParagraphStartsWithEmoji(e)&&!this.getText().isCenterOrRightAlign(e)},t.canBeListBySpace=function(e){return this.value.canBeListBySpace(e)},t.convertToList=function(e){return this.value.convertToList(e)},p()(o,[{key:"textLength",get:function(){return this.getText().textLength}},{key:"translationEnabled",get:function(){return"none"!==this.value.selection}}]),o}(Object(S.X)(S.j)),r=y()(n.prototype,"layout",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=y()(n.prototype,"value",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);j.ctype="text",j.schema={id:I.a.string.isRequired,layout:I.a.string.isRequired,ctype:I.a.string.isRequired,value:I.a.textUnit.isRequired};var T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/store/index.js",localName:t}})}catch(e){}}e(j,"TextComponentStore"),e(T,"default")}()},405:function(e,t,o){"use strict";var n,r=o(59),i=o.n(r),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(51),p=o(48),d=o(335),h=o(50),f=o(84),m=o(747),g=o(269),y=o(139),b=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._labelMemoized=!1,o}s()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.parentProps,n=e.i18n,r=this._resolveComponentSectionStyle();return this._memoizeLabel(),p.b.createElement(f.a,{parentProps:o,blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,style:r},this._renderImageUnit(),p.b.createElement(g.a,{store:t,i18n:n,onLimitTextLength:this._handleLimitTextLength}))},o._resolveComponentSectionStyle=function(){var e=this.props.store,t=e.width,o=e.contentMode,n=this._isBiggerThanDocument(t),r={};return o===h.r.NORMAL&&!1===n&&t>0&&(r.maxWidth=t+"px"),r},o._renderImageUnit=function(){var e=this.props,t=e.store,o=e.i18n,n=e.children,r=e.useCase,a=e.resizable,s=e.useMediaTag,c=t.representativeEnabled,l=t.showLocationButton,u=t.locationEditable,d=t.imageLoaded,h=i()({},this.props.additionalOption,{showRepresentative:!!c&&t.isRepresentativeImage(),showLocationButton:l&&u});return p.b.createElement(m.a,{onDoubleClick:this._handleDblClickImage,onClickRepresentative:this._handleClickRepresentative,onClickLocation:this._handleClickLocation,onToggleVR360Display:this._handleToggleVR360Display,onCompleteImage:this._handleCompleteImage,additionalOption:h,labelLink:this._labelLink,labelThumbnail:this._labelThumbnail,labelDeleteImage:this._labelDeleteImage,labelThisIs360VR:this._labelThisIs360VR,labelUse360vr:this._labelUse360vr,resizable:a,useMediaTag:s,i18n:o,store:t,useCase:r},n,p.b.createElement(y.a,{compStore:t,isReady:d,i18n:o}))},o._isBiggerThanDocument=function(e){return e>=this.props.store.documentWidth},o._memoizeLabel=function(){var e=this.props.i18n;!1===this._labelMemoized&&(this._labelLink=e("imageUnit:label_link"),this._labelThumbnail=e("imageUnit:label_thumbnail"),this._labelDeleteImage=e("imageUnit:label_delete_image"),this._labelThisIs360VR=e("imageUnit:label_this_is_360vr"),this._labelUse360vr=e("imageUnit:label_use_360vr"),this._labelMemoized=!0)},o._handleDblClickImage=function(){var e=p.f.toJS(this.props.store);(0,this.props.onDblClickImage)(e)},o._handleToggleVR360Display=function(){(0,this.props.onClickPanoramaDisplay)()},o._handleClickRepresentative=function(e){(0,this.props.onClickRepresentative)(e)},o._handleClickLocation=function(){(0,this.props.onClickLocation)()},o._handleCompleteImage=function(){(0,this.props.onCompleteImage)()},o._handleLimitTextLength=function(){var e=this.props.onLimitTextLength;e&&e()},o._handleMoveToPrev=function(){this.props.onMoveToPrev()},o._handleMoveToNext=function(){this.props.onMoveToNext()},t}(p.b.Component),l()(n.prototype,"_handleDblClickImage",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleDblClickImage"),n.prototype),l()(n.prototype,"_handleToggleVR360Display",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleToggleVR360Display"),n.prototype),l()(n.prototype,"_handleClickRepresentative",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickRepresentative"),n.prototype),l()(n.prototype,"_handleClickLocation",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickLocation"),n.prototype),l()(n.prototype,"_handleCompleteImage",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleCompleteImage"),n.prototype),l()(n.prototype,"_handleLimitTextLength",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleLimitTextLength"),n.prototype),l()(n.prototype,"_handleMoveToPrev",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToPrev"),n.prototype),l()(n.prototype,"_handleMoveToNext",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToNext"),n.prototype),n);b.defaultProps={config:{},blockSelected:!1,onCompleteImage:function(){},onMoveToNext:function(){},onMoveToPrev:function(){},additionalOption:{backgroundImage:!1,hasCoverLayer:!1},resizable:!1,useMediaTag:!1},b.propTypes={parentProps:p.a.instanceOf(h.b),store:p.a.object.isRequired,useCase:p.a.object,children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,config:p.a.object,onDblClickImage:p.a.func,onClickPanoramaDisplay:p.a.func,onClickRepresentative:p.a.func,onClickLocation:p.a.func,onCompleteImage:p.a.func,onLimitTextLength:p.a.func,onMoveToNext:p.a.func,onMoveToPrev:p.a.func,additionalOption:p.a.object,resizable:p.a.bool,useMediaTag:p.a.bool};var _=Object(d.b)(b);t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-section/index.jsx",localName:t}})}catch(e){}}e(b,"ImageSection"),e(_,"default")}()},406:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(50).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"HorizontalLineComponentUseCase"),e(a,"default")}()},407:function(e,t,o){"use strict";var n,r,i,a=o(17),s=o.n(a),c=o(60),l=o.n(c),u=o(57),p=o.n(u),d=o(0),h=o.n(d),f=o(49),m=o.n(f),g=(o(61),o(16)),y=o(69),b=o(101),_=o(50),v=o(975),C=o(48),O=o(270),S=(n=function(e){h()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},l()(o,"layout",r,p()(o)),l()(o,"align",i,p()(o));var n=t,a=n.state,s=void 0===a?{}:a,c=n.config,u=void 0===c?{}:c,d=_.V.get("configAgent").get("productConfig.horizontalLine.layouts");return o.layout=Object(g.a)(s,"layout",d&&d[0]||o.layout),o.align=Object(g.a)(s,"align",o.align),o.attributes=Object(y.a)(o.attributes,u.attributes),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align}},t.updateProperty=function(e){var t=e.layout,o=s()(e,["layout"]);t&&(this.layout=t),Object(b.a)(this,o)},t.collectStyle=function(){var e="justify"===this.align||null===this.align?"left":this.align;return{layout:this.layout,align:e}},t.rotationLayout=function(){var e=Object.keys(O.a).map(function(e){return e.toLowerCase()}),t=e[e.indexOf(this.layout)+1];this.layout=t||e[0]},o}(_.g),r=m()(n.prototype,"layout",[C.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=m()(n.prototype,"align",[C.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);S.ctype="horizontalLine",S.schema={id:v.a.string.isRequired,layout:v.a.string.isRequired,align:v.a.string,ctype:v.a.string.isRequired};var k=S;t.a=k,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/store/index.js",localName:t}})}catch(e){}}e(S,"HorizontalLineComponent"),e(k,"default")}()},408:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=(n=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.exceedTextMaxLength=function(e){},t}(c.c),s()(n.prototype,"exceedTextMaxLength",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"exceedTextMaxLength"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"OembedComponentUseCase"),e(p,"default")}()},409:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_,v,C,O,S,k,I=o(17),w=o.n(I),P=o(60),j=o.n(P),T=o(1),L=o.n(T),E=o(57),N=o.n(E),x=o(0),D=o.n(x),R=o(49),A=o.n(R),M=(o(61),o(69)),B=o(16),U=o(64),V=o(101),F=o(50),z=o(245),W=o(975),G=o(191),H=o(1261),q=o(48),J=o(212),K=Object(F.X)(F.h),Y=(n=function(e){D()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.documentWidth=null,o.isOembedNotSupported=!1,j()(o,"layout",r,N()(o)),j()(o,"contentMode",i,N()(o)),j()(o,"align",a,N()(o)),j()(o,"type",s,N()(o)),j()(o,"version",c,N()(o)),j()(o,"title",l,N()(o)),j()(o,"description",u,N()(o)),j()(o,"originalWidth",p,N()(o)),j()(o,"originalHeight",d,N()(o)),j()(o,"html",h,N()(o)),j()(o,"authorName",f,N()(o)),j()(o,"authorUrl",m,N()(o)),j()(o,"providerName",g,N()(o)),j()(o,"providerUrl",y,N()(o)),j()(o,"thumbnailUrl",b,N()(o)),j()(o,"thumbnailWidth",_,N()(o)),j()(o,"thumbnailHeight",v,N()(o)),j()(o,"inputUrl",C,N()(o)),j()(o,"cacheAge",O,N()(o)),j()(o,"caption",S,N()(o)),j()(o,"viewMode",k,N()(o)),o.oembedSign="";var n=t,I=n.state,w=void 0===I?{}:I,P=n.config,T=void 0===P?{}:P;return o._configAgent=F.V.get("configAgent"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.attributes=Object(M.a)(o.attributes,T.attributes),o.type=Object(B.a)(w,"type",o.type),o.layout=Object(B.a)(w,"layout",o.layout),o.align=Object(B.a)(w,"align",o.align),o.version=Object(B.a)(w,"version",o.version),o.title=Object(B.a)(w,"title",o.title),o.description=Object(B.a)(w,"description",o.description),o.originalWidth=Object(B.a)(w,"originalWidth",o.originalWidth),o.originalHeight=Object(B.a)(w,"originalHeight",o.originalHeight),o.html=Object(B.a)(w,"html",o.html),o.authorName=Object(B.a)(w,"authorName",o.authorName),o.authorUrl=Object(B.a)(w,"authorUrl",o.authorUrl),o.providerName=Object(B.a)(w,"providerName",o.providerName),o.providerUrl=Object(B.a)(w,"providerUrl",o.providerUrl),o.thumbnailUrl=Object(B.a)(w,"thumbnailUrl",o.thumbnailUrl),o.thumbnailWidth=Object(B.a)(w,"thumbnailWidth",o.thumbnailWidth),o.thumbnailHeight=Object(B.a)(w,"thumbnailHeight",o.thumbnailHeight),o.inputUrl=Object(B.a)(w,"inputUrl",o.inputUrl),o.contentMode=Object(B.a)(w,"contentMode",o._getDefaultContentMode()),o.caption=o._createCaptionTextUnitStore(w.caption,T.caption),o.config=T,o.isOembedNotSupported=o._isOembedNotSupported(),o.oembedSign=w.oembedSign||o.oembedSign,o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,contentMode:this.contentMode,align:this.align,type:this.type,version:this.version,title:this.title,description:this.description,originalWidth:this.originalWidth,originalHeight:this.originalHeight,html:this.html,authorName:this.authorName,authorUrl:this.authorUrl,providerName:this.providerName,providerUrl:this.providerUrl,thumbnailUrl:this.thumbnailUrl,thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,caption:this.caption.toPlainJSON(),inputUrl:this.inputUrl,cacheAge:this.cacheAge,viewMode:this.viewMode,oembedSign:this.oembedSign}},t._getDefaultContentMode=function(){var e=this.getLayoutThemeStyle(this.themeStyle)||{},t=Object(B.a)(e,"component.contentMode");return t||(this.type===J.d.VIDEO?J.b.FIT:J.b.NORMAL)},t._isOembedNotSupported=function(){var e=new RegExp(J.a.join("|"),"gi").test(this.providerUrl);return z.a.isIE10()&&e},t.changeContentMode=function(e){this.contentMode=e},t.changeViewMode=function(e){this.viewMode=e},t.updateProperty=function(e){var t=e.contentMode,o=w()(e,["contentMode"]);t&&this.changeContentMode(t),Object(V.a)(this,o)},t.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={id:this.id,layout:this.layout,contentMode:this.contentMode,align:t};return this.caption.isFocused&&(o.caption=this.caption.collectStyle(e)),o},t.updateSign=function(e){var t=e.oembedSign,o=e.authorUrl,n=e.thumbnailUrl,r=e.html;this.oembedSign=t,this.authorUrl=o,this.thumbnailUrl=n,this.html=r},t.getSelectedAlign=function(){return{align:this.align}},t._createCaptionTextUnitStore=function(e,t){var o={state:e,config:Object(U.a)(t,{maxLength:1/0,attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},filterTextStyle:{fontFamily:G.b.NOT_ALLOWED,fontSizeCode:G.b.NOT_ALLOWED,fontColor:G.b.NOT_ALLOWED,backgroundColor:G.b.NOT_ALLOWED,italic:G.b.NOT_ALLOWED,underline:G.b.NOT_ALLOWED,strikeThrough:G.b.NOT_ALLOWED,subscript:G.b.NOT_ALLOWED,superscript:G.b.NOT_ALLOWED,dropCap:G.b.NOT_ALLOWED,list:G.b.NOT_ALLOWED}})},n=this._configAgent.get("plugins.componentSettings."+this.ctype+".config"),r=Object(B.a)(n,"caption.textStyle",{}),i=o.config.filterTextStyle;return o.config.filterTextStyle=Object(M.a)(i,r),new H.a(o)},L()(o,[{key:"emptySign",get:function(){return!this.oembedSign}},{key:"availableCaption",get:function(){return Object(B.a)(this.config,"caption.available")}},{key:"isScriptRenderType",get:function(){return/<script.*<\/script>|<script.*>/gi.test(this.html)}}]),o}(K),r=A()(n.prototype,"layout",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.c.DEFAULT}}),i=A()(n.prototype,"contentMode",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.b.NORMAL}}),a=A()(n.prototype,"align",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=A()(n.prototype,"type",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=A()(n.prototype,"version",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1.0"}}),l=A()(n.prototype,"title",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=A()(n.prototype,"description",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=A()(n.prototype,"originalWidth",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=A()(n.prototype,"originalHeight",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=A()(n.prototype,"html",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=A()(n.prototype,"authorName",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=A()(n.prototype,"authorUrl",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=A()(n.prototype,"providerName",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=A()(n.prototype,"providerUrl",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=A()(n.prototype,"thumbnailUrl",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=A()(n.prototype,"thumbnailWidth",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=A()(n.prototype,"thumbnailHeight",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=A()(n.prototype,"inputUrl",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=A()(n.prototype,"cacheAge",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=A()(n.prototype,"caption",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=A()(n.prototype,"viewMode",[q.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.T.VIEW_MODE_PC}}),A()(n.prototype,"availableCaption",[q.e],Object.getOwnPropertyDescriptor(n.prototype,"availableCaption"),n.prototype),A()(n.prototype,"isScriptRenderType",[q.e],Object.getOwnPropertyDescriptor(n.prototype,"isScriptRenderType"),n.prototype),n);Y.ctype="oembed",Y.schema={id:W.a.string.isRequired,ctype:W.a.string.isRequired,layout:W.a.string.isRequired,align:W.a.string,type:W.a.string.isRequired,version:W.a.string.isRequired,html:W.a.string.isRequired,originalWidth:W.a.number,originalHeight:W.a.number,authorName:W.a.string,authorUrl:W.a.string,cacheAge:W.a.number,providerName:W.a.string,providerUrl:W.a.string.isRequired,thumbnailUrl:W.a.string,thumbnailWidth:W.a.number,thumbnailHeight:W.a.number,title:W.a.string.isRequired,description:W.a.string,inputUrl:W.a.string.isRequired,caption:W.a.captionTextUnit,contentMode:W.a.string.isRequired,oembedSign:W.a.string};var X=Y;t.a=X,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/store/index.js",localName:t}})}catch(e){}}e(K,"LinkWritableAndAlignableComponentStore"),e(Y,"OembedComponentStore"),e(X,"default")}()},410:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(48),a=o(507),s=o(88),c=o(120),l=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.title,o=e.className,n=e.onLoad,r=e.onError;return i.b.createElement(s.b,{className:o,src:this._makeThumbnailSource(),alt:a.a.restoreSpecialChar(t),onLoad:n,onError:r})},o._makeThumbnailSource=function(){var e=this.props,t=e.src,o=e.type,n=e.service;return c.a.makeDthumbUrl(t,o,n)},t}(i.b.Component);l.defaultProps={service:"",title:"",onError:function(){}},l.propTypes={src:i.a.string.isRequired,type:i.a.string.isRequired,service:i.a.string,title:i.a.string,className:i.a.string.isRequired,onLoad:i.a.func,onError:i.a.func};var u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/thumbnail-image/index.jsx",localName:t}})}catch(e){}}e(l,"ThumbnailImage"),e(u,"default")}()},411:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(50).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"MaterialComponentUseCase"),e(a,"default")}()},412:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f=o(60),m=o.n(f),g=o(1),y=o.n(g),b=o(57),_=o.n(b),v=o(0),C=o.n(v),O=o(49),S=o.n(O),k=(o(61),o(106)),I=o(69),w=o(16),P=o(50),j=o(48),T=o(975),L=o(1211),E=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.standardImageSizeInfo=null,m()(o,"type",r,_()(o)),m()(o,"title",i,_()(o)),m()(o,"link",a,_()(o)),m()(o,"layout",s,_()(o)),m()(o,"align",c,_()(o)),m()(o,"detailInfo",l,_()(o)),m()(o,"dataId",u,_()(o)),m()(o,"subId",p,_()(o)),m()(o,"thumbnail",d,_()(o)),m()(o,"volNo",h,_()(o)),o._configAgent=P.V.get("configAgent");var n=t,f=n.state,g=void 0===f?{}:f,y=n.config,b=void 0===y?{}:y;return o.standardImageSizeInfo=Object(k.a)(o.standardImageSizeInfo,b.standardImageSizeInfo),o.attributes=Object(I.a)(o.attributes,b.attributes),o.type=Object(w.a)(g,"type",o.type),o.title=Object(w.a)(g,"title",o.title),o.link=Object(w.a)(g,"link",o.link),o.layout=Object(w.a)(g,"layout",o.layout),o.align=Object(w.a)(g,"align",o.align),o.detailInfo=Object(w.a)(g,"detailInfo",o.detailInfo),o.dataId=Object(w.a)(g,"dataId",o.dataId),o.subId=Object(w.a)(g,"subId",o.subId),o.thumbnail=Object(w.a)(g,"thumbnail",o.thumbnail),o.volNo=Object(w.a)(g,"volNo",o.volNo),o}return C()(t,e),t.prototype.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,type:this.type,title:this.title,link:this.link,layout:this.layout,align:this.align,detailInfo:this.detailInfo.map(function(e){return j.f.toJS(e)}),dataId:this.dataId,subId:this.subId,thumbnail:j.f.toJS(this.thumbnail),volNo:this.volNo}},y()(t,[{key:"isBigSizeImage",get:function(){if(!this.standardImageSizeInfo)return!1;var e=this.thumbnail;if(!e)return!1;var t=this.standardImageSizeInfo.width,o=this.standardImageSizeInfo.height;return e.width>=t&&e.height>=o}},{key:"item",get:function(){return{id:this.id,title:this.title,thumbnail:this.thumbnail,detailInfo:this.detailInfo,isBigSizeImage:this.isBigSizeImage}}}]),t}(P.g),r=S()(n.prototype,"type",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=S()(n.prototype,"title",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=S()(n.prototype,"link",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=S()(n.prototype,"layout",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),c=S()(n.prototype,"align",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=S()(n.prototype,"detailInfo",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=S()(n.prototype,"dataId",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=S()(n.prototype,"subId",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=S()(n.prototype,"thumbnail",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S()(n.prototype,"volNo",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S()(n.prototype,"isBigSizeImage",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"isBigSizeImage"),n.prototype),S()(n.prototype,"item",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n);E.ctype="material",E.schema={id:T.a.string.isRequired,ctype:T.a.string.isRequired,align:T.a.string,layout:T.a.string.isRequired,type:T.a.string.isRequired,title:T.a.string.isRequired,link:T.a.string.isRequired,detailInfo:T.a.arrayOf(T.a.shape({ctype:T.a.string.isRequired,label:T.a.string,labelName:T.a.string,values:T.a.arrayOf(T.a.shape({ctype:T.a.string.isRequired,value:T.a.string,url:T.a.string,code:T.a.string}))})).isRequired,dataId:T.a.string.isRequired,subId:T.a.string,thumbnail:T.a.shape(L.h),volNo:T.a.string};var N=E;t.a=N,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/store/index.js",localName:t}})}catch(e){}}e(E,"MaterialComponentStore"),e(N,"default")}()},413:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(50).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"AudioComponentUseCase"),e(a,"default")}()},414:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h=o(60),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(49),v=o.n(_),C=(o(61),o(16)),O=o(69),S=o(101),k=o(50),I=o(975),w=o(48),P=o(272),j=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},f()(o,"layout",r,g()(o)),f()(o,"phase",i,g()(o)),f()(o,"align",a,g()(o)),f()(o,"audioId",s,g()(o)),f()(o,"fileName",c,g()(o)),f()(o,"fileSize",l,g()(o)),f()(o,"internalResource",u,g()(o)),f()(o,"count",p,g()(o)),f()(o,"totalCount",d,g()(o));var n=t,h=n.state,m=void 0===h?{}:h,y=n.config,b=void 0===y?{}:y;return o.layout=Object(C.a)(m,"layout",o.layout),o.align=Object(C.a)(m,"align",o.align),o.audioId=Object(C.a)(m,"audioId",o.audioId),o.fileName=Object(C.a)(m,"fileName",o.fileName),o.fileSize=Object(C.a)(m,"fileSize",o.fileSize),o.internalResource=Object(C.a)(m,"internalResource",o.internalResource),o.count=Object(C.a)(m,"count",o.count),o.totalCount=Object(C.a)(m,"totalCount",o.totalCount),o.attributes=Object(O.a)(o.attributes,b.attributes),o.audioId&&(o.phase=k.N.DONE),o}b()(t,e);var o=t.prototype;return o.setState=function(e){Object(S.a)(this,e)},o.updateProperty=function(e){Object(S.a)(this,e)},o.updateAudio=function(e){var t=e.audioId,o=e.fileName,n=e.fileSize;this.audioId=t,this.fileName=o,this.fileSize=n},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,phase:this.phase,align:this.align,audioId:this.audioId,fileName:this.fileName,fileSize:this.fileSize,internalResource:this.internalResource,count:this.count,totalCount:this.totalCount}},t}(k.g),r=v()(n.prototype,"layout",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.a.DEFAULT}}),i=v()(n.prototype,"phase",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.N.EMPTY}}),a=v()(n.prototype,"align",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=v()(n.prototype,"audioId",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=v()(n.prototype,"fileName",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=v()(n.prototype,"fileSize",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=v()(n.prototype,"internalResource",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=v()(n.prototype,"count",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v()(n.prototype,"totalCount",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n);j.ctype="audio",j.schema={id:I.a.string.isRequired,ctype:I.a.string.isRequired,layout:I.a.string.isRequired,align:I.a.string,audioId:I.a.string.isRequired,fileName:I.a.string.isRequired,fileSize:I.a.number.isRequired};var T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/store/index.js",localName:t}})}catch(e){}}e(j,"AudioComponentStore"),e(T,"default")}()},415:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(51),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._oglinkComponentService=c.V.get("oglinkComponentService"),t}return i()(t,e),t.prototype.changeToTextLayout=function(e){this._oglinkComponentService.changeToTextLayout(e)},t}(c.c),s()(n.prototype,"changeToTextLayout",[l.history],Object.getOwnPropertyDescriptor(n.prototype,"changeToTextLayout"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"OglinkComponentUseCase"),e(p,"default")}()},416:function(e,t,o){"use strict";var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(49),h=o.n(d),f=o(50),m=o(51),g=o(48),y=o(116),b=(n=Object(m.history)({sync:!1}),r=Object(m.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=f.V.get("configAgent"),t._imageBehavior=f.V.get("imageBehavior"),t._imageComponentService=f.V.get("imageComponentService"),t._imageUploadService=f.V.get("imageUploadService"),t._imageEditService=f.V.get("imageEditService"),t._wrappingParagraphComponentService=f.V.get("wrappingParagraphComponentService"),t._libraryPanelLayoutService=f.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._toastLayerService=f.V.get("toastLayerService"),t._eventDispatcherService=f.V.get("eventDispatcherService"),t._i18n=f.V.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}p()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;f.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.changeImage=function(){var e=l()(s.a.mark(function e(){var t,o,n,r=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._wrappingParagraphComponentService.getSelectedWrappedSection(),e.next=3,this._imageUploadService.openFileDialog();case 3:return o=e.sent,n=t.toPlainJSON(),e.abrupt("return",this._imageBehavior.changeImage({targetStoreId:t.id,selectedImages:o},{onEachUpload:y.a}).then(function(e){var o=e.succeededImages;return 0===o.length?r._imageComponentService.changeImageByState(t,n):r._imageComponentService.changeImage(t,o[0].response),e}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.editImage=function(){var e=l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._wrappingParagraphComponentService.getSelectedWrappedSection(),e.next=3,this._imageEditService.editImage({activeCompId:t.id});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(f.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(f.c),h()(i.prototype,"setRepresentativeImage",[m.history,g.d],Object.getOwnPropertyDescriptor(i.prototype,"setRepresentativeImage"),i.prototype),h()(i.prototype,"changeImage",[n,g.d],Object.getOwnPropertyDescriptor(i.prototype,"changeImage"),i.prototype),h()(i.prototype,"editImage",[m.preventOnDocumentProcessing,r,g.d],Object.getOwnPropertyDescriptor(i.prototype,"editImage"),i.prototype),i),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/use-case/index.js",localName:t}})}catch(e){}}e(b,"WrappingParagraphComponentUseCase"),e(_,"default")}()},417:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(48),l=o(51),u=o(50),p=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=u.V.get("editingService"),t._propertyChangeService=u.V.get("propertyChangeService"),t._tableComponentService=u.V.get("tableComponentService"),t._viewModeLayoutService=u.V.get("viewModeLayoutService"),t._libraryPanelLayoutService=u.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t}i()(t,e);var o=t.prototype;return o.mergeCells=function(){this._tableComponentService.mergeCells()},o.splitRowCells=function(){this._tableComponentService.splitRowCells()},o.splitColumnCells=function(){this._tableComponentService.splitColumnCells()},o.adjustToEqualWidth=function(){this._tableComponentService.adjustToEqualWidth()},o.deleteCell=function(){this._editingService.erase()},o.insertColumn=function(e){this._tableComponentService.insertColumn(e)},o.insertRow=function(e){this._tableComponentService.insertRow(e)},o.changeCellWidth=function(e,t){this._propertyChangeService.updateProperty({cellWidth:{id:e,widthToAdd:t}})},o.changeCellHeight=function(e,t){this._propertyChangeService.updateProperty({cellHeight:{id:e,heightToAdd:t}})},o.selectRowByIds=function(e){this._tableComponentService.selectRowByIds(e)},o.selectColByIds=function(e){this._tableComponentService.selectColByIds(e)},o.selectAll=function(){this._tableComponentService.selectAll()},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;u.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.getViewMode=function(){var e=u.T.VIEW_MODE_PC;return this._viewModeLayoutService&&(e=this._viewModeLayoutService.getViewMode()),e},t}(u.c),s()(n.prototype,"mergeCells",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"mergeCells"),n.prototype),s()(n.prototype,"splitRowCells",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"splitRowCells"),n.prototype),s()(n.prototype,"splitColumnCells",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"splitColumnCells"),n.prototype),s()(n.prototype,"adjustToEqualWidth",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"adjustToEqualWidth"),n.prototype),s()(n.prototype,"deleteCell",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"deleteCell"),n.prototype),s()(n.prototype,"insertColumn",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertColumn"),n.prototype),s()(n.prototype,"insertRow",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertRow"),n.prototype),s()(n.prototype,"changeCellWidth",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"changeCellWidth"),n.prototype),s()(n.prototype,"changeCellHeight",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"changeCellHeight"),n.prototype),s()(n.prototype,"selectRowByIds",[c.d],Object.getOwnPropertyDescriptor(n.prototype,"selectRowByIds"),n.prototype),s()(n.prototype,"selectColByIds",[c.d],Object.getOwnPropertyDescriptor(n.prototype,"selectColByIds"),n.prototype),s()(n.prototype,"selectAll",[c.d],Object.getOwnPropertyDescriptor(n.prototype,"selectAll"),n.prototype),s()(n.prototype,"setRepresentativeImage",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepresentativeImage"),n.prototype),n),d=p;t.a=d,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/use-case/index.js",localName:t}})}catch(e){}}e(p,"TableComponentUseCase"),e(d,"default")}()},418:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(51),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=c.V.get("selectionInfoStore"),t._i18n=c.V.get("i18n"),t._codeComponentService=c.V.get("codeComponentService"),t._toastLayerService=c.V.get("toastLayerService"),t._virtualEditable=c.V.get("virtualEditable"),t}i()(t,e);var o=t.prototype;return o.showToastForOverflowMaxLength=function(){var e=this._i18n("codeComponent:code_input_text_max_length");this._toastLayerService.warningMessage(e)},o.updateCodeContents=function(e,t){this._codeComponentService.updateCodeContents(e,t)},o.activateUnit=function(e){this._selectionInfoStore.selectUnit({compId:e,unitId:e})},o.blurVirtualEditable=function(){this._virtualEditable.blur()},t}(c.c),s()(n.prototype,"updateCodeContents",[l.history],Object.getOwnPropertyDescriptor(n.prototype,"updateCodeContents"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"CodeComponentUseCase"),e(p,"default")}()},419:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=o(51),p=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=c.V.get("editingService"),t._scheduleLayerService=c.V.get("scheduleLayerService"),t._scheduleComponentService=c.V.get("scheduleComponentService"),t}i()(t,e);var o=t.prototype;return o.openScheduleLayer=function(e){this._scheduleLayerService.open(e)},o.removeMapImage=function(e){this._scheduleComponentService.removeMapImage(e)},o.newSchedule=function(e){var t=e.compId,o=e.callback;o.error=this.delete.bind(this),this._scheduleComponentService.newSchedule({compId:t,callback:o})},o.delete=function(){this._editingService.eraseComponent()},t}(c.c),s()(n.prototype,"openScheduleLayer",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"openScheduleLayer"),n.prototype),s()(n.prototype,"removeMapImage",[u.history,l.d],Object.getOwnPropertyDescriptor(n.prototype,"removeMapImage"),n.prototype),s()(n.prototype,"newSchedule",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"newSchedule"),n.prototype),s()(n.prototype,"delete",[u.history,l.d],Object.getOwnPropertyDescriptor(n.prototype,"delete"),n.prototype),n),d=p;t.a=d,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/use-case/index.js",localName:t}})}catch(e){}}e(p,"ScheduleComponentUseCase"),e(d,"default")}()},420:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g=o(60),y=o.n(g),b=o(57),_=o.n(b),v=o(0),C=o.n(v),O=o(49),S=o.n(O),k=(o(61),o(16)),I=o(69),w=o(126),P=o(67),j=o(50),T=o(975),L=o(1211),E=o(48),N=o(266),x=o(421),D=(n=function(e){C()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},y()(o,"dateOnly",r,_()(o)),y()(o,"title",i,_()(o)),y()(o,"startAt",a,_()(o)),y()(o,"endAt",s,_()(o)),y()(o,"content",c,_()(o)),y()(o,"linkUrl",l,_()(o)),y()(o,"placesMap",u,_()(o)),y()(o,"layout",p,_()(o)),y()(o,"align",d,_()(o)),y()(o,"scheduleId",h,_()(o)),y()(o,"repetition",f,_()(o)),y()(o,"notification",m,_()(o)),o._componentFactory=j.V.get("componentFactory");var n=t,g=n.state,b=void 0===g?{}:g,v=n.config,C=void 0===v?{}:v,O=Object(k.a)(b,"placesMap",o.placesMap);return o.attributes=Object(I.a)(o.attributes,C.attributes),o.dateOnly=Object(k.a)(b,"dateOnly",o.dateOnly),o.title=Object(k.a)(b,"title",o.title),o.startAt=Object(k.a)(b,"startAt",o.startAt),o.endAt=Object(k.a)(b,"endAt",o.endAt),o.content=Object(k.a)(b,"content",o.content),o.linkUrl=Object(k.a)(b,"linkUrl",o.linkUrl),o.layout=Object(k.a)(b,"layout",o.layout),o.align=Object(k.a)(b,"align",o.align),o.scheduleId=Object(k.a)(b,"scheduleId",o.scheduleId),o.repetition=Object(k.a)(b,"repetition",o.repetition),o.notification=Object(k.a)(b,"notification",o.notification),o.placesMap=O?o._componentFactory.createComponentWithCompData(O):null,o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,title:this.title,startAt:this.startAt,endAt:this.endAt,content:this.content,linkUrl:this.linkUrl,placesMap:this._toPlainPlacesMapJSON(),layout:this.layout,align:this.align,scheduleId:this.scheduleId,repetition:E.f.toJS(this.repetition),notification:E.f.toJS(this.notification),dateOnly:this.dateOnly}},t._toPlainPlacesMapJSON=function(){return this.placesMap&&this.placesMap.toPlainJSON?this.placesMap.toPlainJSON():this.placesMap},t.removeMapImage=function(){Object(I.a)(this,{placesMap:{layout:N.a.MAP_TEXT}})},t.updateProperty=function(e){var t=this;e=Object(w.a)(e,["id","layout"]),Object(P.a)(e,function(e,o){if("object"==typeof e){var n=t[o];t[o]=Object(I.a)(n,e)}t.hasOwnProperty(o)&&(t[o]=e)})},t.setState=function(e){var t=this;Object(P.a)(e,function(e,o){t.hasOwnProperty(o)&&(t[o]=e)})},o}(j.g),r=S()(n.prototype,"dateOnly",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=S()(n.prototype,"title",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=S()(n.prototype,"startAt",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=S()(n.prototype,"endAt",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=S()(n.prototype,"content",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=S()(n.prototype,"linkUrl",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=S()(n.prototype,"placesMap",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=S()(n.prototype,"layout",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),d=S()(n.prototype,"align",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S()(n.prototype,"scheduleId",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=S()(n.prototype,"repetition",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=S()(n.prototype,"notification",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);D.ctype="schedule",D.schema={id:T.a.string.isRequired,ctype:T.a.string.isRequired,layout:T.a.string.isRequired,align:T.a.string,title:T.a.string.isRequired,startAt:T.a.string.isRequired,endAt:T.a.string,scheduleId:T.a.number,placesMap:T.a.shape(x.a.schema),linkUrl:T.a.string,content:T.a.string,dateOnly:T.a.bool,repetition:T.a.shape(L.c.Repetition),notification:T.a.shape(L.c.Notification)};var R=D;t.a=R,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/store/index.js",localName:t}})}catch(e){}}e(D,"ScheduleComponentStore"),e(R,"default")}()},421:function(e,t,o){"use strict";var n,r,i,a,s,c,l=o(17),u=o.n(l),p=o(60),d=o.n(p),h=o(1),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(49),v=o.n(_),C=(o(61),o(16)),O=o(69),S=o(101),k=o(50),I=o(975),w=o(1211),P=o(48),j=o(266),T=(n=function(e){b()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},d()(o,"layout",r,g()(o)),d()(o,"align",i,g()(o)),d()(o,"searchEngine",a,g()(o)),d()(o,"thumbnail",s,g()(o)),d()(o,"places",c,g()(o));var n=t,l=n.state,u=void 0===l?{}:l,p=n.config,h=void 0===p?{}:p;return o.layout=Object(C.a)(u,"layout",o.layout),o.align=Object(C.a)(u,"align",o.align),o.searchEngine=Object(C.a)(u,"searchEngine",o.searchEngine),o.thumbnail=Object(C.a)(u,"thumbnail",o.thumbnail),o.places=o._makeIsDomestic(Object(C.a)(u,"places",o.places)),o.attributes=Object(O.a)(o.attributes,h.attributes),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,searchEngine:this.searchEngine,thumbnail:P.f.toJS(this.thumbnail),places:this.places.map(function(e){return P.f.toJS(e)})}},t.getPlainText=function(){return this.places.map(function(e){return e.name})},t.updatePlacesAndStaticMap=function(e){var t=e.places,o=e.thumbnail,n=e.searchEngine;this.places=t,this.thumbnail.src=o.src,this.searchEngine=n},t.updateLayout=function(e){this.layout=e},t.updateProperty=function(e){var t=e.layout,o=u()(e,["layout"]);t&&this.updateLayout(t),Object(S.a)(this,o)},t.updateStyle=function(e){var t=e.align;this.align=t},t.collectStyle=function(){var e="justify"===this.align||null===this.align?"left":this.align;return{layout:this.layout,align:e,edit:{id:this.id,places:this.places}}},t.isLibraryComponent=function(){return!0},t.getLibraryItemData=function(){var e=this.thumbnail.src;return{id:this.id,key:e,thumbnail:e,data:this.toValidJSON()}},t._makeIsDomestic=function(e){var t="naver"===this.searchEngine;return e.map(function(e){return void 0===e.__isDomestic&&(e.__isDomestic=t),e})},f()(o,[{key:"hasMultiplePlaces",get:function(){return this.places.length>1}}]),o}(k.g),r=v()(n.prototype,"layout",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.a.DEFAULT}}),i=v()(n.prototype,"align",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=v()(n.prototype,"searchEngine",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"naver"}}),s=v()(n.prototype,"thumbnail",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{src:"",ctype:"thumbnail"}}}),c=v()(n.prototype,"places",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v()(n.prototype,"hasMultiplePlaces",[P.e],Object.getOwnPropertyDescriptor(n.prototype,"hasMultiplePlaces"),n.prototype),n);T.ctype="placesMap",T.schema={id:I.a.string.isRequired,ctype:I.a.string.isRequired,layout:I.a.string.isRequired,align:I.a.string,searchEngine:I.a.string.isRequired,thumbnail:I.a.shape(w.h).isRequired,places:I.a.arrayOf(I.a.shape(w.d)).isRequired};var L=T;t.a=L,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/store/index.js",localName:t}})}catch(e){}}e(T,"MapComponentStore"),e(L,"default")}()},422:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(50).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"FileComponentUseCase"),e(a,"default")}()},423:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h=o(60),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(49),v=o.n(_),C=(o(61),o(16)),O=o(69),S=o(101),k=o(50),I=o(975),w=o(48),P=o(274),j=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},f()(o,"layout",r,g()(o)),f()(o,"align",i,g()(o)),f()(o,"fileId",a,g()(o)),f()(o,"fileName",s,g()(o)),f()(o,"fileSize",c,g()(o)),f()(o,"internalResource",l,g()(o)),f()(o,"count",u,g()(o)),f()(o,"totalCount",p,g()(o)),f()(o,"phase",d,g()(o));var n=t,h=n.state,m=void 0===h?{}:h,y=n.config,b=void 0===y?{}:y;return o.layout=Object(C.a)(m,"layout",o.layout),o.align=Object(C.a)(m,"align",o.align),o.fileId=Object(C.a)(m,"fileId",o.fileId),o.fileName=Object(C.a)(m,"fileName",o.fileName),o.fileSize=Object(C.a)(m,"fileSize",o.fileSize),o.internalResource=Object(C.a)(m,"internalResource",o.internalResource),o.count=Object(C.a)(m,"count",o.count),o.totalCount=Object(C.a)(m,"totalCount",o.totalCount),o.attributes=Object(O.a)(o.attributes,b.attributes),o.fileId&&(o.phase=k.N.DONE),o}b()(t,e);var o=t.prototype;return o.setState=function(e){Object(S.a)(this,e)},o.updateProperty=function(e){Object(S.a)(this,e)},o.updateFile=function(e){var t=e.fileId,o=e.fileName,n=e.fileSize;this.fileId=t,this.fileName=o,this.fileSize=n},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,phase:this.phase,align:this.align,fileId:this.fileId,fileName:this.fileName,fileSize:this.fileSize,internalResource:this.internalResource,count:this.count,totalCount:this.totalCount}},t}(k.g),r=v()(n.prototype,"layout",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.a.DEFAULT}}),i=v()(n.prototype,"align",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=v()(n.prototype,"fileId",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=v()(n.prototype,"fileName",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=v()(n.prototype,"fileSize",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=v()(n.prototype,"internalResource",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=v()(n.prototype,"count",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=v()(n.prototype,"totalCount",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v()(n.prototype,"phase",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.N.EMPTY}}),n);j.ctype="file",j.schema={id:I.a.string.isRequired,layout:I.a.string.isRequired,ctype:I.a.string.isRequired,align:I.a.string,fileId:I.a.string.isRequired,fileName:I.a.string.isRequired,fileSize:I.a.number.isRequired};var T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/store/index.js",localName:t}})}catch(e){}}e(j,"FileComponentStore"),e(T,"default")}()},424:function(e,t,o){"use strict";var n=o(390).a;t.a=n,function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/use-case/index.js",localName:t}})}catch(e){}}(n,"default")}()},425:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u=o(60),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=(o(61),o(16)),_=o(69),v=o(50),C=o(975),O=o(1211),S=o(48),k=(n=function(e){m()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},p()(o,"latex",r,h()(o)),p()(o,"html",i,h()(o)),p()(o,"align",a,h()(o)),p()(o,"layout",s,h()(o)),p()(o,"fontSizeCode",c,h()(o)),p()(o,"thumbnail",l,h()(o));var n=t,u=n.state,d=void 0===u?{}:u,f=n.config,m=void 0===f?{}:f;return o.latex=Object(b.a)(d,"latex",o.latex),o.html=Object(b.a)(d,"html",o.html),o.layout=Object(b.a)(d,"layout",o.layout),o.align=Object(b.a)(d,"align",o.align),o.fontSizeCode=Object(b.a)(d,"fontSizeCode",o.fontSizeCode),o.thumbnail=Object(b.a)(d,"thumbnail",o.thumbnail),o.attributes=Object(_.a)(o.attributes,m.attributes),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,latex:this.latex,html:this.html,align:this.align,layout:this.layout,fontSizeCode:this.fontSizeCode,thumbnail:S.f.toJS(this.thumbnail)}},t.updateFormulaData=function(e){var t=e.thumbnail||{};this.latex=e.latex,this.html=e.html,this.thumbnail.src=t.src,this.thumbnail.width=Number(t.width),this.thumbnail.height=Number(t.height),this.fontSizeCode=e.fontSizeCode},t.collectStyle=function(){return{align:"justify"===this.align||null===this.align?"left":this.align,fontSizeCode:this.fontSizeCode}},o}(v.g),r=y()(n.prototype,"latex",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=y()(n.prototype,"html",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=y()(n.prototype,"align",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=y()(n.prototype,"layout",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),c=y()(n.prototype,"fontSizeCode",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"fs15"}}),l=y()(n.prototype,"thumbnail",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"thumbnail",src:"",width:0,height:0}}}),n);k.ctype="formula",k.schema={id:C.a.string.isRequired,ctype:C.a.string.isRequired,layout:C.a.string.isRequired,align:C.a.string,latex:C.a.string.isRequired,html:C.a.string.isRequired,thumbnail:C.a.shape(O.h).isRequired,fontSizeCode:C.a.string.isRequired};var I=k;t.a=I,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/store/index.js",localName:t}})}catch(e){}}e(k,"FormulaComponentStore"),e(I,"default")}()},434:function(e,t,o){"use strict";var n,r=o(50),i=o(54),a=o.n(i),s=o(0),c=o.n(s),l=o(49),u=o.n(l),p=o(53),d=o.n(p),h=o(48),f=o(335),m=o(51),g=o(81),y=o(82),b=o(84),_=o(721),v=o(720),C=o(139),O=o(421),S=(n=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout,a=this._renderMapModule();return h.b.createElement(g.a,{id:n,ctype:r,layout:i,i18n:o},h.b.createElement(y.a,{compId:n,compStore:t},a))},o._renderMapModule=function(){var e=this.props.store,t=e.layout,o=e.hasMultiplePlaces,n="default"===t?this._renderDefaultMap():this._renderTextMap(),r=d()({"se-section-placesMap-multiple":o});return h.b.createElement(b.a,{blockWrapperProps:e,className:r,onDoubleClick:this._handleDoubleClick,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},n)},o._renderPlaceList=function(e,t,o){var n,r={name:e.name,address:e.address,className:d()(((n={})["se-module-map-text-spot-"+t]=o.length>1,n))};return h.b.createElement(v.a,a()({key:t},r))},o._renderDefaultMap=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=t.places,i=t.thumbnail;if(!i)return!1;var a=i.src,s=r.map(this._renderPlaceList);return h.b.createElement(h.b.Fragment,null,h.b.createElement(_.a,{src:a,units:o,onLoad:this._handleLoadMapImage,onError:this._handleErrorMapImage},h.b.createElement(C.a,{compStore:t,isReady:!0,i18n:n})),s)},o._renderTextMap=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=t.places,i=t.hasMultiplePlaces,a=r.map(this._renderPlaceList),s=i?null:h.b.createElement("div",{className:"se-map-marker"});return h.b.createElement(h.b.Fragment,null,s,a,o,h.b.createElement(C.a,{compStore:t,isReady:!0,i18n:n}))},o._handleDoubleClick=function(){var e=this.props,t=e.useCase,o=e.store,n=o.places,r=o.id;t.editPlaces(n.toJS(),r)},o._handleLoadMapImage=function(){this.props.useCase.repaintCursor()},o._handleErrorMapImage=function(){this.props.useCase.repaintCursor()},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(h.b.Component),u()(n.prototype,"_handleDoubleClick",[m.autobind,m.muteIfReadOnly],Object.getOwnPropertyDescriptor(n.prototype,"_handleDoubleClick"),n.prototype),u()(n.prototype,"_handleLoadMapImage",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleLoadMapImage"),n.prototype),u()(n.prototype,"_handleErrorMapImage",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleErrorMapImage"),n.prototype),u()(n.prototype,"_handleMoveToPrev",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToPrev"),n.prototype),u()(n.prototype,"_handleMoveToNext",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToNext"),n.prototype),n);S.defaultProps={i18n:function(e){return e}},S.propTypes={shouldForceRefresh:h.a.bool,i18n:h.a.func,store:h.a.instanceOf(O.a).isRequired,children:h.a.oneOfType([h.a.element,h.a.array])};var k=Object(f.b)(S),I=k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/view/index.jsx",localName:t}})}catch(e){}}e(S,"MapComponentView"),e(k,"default")}();var w,P,j=o(12),T=o.n(j),L=o(18),E=o.n(L),N=(w=Object(m.history)({sync:!1}),P=function(e){function t(){var t;return(t=e.call(this)||this)._placeLayerService=r.V.get("placeLayerService"),t._mapComponentService=r.V.get("mapComponentService"),t}return c()(t,e),t.prototype.editPlaces=function(){var e=E()(T.a.mark(function e(t,o){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._placeLayerService.editPlaces({initialPlaces:t,isUpdateMode:!0});case 2:(n=e.sent)&&this._mapComponentService.updatePlacesAndStaticMap(n,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t}(r.c),u()(P.prototype,"editPlaces",[w,h.d],Object.getOwnPropertyDescriptor(P.prototype,"editPlaces"),P.prototype),P),x=N,D=x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/use-case/index.js",localName:t}})}catch(e){}}e(N,"MapComponentUseCase"),e(x,"default")}();var R=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=r.V.get("selectionInfoStore"),t}c()(t,e);var o=t.prototype;return o.updatePlacesAndStaticMap=function(e,t){this.getComponentStore(t).updatePlacesAndStaticMap(e)},o.getActiveCompId=function(){return this._selectionInfoStore.start.compId},o.getClonedPlaces=function(e){return this.getComponentStore(e).places.toJS()},t}(r.a),A=R,M=A;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/service/index.js",localName:t}})}catch(e){}}e(R,"MapComponentService"),e(A,"default")}();var B,U=o(80),V=o(17),F=o.n(V),z=o(104),W=o(55),G=(B=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?W.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"mapLayout:title":n,i=e.label,s=void 0===i?"mapLayout:label":i,c=e.groups,l=void 0===c?[{value:"default",title:"mapLayout:default_title",label:"mapLayout:default_label",logId:"mapimg"},{value:"map_text",title:"mapLayout:text_title",label:"mapLayout:text_label",logId:"maptext"}]:c,u=e.value,p=void 0===u?"default":u,d=F()(e,["type","title","label","groups","value"]);return h.b.createElement(z.a,a()({type:o,title:r,label:s,groups:l,value:p},d,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeLayout(e)},t}(h.b.Component),u()(B.prototype,"_handleChange",[m.autobind],Object.getOwnPropertyDescriptor(B.prototype,"_handleChange"),B.prototype),B),H=G,q=H;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-layout-button-view.jsx",localName:t}})}catch(e){}}e(G,"MapTypesButtonView"),e(H,"default")}();var J,K,Y=o(62),X=(J=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?W.a.BASIC:t,n=e.title,r=void 0===n?"mapLayout:title":n,i=e.label,s=void 0===i?"mapLayout:label":i,c=e.logId,l=void 0===c?"maptext":c,u=F()(e,["type","title","label","logId"]);return h.b.createElement(Y.a,a()({type:o,title:r,label:s,logId:l},u,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.toggleLayout()},t}(h.b.Component),u()(J.prototype,"_handleClick",[m.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleClick"),J.prototype),J),Q=X,Z=Q;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-layout-toggle-button-view.jsx",localName:t}})}catch(e){}}e(X,"MapLayoutToggleButtonView"),e(Q,"default")}();var $=(K=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?W.a.BASIC:t,n=e.title,r=void 0===n?"mapEdit:title":n,i=e.label,s=void 0===i?"mapEdit:label":i,c=e.labelVisible,l=void 0===c||c,u=e.logId,p=void 0===u?"edit":u,d=F()(e,["type","title","label","labelVisible","logId"]);return h.b.createElement(Y.a,a()({type:o,title:r,label:s,logId:p,labelVisible:l},d,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editPlaces()},t}(h.b.Component),u()(K.prototype,"_handleClick",[m.autobind],Object.getOwnPropertyDescriptor(K.prototype,"_handleClick"),K.prototype),K),ee=$,te=ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e($,"MapEditRightLabelButtonView"),e(ee,"default")}();var oe,ne=o(711),re=(oe=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?W.a.BASIC:t,n=e.title,r=void 0===n?"mapEdit:title":n,i=e.logId,s=void 0===i?"edit":i,c=F()(e,["type","title","logId"]);return h.b.createElement(Y.a,a()({type:o,title:r,logId:s},c,{onClick:this._handleClick}))},o._handleClick=function(){var e=this.props,t=e.useCase,o=e.value,n=h.f.toJS(o);t.editPlaces(Object(ne.a)(n))},t}(h.b.Component),u()(oe.prototype,"_handleClick",[m.autobind],Object.getOwnPropertyDescriptor(oe.prototype,"_handleClick"),oe.prototype),oe),ie=re,ae=ie;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-edit-button-view.jsx",localName:t}})}catch(e){}}e(re,"MapEditButtonView"),e(ie,"default")}();var se,ce,le,ue=o(260),pe=o(16),de=(se=Object(m.history)({sync:!1}),ce=Object(m.history)({sync:!1}),le=function(e){function t(){var t;return(t=e.call(this)||this)._placeLayerService=r.V.get("placeLayerService"),t._mapComponentService=r.V.get("mapComponentService"),t._propertyChangeService=r.V.get("propertyChangeService"),t._selectionInfoStore=r.V.get("selectionInfoStore"),t._componentListStore=r.V.get("componentListStore"),t}c()(t,e);var o=t.prototype;return o.editPlaces=function(){var e=E()(T.a.mark(function e(){var t,o,n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._mapComponentService.getActiveCompId(),o=this._mapComponentService.getClonedPlaces(t),e.next=4,this._placeLayerService.editPlaces({initialPlaces:o,isUpdateMode:!0});case 4:(n=e.sent)&&this._mapComponentService.updatePlacesAndStaticMap(n,t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.toggleLayout=function(){var e=Object(pe.a)(this._selectionInfoStore,"start.compId"),t=this._componentListStore.getComponentById(e);if(t){var o="default"===t.layout?"map_text":"default";this._propertyChangeService.changeLayout(o)}},t}(r.m),u()(le.prototype,"editPlaces",[m.sentryCatch,se,h.d],Object.getOwnPropertyDescriptor(le.prototype,"editPlaces"),le.prototype),u()(le.prototype,"toggleLayout",[m.sentryCatch,ce,h.d],Object.getOwnPropertyDescriptor(le.prototype,"toggleLayout"),le.prototype),le);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/use-case/map-button-use-case.js",localName:t}})}catch(e){}}(de,"MapButtonUseCase")}();var he={"map-layout":{view:q,useCase:ue.a,propertyName:"layout",styleName:"map"},"map-layout-toggle":{view:Z,useCase:de,propertyName:"layout",styleName:"map-layout-toggle"},"map-edit-right-label":{view:te,useCase:de,propertyName:"edit",styleName:"map-edit"},"map-edit":{view:ae,useCase:de,propertyName:"edit",styleName:"map-edit"}},fe=he,me=fe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(he,"buttons"),e(fe,"default")}();var ge={propertyToolbar:{align:Object(U.a)("align-group"),"map-layout":me["map-layout"],"map-edit-right-label":me["map-edit-right-label"],"separator-bar":Object(U.a)("separator-bar")},contextToolbar:{"cycle-align":Object(U.a)("cycle-align"),"map-edit":me["map-edit"],"map-layout":me["map-layout"],delete:Object(U.a)("delete"),"separator-bar":Object(U.a)("separator-bar")},overlayToolbar:{"map-layout-toggle":me["map-layout-toggle"],"map-edit":me["map-edit"],delete:Object(U.a)("delete")}},ye=ge;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/map-button-set-map.js",localName:t}})}catch(e){}}(ge,"default")}();var be={propertyToolbar:function(){return["align","separator-bar","map-layout","separator-bar","map-edit-right-label"]},contextToolbar:function(e){var t=e.selectedComponents,o=["map-edit","separator-bar","map-layout","separator-bar","delete"];return 1===t.length&&"map_text"===t[0].layout&&o.unshift("cycle-align","separator-bar"),o},overlayToolbar:function(){return{fixedButtonSets:{top:["map-layout-toggle"],bottom:["map-edit","delete"]}}}},_e=be;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/map-button-resolver.js",localName:t}})}catch(e){}}(be,"default")}();var ve=function(e){function t(){return e.call(this,{buttonSetMap:ye,buttonResolver:_e})||this}return c()(t,e),t}(r.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/index.js",localName:t}})}catch(e){}}(ve,"MapComponentToolbar")}();var Ce=r.q.extend({name:"MapComponent",view:I,useCase:D,service:M,store:O.a,toolbar:ve}),Oe=Ce;t.a=Oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/index.js",localName:t}})}catch(e){}}e(Ce,"MapComponent"),e(Oe,"default")}()},438:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(49),a=o.n(i),s=o(50),c=o(48),l=o(51),u=o(12),p=o.n(u),d=o(18),h=o.n(d),f=o(245),m={CHROME:"chrome",WHALE:"whale",FIREFOX:"firefox",EDGE:"edge",SAFARI:"safari",UNKNOWN:"unknown"},g={chrome:{storeUrl:"https://chrome.google.com/webstore/detail/kbceiakflogbmmkflklmmakoobcbihlk"},whale:{storeUrl:"https://store.whale.naver.com/detail/dfipapmdikdemhhlbiaooalmneoghnln"},firefox:{storeUrl:"https://addons.mozilla.org/ko/firefox/addon/smarteditor/"},edge:{storeUrl:""},safari:{storeUrl:""},unknown:{storeUrl:""}},y=function(){function e(e){void 0===e&&(e=g),this._setConfig(e)}var t=e.prototype;return t._setConfig=function(e){void 0===e&&(e={});var t=m.UNKNOWN;window.whale?t=m.WHALE:window.chrome?t=f.a.isEdge()?m.EDGE:m.CHROME:window.safari?t=m.SAFARI:f.a.isFirefox()&&(t=m.FIREFOX),this._config=e[t]},t._executeByContentScript=function(){var e=h()(p.a.mark(function e(t,o){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var n=!1,r=function(e){if(e.source===window){var t=e.data,r=t.type,i=t.result;"response"===r&&(n=!!i,o&&o(i))}};window.addEventListener("message",r),setTimeout(function(){window.removeEventListener("message",r),e(n)},200),window.postMessage(t,"*")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,o){return e.apply(this,arguments)}}(),t.getStoreUrl=function(){return this._config.storeUrl},t.isSupported=function(){return!!this.getStoreUrl()},t.paste=function(e){return this._executeByContentScript({action:"paste",targetId:e})},e}(),b=y,_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/browser-extension/connector/src/index.js",localName:t}})}catch(e){}}e(m,"BROWSER"),e(g,"DEFAULT_CONFIG_SET"),e(y,"BrowserExtensionConnector"),e(b,"default")}();var v,C,O=o(681),S=o(682),k=o(649),I=f.a.NOT_MACOS?"Ctrl":"CMD",w=function(e,t){return void 0===t&&(t=!1),{hotkeyLink:t?'<a href="#">'+e+"</a>":e,hotkeyCopy:I+"+C",hotkeyCut:I+"+X",hotkeyPaste:I+"+V",interpolation:{escapeValue:!1}}},P=(v=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.custom,n=t("contextMenuLayer:alert_hotkey"),r=t("contextMenuLayer:alert_info_title"),i=t("contextMenuLayer:alert_info_desc",w(n,o.useCase.hasHelpPanel()));return c.b.createElement(c.b.Fragment,null,c.b.createElement("div",{className:"se-popup-header"},c.b.createElement("strong",{className:"se-popup-title"},r),c.b.createElement(O.a,{onClick:this._handleClickClose})),c.b.createElement("div",{className:"se-popup-content"},c.b.createElement("div",{className:"se-popup-alert-text",onClick:this._handleClickText,dangerouslySetInnerHTML:{__html:i.replace(/\n/g,"<br/>")}})))},o._handleClickClose=function(e){this.props.onClickClose(e),k.a.log(e.nativeEvent,"ctminf.close")},o._handleClickText=function(e){var t=e.target;t&&"A"===t.tagName&&(e.preventDefault(),this.props.custom.useCase.showHelpHotkey(),k.a.log(e.nativeEvent,"ctminf.hotkey"))},t}(c.b.Component),a()(v.prototype,"_handleClickClose",[l.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleClickClose"),v.prototype),a()(v.prototype,"_handleClickText",[l.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleClickText"),v.prototype),v);P.defaultProps={i18n:function(e){return e},custom:{},onClickClose:function(){}},P.propTypes={i18n:c.a.func,custom:c.a.object.isRequired,onClickClose:c.a.func.isRequired};var j,T=(C=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.custom,n=t("contextMenuLayer:alert_hotkey"),r=t("contextMenuLayer:alert_install_title"),i=t("contextMenuLayer:alert_install_desc",w(n,o.useCase.hasHelpPanel())),a=t("contextMenuLayer:alert_install_confirm");return c.b.createElement(c.b.Fragment,null,c.b.createElement("div",{className:"se-popup-header"},c.b.createElement("strong",{className:"se-popup-title"},r),c.b.createElement(O.a,{onClick:this._handleClickClose})),c.b.createElement("div",{className:"se-popup-content"},c.b.createElement("div",{className:"se-popup-alert-text",onClick:this._handleClickText,dangerouslySetInnerHTML:{__html:i.replace(/\n/g,"<br/>")}})),c.b.createElement("div",{className:"se-popup-button-container"},c.b.createElement(S.a,{text:a,onClick:this._handleClickConfirm})))},o._handleClickClose=function(e){this.props.onClickClose(e),k.a.log(e.nativeEvent,"ctmins.close")},o._handleClickText=function(e){var t=e.target;t&&"A"===t.tagName&&(e.preventDefault(),this.props.custom.useCase.showHelpHotkey(),k.a.log(e.nativeEvent,"ctmins.hotkey"))},o._handleClickConfirm=function(e){this.props.onClickConfirm(e),k.a.log(e.nativeEvent,"ctmins.ok")},t}(c.b.Component),a()(C.prototype,"_handleClickClose",[l.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleClickClose"),C.prototype),a()(C.prototype,"_handleClickText",[l.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleClickText"),C.prototype),a()(C.prototype,"_handleClickConfirm",[l.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleClickConfirm"),C.prototype),C);T.defaultProps={i18n:function(e){return e},custom:{},onClickConfirm:function(){},onClickClose:function(){}},T.propTypes={i18n:c.a.func,custom:c.a.object.isRequired,onClickConfirm:c.a.func.isRequired,onClickClose:c.a.func.isRequired},function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/view/alert-custom-layouts/index.jsx",localName:t}})}catch(e){}}e(I,"MOD_KEY"),e(w,"getDescOptions"),e(P,"InfoLayout"),e(T,"InstallLayout")}();var L=(j=function(e){function t(){var t;(t=e.call(this)||this)._i18n=s.V.get("i18n"),t._extensionConnector=new _,t._contextmenuLayerService=s.V.get("contextmenuLayerService"),t._editingService=s.V.get("editingService"),t._selectionService=s.V.get("selectionService"),t._historyService=s.V.get("historyService"),t._alertLayerService=s.V.get("alertLayerService"),t._canvasScrollingService=s.V.get("canvasScrollingService"),t._helpPanelLayoutService=s.V.get("helpPanelLayoutService");var o=s.V.get("configAgent").get("productConfig")||{},n=o.help,r=o.layoutType;return t._useHelpPanel=!0===n&&r!==s.I.EMBED,t}r()(t,e);var o=t.prototype;return o._fallbackPaste=function(e){this._extensionConnector.isSupported()?this._extensionConnector.paste(e).then(this._afterPasteByExtension):this._alertLayerService.open({type:"custom",custom:{Layout:P,useCase:this},className:"se-popup-contextmenu",isDimUse:!1})},o._afterPasteByExtension=function(e){e||this._alertLayerService.open({type:"custom",custom:{Layout:T,useCase:this},onClickConfirm:this._onClickConfirmInstall,className:"se-popup-contextmenu",isDimUse:!1})},o._onClickConfirmInstall=function(){var e=this._extensionConnector.getStoreUrl();window.open(e)},o.hasHelpPanel=function(){return this._useHelpPanel},o.showHelpHotkey=function(){this._alertLayerService.close(),this._helpPanelLayoutService.open(),this._helpPanelLayoutService.openLayer("START_SHORTCUT"," ")},o.close=function(){this._contextmenuLayerService.close()},o.execute=function(e){switch(e.command){case"cut":this._editingService.cut();break;case"copy":this._editingService.copy();break;case"paste":this._editingService.paste(this._fallbackPaste);break;case"selectAll":this._selectionService.selectAll();break;case"saveAs":this._contextmenuLayerService.saveAsCurrentFile();break;case"undo":this._undo();break;case"redo":this._redo();break;case"delete":this._erase()}this.close()},o._erase=function(){this._editingService.erase(void 0,s.u.RIGHT)},o._undo=function(){this._historyService.undo(),this._canvasScrollingService.scrollToFocus()},o._redo=function(){this._historyService.redo(),this._canvasScrollingService.scrollToFocus()},t}(s.m),a()(j.prototype,"_fallbackPaste",[l.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_fallbackPaste"),j.prototype),a()(j.prototype,"_afterPasteByExtension",[l.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_afterPasteByExtension"),j.prototype),a()(j.prototype,"_onClickConfirmInstall",[l.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_onClickConfirmInstall"),j.prototype),a()(j.prototype,"close",[c.d],Object.getOwnPropertyDescriptor(j.prototype,"close"),j.prototype),a()(j.prototype,"execute",[c.d],Object.getOwnPropertyDescriptor(j.prototype,"execute"),j.prototype),a()(j.prototype,"_erase",[l.history],Object.getOwnPropertyDescriptor(j.prototype,"_erase"),j.prototype),a()(j.prototype,"_undo",[l.preventOnDocumentProcessing],Object.getOwnPropertyDescriptor(j.prototype,"_undo"),j.prototype),a()(j.prototype,"_redo",[l.preventOnDocumentProcessing],Object.getOwnPropertyDescriptor(j.prototype,"_redo"),j.prototype),j),E=L;t.a=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(L,"ContextmenuLayerUseCase"),e(E,"default")}()},439:function(e,t,o){"use strict";var n=o(48),r=o(84),i=o(192),a=o(335),s=o(141),c=o(193),l={useToolbarSlot:!1},u=function(e){var t={placeholder:e.i18n("quotationComponent:value_text_placeholder")};return n.b.createElement(s.a,{className:"se-quote",compId:e.store.id,text:e.store.value,options:l,additionalOption:t,onLimitTextLength:e.onLimitTextLength})};u.defaultProps={i18n:function(e){return e}},u.propTypes={onLimitTextLength:n.a.func,store:n.a.instanceOf(c.a).isRequired,i18n:n.a.func};var p=Object(a.b)(u),d=p;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/quotation-text.jsx",localName:t}})}catch(e){}}e(l,"textUnitOptions"),e(u,"QuotationText"),e(p,"default")}();var h=o(0),f=o.n(h),m={useToolbarSlot:!1},g=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=n.b.createRef(),o}f()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){var e=this;this.props.store.source.disable||(this._disposeReaction=n.f.reaction(function(){return{sourceTextOn:e.props.store.isSourceTextOn}},function(t){t.sourceTextOn?e._elementRef.current.classList.add("se-is-on"):e._elementRef.current.classList.remove("se-is-on")}))},o.componentDidMount=function(){this.props.store.source.disable||(this.props.store.isSourceTextOn?this._elementRef.current.classList.add("se-is-on"):this._elementRef.current.classList.remove("se-is-on"))},o.componentWillUnmount=function(){this._disposeReaction&&this._disposeReaction()},o.render=function(){var e=this.props.store,t=e.source,o=e.id;if(t.disable)return null;var r={placeholder:this.props.i18n("quotationComponent:source_text_placeholder")};return n.b.createElement(s.a,{text:t,compId:o,forwardRef:this._elementRef,options:m,additionalOption:r,className:"se-cite",onLimitTextLength:this.props.onLimitTextLength})},t}(n.b.Component);g.defaultProps={i18n:function(e){return e}},g.propTypes={onLimitTextLength:n.a.func,store:n.a.instanceOf(c.a).isRequired,i18n:n.a.func};var y=Object(a.b)(g),b=y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/quotation-source-text.jsx",localName:t}})}catch(e){}}e(m,"textUnitOptions"),e(g,"QuotationSourceText"),e(y,"default")}();var _=function(e){return n.b.createElement(r.a,{id:e.subCompId,className:"__se-unit",blockWrapperProps:e.store,parentProps:e.parentProps,onMoveToPrev:e.onMoveToPrev,onMoveToNext:e.onMoveToNext},e.useQuotationToolbarSlot&&Object(i.a)({}),n.b.createElement("div",{className:"se-quotation-container"},n.b.createElement(d,e),n.b.createElement(b,e)))};_.defaultProps={i18n:function(e){return e},onMoveToPrev:function(){},onMoveToNext:function(){}},_.propTypes={store:n.a.instanceOf(c.a).isRequired,i18n:n.a.func,sectionClassName:n.a.string,subCompId:n.a.string,useQuotationToolbarSlot:n.a.bool,onMoveToPrev:n.a.func,onMoveToNext:n.a.func};var v=_;t.a=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/quotation-section.jsx",localName:t}})}catch(e){}}e(_,"QuotationSection"),e(v,"default")}()},443:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b=o(60),_=o.n(b),v=o(1),C=o.n(v),O=o(57),S=o.n(O),k=o(0),I=o.n(k),w=o(49),P=o.n(w),j=(o(61),o(4)),T=o(16),L=o(183),E=o(142),N=o(185),x=o(50),D=o(48),R=5,A=["material-book","material-movie","material-broadcast","material-show","material-music","material-shopping","material-news"],M={NONE:"none",NORMAL:"normal"},B={MAX_TAG_ITEMS:R,DEFAULT_CATEGORY_SET:A,TAG_ICON_TYPES:M};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/consts/index.js",localName:t}})}catch(e){}}e(R,"MAX_TAG_ITEMS"),e(A,"DEFAULT_CATEGORY_SET"),e(M,"TAG_ICON_TYPES"),e(B,"default")}();var U=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,_()(o,"opened",r,S()(o)),_()(o,"isLoading",i,S()(o)),_()(o,"imageUrl",a,S()(o)),_()(o,"searchItems",s,S()(o)),_()(o,"currentPage",c,S()(o)),_()(o,"totalPage",l,S()(o)),_()(o,"totalCount",u,S()(o)),_()(o,"keyword",p,S()(o)),_()(o,"tags",d,S()(o)),_()(o,"currentTabIndex",h,S()(o)),_()(o,"currentSubCategoryIndex",f,S()(o)),_()(o,"subCategories",m,S()(o)),_()(o,"isFetchNextPageError",g,S()(o)),_()(o,"isUrl",y,S()(o)),o.defaultCategorySet=A,o.defaultCategoryInfo=A.map(function(e){return{i18n:"imageTagLayer:tab_"+e,id:e,categoryId:e,iconType:"normal",name:"",api:""}}),o.imageTag={link:!0,category:{categorySet:o.defaultCategorySet,additionalCategories:o.defaultCategoryInfo},allowDuplicate:!0,allowTitleEditing:!0,allowDescriptionEditing:!0},o.nonEditableCategories=["material-book","material-movie","material-broadcast","material-music","material-shopping","material-news","material-show"];var n=t,b=n.state,v=void 0===b?{}:b,C=n.config,O=void 0===C?{}:C;o.opened=Object(T.a)(v,"opened",o.opened),o.dimColor=Object(T.a)(O,"dimColor","transparent"),o.maxTagItems=R,o.preservedTag=[],o._configAgent=x.V.get("configAgent");var k=o._configAgent.get("productConfig.imageTag");if(o.serviceId=o._configAgent.get("serviceInfo.appCode"),"boolean"==typeof k?k||(o.imageTag=null):"object"==typeof k&&Object(L.a)(o.imageTag,k,function(e,t){if(Object(j.a)(e))return t}),o.imageTag){o._titleMaxLength=Object(T.a)(o.imageTag,"titleMaxLength",40),o._descMaxLength=Object(T.a)(o.imageTag,"descMaxLength",20),o._isUrlAttachEnabled=Object(T.a)(o.imageTag,"link",!0),o._isDuplicateAllowed=Object(T.a)(o.imageTag,"allowDuplicate",!0),o._isTitleEditingAllowed=Object(T.a)(o.imageTag,"allowTitleEditing",!0),o._isDescriptionEditingAllowed=Object(T.a)(o.imageTag,"allowDescriptionEditing",!0),o._isTagOverlapAllowed=Object(T.a)(o.imageTag,"allowTagOverlap",!0),o._lastUsedCategory=0,o._lastUsedSubCategory=0,o.category={},o.category.categorySet=Object(T.a)(o.imageTag,"category.categorySet",o.defaultCategorySet);var I=Object(T.a)(o.imageTag,"category.additionalCategories",o.defaultCategoryInfo),w=[].concat(I,o.defaultCategoryInfo);o.category.additionalCategories=Object(N.a)(w)}else o._isUrlAttachEnabled=!1,o._isDuplicateAllowed=!1,o._isTitleEditingAllowed=!1,o._isDescriptionEditingAllowed=!1,o.category={categorySet:[],additionalCategories:[]};return o.subCategories=[],o.indexMap={},o}I()(t,e);var o=t.prototype;return o.initialize=function(e){void 0===e&&(e={});var t=e,o=t.compId,n=t.imageUrl,r=t.width,i=t.height,a=t.tags;this.imageComponentId=o,this.imageUrl=n,this.imageWidth=r,this.imageHeight=i,this.preservedTag=a||[],this.tags=a||[],this.keyword="",this.searchItems=[],this.currentPage=1,this.totalPage=1,this.totalCount=0,this.isFetchNextPageError=!1,this.isUrl=!1,this.setIndexMap(),this.setCategory()},o.open=function(e){this.initialize(e),this.opened=!0},o.close=function(){this.opened=!1},o.addNewTag=function(e){this.tags.length<this.maxTagItems&&this.tags.push(e)},o.updateLastUsedCategory=function(e,t){this._lastUsedCategory=e,this._lastUsedSubCategory=t},o.delTag=function(e){void 0===e&&(e=-1),e>=0&&e<this.tags.length&&this.tags.remove(this.tags[e])},o.updateTag=function(e,t){if(void 0===e&&(e=-1),void 0===t&&(t={}),e>=0&&e<this.tags.length){var o=this.tags[e].links;o[0].title=t.title,o[0].description=t.description}},o._findCategory=function(e){if(!e)return{tab:0,subCategory:0};var t=e.links[0].categoryId,o=this.indexMap[t]||this.indexMap[this._getFirstCategoryId()];return o?{tab:-1===o.parentIndex?o.selfIndex:o.parentIndex,subCategory:-1===o.parentIndex?0:o.selfIndex}:{tab:0,subCategory:0}},o._getlastUsedCategory=function(){var e=0,t=0;if(this.tags.length>0){var o=this.tags.length,n=o-1,r=o>0?this.tags[n]:null,i=this._findCategory(r);e=i.tab,t=i.subCategory}else e=this._lastUsedCategory>0?this._lastUsedCategory:0,t=this._lastUsedSubCategory>0?this._lastUsedSubCategory:0;return{tab:e,subCategory:t}},o.setIndexMap=function(){var e={};this.category.additionalCategories.map(function(t,o){t.categoryId?e[t.categoryId]={parentIndex:-1,selfIndex:o,iconType:t.iconType||M.NONE}:t.subCategories.map(function(t,n){e[t.categoryId]={parentIndex:o,selfIndex:n,iconType:t.iconType||M.NONE}})}),this.indexMap=e},o.setCategory=function(){var e=this._getlastUsedCategory(),t=e.tab,o=e.subCategory;this.currentTabIndex=t,this.currentSubCategoryIndex=o;var n=this.category.additionalCategories[this.currentTabIndex]||{};this.subCategories=Object(T.a)(n,"subCategories",[])},o.changeTabIndex=function(e){this.currentTabIndex=e},o.changeSubCategory=function(e){this.currentSubCategoryIndex=e},o.updateSubCategory=function(e){this.subCategories=e||[]},o.updateSearchResult=function(e){var t=e.searchItems,o=e.totalCount,n=e.totalPage;this.searchItems=this.searchItems.concat(t),this.totalCount=o,this.totalPage=n},o.clearSearchResult=function(){this.searchItems=[],this.totalCount=0,this.totalPage=1,this.currentPage=1,this.isFetchNextPageError=!1},o.clearSearchKeyword=function(){this.keyword=""},o.updateKeyword=function(e){void 0===e&&(e=""),this.keyword=e},o.updateCurrentPage=function(e){void 0===e&&(e=1),this.currentPage=e},o.setIsUrl=function(e){this.isUrl=e},o.setLoadingState=function(e){this.isLoading=e},o.setCurrentPage=function(e){this.currentPage=e},o.updatePinPoint=function(e,t,o){var n=this.tags[e].point;n.x=t,n.y=o},o._getFirstCategoryId=function(){for(var e=0,t=Object.entries(this.indexMap);e<t.length;e++){var o=t[e],n=o[0],r=o[1];if(-1===r.parentIndex&&0===r.selfIndex)return n}},o.getTabIdByIndex=function(e){var t=e||this.currentTabIndex,o=this.customCategoryTabList;return Object(T.a)(o[t],"identifier",null)},o.getTabLabelByIndex=function(e){var t=e||this.currentTabIndex;return this.customCategoryTabList[t].label},o.getCurrentCategoryIdByIndex=function(){var e=this.currentTabIndex,t=this.currentSubCategoryIndex,o=this.category.additionalCategories[e],n=(o.subCategories&&o.subCategories[t]||[]).categoryId||o.categoryId;return String(n)},o.getTabIndexById=function(e){for(var t=this.customCategoryTabList,o=t.length,n=0,r=0;r<o;r++)t[r].identifier===e&&(n=r);return n},o.getProvider=function(){return this.serviceId},o.getIconType=function(e){return this.indexMap[e].iconType},C()(t,[{key:"isDefaultSet",get:function(){var e=this.getCurrentCategoryIdByIndex();return this.defaultCategorySet.includes(e)}},{key:"customCategoryTabList",get:function(){var e=this.category,t=e.categorySet,o=e.additionalCategories;return Object(E.a)(t,function(e,t){var n=o.find(function(e){return e.id===t});return n&&e.push({i18n:n.i18n||"",label:n.name,className:"",identifier:n.id,categoryId:n.categoryId,dataLog:"lyit."+n.id}),e},[])}},{key:"preservedTags",get:function(){return D.f.toJS(this.preservedTag)}},{key:"plainSearchItems",get:function(){return D.f.toJS(this.searchItems)}},{key:"plainSubCategories",get:function(){return D.f.toJS(this.subCategories)}},{key:"plainTagItem",get:function(){return D.f.toJS(this.tags)}},{key:"imageCompId",get:function(){return this.imageComponentId}},{key:"duplicateConfig",get:function(){return this._isDuplicateAllowed}},{key:"allowTitleEditing",get:function(){return this._isTitleEditingAllowed}},{key:"allowDescriptionEditing",get:function(){return this._isDescriptionEditingAllowed}},{key:"allowUrlAttach",get:function(){return this._isUrlAttachEnabled}},{key:"allowTagOverlap",get:function(){return this._isTagOverlapAllowed}},{key:"titleMaxLength",get:function(){return this._titleMaxLength}},{key:"descMaxLength",get:function(){return this._descMaxLength}}]),t}(x.e),r=P()(n.prototype,"opened",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=P()(n.prototype,"isLoading",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),a=P()(n.prototype,"imageUrl",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=P()(n.prototype,"searchItems",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=P()(n.prototype,"currentPage",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=P()(n.prototype,"totalPage",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=P()(n.prototype,"totalCount",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=P()(n.prototype,"keyword",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=P()(n.prototype,"tags",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=P()(n.prototype,"currentTabIndex",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=P()(n.prototype,"currentSubCategoryIndex",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=P()(n.prototype,"subCategories",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=P()(n.prototype,"isFetchNextPageError",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=P()(n.prototype,"isUrl",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(n.prototype,"customCategoryTabList",[D.e],Object.getOwnPropertyDescriptor(n.prototype,"customCategoryTabList"),n.prototype),n),V=U;t.a=V;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/store/index.js",localName:t}})}catch(e){}}e(U,"ImageTagLayerStore"),e(V,"default")}()},444:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d=o(60),h=o.n(d),f=o(1),m=o.n(f),g=o(57),y=o.n(g),b=o(0),_=o.n(b),v=o(49),C=o.n(v),O=(o(61),o(16)),S=o(69),k=o(50),I=o(975),w=o(1211),P=o(48),j={LEFT:"left",CENTER:"center",RIGHT:"right"},T={TEXT:"text",VERTICAL_IMAGE:"vertical_image",IMAGE:"image",LARGE_IMAGE:"large_image",AFFILIATE_TEXT:"shopping_affiliate_text",AFFILIATE_IMAGE:"shopping_affiliate_image",MOMENT:"moment"},L={WIDTH:480,HEIGHT:270},E={ALIGN:j,LAYOUT:T};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/consts/index.js",localName:t}})}catch(e){}}e(j,"ALIGN"),e(T,"LAYOUT"),e(L,"THUMBNAIL_BIG_SIZE"),e(9/16,"VERTICAL_RATIO"),e(E,"default")}();var N=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.useBsizeThumbnail=!0,o.isAffiliate=!1,h()(o,"layout",r,y()(o)),h()(o,"align",i,y()(o)),h()(o,"title",a,y()(o)),h()(o,"link",s,y()(o)),h()(o,"domain",c,y()(o)),h()(o,"thumbnail",l,y()(o)),h()(o,"description",u,y()(o)),h()(o,"video",p,y()(o)),o.oglinkSign="",o._configAgent=k.V.get("configAgent");var n=t,d=n.state,f=void 0===d?{}:d,m=n.config,g=void 0===m?{}:m;return o.useBsizeThumbnail=Object(O.a)(g,"useBsizeThumbnail",o.useBsizeThumbnail),o.attributes=Object(S.a)(o.attributes,g.attributes),o.title=Object(O.a)(f,"title",o.title),o.link=Object(O.a)(f,"link",o.link),o.domain=Object(O.a)(f,"domain",o.domain),o.thumbnail=Object(O.a)(f,"thumbnail",o.thumbnail),o.description=Object(O.a)(f,"description",o.description),o.video=Object(O.a)(f,"video",o.video),o.isAffiliate=Object(O.a)(f,"isAffiliate",o.isAffiliate),o.align=Object(O.a)(f,"align",o.align),o.layout=Object(O.a)(f,"layout",o._resolveLayout()),o.oglinkSign=f.oglinkSign||o.oglinkSign,o}_()(t,e);var o=t.prototype;return o._resolveLayout=function(){return this.isAffiliate?this.affiliateLayoutType:this.layoutType},o._isBigSize=function(){if(!this.thumbnail)return!1;var e=this.thumbnail,t=e.width,o=e.height;return t>=L.WIDTH&&o>=L.HEIGHT},o._isVerticalRatio=function(){if(!this.thumbnail)return!1;var e=this.thumbnail;return(e.width/e.height).toFixed(2)<=9/16},o.changeLayout=function(){},o.changeLayoutWithThumbnail=function(){this.layout=this._resolveLayout()},o.changeToTextLayout=function(){this.isAffiliate?this.layout=T.AFFILIATE_TEXT:this.layout=T.TEXT},o.collectStyle=function(){var e="justify"===this.align||null===this.align?"left":this.align;return{layoutType:this.layout.indexOf("image")>-1?"image":"text",layout:this.layout,thumbnail:this.thumbnail,align:e}},o.updateSign=function(e){var t=e.oglinkSign,o=e.link,n=e.thumbnail;this.oglinkSign=t,this.link=o,this.thumbnail=n,this.layout!==T.TEXT&&this.layout!==T.AFFILIATE_TEXT&&(this.layout=this._resolveLayout())},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,title:this.title,link:this.link,domain:this.domain,thumbnail:P.f.toJS(this.thumbnail),description:this.description,video:this.video,oglinkSign:this.oglinkSign}},m()(t,[{key:"layoutType",get:function(){return this.thumbnail?this._isVerticalRatio()?T.VERTICAL_IMAGE:this.useBsizeThumbnail&&this._isBigSize()?T.LARGE_IMAGE:T.IMAGE:T.TEXT}},{key:"affiliateLayoutType",get:function(){return this.thumbnail?T.AFFILIATE_IMAGE:T.AFFILIATE_TEXT}},{key:"isMomentLayout",get:function(){return this.layout===T.MOMENT}},{key:"emptySign",get:function(){return!this.oglinkSign}}]),t}(k.g),r=C()(n.prototype,"layout",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.TEXT}}),i=C()(n.prototype,"align",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=C()(n.prototype,"title",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=C()(n.prototype,"link",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=C()(n.prototype,"domain",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=C()(n.prototype,"thumbnail",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=C()(n.prototype,"description",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=C()(n.prototype,"video",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n);N.ctype="oglink",N.schema={id:I.a.string.isRequired,ctype:I.a.string.isRequired,layout:I.a.string.isRequired,align:I.a.string,title:I.a.string.isRequired,domain:I.a.string.isRequired,link:I.a.string.isRequired,thumbnail:I.a.shape(w.h),description:I.a.string,video:I.a.bool.isRequired,oglinkSign:I.a.string};var x=N;t.a=x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/store/index.js",localName:t}})}catch(e){}}e(N,"OglinkComponentStore"),e(x,"default")}()},445:function(e,t,o){"use strict";var n,r,i,a,s,c=o(17),l=o.n(c),u=o(60),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=(o(61),o(16)),_=o(69),v=o(101),C=o(50),O=o(975),S=o(48),k={DEFAULT:"default",CODE_STRIPE:"code_stripe",CODE_BLACK:"code_black"},I={CodeLayout:k};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/consts/index.js",localName:t}})}catch(e){}}e(k,"CodeLayout"),e(I,"default")}();var w=(n=function(e){m()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.codeTextMaxLength=5e3,p()(o,"align",r,h()(o)),p()(o,"layout",i,h()(o)),p()(o,"fontSizeCode",a,h()(o)),p()(o,"codeContents",s,h()(o));var n=t,c=n.state,l=void 0===c?{}:c,u=n.config,d=void 0===u?{}:u;return o._configAgent=C.V.get("configAgent"),o._componentFactory=C.V.get("componentFactory"),o.codeTextMaxLength=Object(b.a)(d,"codeTextMaxLength",o.codeTextMaxLength),o.attributes=Object(_.a)(o.attributes,d.attributes),o.layout=Object(b.a)(l,"layout",o.layout),o.fontSizeCode=Object(b.a)(l,"fontSizeCode",o.fontSizeCode),o.codeContents=Object(b.a)(l,"codeContents",o.codeContents),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,align:this.align,layout:this.layout,fontSizeCode:this.fontSizeCode,codeContents:this.codeContents}},t.changeFontSize=function(e){this.fontSizeCode=e},t.changeLayout=function(e){this.layout=e},t.setState=function(e){Object(v.a)(this,e)},t.updateProperty=function(e){var t=e.layout,o=l()(e,["layout"]);t&&this.changeLayout(t),Object(v.a)(this,o)},t.updateStyle=function(e){var t=e.fontSizeCode,o=e.align;t&&this.changeFontSize(t),o&&this.changeAlign(o)},t.updateCodeContents=function(e){this.codeContents=e},t.collectStyle=function(){return{align:"justify"===this.align||null===this.align?"left":this.align,layout:this.layout,fontSizeCode:this.fontSizeCode}},o}(C.g),r=y()(n.prototype,"align",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=y()(n.prototype,"layout",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.DEFAULT}}),a=y()(n.prototype,"fontSizeCode",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"fs13"}}),s=y()(n.prototype,"codeContents",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n);w.ctype="code",w.schema={id:O.a.string.isRequired,ctype:O.a.string.isRequired,layout:O.a.string.isRequired,fontSizeCode:O.a.string.isRequired,codeContents:O.a.string.isRequired,align:O.a.string};var P=w;t.a=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/store/index.js",localName:t}})}catch(e){}}e(w,"CodeComponentStore"),e(P,"default")}()},55:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"e",function(){return i}),o.d(t,"d",function(){return a}),o.d(t,"b",function(){return c});var n={BASIC:"basic",SEPARATOR_BAR:"separator-bar",TOGGLE:"toggle",GROUP_TOGGLE:"group-toggle",LABEL_SELECT:"label-select",ICON_SELECT:"icon-select",DROP_DOWN:"drop-down",COLOR_PICKER:"color-picker",INPUT:"input",CUSTOM_LAYER:"custom-layer",CYCLE_TOGGLE:"cycle-toggle",RANGE_SLIDER:"range-slider",CUSTOM:"custom",MORE_VIEW:"more-view",BASIC_SELECT:"basic-select",CUSTOM_SELECT:"custom-select"},r={TEXT:"text",ICON:"icon",MORE_VIEW:"more-view"},i={CONTEXT:"context",PROPERTY:"property",DOCUMENT:"document",CONTENTS:"contents",OVERLAY:"overlay",TEXT:"text"},a={TEXT_ICON:"text-icon",ICON:"icon"},s={ButtonTypes:n,OptionTypes:r,ToolbarTypes:i,ToolbarIconTypes:a},c=["quotation"];!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/consts/index.js",localName:t}})}catch(e){}}e(n,"ButtonTypes"),e(r,"OptionTypes"),e(i,"ToolbarTypes"),e(a,"ToolbarIconTypes"),e(c,"EXCLUDES_CTYPE_FOR_ARTICLE"),e(s,"default")}()},62:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(53),l=o.n(c),u=o(48),p=o(335),d=o(51),h=o(55),f=o(50),m=o(122),g=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.documentToolbarIconType,a=t.moreViewButton,s=t.deviceType,c=t.title,p=t.label,d=t.type,g=t.i18n,y=t.focused,b=t.logAreaId,_=t.logId,v=t.labelVisible,C=t.highlight,O=g(p),S=g(c),k=s===f.t.DESKTOP,I=r===h.e.DOCUMENT,w=i===h.d.TEXT_ICON||v,P=l()(((e={})["se-"+n+"-toolbar-button"]=!!n,e["se-"+r+"-toolbar-"+d+"-button"]=!I||!a,e["se-"+r+"-toolbar-"+d+"-more-button"]=I&&a,e["se-"+i+"-toolbar-button"]=k&&I,e)),j=w?"se-toolbar-label":"se-blind";return u.b.createElement(m.a,{focused:y,namespace:r,logAreaId:b,logId:_,highlight:C,type:d,className:P,dataName:o,i18n:g,handleClick:this._handleClick},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:j,"aria-hidden":k},O),k&&u.b.createElement("span",{className:"se-toolbar-tooltip"},S))},o._handleClick=function(e){var t=this.props,o=t.onClick,n=t.id,r=t.type,i=t.name,a=t.title,s=t.label,c=t.action,l=t.i18n,u=l(s),p=l(a);document.activeElement&&document.activeElement.blur(),o.apply(this,[{event:e,id:n,type:r,name:i,label:u,action:c,title:p}])},t}(u.b.Component),s()(n.prototype,"_handleClick",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);g.defaultProps={id:"",focused:!1,labelVisible:!1,moreViewButton:!1,label:"",action:"",name:"",namespace:"",title:"",highlight:{},onClick:function(){},i18n:function(e){return e}},g.propTypes={type:u.a.oneOf([h.a.BASIC]).isRequired,id:u.a.string,focused:u.a.bool,moreViewButton:u.a.bool,name:u.a.string,namespace:u.a.string,deviceType:u.a.string,documentToolbarIconType:u.a.string,labelVisible:u.a.bool,label:u.a.string,action:u.a.string,title:u.a.string,onClick:u.a.func,i18n:u.a.func,highlight:u.a.object,logAreaId:u.a.string,logId:u.a.string};var y=Object(p.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/basic-button.jsx",localName:t}})}catch(e){}}e(g,"BasicButton"),e(y,"default")}()},668:function(e,t,o){"use strict";o.d(t,"a",function(){return H}),o.d(t,"c",function(){return J}),o.d(t,"b",function(){return K});var n=o(1),r=o.n(n),i=o(17),a=o.n(i),s=o(54),c=o.n(s),l=o(60),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=o(49),g=o.n(m),y=(o(61),o(669)),b=o.n(y),_=o(48),v=o(335),C=o(16),O=o(23),S=o(116),k=o(166),I=o(650),w=o(652),P=o(206),j=o(752),T=o(338),L=o(86),E=o(137),N=o(1022),x=o(1023),D=o(110),R=function(e,t){return function(){return"chunk_"+t++}}(0,0);function A(e,t){for(var o=0,n=e[o];n&&n.length<=t;)t-=n.length,n=++o<e.length&&e[o];return n?[n[t],o,t]:[]}function M(e,t,o){for(var n=0;n<t;n++)o+=e[n].length;return o}var B=function(){function e(e){this._mat=e}var t=e.prototype;return t.get=function(e){return A(this._mat,e)[0]},t.size=function(){return this._mat.reduce(function(e,t){return e+t.length},0)},e}();function U(e,t,o,n,r,i){void 0===r&&(r=S.a),void 0===i&&(i=S.a);for(var a=t.length,s=0,c=0,l=new B(e),u=new I.a.ArrayLike(t),p=0;p<a;p++){e.length<=s&&(e[s]=[]);var d=e[s],h=d.length>c&&d[c];if(!h||r(h)!==i(t[p])){var f=I.a.findIndexPairOfSameValueAtArrayLike(l,u,M(e,s,c),p,r,i),m=f[0],g=f[1],y=A(e,m),b=y[1],_=y[2];if(b!==s||_!==c){var v=z(e,s,c,b,_);s=v[0],c=v[1]}if(e.length<=s&&(e[s]=[]),d=e[s],g!==p){var C,O=t.slice(p,g);(C=d).splice.apply(C,[c,0].concat(O)),c+=O.length,p=g}}d.length>c&&d[c]!==t[p]&&(d[c]=t[p]),d.length<=++c&&(c=0,s++)}return e.length>s&&z(e,s,c),V(e,o,n),e}function V(e,t,o){for(var n=e.length;--n>=0;)F(e,n,t,o);return e.length-1}function F(e,t,o,n){for(var r=e[t],i=r.length;i>=n||i<=o;){if(n<=i){var a=n/2|0,s=r.splice(a,i-a);e.splice(++t,0,s)}else if(o>=i){if(1===e.length)break;var c,l;if(t)(c=e[t-1]).push.apply(c,e.splice(t--,1)[0]);else(l=e[t]).push.apply(l,e.splice(t+1,1)[0])}i=(r=e[t]).length}return t}function z(e,t,o,n,r){void 0===n&&(n=e.length-1),void 0===r&&(r=e[n].length);var i=e[t],a=i.length,s=e[n];if(t===n){if(o===r)return[t,o+1];var c=r-o;return c===a?e.splice(t,1):i.splice(o,c),[t,o]}return r===s.length?n++:s.splice(0,r),0===o?t--:i.splice(o,a-o),e.splice(t+1,n-t-1),[t+1,0]}var W=function(e){return e.id},G=function(e,t){for(var o,n=b()(t);!(o=n()).done;){var r=o.value,i=Object(C.a)(e,r);if(i)return i}},H=function(e,t){var o,n,r=(o=function(o){function r(e){var r;r=o.call(this,e)||this,u()(r,"list",n,d()(r));var i=t.path;return r._applyList(G(r.props,Object(k.a)(i)?[i]:i)),r}f()(r,o);var i=r.prototype;return i.componentDidMount=function(){this.registerChange()},i.componentDidUpdate=function(e){var o=t.path,n=G(e,Object(k.a)(o)?[o]:o),r=G(this.props,Object(k.a)(o)?[o]:o);n!==r&&(this._applyList(r),this.unregisterChange(),this.registerChange())},i.componentWillUnmount=function(){this._disposer()},i.render=function(){var o={};return Object(O.a)(o,t.output||"list",this.list),_.b.createElement(e,c()({},this.props,o))},i._applyList=function(e){U(this.list,e,4,16,W,W),this.list.forEach(function(e){e.id||(e.id=R())})},i.registerChange=function(){var e=this,o=t.path;this._disposer=_.f.autorun(function(){var t=G(e.props,Object(k.a)(o)?[o]:o);e._applyList(t)})},i.unregisterChange=function(){this._disposer&&this._disposer()},r}(_.b.Component),n=g()(o.prototype,"list",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o);return Object(v.b)(r)},q=function(e){return new Promise(function(t){setTimeout(t,e)})},J=function(e,t){void 0===t&&(t={});var o=t.getKey||function(e,t){return t},n=t.path||"list",r=t.output||"list";return Object(v.b)(function(t){var i=Object(C.a)(t,n);return _.b.createElement(_.b.Fragment,null,i.map(function(n,i){var a=o(n,i);if(!Object(N.a)(a)&&!Object(x.a)(a)){var s={};return Object(O.a)(s,r,n),_.b.createElement(e,c()({},t,{key:a},s))}}))})},K=function(e,t){var o,n;void 0===t&&(t={});var i=t.path||"list",s=t.output||"list",l=t.getKey||function(e,t){return t},p=t.reorder||S.a,h=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._timer=null,e}f()(o,t);var n=o.prototype;return n.componentDidUpdate=function(e){var t=this.props,o=t.isShow,n=t.onRequireNextItem;!e.isShow&&o&&n()},n.render=function(){var t=this.props,o=t.isShow,n=(t.onRequireNextItem,a()(t,["isShow","onRequireNextItem"]));return o?_.b.createElement(e,n):null},o}(_.b.PureComponent),m=(o=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,u()(t,"_waitQueue",n,d()(t)),t._prevIds=[],t._started=!1,t._flows=void 0,t._popAndDelay=function(){if(t._waitQueue.length)return t._waitQueue.shift(),q(250)},t._onRequireNextItem=function(){t._flows.fork("loading").next(t._popAndDelay)},t}f()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._flows=new w.a},o.componentDidUpdate=function(){this._waitQueue.length&&this._started&&(this._started=!1,this._onRequireNextItem())},o.componentWillUnmount=function(){this._flows.abort()},o.render=function(){var e=this,t=this.props,o=Object(C.a)(t,i);return _.b.createElement(_.b.Fragment,null,o.map(function(t,o){var n=l(t,o);if(!Object(N.a)(n)&&!Object(x.a)(n)){var r={};return Object(O.a)(r,s,t),_.b.createElement(h,c()({key:n,isShow:!e._isWaiting(n)},e.props,r,{onRequireNextItem:e._onRequireNextItem}))}}))},o.componentWillReact=function(){if(!Object(L.a)(this._prevIds,this.ids)){this._started=!0;var e=[].concat(Object(P.a)(this.ids,this._prevIds),Object(j.a)(Object(T.a)(this._waitQueue),this.ids));this._flows.abort("loading"),this._waitQueue.replace(p(e,this.props)),this._prevIds=this.ids}},o._isWaiting=function(e){return this._waitQueue.some(function(t){return Object(E.a)(t)?Object(D.a)(t,e):t===e})},r()(t,[{key:"ids",get:function(){return Object(C.a)(this.props,i).map(l)}}]),t}(_.b.Component),g()(o.prototype,"ids",[_.e],Object.getOwnPropertyDescriptor(o.prototype,"ids"),o.prototype),n=g()(o.prototype,"_waitQueue",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o);return Object(v.b)(m)},Y=H;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/chunknize/index.jsx",localName:t}})}catch(e){}}e(R,"getChunkId"),e(A,"getByIndex"),e(M,"getIndex"),e(B,"ArrayLike"),e(U,"chunk"),e(V,"readjust"),e(F,"readjustEach"),e(z,"remove"),e(W,"getId"),e(G,"getPath"),e(H,"chunknize"),e(q,"delay"),e(J,"paginize"),e(K,"lazyPaginize"),e(Y,"default")}()},672:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={INFO:"info",WARNING:"warning"},r={MessageTypes:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"MessageTypes"),e(r,"default")}()},679:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r});var n={cc0:"CC0",ccl:"CCL",public:"PUBLIC"},r={OGQ_COMMERCIAL:"ogqCommercial",OGQ:"ogq"},i={RIGHTS_GUIDE:n,PROVIDER_TYPE:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"RIGHTS_GUIDE"),e(r,"PROVIDER_TYPE"),e(i,"default")}()},680:function(e,t,o){"use strict";o.d(t,"a",function(){return b});var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(49),h=o.n(d),f=o(50),m=o(48),g=o(648),y=o(51),b=(n=Object(y.history)({sync:!1}),r=Object(y.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=f.V.get("configAgent"),t._eventDispatcherService=f.V.get("eventDispatcherService"),t._componentListStore=f.V.get("componentListStore"),t._editingService=f.V.get("editingService"),t._toastLayerService=f.V.get("toastLayerService"),t._fileUploadService=f.V.get("fileUploadService"),t._fileUploadLayerService=f.V.get("fileUploadLayerService"),t._fileComponentService=f.V.get("fileComponentService"),t._canvasLayoutService=f.V.get("canvasLayoutService"),t._i18n=f.V.get("i18n"),t._fileMaxUploadCount=t._configAgent.get("infraConfig.file.maxUploadCount")||1/0,t}p()(t,e);var o=t.prototype;return o.uploadLocalFile=function(){var e=l()(s.a.mark(function e(t){var o,n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=this._getInsertMeta()),!this._isOverMaxUploadCount()){e.next=4;break}return this._showOverMaxUploadError(),e.abrupt("return");case 4:return e.next=6,this._fileUploadService.openFileDialog();case 6:if(o=e.sent,o&&o.size>0){e.next=11;break}return this._onUploadEmptyFile(),e.abrupt("return");case 11:if(!this._isOverFileSizeLimit(o.size)){e.next=14;break}return this._onOverFileSizeLimit(),e.abrupt("return");case 14:return n=this._insertFileComponent(o,t),r=n.id,this._fileUploadLayerService&&this._fileUploadLayerService.close(),this._eventDispatcherService.emit(f.z.IN_PROGRESS),e.next=20,this._fileUploadService.uploadLocalFile(o,r,{progress:this._onUploadProgress.bind(this),success:this._onUploadSuccess.bind(this),error:this._onUploadError.bind(this)});case 20:(i=e.sent)&&i.defaultPrevented&&this._removeFileComponent(r);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.uploadCloudFile=function(){var e=l()(s.a.mark(function e(t){var o,n,r,i,a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=this._getInsertMeta()),!this._isOverMaxUploadCount()){e.next=4;break}return this._showOverMaxUploadError(),e.abrupt("return");case 4:return e.prev=4,e.next=7,this._fileUploadService.openCloudPopup();case 7:if(o=e.sent,n=o[0],!this._isOverFileSizeLimit(n.size)){e.next=12;break}return this._onOverFileSizeLimit(),e.abrupt("return");case 12:return r=this._refineCloudFileInfo(n),i=this._insertFileComponent(r,t),a=i.id,this._fileUploadLayerService&&this._fileUploadLayerService.close(),this._eventDispatcherService.emit(f.z.IN_PROGRESS),e.next=19,this._fileUploadService.uploadCloudFile(n,a,{progress:this._onUploadProgress.bind(this),success:this._onUploadSuccess.bind(this),error:this._onUploadError.bind(this)});case 19:(c=e.sent)&&c.defaultPrevented&&this._removeFileComponent(a),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(4),this._onUploadError(e.t0);case 26:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t){return e.apply(this,arguments)}}(),o._getInsertMeta=function(){return{setting:{fileUploadLimitFileSize:this._configAgent.get("editorInfo.fileUploadLimitFileSize")}}},o._isOverMaxUploadCount=function(){return this._componentListStore.countBy("file")>=this._fileMaxUploadCount},o._showOverMaxUploadError=function(){var e=this._i18n("limits:file_description_exceeded_count_by_max",{maxcount:this._fileMaxUploadCount});this._showErrorMessage(e)},o._isOverFileSizeLimit=function(e){return e>this._configAgent.get("editorInfo.fileUploadLimitFileSize")},o._onOverFileSizeLimit=function(){var e=this._configAgent.get("editorInfo.fileUploadLimitFileSize"),t=g.a.convertToMB(e),o=this._i18n("fileUploadUseCase:error_overflow_size",{maxlength:t+"MB"});this._showErrorMessage(o)},o._onUploadProgress=function(e,t){this._fileComponentService.updateProgress(t,e)},o._onUploadSuccess=function(e,t){this._fileComponentService.updateComponent(t,e),this._onCompleteUpload()},o._onUploadError=function(e,t){var o=e.response;412===(void 0===o?{}:o).status?this._showErrorMessage(this._i18n("fileUploadUseCase:prohibits_filename")):this._showErrorMessage(this._i18n("fileUploadUseCase:error_temporary")),this._removeFileComponent(t),this._onCompleteUpload()},o._onUploadEmptyFile=function(){this._showErrorMessage(this._i18n("fileUploadUseCase:check_original_file"))},o._onCompleteUpload=function(){this._eventDispatcherService.emit(f.z.PROGRESS_COMPLETED)},o._showErrorMessage=function(e){this._toastLayerService.warningMessage(e)},o._insertFileComponent=function(e){var t=this._fileComponentService.createFileComponent(e);return this._insertComponent(t),t},o._insertComponent=function(e){return this._editingService.insert({sourceComponents:[e]})},o._removeFileComponent=function(e){e&&this._editingService.eraseComponent(e)},o._refineCloudFileInfo=function(e){return{name:e.name,size:e.size}},t}(f.m),h()(i.prototype,"uploadLocalFile",[y.sentryCatch,n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"uploadLocalFile"),i.prototype),h()(i.prototype,"uploadCloudFile",[y.sentryCatch,r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"uploadCloudFile"),i.prototype),i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/file-upload-use-case.js",localName:t}})}catch(e){}}(b,"FileUploadUseCase")}()},681:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(48),l=o(51),u=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){var e=this.props.visibility;this.element.style.visibility=e},o.render=function(){var e=this.props,t=e.onClick,o=e.text;return c.b.createElement("button",{type:"button",className:"se-popup-close-button",ref:this._ref,onClick:t},c.b.createElement("span",{className:"se-blind"},o))},o._ref=function(e){this.element=e},t}(c.b.Component),s()(n.prototype,"_ref",[l.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);u.defaultProps={onClick:function(){},text:"",visibility:!0},u.propTypes={onClick:c.a.func,text:c.a.string,visibility:c.a.bool};var p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/buttons/popup-close-button.jsx",localName:t}})}catch(e){}}e(u,"PopupCloseButton"),e(p,"default")}()},682:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(48),l=o(51),u=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){this.props.disabled?this.element.setAttribute("disabled","true"):this.element.removeAttribute("disabled")},o.render=function(){var e=this.props,t=e.onClick,o=e.text;return c.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",ref:this._ref,onClick:t},c.b.createElement("span",{className:"se-popup-button-text"},o))},o._ref=function(e){this.element=e},t}(c.b.Component),s()(n.prototype,"_ref",[l.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);u.defaultProps={onClick:function(){},text:"",disabled:!1},u.propTypes={onClick:c.a.func,text:c.a.string,disabled:c.a.bool};var p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/buttons/popup-confirm-button.jsx",localName:t}})}catch(e){}}e(u,"PopupConfirmButton"),e(p,"default")}()},683:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=function(e){return new Promise(function(t){var o=new Image;o.src=e,o.onload=t})},r=function(e){if(!e)return!1;var t=e.split("/").pop().split("?").shift();if(window.ActiveXObject||"ActiveXObject"in window){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){var e=new Blob([o.response],{type:"application/octet-stream"});navigator.msSaveOrOpenBlob(e,t)},o.send()}else{var n=new Image;n.onload=function(){var o=document.createElement("a");o.style.display="none",o.setAttribute("download",t),o.setAttribute("target","_blank"),o.setAttribute("href",e),document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o)},100)},n.src=e}},i={preloadingImg:n,saveAsByUrl:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/utils/src/image-util.js",localName:t}})}catch(e){}}e(n,"preloadingImg"),e(r,"saveAsByUrl"),e(i,"default")}()},684:function(e,t,o){"use strict";var n,r=o(49),i=o.n(r),a=o(50),s=o(48),c=o(51),l=(n=function(){function e(){this._i18n=a.V.get("i18n"),this._propertyChangeService=a.V.get("propertyChangeService"),this._toastLayerService=a.V.get("toastLayerService")}return e.prototype.changeLink=function(e){var t=e.value.trim();if(this._propertyChangeService.isValidLink(t))this._propertyChangeService.changeLink({type:"url",value:t});else{var o=this._i18n("textComponent:is_valid_link");this._toastLayerService.warningMessage(o)}},e}(),i()(n.prototype,"changeLink",[c.preventOnComponentProcessing,c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLink"),n.prototype),n),u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/link-button-use-case.js",localName:t}})}catch(e){}}e(l,"LinkButtonUseCase"),e(u,"default")}()},685:function(e,t,o){"use strict";var n=o(54),r=o.n(n),i=o(53),a=o.n(i),s=o(48),c=o(335),l=o(387),u=o(55),p=o(256),d=o(208),h=function(e){var t,o=e.id,n=e.type,i=e.optionId,c=e.options,h=e.namespace,f=e.name,m=e.optionType,g=e.inputValue,y=e.value,b=e.onChangeInputValue,_=e.onConfirmInputValue,v=e.onClickOptionList,C=e.applyLabel,O=e.logAreaId,S=e.i18n,k=c[i],I=y===i,w=m===u.c.TEXT,P=o+":"+i,j=a()("se-toolbar-option-"+m+"-button","se-toolbar-option-"+f+"-"+i+"-button",I?"se-is-selected":"",k.badge&&!d.b.shown(P,d.a.BADGE)?"__se-highlight-button se-highlight-toolbar-button":""),T=O+"."+k.logId;if(k.useInput){var L=y>0&&!c[y],E=g||L,N=L?y:S(k.placeholder),x="se-"+f+"-"+i+"-container",D="se-"+f+"-"+i+"-input",R=a()("se-"+f+"-"+i+"-apply-button");return s.b.createElement("div",{className:x,"data-log":T},s.b.createElement(l.a,{placeholder:N,className:D,"data-value":i,onChange:b,onConfirm:_,value:g,maxLength:3}),E&&s.b.createElement("button",{type:"button",className:R,"data-value":i,onClick:v},s.b.createElement("span",{className:"se-blind"},S(C))))}var A=a()(((t={"se-toolbar-option-label":!0})[k.class]=k.class,t)),M={"data-group":h+"Toolbar","data-name":o||f,"data-role":"option","data-value":i,"data-type":n,"data-log":T};return s.b.createElement(p.a,r()({type:"button",title:"",className:j,onClick:v},M,{"aria-current":I?"true":"false"}),w&&s.b.createElement("span",{className:A,"aria-hidden":"true"},S(k.label)),s.b.createElement("span",{className:"se-toolbar-tooltip"},S(k.label)),I&&s.b.createElement("span",{className:"se-blind"},""))};h.defaultProps={optionId:"",options:{},name:"",optionType:"",value:"",applyLabel:"",logAreaId:"",i18n:function(e){return e},onConfirmInputValue:function(){},onChangeInputValue:function(){},onClickOptionList:function(){}},h.propTypes={optionId:s.a.string,options:s.a.oneOfType([s.a.object,s.a.array]),name:s.a.string,optionType:s.a.string,value:s.a.string,applyLabel:s.a.string,logAreaId:s.a.string,inputValue:s.a.oneOfType([s.a.number,s.a.string]),namespace:s.a.string,onChangeInputValue:s.a.func,onConfirmInputValue:s.a.func,onClickOptionList:s.a.func,i18n:s.a.func};var f=Object(c.b)(h);t.a=f,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/options.jsx",localName:t}})}catch(e){}}e(h,"Options"),e(f,"default")}()},686:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(53),a=o.n(i),s=o(48),c=o(335),l=o(55),u=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props,t=e.name,o=e.type,n=a()("se-"+o+"-button","se-toolbar-button-"+t);return s.b.createElement("div",{"data-type":o,"data-name":t,className:n},s.b.createElement("span",{className:"se-toolbar-icon"}))},t}(s.b.Component);u.defaultProps={id:"",name:""},u.propTypes={type:s.a.oneOf([l.a.SEPARATOR_BAR]).isRequired,id:s.a.string,name:s.a.string};var p=Object(c.b)(u);t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/separator-bar.jsx",localName:t}})}catch(e){}}e(u,"SeparatorBar"),e(p,"default")}()},687:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(104),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroup:title":n,a=e.label,c=void 0===a?"contentModeGroup:label":a,l=e.groups,u=void 0===l?[{value:"normal",title:"contentModeGroup:normal_title",label:"contentModeGroup:normal_label",logId:"arrnml"},{value:"fit",title:"contentModeGroup:fit_title",label:"contentModeGroup:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroup:extend_title",label:"contentModeGroup:extend_label",logId:"arrext"},{value:"pagefull",title:"contentModeGroup:pagefull_title",label:"contentModeGroup:pagefull_label",logId:"arrfull"}]:l,p=s()(e,["type","title","label","groups"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,groups:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-button-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeGroupButtonView"),e(y,"default")}()},688:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(104),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupWithoutDefault:title":n,a=e.label,c=void 0===a?"contentModeGroupWithoutDefault:label":a,l=e.groups,u=void 0===l?[{value:"fit",title:"contentModeGroupWithoutDefault:fit_title",label:"contentModeGroupWithoutDefault:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroupWithoutDefault:extend_title",label:"contentModeGroupWithoutDefault:extend_label",logId:"arrext"},{value:"pagefull",title:"contentModeGroupWithoutDefault:pagefull_title",label:"contentModeGroupWithoutDefault:pagefull_label",logId:"arrfull"}]:l,p=e.value,h=void 0===p?"fit":p,g=s()(e,["type","title","label","groups","value"]);return d.b.createElement(f.a,i()({},g,{type:o,title:r,label:c,groups:u,value:h,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-without-default-button-view.jsx",localName:t}})}catch(e){}}e(g,"ConentModeGroupWithoutDefaultButtonView"),e(y,"default")}()},689:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(104),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupWithoutPagefull:title":n,a=e.label,c=void 0===a?"contentModeGroupWithoutPagefull:label":a,l=e.groups,u=void 0===l?[{value:"normal",title:"contentModeGroupWithoutPagefull:normal_title",label:"contentModeGroupWithoutPagefull:normal_label",logId:"arrnml"},{value:"fit",title:"contentModeGroupWithoutPagefull:fit_title",label:"contentModeGroupWithoutPagefull:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroupWithoutPagefull:extend_title",label:"contentModeGroupWithoutPagefull:extend_label",logId:"arrext"}]:l,p=s()(e,["type","title","label","groups"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,groups:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n);g.propTypes={useCase:d.a.object};var y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-without-pagefull-button-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeGroupWithoutPagefullButtonView"),e(y,"default")}()},690:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(104),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupFitAndExtend:title":n,a=e.label,c=void 0===a?"contentModeGroupFitAndExtend:label":a,l=e.groups,u=void 0===l?[{value:"fit",title:"contentModeGroupFitAndExtend:fit_title",label:"contentModeGroupFitAndExtend:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroupFitAndExtend:extend_title",label:"contentModeGroupFitAndExtend:extend_label",logId:"arrext"}]:l,p=s()(e,["type","title","label","groups"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,groups:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-fit-and-extend-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeGroupFitAndExtendView"),e(y,"default")}()},691:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(103),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.TOGGLE:t,n=e.title,r=void 0===n?{active:"contentModeJustify:title_active",inactive:"contentModeJustify:title_inactive"}:n,a=e.label,c=void 0===a?"contentModeJustify:label":a,l=e.logId,u=void 0===l?"arrfit":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n);g.propTypes={useCase:d.a.object};var y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-justify-button-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeJustifyButtonView"),e(y,"default")}()},692:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"deleteButton:title":n,a=e.label,c=void 0===a?"deleteButton:label":a,l=e.logId,u=void 0===l?"del":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.erase()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);g.propTypes={useCase:d.a.object};var y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/delete-button-view.jsx",localName:t}})}catch(e){}}e(g,"DeleteButtonView"),e(y,"default")}()},693:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(50),f=o(51),m=o(104),g=o(55),y=(n=function(e){function t(){var t;t=e.call(this)||this;var o=h.V.get("configAgent");return t._allowLayouts=o.get("productConfig.quotation.layouts"),t}l()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.type,n=void 0===o?g.a.GROUP_TOGGLE:o,r=t.title,a=void 0===r?"quotationLayout:title":r,c=t.label,l=void 0===c?"quotationLayout:label":c,u=t.value,p=void 0===u?"default":u,h=t.logId,f=void 0===h?"quota":h,y=t.groups,b=void 0===y?[{value:"default",title:"quotationLayout:default_title",label:"quotationLayout:default_label",logId:"quota0"},{value:"quotation_line",title:"quotationLayout:line_title",label:"quotationLayout:line_label",logId:"quota1"},{value:"quotation_bubble",title:"quotationLayout:bubble_title",label:"quotationLayout:bubble_label",logId:"quota2"},{value:"quotation_underline",title:"quotationLayout:underline_title",label:"quotationLayout:underline_label",logId:"quota3"},{value:"quotation_postit",title:"quotationLayout:postit_title",label:"quotationLayout:postit_label",logId:"quota4"},{value:"quotation_corner",title:"quotationLayout:corner_title",label:"quotationLayout:corner_label",logId:"quota5"}]:y,_=s()(t,["type","title","label","value","logId","groups"]),v=b;return this._allowLayouts&&(v=v.filter(function(t){return e._allowLayouts.includes(t.value)})),d.b.createElement(m.a,i()({},_,{type:n,title:a,label:l,value:p,logId:f,groups:v,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeQuotationLayout(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/quotation-layout-button-view.jsx",localName:t}})}catch(e){}}e(y,"QuotationLayoutButtonView"),e(b,"default")}()},694:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o(0),r=o.n(n),i=o(50),a=function(e){function t(){var t;return(t=e.call(this)||this)._target="sticker",t._documentToolbarLayoutService=i.V.get("documentToolbarLayoutService"),t._panelContainerLayerService=i.V.get("panelContainerLayerService"),t._stickerPanelLayoutService=i.V.get("stickerPanelLayoutService"),t}return r()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._stickerPanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o),o||e._stickerPanelLayoutService.closeRefreshPanel()})},t}(i.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/sticker-insert-use-case.js",localName:t}})}catch(e){}}(a,"StickerInsertUseCase")}()},695:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o(57),r=o.n(n),i=o(0),a=o.n(i),s=o(50),c=function(e){function t(){var t;return t=e.call(this)||this,!1===s.V.get("configAgent").get("productConfig.templatePanel")?(t.toggle=function(){},r()(t)):(t._target="template",t._documentToolbarLayoutService=s.V.get("documentToolbarLayoutService"),t._panelContainerLayerService=s.V.get("panelContainerLayerService"),t._templatePanelLayoutService=s.V.get("templatePanelLayoutService"),t)}return a()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._templatePanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o)})},t}(s.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/template-button-use-case.js",localName:t}})}catch(e){}}(c,"TemplateButtonUseCase")}()},696:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(50),f=o(51),m=o(188),g=o(55),y=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=h.V.get("configAgent"),o}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.LABEL_SELECT:t,n=e.title,r=void 0===n?"textFormat:title":n,a=e.label,c=void 0===a?"textFormat:label":a,l=e.hasIcon,u=void 0!==l&&l,p=e.value,h=void 0===p?"text":p,f=e.logId,y=void 0===f?"fmt":f,b=e.options,_=void 0===b?{text:{label:"textFormat:text_label",logId:"fmttext"},sectionTitle:{label:"textFormat:sectionTitle_label",logId:"fmtquot"},quotation:{label:"textFormat:quotation_label",logId:"fmtstit"}}:b,v=s()(e,["type","title","label","hasIcon","value","logId","options"]),C=this._refineOptions(_);return d.b.createElement(m.a,i()({},v,{type:o,title:r,label:c,hasIcon:u,value:h,logId:y,options:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeTextFormat(e),this.props.onClickSelector(e)},o._refineOptions=function(e){var t=this._configAgent.get("plugins.excludeComponents")||[],o={text:e.text};return["sectionTitle","quotation"].forEach(function(n){-1===t.indexOf(n)&&(o[n]=e[n])}),o},t}(d.b.Component),p()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/text-format-button-view.jsx",localName:t}})}catch(e){}}e(y,"TextFormatButtonView"),e(b,"default")}()},697:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(138),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"wrappingLayoutDropDown:title_inactive",active:"wrappingLayoutDropDown:title_active"}:n,a=e.label,c=void 0===a?"wrappingLayoutDropDown:label":a,l=e.value,u=void 0===l?"":l,p=e.logId,h=void 0===p?"wpmode":p,g=e.options,y=void 0===g?{"inner-left":{title:"wrappingLayoutDropDown:inner_left_title",label:"wrappingLayoutDropDown:inner_left_label",logId:"wpinleft"},"inner-right":{title:"wrappingLayoutDropDown:inner_right_title",label:"wrappingLayoutDropDown:inner_right_label",logId:"wpinright"},"inner-big-left":{title:"wrappingLayoutDropDown:inner_big_left_title",label:"wrappingLayoutDropDown:inner_big_left_label",logId:"wpoutleft"},"inner-big-right":{title:"wrappingLayoutDropDown:inner_big_right_title",label:"wrappingLayoutDropDown:inner_big_right_label",logId:"wpoutright"}}:g,b=e.useHighlight,_=void 0===b||b,v=e.useIconUpdate,C=void 0===v||v,O=s()(e,["type","title","label","value","logId","options","useHighlight","useIconUpdate"]);return d.b.createElement(f.a,i()({},O,{type:o,title:r,label:c,value:u,logId:h,options:y,useHighlight:_,useIconUpdate:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeWrappingLayout(e),this.props.onClickSelector(e)},t}(d.b.Component),p()(n.prototype,"_handleClickOption",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/wrapping-layout-drop-down-button-view.jsx",localName:t}})}catch(e){}}e(g,"WrappingLayoutDropDownButtonView"),e(y,"default")}()},698:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(104),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"wrappingLayoutGroup:title":n,a=e.label,c=void 0===a?"":a,l=e.value,u=void 0===l?"":l,p=e.logId,h=void 0===p?"wpmode":p,g=e.groups,y=void 0===g?[{value:"inner-left",title:"wrappingLayoutGroup:inner_left_title",label:"wrappingLayoutGroup:inner_left_label",logId:"wpinleft"},{value:"inner-right",title:"wrappingLayoutGroup:inner_right_title",label:"wrappingLayoutGroup:inner_right_label",logId:"wpinright"},{value:"inner-big-left",title:"wrappingLayoutGroup:inner_big_left_title",label:"wrappingLayoutGroup:inner_big_left_label",logId:"wpoutleft"},{value:"inner-big-right",title:"wrappingLayoutGroup:inner_big_right_title",label:"wrappingLayoutGroup:inner_big_right_label",logId:"wpoutright"}]:g,b=s()(e,["type","title","label","value","logId","groups"]);return d.b.createElement(f.a,i()({},b,{type:o,title:r,label:c,value:u,logId:h,groups:y,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeWrappingLayout(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/wrapping-layout-group-button-view.jsx",localName:t}})}catch(e){}}e(g,"WrappingLayoutGroupButtonView"),e(y,"default")}()},699:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n,r=o(49),i=o.n(r),a=o(50),s=o(51),c=o(48),l=(n=function(){function e(){this._editingService=a.V.get("editingService"),this._horizontalLineComponentService=a.V.get("horizontalLineComponentService"),this._documentToolbarLayoutService=a.V.get("documentToolbarLayoutService")}return e.prototype.insertHorizontalLine=function(e){var t=this._horizontalLineComponentService.createComponent({layout:e});this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateHorizontalSelectedValue(t.layout)},e}(),i()(n.prototype,"insertHorizontalLine",[s.preventOnComponentProcessing,s.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertHorizontalLine"),n.prototype),n);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/horizontal-line-insert-use-case.js",localName:t}})}catch(e){}}(l,"HorizontalLineInsertUseCase")}()},700:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageInsert:title":n,a=e.label,c=void 0===a?"imageInsert:label":a,l=e.logId,u=void 0===l?"img":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-insert-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageInsertButtonView"),e(y,"default")}()},701:function(e,t,o){"use strict";o.d(t,"a",function(){return I});var n,r,i,a,s,c,l,u=o(12),p=o.n(u),d=o(18),h=o.n(d),f=o(0),m=o.n(f),g=o(49),y=o.n(g),b=o(67),_=o(77),v=o(142),C=o(50),O=o(48),S=o(51),k=o(37),I=(n=Object(S.command)(k.a.IMAGE.INSERT_IMAGES),r=Object(S.command)(k.a.IMAGE.INSERT_IMAGE_FILES),i=Object(S.history)({sync:!1}),a=Object(S.command)(k.a.IMAGE.INSERT_IMAGE_URLS),s=Object(S.history)({sync:!1}),c=Object(S.history)({sync:!1}),l=function(e){function t(){var t;return(t=e.call(this)||this)._imageUploadService=C.V.get("imageUploadService"),t._imageBehavior=C.V.get("imageBehavior"),t}m()(t,e);var o=t.prototype;return o.insertImages=function(){var e=h()(p.a.mark(function e(t){var o,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.type,n=t.data,e.t0=o,e.next="file"===e.t0?4:"url"===e.t0?7:9;break;case 4:return e.next=6,this.insertImagesByFile({data:n});case 6:return e.abrupt("break",10);case 7:return this.insertImagesByUrl({data:n}),e.abrupt("break",10);case 9:throw new Error("Please, Input data type");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.insertImagesByFile=function(){var e=h()(p.a.mark(function e(t){var o,n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.data,n=Object(_.a)(o,function(e){var t=e.file,o=e.fileName;return t.fileName=o,t}),r=this._imageUploadService.validateImages(n),e.next=5,this._imageBehavior.insertImage(r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.insertImagesByUrl=function(e){var t=this,o=e.data,n=Object(v.a)(o,function(e,t){var o=t.url,n=t.origin,r=void 0===n?"local":n;return e[r]||(e[r]=[]),e[r].push(o),e},{});Object(b.a)(n,function(){var e=h()(p.a.mark(function e(o,n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._imageBehavior.insertImageFromUrls(o,n);case 2:case"end":return e.stop()}},e)}));return function(t,o){return e.apply(this,arguments)}}())},o.insertImage=function(){var e=h()(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog({multiple:!0});case 2:return t=e.sent,e.next=5,this._imageBehavior.insertImage(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(C.m),y()(l.prototype,"insertImages",[S.sentryCatch,n,O.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImages"),l.prototype),y()(l.prototype,"insertImagesByFile",[S.sentryCatch,r,S.preventOnComponentProcessing,i,O.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImagesByFile"),l.prototype),y()(l.prototype,"insertImagesByUrl",[S.sentryCatch,a,S.preventOnComponentProcessing,s,O.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImagesByUrl"),l.prototype),y()(l.prototype,"insertImage",[S.sentryCatch,S.preventOnComponentProcessing,c,O.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImage"),l.prototype),l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/image-insert-use-case.js",localName:t}})}catch(e){}}(I,"ImageInsertUseCase")}()},702:function(e,t,o){"use strict";o.d(t,"a",function(){return p});var n,r=o(49),i=o.n(r),a=o(50),s=o(51),c=o(48),l=o(117),u={CHANGE_MODE:"CHANGE_MODE",INSERT_MODE:"INSERT_MODE"},p=(n=function(){function e(){this._selectionInfoStore=a.V.get("selectionInfoStore"),this._quotationComponentService=a.V.get("quotationComponentService"),this._editingService=a.V.get("editingService"),this._documentToolbarLayoutService=a.V.get("documentToolbarLayoutService"),this._propertyChangeService=a.V.get("propertyChangeService"),this._finderService=a.V.get("finderService")}var t=e.prototype;return t._insertQuotation=function(e){var t=this._quotationComponentService.createWithLayout(e);this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateQuotationSelectedValue(t.layout)},t.insertQuotation=function(e){this._insertQuotation(e)},t.changeTextLayout=function(e){var t=this._getUpdatedModes();t===u.CHANGE_MODE?this._changeQuoatation(e):t===u.INSERT_MODE&&this._insertQuotation(e)},t._changeQuoatation=function(e){this._propertyChangeService.changeTextFormat("quotation"),this._propertyChangeService.changeLayout(e)},t._getUpdatedModes=function(){var e=this._selectionInfoStore.mode,t=this._finderService.getSelectedComponents();switch(e){case a.O.BLOCK:return u.CHANGE_MODE;case a.O.SINGLE_COMP:case a.O.MULTI_COMP:return u.INSERT_MODE;case a.O.CURSOR:return["sectionTitle","text"].includes(Object(l.a)(t).ctype)?u.CHANGE_MODE:u.INSERT_MODE}return u.CHANGE_MODE},e}(),i()(n.prototype,"insertQuotation",[s.preventOnComponentProcessing,s.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertQuotation"),n.prototype),i()(n.prototype,"changeTextLayout",[s.preventOnComponentProcessing,s.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"changeTextLayout"),n.prototype),n);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/quotation-insert-use-case.js",localName:t}})}catch(e){}}e(u,"UPDATE_MODES"),e(p,"QuotationInsertUseCase")}()},703:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o(12),r=o.n(n),i=o(18),a=o.n(i),s=o(0),c=o.n(s),l=o(50),u=function(e){function t(){var t;return(t=e.call(this)||this)._target="search",t._documentToolbarLayoutService=l.V.get("documentToolbarLayoutService"),t._panelContainerLayerService=l.V.get("panelContainerLayerService"),t._searchPanelLayoutService=l.V.get("searchPanelLayoutService"),t._toastLayerService=l.V.get("toastLayerService"),t._i18n=l.V.get("i18n"),t}return c()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._searchPanelLayoutService;t.toggleLayout(this._target,o,function(){var t=a()(r.a.mark(function t(n,i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._documentToolbarLayoutService.setPanelButtonEnable(n,i),t.prev=1,!i){t.next=5;break}return t.next=5,o.requestData(o.getSearchType(),o.getSearchOption());case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.failed&&(o.updateErrorStatus(!0),e._toastLayerService.warningMessage(e._i18n("searchPanelLayout:error_server_data_load")));case 11:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e,o){return t.apply(this,arguments)}}())},t}(l.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/search-button-use-case.js",localName:t}})}catch(e){}}(u,"SearchButtonUseCase")}()},704:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"toQuotation:title":n,a=e.label,c=void 0===a?"toQuotation:label":a,l=e.logId,u=void 0===l?"fmtquot":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){e.value="quotation",this.props.useCase.changeTextFormat(e)},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/to-quotation-button-view.jsx",localName:t}})}catch(e){}}e(g,"ToQuotationButtonView"),e(y,"default")}()},705:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(187),m=o(706),g=o(55),y=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"imageResizing:title_inactive",active:"imageResizing:title_active"}:n,a=e.label,c=void 0===a?"imageResizing:label":a,l=e.labelVisible,u=void 0===l||l,p=e.isSelected,h=void 0!==p&&p,y=e.custom,b=void 0===y?{CustomLayer:m.a,customProps:{applyAllLabel:"imageResizing:apply_all_label",widthLabel:"imageResizing:width_label",heightLabel:"imageResizing:height_label",resetLabel:"imageResizing:reset_label",applyLabel:"imageResizing:apply_label"}}:y,_=e.logId,v=void 0===_?"qsize":_,C=s()(e,["type","title","label","labelVisible","isSelected","custom","logId"]);return d.b.createElement(f.a,i()({},C,{type:o,title:r,label:c,labelVisible:u,isSelected:h,custom:b,logId:v,onClick:this._handleClick,onChange:this._handleChange}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeSize(e)},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-resizing-button-view.jsx",localName:t}})}catch(e){}}e(y,"ImageResizingButtonView"),e(b,"default")}()},706:function(e,t,o){"use strict";var n,r=o(59),i=o.n(r),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(16),p=o(64),d=o(86),h=o(48),f=o(335),m=o(387),g=o(51),y=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._widthInputRef=h.b.createRef(),t}s()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this.mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t.mapStateFromProps(e)})},o.componentDidUpdate=function(e,t){this.state.isValid=this._isValid(t)},o.render=function(){var e=this.props,t=e.applyAllLabel,o=e.widthLabel,n=e.heightLabel,r=e.resetLabel,i=e.applyLabel,a=e.i18n,s=e.logAreaId,c=Object(u.a)(this.state,"value.width",""),l=Object(u.a)(this.state,"value.height",""),p=Object(u.a)(this.state,"value.isApplyAllChecked",!1),d=s+".qsizew",f=s+".qsizeh",g=s+".qsizeall",y=s+".qsizeok",b=s+".qsizereset";return h.b.createElement("div",{className:"se-custom-layer-option se-custom-layer-option-resizing"},h.b.createElement("div",{className:"se-custom-layer-resizing-input-group"},h.b.createElement("div",{className:"se-custom-layer-resizing-input-width","data-log":d},h.b.createElement("label",{className:"se-custom-layer-resizing-guide",htmlFor:"resizing-input-width"},"W"),h.b.createElement(m.a,{className:"se-custom-layer-resizing-input",ref:this._widthInputRef,id:"resizing-input-width",placeholder:this.state.widthPlaceholder,title:a(o),value:c,maxLength:4,autofocus:!0,onChange:this._onChangeWidthHandler,onConfirm:this._onKeyPressHandler,autoComplete:"off"})),h.b.createElement("div",{className:"se-custom-layer-resizing-input-height","data-log":f},h.b.createElement("label",{className:"se-custom-layer-resizing-guide",htmlFor:"resizing-input-height"},"H"),h.b.createElement(m.a,{className:"se-custom-layer-resizing-input",id:"resizing-input-height",placeholder:this.state.heightPlaceholder,title:a(n),value:l,maxLength:4,autofocus:!0,onChange:this._onChangeHeightHandler,onConfirm:this._onKeyPressHandler,autoComplete:"off"}))),h.b.createElement("div",{className:"se-custom-layer-resizing-option-group"},h.b.createElement("span",{className:"se-custom-layer-resizing-all","data-log":g},h.b.createElement("input",{type:"checkbox",className:"se-custom-layer-resizing-checkbox",id:"resizing-apply-all",checked:p,onChange:this._onCheckApplyAllHandler}),h.b.createElement("label",{htmlFor:"resizing-apply-all",className:"se-custom-layer-resizing-checkbox-label"},a(t))),h.b.createElement("button",{type:"button",className:"se-custom-layer-resizing-reset-button","data-role":"reset","data-log":b,onClick:this._onResetHandler},h.b.createElement("span",{className:"se-custom-layer-resizing-reset-label"},a(r)))),h.b.createElement("button",{type:"button",className:"se-custom-layer-resizing-apply-button",title:a(i),"data-role":"confirm","data-log":y,onClick:this._onConfirmHandler},h.b.createElement("span",{className:"se-custom-layer-resizing-apply-button-label"},a(i))))},o.mapStateFromProps=function(e){return{value:{width:"",height:"",isApplyAllChecked:Object(u.a)(e,"value.isApplyAllChecked",!1),isReset:!1},widthPlaceholder:Object(u.a)(e,"value.width"),heightPlaceholder:Object(u.a)(e,"value.height"),isValid:!1}},o.triggerConfirm=function(e){if(!1===this.state.isValid)return!1;this.props.onConfirm({event:e,value:this.state.value}),this.props.onClose()},o._onCheckApplyAllHandler=function(e){var t=e.target.checked,o=i()({},this.state,{value:i()({},this.state.value,{isApplyAllChecked:t,width:"",height:""})});t?(o.widthPlaceholder=null,o.heightPlaceholder=null,this._focusOnWidthInput()):(o.widthPlaceholder=Object(u.a)(this.props,"value.width"),o.heightPlaceholder=Object(u.a)(this.props,"value.height")),this._updateState(o)},o._focusOnWidthInput=function(){this._widthInputRef.current.focus()},o._onResetHandler=function(e){var t=this.props.value;this._updateState({value:{width:"",height:""},widthPlaceholder:t.width,heightPlaceholder:t.height}),this.props.onConfirm({event:e,value:i()({},this.state.value,{isReset:!0})})},o._onChangeWidthHandler=function(e){var t=e,o="";if(Number(e)>0&&(t=e?Math.round(e):"",!this.state.value.isApplyAllChecked)){var n=this._getSizeRate().heightRate;o=n>-1?Math.round(e*n):""}var r=Object(p.a)({width:t,height:o},this.state.value);this._updateState({value:r})},o._onChangeHeightHandler=function(e){var t="",o=e;if(Number(e)>0&&(o=e?Math.round(e):"",!this.state.value.isApplyAllChecked)){var n=this._getSizeRate().widthRate;t=n>-1?Math.round(e*n):""}var r=Object(p.a)({width:t,height:o},this.state.value);this._updateState({value:r})},o._onConfirmHandler=function(e){this.triggerConfirm(e)},o._onKeyPressHandler=function(e){this.triggerConfirm(e)},o._getSizeRate=function(){var e={widthRate:-1,heightRate:-1},t=Object(u.a)(this.props,"value.width"),o=Object(u.a)(this.props,"value.height");return!0===!(!t||!o)&&(e={widthRate:t/o,heightRate:o/t}),this._getSizeRate=function(){return e},e},o._isValid=function(e){var t=!1===Object(d.a)(this.state.value,e.value),o=this._isValidValue(this.state.value);return t&&o},o._isValidValue=function(e){if(!e)return!1;var t=!0,o=0===Number(e.width),n=0===Number(e.height);return o&&n&&(t=!1),t},o._updateState=function(e){this.setState(e),this.props.onInput({event:event,value:this.state.value})},t}(h.b.Component),l()(n.prototype,"triggerConfirm",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"triggerConfirm"),n.prototype),l()(n.prototype,"_onCheckApplyAllHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onCheckApplyAllHandler"),n.prototype),l()(n.prototype,"_onResetHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onResetHandler"),n.prototype),l()(n.prototype,"_onChangeWidthHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onChangeWidthHandler"),n.prototype),l()(n.prototype,"_onChangeHeightHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onChangeHeightHandler"),n.prototype),l()(n.prototype,"_onConfirmHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onConfirmHandler"),n.prototype),l()(n.prototype,"_onKeyPressHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onKeyPressHandler"),n.prototype),n);y.defaultProps={value:{width:"",height:"",isApplyAllChecked:!1,isReset:!1},isValid:!1,widthPlaceholder:"",heightPlaceholder:"",onConfirm:function(){},onInput:function(){},onClose:function(){},applyAllLabel:"",widthLabel:"",heightLabel:"",resetLabel:"",applyLabel:"",i18n:function(e){return e}},y.propTypes={applyAllLabel:h.a.string,widthLabel:h.a.string,heightLabel:h.a.string,resetLabel:h.a.string,applyLabel:h.a.string,i18n:h.a.func,value:h.a.shape({width:h.a.oneOfType([h.a.string,h.a.number]),height:h.a.oneOfType([h.a.string,h.a.number]),isApplyAllChecked:h.a.bool,isReset:h.a.bool}),isValid:h.a.bool,widthPlaceholder:h.a.oneOfType([h.a.string,h.a.number]),heightPlaceholder:h.a.oneOfType([h.a.string,h.a.number]),onConfirm:h.a.func,onInput:h.a.func,onClose:h.a.func,logAreaId:h.a.string};var b=Object(f.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/image-resizer.jsx",localName:t}})}catch(e){}}e(y,"ImageResizer"),e(b,"default")}()},707:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(55),m=o(62),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?f.a.BASIC:t,n=e.title,r=void 0===n?"imageLocation:title":n,a=e.logId,c=void 0===a?"location":a,l=s()(e,["type","title","logId"]);return d.b.createElement(m.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editLocation()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-location-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageLocationButtonView"),e(y,"default")}()},708:function(e,t,o){"use strict";var n,r,i,a,s,c=o(60),l=o.n(c),u=o(57),p=o.n(u),d=o(0),h=o.n(d),f=o(49),m=o.n(f),g=(o(61),o(16)),y=o(185),b=o(50),_=o(48),v=o(392),C=o(709),O=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,l()(o,"opened",r,p()(o)),l()(o,"activeLetterGroup",i,p()(o)),l()(o,"position",a,p()(o)),l()(o,"activated",s,p()(o)),o.defaultLetterGroup="used",o.letterGroupList=C.a.getDefinitions(["used","general","num","round","hangul","greece","japan"]),o.persistentPolicy={used:{key:"special-letter/used-letter",property:"items"}},o.movedPopup=!1;var n=t,c=n.state,u=void 0===c?{}:c,d=n.config,h=void 0===d?{}:d,f=b.V.get("configAgent").get("productConfig.layoutType");return o._storage=b.V.get("storagePolicy"),o.opened=Object(g.a)(u,"opened",o.opened),o.activeLetterGroup=Object(g.a)(u,"activeLetterGroup",o.activeLetterGroup),o.position=Object(g.a)(u,"position",o.position),o.activated=Object(g.a)(u,"activated",o.activated),o.defaultLetterGroup=Object(g.a)(h,"defaultLetterGroup",o.defaultLetterGroup),o.letterGroupList=Object(g.a)(h,"letterGroupList",o.letterGroupList),o.persistentPolicy=Object(g.a)(h,"persistentPolicy",o.persistentPolicy),o.draggingZone=Object(g.a)(h,"draggingZone",f===b.I.EMBED?"browser":"container"),o.letterGroupList=o._getLatestLetterGroupListByPolicy(),o}h()(t,e);var o=t.prototype;return o.togglePopup=function(e){var t=void 0===e?{}:e,o=t.pageX,n=void 0===o?0:o,r=t.pageY,i=void 0===r?0:r,a=t.activated;this.opened=!this.opened,this._setPopupPosition(n,i),this._setActivateToolbar(a)},o.openPopup=function(e){var t=void 0===e?{}:e,o=t.pageX,n=void 0===o?0:o,r=t.pageY,i=void 0===r?0:r,a=t.activated;this.opened=!0,this._setPopupPosition(n,i),this._setActivateToolbar(a)},o.closePopup=function(){this.opened=!1},o.changeLetterGroup=function(e){void 0===e&&(e=""),this.activeLetterGroup=e},o.updateRecentSpecialLetterList=function(e){var t=this.persistentPolicy,o=void 0===t?[]:t,n=this.letterGroupList,r=Object.keys(o)[0],i=o[r].property;n[r][i]=e},o._getLatestLetterGroupListByPolicy=function(){var e=this.letterGroupList,t=this.persistentPolicy,o=this._storage;return e&&Object.keys(e).map(function(n){if(t&&t[n]){var r=t[n],i=r.key,a=r.property,s=Object(y.a)((o.get(i)||[]).concat(e[n][a]));e[n][a]=s.slice(0,v.a.STORAGE_VALUE_MAX_LENGTH)}}),e},o._setPopupPosition=function(e,t){this.position={leftPos:e+v.a.POPUP_OFFSET_CORRECTION,topPos:t+v.a.POPUP_OFFSET_CORRECTION}},o._setActivateToolbar=function(e){this.activated=e},t}(b.e),r=m()(n.prototype,"opened",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=m()(n.prototype,"activeLetterGroup",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=m()(n.prototype,"position",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{leftPos:0,topPos:0}}}),s=m()(n.prototype,"activated",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n),S=O;t.a=S,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/store/index.js",localName:t}})}catch(e){}}e(O,"SpecialLetterLayerStore"),e(S,"default")}()},709:function(e,t,o){"use strict";var n={used:{label:"specialLetterLayer:used",items:["","","","","","","","","","","","","","","","","","","",""]},general:{label:"specialLetterLayer:general",items:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},num:{label:"specialLetterLayer:num",items:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","$","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},round:{label:"specialLetterLayer:round",items:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},hangul:{label:"specialLetterLayer:hangul",items:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},greece:{label:"specialLetterLayer:greece",items:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","I","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},japan:{label:"specialLetterLayer:japan",items:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}},r={getDefinitions:function(e){var t={};return e.map(function(e){t[e]=n[e]}),t}};t.a=r,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/config/special-letter-definition/index.js",localName:t}})}catch(e){}}e(n,"defaultDefinition"),e(r,"default")}()},710:function(e,t,o){"use strict";var n,r,i,a,s,c,l=o(59),u=o.n(l),p=o(60),d=o.n(p),h=o(57),f=o.n(h),m=o(1),g=o.n(m),y=o(0),b=o.n(y),_=o(49),v=o.n(_),C=(o(61),o(16)),O=o(72),S=o(218),k=o(975),I=o(48),w=o(191),P=o(507),j=o(508),T=o(167),L=(n=Object(I.e)({keepAlive:!0}),r=Object(I.e)({keepAlive:!0}),i=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="textNode",d()(o,"link",a,f()(o)),d()(o,"style",s,f()(o)),d()(o,"value",c,f()(o));var n=t.state,r=void 0===n?{}:n;return o.value=Object(C.a)(r,"value",o.value),o}b()(t,e),g()(t,[{key:"empty",get:function(){return""===this.value}}]);var o=t.prototype;return o.writeValue=function(e){var t=e.offset,o=e.imeOffset,n=e.value,r=this.value,i=r.substring(0,o),a=i+n+r.substring(t);return this.value=a,{nodeId:this.id,offset:i.length+n.length}},o.mergeValue=function(e){var t=this.value+e.value;this.value=t},o.cutValue=function(e,t){this.value=this.value.substring(e,t)},o.split=function(e){var o=this.toPlainJSON();delete o.id,o.themeStyle=I.f.toJS(this.themeStyle),o.value=this.value.substring(e);var n=new t({state:o});return this.cutValue(0,e),{front:this,back:n}},o.filterTextBy=function(e){var t=e(this.value);return!!(this.value!==t)&&(this.value=t,!0)},o.isTextNode=function(){return!0},o.isEmpty=function(){return this.empty},o.isMergeable=function(e){if(!e)return!1;var t=this.hasSameStyle(e),o=this.hasSameLink(e),n="textNode"===e.ctype;return t&&o&&n},o.getStartPoint=function(){return{nodeId:this.id,offset:0}},o.getEndPoint=function(){return{nodeId:this.id,offset:this.value.length}},o.getPositionByOffset=function(e){return 0===e?w.d.NODE_START:e===this.value.length?w.d.NODE_END:w.d.NODE_BODY},o.getUrlInNode=function(e){var o=this.toValidJSON();delete o.id;var n=new t({state:o});n.cutValue(0,e.offset);var r=P.a.getUrlPatternMatches(n.value,!1);if(!n.hasUrlLink()&&r.length){var i=Object(O.a)(r)[0],a=n.getNodeLength();if(i===n.value.substr(a-i.length,i.length))return{url:j.a.getEncodeUrl(Object(S.a)(i)),range:{start:u()({},e,{offset:e.offset-i.length}),end:e}}}return null},o.getNodeLength=function(){return this.value.length},o.getPlainTextLength=function(){return this.getNodeLength()},o.cloneNode=function(){var e=new t({state:this.toValidJSON()});return e.updateTheme(I.f.toJS(this.themeStyle)),e},o.toPlainJSON=function(){return u()({},this._toPlainJSON)},g()(t,[{key:"_toPlainJSON",get:function(){return{id:this.id,ctype:this.ctype,value:this.value,style:I.f.toJS(this.style),link:I.f.toJS(this.link),themeStyle:I.f.toJS(this.themeStyle)}}}]),t}(T.a),a=v()(i.prototype,"link",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=v()(i.prototype,"style",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"nodeStyle",fontColor:null,fontFamily:null,fontSizeCode:null,backgroundColor:null,bold:null,italic:null,underline:null,strikeThrough:null,subscript:null,superscript:null}}}),c=v()(i.prototype,"value",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v()(i.prototype,"empty",[n],Object.getOwnPropertyDescriptor(i.prototype,"empty"),i.prototype),v()(i.prototype,"_toPlainJSON",[r],Object.getOwnPropertyDescriptor(i.prototype,"_toPlainJSON"),i.prototype),i);L.schema={id:k.a.string,ctype:k.a.string.isRequired,value:k.a.string.isRequired,style:k.a.shape({ctype:k.a.string.isRequired,fontColor:k.a.string,fontFamily:k.a.string,fontSizeCode:k.a.string,backgroundColor:k.a.string,bold:k.a.bool,italic:k.a.bool,underline:k.a.bool,strikeThrough:k.a.bool,subscript:k.a.bool,superscript:k.a.bool}),link:k.a.shape({ctype:k.a.string.isRequired,url:k.a.string.isRequired})};var E=L;t.a=E,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/text-node-store.js",localName:t}})}catch(e){}}e(L,"TextNodeStore"),e(E,"default")}()},712:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r}),o.d(t,"c",function(){return i});var n=["auto","ko","en","ja","zh-CN","zh-TW","es","fr","de","ru","pt","it","vi","th","id","hi"],r="ko",i="en",a={AVAILABLE_LANG_CODES:n,DEFAULT_SOURCE_LANG:r,DEFAULT_TARGET_LANG:i};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"AVAILABLE_LANG_CODES"),e(r,"DEFAULT_SOURCE_LANG"),e(i,"DEFAULT_TARGET_LANG"),e(a,"default")}()},713:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(48),l=o(335),u=o(53),p=o.n(u),d=o(50),h=o(51),f=c.b.createContext({spellCheckMap:[],selectedId:""}),m=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._componentRendererCollector=d.V.get("componentRendererCollector"),o}i()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.spellCheckMap,o=e.selectedId,n=this._renderSpellCheckDocument(),r=this._resolveCanvasClass();return c.b.createElement(f.Provider,{value:{spellCheckMap:t,selectedId:o}},c.b.createElement("div",{className:"se-spellcheck-article-content",ref:this._ref},c.b.createElement("section",{className:r},c.b.createElement("article",{className:"se-components-wrap"},n))))},o._ref=function(e){this.scrollContent=e},o._resolveCanvasClass=function(){var e=this.props.viewMode;return p()({"se-spellcheck-canvas":!0,"se-theme-default":!0,"se-l-viewport-tablet":[d.T.VIEW_MODE_PC,d.T.VIEW_MODE_TABLET].includes(e),"se-l-viewport-desktop":e===d.T.VIEW_MODE_PC})},o._renderSpellCheckDocument=function(){var e=this,t=this.props,o=t.spellCheckDocument,n=t.i18n,r=t.viewMode;return o.map(function(t){var o=t.ctype,i=t.id,a=e._componentRendererCollector.getRenderer(o),s={viewMode:r,key:i,store:t,i18n:n};return a&&c.b.createElement(a,s)})},t}(c.b.Component),s()(n.prototype,"_ref",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);m.defaultProps={viewMode:"",spellCheckDocument:[],spellCheckList:[]},m.propTypes={i18n:c.a.func,viewMode:c.a.string,spellCheckDocument:c.a.oneOfType([c.a.array,c.a.object])};var g=Object(l.b)(m);t.b=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/spell-check-contents/index.jsx",localName:t}})}catch(e){}}e(f,"SpellCheckContext"),e(m,"SpellCheckContents"),e(g,"default")}()},714:function(e,t,o){"use strict";var n=o(48),r=o(335),i=o(53),a=o.n(i),s=function(e){var t=e.store,o=e.additionalOption.showRepresentative,r=e.status,i=e.labelThumbnail,s=e.onClick;if("complete"===r&&o){var c=a()({"se-set-rep-image-button":!0,"se-is-selected":t.represent});return n.b.createElement("button",{type:"button",className:c,onClick:s},n.b.createElement("span",{className:"se-set-rep-image-button-text"},i))}return null};s.propTypes={store:n.a.object,additionalOption:n.a.object,status:n.a.string,labelThumbnail:n.a.string,onClick:n.a.func};var c=Object(r.b)(s);t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/representative-button.jsx",localName:t}})}catch(e){}}e(s,"RepresentativeButton"),e(c,"default")}()},715:function(e,t,o){"use strict";var n=o(48),r=function(e){var t=e.labelThisIs360VR,o=e.enabled,r=e.onDoubleClick,i=void 0===r?function(){}:r;return o?n.b.createElement("div",{className:"se-360vr-icon",onDoubleClick:i},n.b.createElement("span",{className:"se-blind"},t)):null};r.propTypes={labelThisIs360VR:n.a.string,enabled:n.a.bool,onDoubleClick:n.a.func};var i=r;t.a=i,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/vr360-mark.jsx",localName:t}})}catch(e){}}e(r,"Vr360Mark"),e(i,"default")}()},716:function(e,t,o){"use strict";var n=o(48),r=function(e){var t=e.enabled,o=e.locationInfo,r=e.onMouseDown,i=e.onClick;return t?n.b.createElement("button",{type:"button",className:"se-component-extra-place",onMouseDown:r,onClick:i},n.b.createElement("span",{className:"se-component-extra-place-info"},o.name)):null};r.propTypes={enabled:n.a.bool,locationInfo:n.a.object,onMouseDown:n.a.func,onClick:n.a.func};var i=r;t.a=i,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/location-button.jsx",localName:t}})}catch(e){}}e(r,"LocationButton"),e(i,"default")}()},719:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(62),m=o(55),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.a.BASIC:t,n=e.title,r=void 0===n?"imageReplacementWithoutLabel:title":n,a=e.logId,c=void 0===a?"imgchg":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.changeImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-replacement-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageReplacementButton"),e(y,"default")}()},720:function(e,t,o){"use strict";var n=o(48),r=o(335),i=o(73),a=function(e){var t=e.name,o=e.address,r=e.className,a=e.useToolbarSlot,s="boolean"!=typeof a||a;return n.b.createElement(i.a,{ctype:"map-text",className:r,useToolbarSlot:s},n.b.createElement("div",{className:"se-map-info"},n.b.createElement("strong",{className:"se-map-title"},t),n.b.createElement("p",{className:"se-map-address"},o)),n.b.createElement("div",{className:"se-map-frame"}))};a.propTypes={name:n.a.string,address:n.a.string,children:n.a.oneOfType([n.a.element,n.a.array]),className:n.a.string,useToolbarSlot:n.a.bool};var s=Object(r.b)(a);t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/map-text-unit/index.jsx",localName:t}})}catch(e){}}e(a,"MapTextUnit"),e(s,"default")}()},721:function(e,t,o){"use strict";var n=o(48),r=o(335),i=o(73),a=o(88),s=function(e){var t=e.src,o=e.units,r=e.useToolbarSlot,s=e.onLoad,c=e.onError,l=e.children,u="boolean"!=typeof r||r;return n.b.createElement(i.a,{ctype:"map-image",useToolbarSlot:u},n.b.createElement(a.b,{src:t,className:"se-map-image",onLoad:s,onError:c}),n.b.createElement("div",{className:"se-map-frame"}),o,l)};s.propTypes={src:n.a.string,children:n.a.oneOfType([n.a.element,n.a.array]),units:n.a.oneOfType([n.a.element,n.a.array]),useToolbarSlot:n.a.bool,onLoad:n.a.func,onError:n.a.func};var c=Object(r.b)(s);t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/map-image-unit/index.jsx",localName:t}})}catch(e){}}e(s,"MapImageUnit"),e(c,"default")}()},722:function(e,t,o){"use strict";var n=o(54),r=o.n(n),i=o(0),a=o.n(i),s=o(1049),c=o.n(s),l=o(48),u=o(99),p=o(105),d=o(245),h=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=l.b.createRef(),o.resizeWithDebounced=null,o.panel=null,o._container=null,o._prevChildrenCount=0,o}a()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this;this._createNativeImagePanel(this._elementRef.current),this.resizeWithDebounced=Object(u.a)(function(){return e._resize()},50),this._prevChildrenCount=Object(p.a)(this.props.children).length,(d.a.isIE()||d.a.isEdge())&&(this.panel._view.style["-ms-user-select"]="",this.panel._view.style["-ms-touch-select"]="")},o.componentDidUpdate=function(){var e=this.props,t=e.drag,o=e.wheel,n=e.deceleration,r=e.overflow,i=e.right,a=e.children,s=e.onReset,c=Object(p.a)(a).length;c!==this._prevChildrenCount&&(this._prevChildrenCount=c,this._container=null,this._createNativeImagePanel(this._elementRef.current),s()),this.panel.options.drag=t,this.panel.options.wheel=o,this.panel.options.deceleration=n,this.panel.options.overflow=r,this.panel.options.right=i,this.resizeWithDebounced()},o.componentWillUnmount=function(){this.panel&&this.panel.destroy(),this.panel=null,this._container=null,this.resizeWithDebounced=null,this._prevChildrenCount=0},o.render=function(){var e=this.props,o=e.tag,n={};for(var i in e)i in t.propTypes||(n[i]=e[i]);return l.b.createElement(o,r()({},n,{ref:this._elementRef}),e.children)},o._createNativeImagePanel=function(e){var t=this,o=this.props,n=o.viewer,r=o.deceleration,i=o.progress,a=o.thumb,s=o.right,l=o.drag,u=o.wheel,p=o.overflow,d=e.querySelector(n);d!==this._container&&(this._container=d,this.panel&&this.panel.destroy(),this.panel=new c.a(e.querySelector(n),{drag:l,wheel:u,deceleration:r,overflow:p,right:s,progress:i&&e.querySelector(i),thumb:a&&e.querySelector(a)}),this.panel.on("scroll",function(e){return t.props.onScroll(e)}),this.panel.on("scrollEnd",function(e){return t.props.onScrollEnd(e)}),this.panel.on("resize",function(e){return t.props.onResize(e)}),this.panel.on("showBar",function(e){return t.props.onShowBar(e)}),this.panel.on("hideBar",function(e){return t.props.onHideBar(e)}))},o._resize=function(){this.panel&&this.panel.resize()},o.next=function(e){this.panel.next(e)},o.prev=function(e){this.panel.prev(e)},t}(l.b.Component);h.propTypes={tag:l.a.string,deceleration:l.a.number,viewer:l.a.string,contentMode:l.a.string,progress:l.a.string,thumb:l.a.string,drag:l.a.bool,wheel:l.a.bool,right:l.a.bool,overflow:l.a.string,onScroll:l.a.func,onScrollEnd:l.a.func,onResize:l.a.func,onShowBar:l.a.func,onHideBar:l.a.func,onReset:l.a.func},h.defaultProps={tag:"div",deceleration:6e-4,viewer:".viewer",progress:"",thumb:"",drag:!0,right:!1,wheel:!0,overflow:"auto",onScroll:function(){},onScrollEnd:function(){},onResize:function(){},onShowBar:function(){},onHideBar:function(){},onReset:function(){}};var f=h;t.a=f,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/react-imagepanel/index.jsx",localName:t}})}catch(e){}}e(h,"ReactImagePanel"),e(f,"default")}()},723:function(e,t,o){"use strict";var n,r,i,a,s=o(60),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(49),f=o.n(h),m=(o(61),o(16)),g=o(69),y=o(50),b=o(975),_=o(399),v=o(48),C=o(724),O=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},c()(o,"align",r,u()(o)),c()(o,"image",i,u()(o)),c()(o,"layout",a,u()(o));var n=t,s=n.state,l=void 0===s?{}:s,p=n.config,d=void 0===p?{}:p;return o.align=Object(m.a)(l,"align",o.align),o.layout=Object(m.a)(l,"layout",o.layout),o.accountId=Object(m.a)(l,"accountId",null),o.profileName=Object(m.a)(l,"profileName",null),o._resolveImage(Object(m.a)(l,"image",null)),o.attributes=Object(g.a)(o.attributes,d.attributes),o}d()(t,e);var o=t.prototype;return o.updateAccount=function(e){this.layout=e.layout,this.accountId=e.accountId,this.profileName=e.profileName},o.updateImage=function(e){this.image=e},o._resolveImage=function(e){e&&(this.image=new _.a({state:e}))},t}(y.g),r=f()(n.prototype,"align",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=f()(n.prototype,"image",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=f()(n.prototype,"layout",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.a.DEFAULT}}),n);O.ctype="talktalk",O.schema={ctype:b.a.string.isRequired,id:b.a.string.isRequired,layout:b.a.string.isRequired,accountId:b.a.string.isRequired,align:b.a.string,profileName:b.a.string,image:b.a.shape(_.a.schema)};var S=O;t.a=S,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/store/index.js",localName:t}})}catch(e){}}e(O,"TalktalkComponentStore"),e(S,"default")}()},724:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={DEFAULT:"default",CUSTOM:"custom"},r={TalktalkLayout:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/const/index.js",localName:t}})}catch(e){}}e(n,"TalktalkLayout"),e(r,"default")}()},725:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(117),l=o(48),u=o(51),p=o(50),d=(n=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.editTalkTalk=function(){var e=p.V.get("selectionInfoStore").toValidJSON(),t=p.V.get("componentListStore").getSelectedComponents(e),o=Object(c.a)(t).toValidJSON();this._talktalkEditLayerService=p.V.get("talktalkEditLayerService"),this._talktalkEditLayerService.open({bannerType:o.layout,accountId:o.accountId,image:o.image})},t}(p.c),s()(n.prototype,"editTalkTalk",[u.history,l.d],Object.getOwnPropertyDescriptor(n.prototype,"editTalkTalk"),n.prototype),n),h=d;t.a=h,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/use-case/index.js",localName:t}})}catch(e){}}e(d,"TalktalkComponentUseCase"),e(h,"default")}()},726:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(16)),f=o(69),m=o(50),g=o(975),y=o(1211),b=o(48),_=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},a()(o,"align",r,c()(o));var n=t,i=n.state,s=void 0===i?{}:i,l=n.config,u=void 0===l?{}:l;return o.align=Object(h.a)(s,"align",o.align),o.layout=Object(h.a)(s,"layout",o.layout),o.title=Object(h.a)(s,"title",o.title),o.link=Object(h.a)(s,"link",o.link),o.linkedPageTitle=Object(h.a)(s,"linkedPageTitle",o.linkedPageTitle),o.sinceDate=Object(h.a)(s,"sinceDate",o.sinceDate),o.sinceYear=Object(h.a)(s,"sinceYear",o.sinceYear),o.logNo=Object(h.a)(s,"logNo",o.logNo),o.thumbnail=Object(h.a)(s,"thumbnail",o.thumbnail),o.content=Object(h.a)(s,"content",o.content),o.attributes=Object(f.a)(o.attributes,u.attributes),o}return u()(t,e),t}(m.g),r=d()(n.prototype,"align",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);_.ctype="anniversarySection",_.schema={ctype:g.a.string.isRequired,id:g.a.string.isRequired,layout:g.a.string.isRequired,align:g.a.string,title:g.a.string.isRequired,link:g.a.string.isRequired,linkedPageTitle:g.a.string.isRequired,sinceDate:g.a.string.isRequired,sinceYear:g.a.number.isRequired,logNo:g.a.number.isRequired,thumbnail:g.a.shape(y.h),content:g.a.string};var v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/store/index.js",localName:t}})}catch(e){}}e(_,"AnniversarySectionComponentStore"),e(v,"default")}()},727:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(50).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/use-case/index.js",localName:t}})}catch(e){}}e(i,"AnniversarySectionComponentUseCase"),e(a,"default")}()},728:function(e,t,o){"use strict";var n,r,i=o(60),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=(o(61),o(16)),f=o(69),m=o(1051),g=o.n(m),y=o(50),b=o(975),_=o(48),v=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},a()(o,"align",r,c()(o));var n=t,i=n.state,s=void 0===i?{}:i,l=n.config,u=void 0===l?{}:l;return o.align=Object(h.a)(s,"align",o.align),o.layout=Object(h.a)(s,"layout","default"),o.title=Object(h.a)(s,"title",null),o.talkCode=Object(h.a)(s,"talkCode",null),o.contents=g.a.sanitize(Object(h.a)(s,"contents",null)),o.attributes=Object(f.a)(o.attributes,u.attributes),o}return u()(t,e),t}(y.g),r=d()(n.prototype,"align",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);v.ctype="mrBlog",v.schema={ctype:b.a.string.isRequired,id:b.a.string.isRequired,layout:b.a.string.isRequired,align:b.a.string,talkCode:b.a.string.isRequired,title:b.a.string.isRequired,contents:b.a.string.isRequired};var C=v;t.a=C,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/store/index.js",localName:t}})}catch(e){}}e(v,"MrBlogComponentStore"),e(C,"default")}()},729:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(50).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/use-case/index.js",localName:t}})}catch(e){}}e(i,"MrBlogComponentUseCase"),e(a,"default")}()},73:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(51),f=o(53),m=o.n(f),g=o(192),y=["se-is-activated","se-is-selected","se-is-on","se-is-focused"],b=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=d.b.createRef(),o._originStore=null,o}l()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._observeSelectionChanged()},o.componentDidMount=function(){var e=this.props.store;e&&this._updateSelectionClasses(e.selection)},o.componentDidUpdate=function(){this._wasStoreChanged()&&this._reobserveSelectionChanged()},o.componentWillUnmount=function(){this._unobserveSelectionChanged()},o.render=function(){var e=this.props,t=e.children,o=e.tagName,n=void 0===o?"div":o,r=e.className,a=void 0===r?"":r,c=e.ctype,l=void 0===c?"":c,u=e.isUnitSelector,p=void 0===u||u,h=e.useToolbarSlot,f=void 0===h||h,m=e.forwardRef,y=(e.store,e.onChangeSelection,s()(e,["children","tagName","className","ctype","isUnitSelector","useToolbarSlot","forwardRef","store","onChangeSelection"])),b=n,_=this._resolveClassNames({ctype:l,isUnitSelector:p,className:a}),v=f&&"div"===n,C=m||this._elementRef;return d.b.createElement(b,i()({},y,{ref:C,className:_}),t,v&&Object(g.a)({}))},o._wasStoreChanged=function(){return this.props.store&&this._originStore!==this.props.store},o._resolveClassNames=function(e){var t,o=e.ctype,n=e.isUnitSelector,r=e.className,i=((t={})["se-module se-module-"+o]=!!o,t["__se-unit"]=n,t),a=this._getDOMReference().current;if(a){var s=a.classList;y.forEach(function(e){i[e]=s.contains(e)})}return m()([i,r])},o._handleSelectionChange=function(e){this._updateSelectionClasses(e),this.props.onChangeSelection()},o._getDOMReference=function(){return this.props.forwardRef||this._elementRef},o._updateSelectionClasses=function(e){var t=this._getDOMReference().current;if(t){var o=t.classList;switch(e){case"single":case"multi":return o.add("se-is-activated"),void o.remove("se-is-selected");case"block":return o.remove("se-is-activated"),void o.add("se-is-selected");default:o.remove("se-is-activated"),o.remove("se-is-selected")}}},o._unobserveSelectionChanged=function(){this._disposeReaction&&this._disposeReaction()},o._observeSelectionChanged=function(){var e=this,t=this.props.store;t&&(this._originStore=t,this._disposeReaction=d.f.reaction(function(){return e.props.store.selection},this._handleSelectionChange,{fireImmediately:!0}))},o._reobserveSelectionChanged=function(){this._unobserveSelectionChanged(),this._observeSelectionChanged()},t}(d.b.Component),p()(n.prototype,"_handleSelectionChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleSelectionChange"),n.prototype),n);b.defaultProps={tagName:"div",className:"",ctype:"",isUnitSelector:!0,useToolbarSlot:!0,onChangeSelection:function(){},children:null},b.propTypes={forwardRef:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})]),tagName:d.a.string,className:d.a.string,ctype:d.a.string,isUnitSelector:d.a.bool,useToolbarSlot:d.a.bool,onChangeSelection:d.a.func,children:d.a.oneOfType([d.a.element,d.a.array])};var _=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/unit-wrapper/index.jsx",localName:t}})}catch(e){}}e(y,"selectionClassNames"),e(b,"UnitWrapper"),e(_,"default")}()},743:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(54),a=o.n(i),s=o(0),c=o.n(s),l=o(49),u=o.n(l),p=o(63),d=o(48),h=o(335),f=o(51),m=o(53),g=o.n(m),y=function(e){var t=e.style,o=e.pointerType,n=e.labelDragToSelect;return d.b.createElement("button",{type:"button",className:"se-spectrum-selector",style:t,"data-type":o,"data-role":"pointer"},d.b.createElement("span",{className:"se-blind"},n))};y.defaultProps={style:{},pointerType:""},y.propTypes={style:d.a.object,pointerType:d.a.string,labelDragToSelect:d.a.string.isRequired};var b=Object(h.b)(y),_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-pointer.jsx",localName:t}})}catch(e){}}e(y,"ColorPickerPointer"),e(b,"default")}();var v,C=function(){function e(e,t,o){if(r(e,t,o)){var n=0,i=0,a=Math.max(e,t,o),s=a-Math.min(e,t,o);return(i=a?s/a:0)&&(e===a?n=60*(t-o)/s:t===a?n=120+60*(o-e)/s:o===a&&(n=240+60*(e-t)/s),n<0&&(n+=360)),function(e,t,o){return{h:e,s:t,v:o}}(n,i*=100,a=a/255*100)}}function t(e,t,o){if(i(e,t,o)){e=e%360/60,t/=100,o/=100;var n=0,r=0,a=0,s=Math.floor(e),c=e-s,l=o*(1-t),u=o*(1-t*c),p=o*(1-t*(1-c));switch(s){case 0:n=o,r=p,a=l;break;case 1:n=u,r=o,a=l;break;case 2:n=l,r=o,a=p;break;case 3:n=l,r=u,a=o;break;case 4:n=p,r=l,a=o;break;case 5:n=o,r=l,a=u}return function(e,t,o){return{r:e,g:t,b:o}}(n*=255,r*=255,a*=255)}}function o(e,t,o){if(r(e,t,o))return 1===(e=Math.round(e).toString(16)).length&&(e="0"+e),1===(t=Math.round(t).toString(16)).length&&(t="0"+t),1===(o=Math.round(o).toString(16)).length&&(o="0"+o),e+t+o}function n(e){if(a(e)){var t=e.match(/#?([0-9a-f]{6}|[0-9a-f]{3})/i);return t=3===t[1].length?t[1].match(/./g).filter(function(e){return e+e}):t[1].match(/../g),{r:Number("0x"+t[0]),g:Number("0x"+t[1]),b:Number("0x"+t[2])}}}function r(e,t,o){return"number"==typeof e&&e>=0&&e<=255&&("number"==typeof t&&t>=0&&t<=255)&&("number"==typeof o&&o>=0&&o<=255)}function i(e,t,o){return"number"==typeof e&&e>=0&&e<=360&&("number"==typeof t&&t>=0&&t<=100)&&("number"==typeof o&&o>=0&&o<=100)}function a(e){return!("string"!=typeof e||!e.match(/#?([0-9a-f]{6}|[0-9a-f]{3})/i))}return{rgb2hsv:e,hsv2rgb:t,rgb2hex:o,hex2rgb:n,hsv2hex:function(e){var n=void 0===e?{}:e,r=n.h,a=n.s,s=n.v;if(i(r,a,s)){var c=t(r,a,s);return o(c.r,c.g,c.b)}},hex2hsv:function(t){if(a(t)){var o=n(t);return e(o.r,o.g,o.b)}}}}(),O=C,S=O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/color-converter/index.js",localName:t}})}catch(e){}}e(C,"colorConverter"),e(O,"default")}();var k=(v=function(e){function t(){var t;return(t=e.call(this)||this).isDragging=!1,t.width=0,t.height=0,t}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._initiateCanvas()},o.render=function(){var e=this.props,t=e.selectedHueColor,o=e.hsvPointer,n=e.labelDragToSelect,r={left:o.x+"px",top:o.y+"px"},i={background:t};return d.b.createElement("div",{className:"se-spectrum se-spectrum-color",style:i,"data-type":"hsv"},d.b.createElement("canvas",{className:"se-spectrum-canvas",width:"151",height:"90",ref:this._ref}),d.b.createElement(_,{style:r,labelDragToSelect:n,pointerType:"hsv"}))},o._ref=function(e){this.hsvWrapper=e},o._initiateCanvas=function(){var e=this.hsvWrapper,t=this.props,o=t.onChangeColor,n=t.hsvColor,r=window.getComputedStyle(e,null),i=r.width,a=r.height,s=parseInt(i)||151,c=parseInt(a)||90;e.setAttribute("width",s),e.setAttribute("height",c);var l=e.getContext("2d");this._fillColorsOnHSV(l,s,c),this.width=s,this.height=c,o(n,s,c,"hsv")},o._fillColorsOnHSV=function(e,t,o){if(this.props.enableHue){var n=e.createLinearGradient(0,0,t,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=n,e.fillRect(0,0,t,o),(n=e.createLinearGradient(0,0,0,o)).addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=n,e.fillRect(0,0,t,o)}else{for(var r=e.createLinearGradient(0,0,0,o),i=0;i<7;i++){var a=S.hsv2rgb(i/6*360,100,100);r.addColorStop(i/6,"rgb("+Object.values(a).join(",")+")")}e.fillStyle=r,e.fillRect(0,0,t,o),(r=e.createLinearGradient(0,0,t,0)).addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(.5,"rgba(255,255,255,0)"),r.addColorStop(.5,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=r,e.fillRect(0,0,t,o)}},t}(d.b.Component),u()(v.prototype,"_ref",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_ref"),v.prototype),v);k.defaultProps={hsvColor:{h:0,s:0,v:0},hsvPointer:{x:0,y:0},selectedHueColor:"#ff0000",onChangeColor:function(){},enableHue:!0},k.propTypes={hsvColor:d.a.object,hsvPointer:d.a.object,selectedHueColor:d.a.string,onChangeColor:d.a.func,enableHue:d.a.bool,labelDragToSelect:d.a.string.isRequired};var I,w=Object(h.b)(k),P=w;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-hsv.jsx",localName:t}})}catch(e){}}e(k,"ColorPickerHSV"),e(w,"default")}();var j=(I=function(e){function t(){var t;return(t=e.call(this)||this).isDragging=!1,t.width=0,t.height=0,t}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._initiateHueArea()},o.render=function(){var e=this.props,t=e.huePointer,o=e.enableHue,n=e.labelDragToSelect,r={};return"number"==typeof t.y?r.top=t.y+"px":"number"==typeof t.x&&(r.left=t.x+"px"),o?d.b.createElement("div",{className:"se-spectrum se-spectrum-hue","data-type":"hue",ref:this._ref},d.b.createElement(_,{style:r,labelDragToSelect:n,pointerType:"hue"})):null},o._ref=function(e){this.hueWrapper=e},o._initiateHueArea=function(){var e=this.props,t=e.onChangeColor,o=e.hsvColor;if(e.enableHue&&(!this.width||!this.height)){var n=this.hueWrapper,r=window.getComputedStyle(n,null),i=r.width,a=r.height,s=parseInt(i)||0,c=parseInt(a)||0;n.setAttribute("width",s),n.setAttribute("height",c),this.width=s,this.height=c,t({h:o.h},s,c,"hue")}},t}(d.b.Component),u()(I.prototype,"_ref",[f.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_ref"),I.prototype),I);j.defaultProps={hsvColor:{h:0,s:0,v:0},huePointer:{x:0,y:0},enableHue:!0,useVertical:!0,onChangeColor:function(){}},j.propTypes={hsvColor:d.a.object,huePointer:d.a.object,enableHue:d.a.bool,useVertical:d.a.bool,onChangeColor:d.a.func,labelDragToSelect:d.a.string.isRequired};var T=Object(h.b)(j),L=T;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-hue.jsx",localName:t}})}catch(e){}}e(j,"ColorPickerHue"),e(T,"default")}();var E=function(e){var t=e.selectedColor,o=e.customColor,n=e.onChangeCustomColor;return d.b.createElement("div",{className:"se-selected-color"},d.b.createElement("div",{className:"se-selected-color-palette",style:{backgroundColor:t}}),d.b.createElement("input",{type:"text",className:"se-selected-color-hex",value:o,onChange:n}))};E.defaultProps={selectedColor:"",customColor:"",onChangeCustomColor:function(){}},E.propTypes={selectedColor:d.a.string,customColor:d.a.string,onChangeCustomColor:d.a.func};var N,x=Object(h.b)(E),D=x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-preview.jsx",localName:t}})}catch(e){}}e(E,"ColorPickerPreview"),e(x,"default")}();var R=(N=function(e){function t(){var t;return(t=e.call(this)||this)._startPos=null,t._startOffsetPos=null,t.dragType=null,t.state={customColor:""},t}c()(t,e);var o=t.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){this.setState(function(){return{customColor:e.selectedColor||""}})},o.render=function(){var e=this.props,t=e.foldDetailPicker,o=e.selectedColor,n=e.onClickColor,r=e.labelConfirm,i=this.state.customColor,a=g()(["se-color-picker",{"se-is-activated":!t}]),s=this._renderHueArea(),c=this._renderHSVArea();return d.b.createElement("div",{className:a,onMouseDown:this._handleMouseDown,onMouseMove:this._handleMouseMove,onMouseLeave:this._handleMouseUp,onMouseUp:this._handleMouseUp},c,s,d.b.createElement("div",{className:"se-color-picker-value"},d.b.createElement(D,{onChangeCustomColor:this._handleChangeCustomColor,customColor:i,selectedColor:o}),d.b.createElement("button",{type:"button",className:"se-color-picker-apply-button",onClick:n},d.b.createElement("span",{className:"se-color-picker-apply-label"},r))))},o._renderHSVArea=function(){var e=this.props,t=e.foldDetailPicker,o=e.hsvPointer,n=e.selectedHSV,r=e.enableHue,i=e.labelDragToSelect;if(t)return null;var a="#"+S.hsv2hex({h:n.h,s:100,v:100});return d.b.createElement(P,{onChangeColor:this._handleChangeColor,hsvPointer:o,selectedHueColor:a,hsvColor:n,enableHue:r,labelDragToSelect:i})},o._renderHueArea=function(){var e=this.props,t=e.foldDetailPicker,o=e.huePointer,n=e.useHueVertical,r=e.enableHue,i=e.selectedHSV,a=e.labelDragToSelect;return t?null:d.b.createElement(L,{onChangeColor:this._handleChangeColor,huePointer:o,hsvColor:i,useHueVertical:n,enableHue:r,labelDragToSelect:a})},o._handleMouseDown=function(e){this.dragType=e.target.dataset.type,this._setStartPosition(e)},o._handleMouseUp=function(e){this._changeColorUsingPointerPosition(e),this.dragType=null},o._handleMouseMove=function(e){this._changeColorUsingPointerPosition(e)},o._handleChangeCustomColor=function(e){var t=e.currentTarget.value;t.length<8&&this.setState(function(){return{customColor:t}}),-1===t.indexOf("#")&&(t="#"+t),7===t.length&&this.props.onChangeColorUsingHex(e,t)},o._handleChangeColor=function(e,t,o,n){this.props.onChangeColorUsingHSV(e,t,o,n)},o._getPagePos=function(e){return"pageX"in e?[e.pageX,e.pageY]:"pageX"in(e=e.nativeEvent||{})?[e.pageX,e.pageY]:[0,0]},o._getOffsetPos=function(e){return"offsetX"in e?[e.offsetX,e.offsetY]:"layerX"in e?[e.layerX,e.layerY]:"offsetX"in(e=e.nativeEvent||{})?[e.offsetX,e.offsetY]:"layerX"in e?[e.layerX,e.layerY]:[0,0]},o._setStartPosition=function(e){this.dragType&&(this._startPos=this._getPagePos(e),this._startOffsetPos=this._getOffsetPos(e),"pointer"===e.target.dataset.role&&(this._startOffsetPos[0]+=e.target.offsetLeft,this._startOffsetPos[1]+=e.target.offsetTop))},o._getHueFromPosition=function(e){var t,o,n=this.props,r=n.useHueVertical,i=n.canvasSize,a=this._startOffsetPos[0]+(e[0]-this._startPos[0]),s=this._startOffsetPos[1]+(e[1]-this._startPos[1]);return r?(t=s,o=i.hue.height):(t=a,o=i.hue.width),{h:Math.min(Math.max(t,0),o)/o*360}},o._getHSVFromPosition=function(e){var t=this.props,o=t.canvasSize,n=t.enableHue,r=this._startOffsetPos[0]+(e[0]-this._startPos[0]),i=this._startOffsetPos[1]+(e[1]-this._startPos[1]),a=o.hsv.width,s=o.hsv.height;if(r=Math.max(Math.min(r,a),0),i=Math.max(Math.min(i,s),0),!n){var c={h:i/s*360},l=a/2;return r<l?(c.s=r/l*100,c.v=100):(c.s=100,c.v=(a-r)/l*100),c}return{s:Math.max(r/a*100,0),v:Math.max((s-i)/s*100,0)}},o._changeColorUsingPointerPosition=function(e){var t=this._getPagePos(e),o=this.props,n=o.canvasSize,r=o.onChangeColorUsingHSV;this.dragType&&(n[this.dragType]&&r("hsv"===this.dragType?this._getHSVFromPosition(t):this._getHueFromPosition(t),n[this.dragType].width,n[this.dragType].height))},t}(d.b.Component),u()(N.prototype,"_handleMouseDown",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseDown"),N.prototype),u()(N.prototype,"_handleMouseUp",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseUp"),N.prototype),u()(N.prototype,"_handleMouseMove",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseMove"),N.prototype),u()(N.prototype,"_handleChangeCustomColor",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleChangeCustomColor"),N.prototype),u()(N.prototype,"_handleChangeColor",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleChangeColor"),N.prototype),N);R.defaultProps={canvasSize:null,hsvPointer:null,huePointer:null,useHueVertical:!1,enableHue:!1,selectedHSV:{h:0,s:0,v:0},onChangeColorUsingHSV:function(){},onChangeColorUsingHex:function(){},foldDetailPicker:!1},R.propTypes={canvasSize:d.a.object,hsvPointer:d.a.object,huePointer:d.a.object,useHueVertical:d.a.bool,enableHue:d.a.bool,foldDetailPicker:d.a.bool,selectedHSV:d.a.object,selectedColor:d.a.string,customColor:d.a.string,onChangeColorUsingHSV:d.a.func,onChangeColorUsingHex:d.a.func,onClickColor:d.a.func,labelConfirm:d.a.string.isRequired,labelDragToSelect:d.a.string.isRequired};var A=Object(h.b)(R),M=A;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-detail.jsx",localName:t}})}catch(e){}}e(R,"ColorPickerDetail"),e(A,"default")}();var B=function(e){var t=e.colors,o=e.onClickColor,n=e.selectedColor,r=e.labelResetColor;return d.b.createElement("ul",{className:"se-color-swatches-list",onClick:o},t.map(function(e,t){var o=g()({"se-color-palette":!0},{"se-color-palette-no-color":-1===e.indexOf("#")},{"se-is-selected":e===n}),i=-1===e.indexOf("#")?r:e;return d.b.createElement("li",{className:"se-color-swatches-item",key:e+"_"+t},d.b.createElement("button",{type:"button",className:o,"data-color":-1===e.indexOf("#")?"":e,style:{backgroundColor:e},title:i},d.b.createElement("span",{className:"se-blind"},i)))}))};B.defaultProps={colors:[],selectedColor:"",onClickColor:function(){},labelResetColor:""},B.propTypes={colors:d.a.oneOfType([d.a.array,d.a.object]),selectedColor:d.a.string,onClickColor:d.a.func,labelResetColor:d.a.string};var U=Object(h.b)(B),V=U;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-item-list.jsx",localName:t}})}catch(e){}}e(B,"ColorItemList"),e(U,"default")}();var F=function(e){var t=e.presetColor,o=e.currentSelectedColor,n=e.labelSetNewColor,r=e.labelResetColor,i=e.onClickColor;return d.b.createElement("div",{className:"se-color-swatches se-color-swatches-preset"},d.b.createElement("strong",{className:"se-blind"},n),d.b.createElement(V,{colors:t,selectedColor:o,onClickColor:i,labelResetColor:r}))};F.defaultProps={presetColor:[],currentSelectedColor:"",labelResetColor:""},F.propTypes={presetColor:d.a.array,currentSelectedColor:d.a.string,onClickColor:d.a.func,labelSetNewColor:d.a.string.isRequired,labelResetColor:d.a.string};var z=Object(h.b)(F),W=z;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-preset.jsx",localName:t}})}catch(e){}}e(F,"ColorPickerPreset"),e(z,"default")}();var G=function(e){var t=e.recentColors,o=e.onClickColor,n=e.labelRecentlyUsed,r=e.currentSelectedColor,i=e.labelResetColor;return d.b.createElement("div",{className:"se-color-swatches se-color-swatches-used"},d.b.createElement("strong",{className:"se-color-swathces-label"},n),d.b.createElement(V,{colors:t,selectedColor:r,onClickColor:o,labelResetColor:i}))};G.defaultProps={recentColors:[],currentSelectedColor:""},G.propTypes={recentColors:d.a.oneOfType([d.a.array,d.a.object]),currentSelectedColor:d.a.string,onClickColor:d.a.func,labelRecentlyUsed:d.a.string.isRequired,labelResetColor:d.a.string};var H=Object(h.b)(G),q=H;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-recent.jsx",localName:t}})}catch(e){}}e(G,"ColorPickerRecent"),e(H,"default")}();var J,K=o(258),Y=(J=function(e){function t(t){var o;(o=e.call(this,t)||this).canvasSize={},o.state=o._mapStateFromProps(t),o._refLayer=d.b.createRef();var n=o.props,r=n.i18n,i=n.label;return o._messages={confirm:r("colorPickerButton:confirm"),dragToSelect:r("colorPickerButton:drag_to_select"),setNewColor:r("colorPickerButton:set_new_color"),recentlyUsedLabel:r("colorPickerButton:recently_used_label",{label:i}),more:r("colorPickerButton:more"),fold:r("colorPickerButton:fold"),resetColor:r("colorPickerButton:reset_color")},o}c()(t,e);var o=t.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t._mapStateFromProps(e)})},o.render=function(){var e=this.props,t=e.enableHue,o=e.useHueVertical,n=e.presetColor,r=e.color,i=this.state.foldDetailPicker,s=this._messages,c=i?s.more:s.fold,l=this._renderRecentColors(),u=g()("se-color-picker-option",this.props.className);return d.b.createElement(K.a,{forwardRef:this._refLayer,className:u},l,d.b.createElement(W,{presetColor:n,currentSelectedColor:r,onClickColor:this._handleClickColor,labelResetColor:s.resetColor,labelSetNewColor:s.setNewColor}),d.b.createElement(M,a()({},this.state,{canvasSize:this.canvasSize,useHueVertical:o,enableHue:t,onChangeColorUsingHSV:this._handleChangeColorUsingHSV,onChangeColorUsingHex:this._handleChangeColorUsingHex,onClickColor:this._handleClickColor,labelConfirm:s.confirm,labelDragToSelect:s.dragToSelect})),d.b.createElement("div",{className:"se-color-picker-more-button",onClick:this._handleClickToggleDetail,"data-role":"toggle","aria-hidden":"true",tabIndex:"-1"},d.b.createElement("span",{className:"se-color-picker-more-label"},c)))},o._renderRecentColors=function(){var e=this.props,t=e.recentColors,o=e.color,n=this._messages;return Object(p.a)(t)?null:d.b.createElement(q,{recentColors:t,currentSelectedColor:o,onClickColor:this._handleClickColor,labelResetColor:n.resetColor,labelRecentlyUsed:n.recentlyUsedLabel})},o._handleClickColor=function(e){var t="#"+S.hsv2hex(this.state.selectedHSV),o=e.target.dataset.color,n={event:e,value:void 0!==o?o:t};this.props.onChangeColor(n)},o._handleChangeColorUsingHSV=function(e,t,o,n){var i=e.h;e&&(this._updateHuePointer(i,t,o),this._updateHSVPointer(e,t,o),this.setState(function(t){var o=r()({},t.selectedHSV,e);return{selectedHSV:o,selectedColor:"#"+S.hsv2hex(o)}}),n&&this._setCanvasSize(n,t,o))},o._handleChangeColorUsingHex=function(e,t){var o=t||e.currentTarget.value,n=S.hex2hsv(o);n?(this._updateHuePointer(n.h,this.canvasSize.hue.width,this.canvasSize.hue.height),this._updateHSVPointer(n,this.canvasSize.hsv.width,this.canvasSize.hsv.height),this.setState(function(){return{selectedHSV:S.hex2hsv(o),selectedColor:o}})):this.setState(function(e){return{selectedHSV:e.selectedHSV,selectedColor:e.selectedColor}})},o._handleClickToggleDetail=function(){this.setState(function(e){return{foldDetailPicker:!e.foldDetailPicker}})},o._updateHSVPointer=function(e,t,o){var n={};if("number"==typeof e.s&&"number"==typeof e.v){if(this.props.enableHue)n.x=e.s/100*t-4,n.y=(100-e.v)/100*o-4;else{var r=t/2;n.x=e.v>e.s?e.s/100*r:(100-e.v)/100*r+r,n.y=e.h/360*o}return this.setState(function(){return{hsvPointer:n}}),n}},o._updateHuePointer=function(e,t,o){var n=this.props,r=n.enableHue,i=n.useHueVertical,a=i?o:t,s={};if(r){var c=e/360*a-5;s[i?"y":"x"]=Math.min(Math.max(c,0),Math.max(a,0)),this.setState(function(){return{huePointer:s}})}},o._setCanvasSize=function(e,t,o){this.canvasSize[e]={width:t,height:o}},o._mapStateFromProps=function(e){var t=e.color;return{foldDetailPicker:!0,selectedColor:t,selectedHSV:S.hex2hsv(t),hsvPointer:{x:0,y:0},huePointer:{x:null,y:null}}},t}(d.b.Component),u()(J.prototype,"_handleClickColor",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleClickColor"),J.prototype),u()(J.prototype,"_handleChangeColorUsingHSV",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleChangeColorUsingHSV"),J.prototype),u()(J.prototype,"_handleChangeColorUsingHex",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleChangeColorUsingHex"),J.prototype),u()(J.prototype,"_handleClickToggleDetail",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleClickToggleDetail"),J.prototype),J);Y.defaultProps={presetColor:["","#999999","#ffcdc0","#ffe3c8","#fff8b2","#e3fdc8","#c2f4db","#bdfbfa","#b0f1ff","#9bdfff","#fdd5f5","#ffb7de","#ffffff","#777777","#ffad98","#ffd1a4","#fff593","#badf98","#3fcc9c","#15d0ca","#28e1ff","#5bc7ff","#cd8bc0","#ff97c1","#f7f7f7","#555555","#ff5f45","#ffa94f","#ffef34","#98d36c","#00b976","#00bfb5","#00cdff","#0095e9","#bc61ab","#ff65a8","#e2e2e2","#333333","#ff0010","#ff9300","#ffd300","#54b800","#00a84b","#009d91","#00b3f2","#0078cb","#aa1f91","#ff008c","#c2c2c2","#141414","#ba0000","#b85c00","#ac9a00","#36851e","#007433","#00756a","#007aa6","#004e82","#740060","#bb005c","#9c9c9c","#000000","#700001","#823f00","#6a5f00","#245b12","#004e22","#00554c","#004e6a","#003960","#4f0041","#830041"],color:"",useHueVertical:!0,enableHue:!0,label:""},Y.propTypes={presetColor:d.a.array,recentColors:d.a.oneOfType([d.a.array,d.a.object]),color:d.a.string,useHueVertical:d.a.bool,enableHue:d.a.bool,onChangeColor:d.a.func,label:d.a.string,className:d.a.string,i18n:d.a.func.isRequired};var X=Object(h.b)(Y);t.a=X;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/index.jsx",localName:t}})}catch(e){}}e(Y,"ColorPicker"),e(X,"default")}()},744:function(e,t,o){"use strict";var n,r,i=o(50),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(51),p=o(48),d=o(335),h=o(53),f=o.n(h),m=o(81),g=o(82),y=o(141),b=o(403),_=(n=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=i.V.get("configAgent"),t._libraryPanelLayoutService=i.V.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._toastLayerService=i.V.get("toastLayerService"),t._eventDispatcherService=i.V.get("eventDispatcherService"),t._i18n=i.V.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}s()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;i.V.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(i.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(i.c),l()(n.prototype,"setRepresentativeImage",[u.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepresentativeImage"),n.prototype),n),v=_,C=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"TextComponentUseCase"),e(v,"default")}();var O={useToolbarSlot:!1},S=(r=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=e.useCase,r=t.id,i=t.ctype,a=t.value,s=t.layout,c=this._getAdditionalOption(a),l=this._resolveSectionClassName({ctype:i,layout:s});return p.b.createElement(m.a,{id:r,ctype:i,i18n:o},p.b.createElement(g.a,{compId:r,compStore:t},p.b.createElement("div",{className:l},p.b.createElement(y.a,{compId:r,useCase:n,text:a,additionalOption:c,options:O,onLimitTextLength:this._handleContentLengthLimit,onClickRepresentative:this._handleClickRepresentative}))))},o._getAdditionalOption=function(e){var t=this.props,o=t.i18n;return{placeholder:t.shouldPlaceholderShown&&e.unchangedFirstNodeStyle?o("textComponent:placeholder"):null,uploadProgressTitle:o("textComponent:upload_process_title"),representativeTitle:o("textComponent:representative"),notFoundImageTitle:o("textComponent:image_404")}},o._resolveSectionClassName=function(e){var t,o=e.ctype,n=e.layout;return f()(((t={})["se-section se-section-"+o]=!!o,t["se-l-"+(n||"default")]=!0,t))},o._handleClickRepresentative=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;this.props.useCase.setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r})},o._handleContentLengthLimit=function(){this.props.useCase.showOverContentLengthLimitWarn()},t}(p.b.Component),l()(r.prototype,"_handleClickRepresentative",[u.autobind],Object.getOwnPropertyDescriptor(r.prototype,"_handleClickRepresentative"),r.prototype),l()(r.prototype,"_handleContentLengthLimit",[u.autobind],Object.getOwnPropertyDescriptor(r.prototype,"_handleContentLengthLimit"),r.prototype),r);S.defaultProps={i18n:function(e){return e},shouldPlaceholderShown:!1},S.propTypes={shouldForceRefresh:p.a.bool,i18n:p.a.func,useCase:p.a.instanceOf(C).isRequired,store:p.a.instanceOf(b.a).isRequired,shouldPlaceholderShown:p.a.bool};var k=Object(d.b)(S),I=k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/view/index.jsx",localName:t}})}catch(e){}}e(O,"textUnitOptions"),e(S,"TextComponentView"),e(k,"default")}();var w=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t}(i.a),P=w,j=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/service/index.js",localName:t}})}catch(e){}}e(w,"TextComponentService"),e(P,"default")}();var T=o(80),L={propertyToolbar:{"text-format":Object(T.a)("text-format"),"font-family":Object(T.a)("font-family"),"font-size":Object(T.a)("font-size"),bold:Object(T.a)("bold"),italic:Object(T.a)("italic"),underline:Object(T.a)("underline"),strikethrough:Object(T.a)("strikethrough"),"font-color":Object(T.a)("font-color"),"background-color":Object(T.a)("background-color"),"align-drop-down-with-justify":Object(T.a)("align-drop-down-with-justify"),list:Object(T.a)("list"),"line-height":Object(T.a)("line-height"),"drop-cap":Object(T.a)("drop-cap"),superscript:Object(T.a)("superscript"),subscript:Object(T.a)("subscript"),"special-letter":Object(T.a)("special-letter"),"text-link":Object(T.a)("text-link"),speller:Object(T.a)("speller"),"separator-bar":Object(T.a)("separator-bar"),"translation-right-label":Object(T.a)("translation-right-label")},contentsToolbar:{"font-family":Object(T.a)("font-family"),"font-size":Object(T.a)("font-size"),bold:Object(T.a)("bold"),italic:Object(T.a)("italic"),"text-link":Object(T.a)("text-link"),"font-color":Object(T.a)("font-color"),"to-quotation":Object(T.a)("to-quotation"),"cycle-align":Object(T.a)("cycle-align-with-justify"),"separator-bar":Object(T.a)("separator-bar"),translation:Object(T.a)("translation")}},E=L;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/toolbar/text-button-set-map.js",localName:t}})}catch(e){}}(L,"default")}();var N=o(404),x=o(98);function D(e){return Object(N.a)(e.map(function(e){return(e.value||e.text.value).paragraphs.map(function(e){return{id:e.id,list:e.isListParagraph()}})}))}function R(e,t){var o=Object(x.a)(e,function(e){return e.id===t.start.paraId}),n=Object(x.a)(e,function(e){return e.id===t.end.paraId});return o<n?{lowIndex:o,highIndex:n}:{lowIndex:n,highIndex:o}}function A(e,t){var o=D(e),n=R(o,t),r=n.lowIndex,i=n.highIndex,a=r===i,s=!1;if(!(r<0||i<0)){for(var c=r;c<=i;c++)!0===o[c].list&&(s=!0);return s&&a||!s}}var M={propertyToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=["text-format","font-family","font-size","separator-bar","bold","italic","underline","strikethrough","font-color","background-color","separator-bar","align-drop-down-with-justify","line-height","list","separator-bar"],r=t.filter(function(e){return"text"===e.ctype}),i=t.filter(function(e){return"wrappingParagraph"===e.ctype}),a=r.every(function(e){return e.isAvailableForDropcap(o)}),s=r.concat(i),c=s.length===t.length,l=i.every(function(e){return e.checkNoWrappedCompSelected(o)});(a&&n.push("drop-cap"),n.push("superscript","subscript","special-letter","text-link"),c&&l)&&(s.every(function(e){var t=e.translationEnabled,n=A(s,o);return t&&n})&&n.push("separator-bar","translation-right-label"));return n.push("separator-bar","speller"),n},contentsToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=e.defaultButtonSet,r=t.filter(function(e){return"text"===e.ctype}),i=t.filter(function(e){return"wrappingParagraph"===e.ctype}),a=r.concat(i),s=a.length===t.length,c=a.every(function(e){var t=e.translationEnabled,n=i.every(function(e){return e.checkNoWrappedCompSelected(o)}),r=A(a,o);return t&&s&&n&&r});if(s){var l=n||["font-family","separator-bar","font-size","separator-bar","bold","italic","separator-bar","font-color","separator-bar","to-quotation","separator-bar","cycle-align","separator-bar"];return c&&l.push("translation"),l}return[]}},B=M;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/toolbar/text-button-resolver.js",localName:t}})}catch(e){}}e(D,"getParaMap"),e(R,"getIndexOfSelectionInMap"),e(A,"checkNoMultiList"),e(M,"default")}();var U=function(e){function t(){return e.call(this,{buttonSetMap:E,buttonResolver:B})||this}return s()(t,e),t}(i.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/toolbar/index.js",localName:t}})}catch(e){}}(U,"TextComponentToolbar")}();var V=i.q.extend({name:"TextComponent",view:I,useCase:C,service:j,store:b.a,toolbar:U}),F=V;t.a=F;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/index.js",localName:t}})}catch(e){}}e(V,"TextComponent"),e(F,"default")}()},745:function(e,t,o){"use strict";var n=o(50),r=o(54),i=o.n(r),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(48),p=o(335),d=o(81),h=o(82),f=o(51),m=o(439),g=o(193),y=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=n.V.get("configAgent"),t._toastLayerService=n.V.get("toastLayerService"),t._eventDispatcherService=n.V.get("eventDispatcherService"),t._i18n=n.V.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}return s()(t,e),t.prototype.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(n.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(n.c),b=y,_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/use-case/index.js",localName:t}})}catch(e){}}e(y,"QuotationComponentUseCase"),e(b,"default")}();var v,C=o(192),O=(v=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,a=t.layout;return u.b.createElement(d.a,{id:n,ctype:r,layout:a,i18n:o},Object(C.a)({}),u.b.createElement(h.a,{compId:n,compStore:t},u.b.createElement(m.a,i()({},this.props,{onLimitTextLength:this._handleContentLengthLimit,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext}))))},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},o._handleContentLengthLimit=function(){this.props.useCase.showOverContentLengthLimitWarn()},t}(u.b.Component),l()(v.prototype,"_handleMoveToPrev",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleMoveToPrev"),v.prototype),l()(v.prototype,"_handleMoveToNext",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleMoveToNext"),v.prototype),l()(v.prototype,"_handleContentLengthLimit",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleContentLengthLimit"),v.prototype),v);O.defaultProps={i18n:function(e){return e}},O.propTypes={shouldForceRefresh:u.a.bool,i18n:u.a.func,store:u.a.instanceOf(g.a).isRequired,useCase:u.a.instanceOf(_).isRequired};var S=Object(p.b)(O),k=S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/index.jsx",localName:t}})}catch(e){}}e(O,"QuotationComponentView"),e(S,"default")}();var I=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=n.V.get("componentFactory"),t}return s()(t,e),t.prototype.createWithLayout=function(e){var t={ctype:"quotation",layout:e};return this._componentFactory.createComponentWithCompData(t)},t}(n.a),w=I,P=w;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/service/index.js",localName:t}})}catch(e){}}e(I,"QuotationComponentService"),e(w,"default")}();var j=o(80),T={propertyToolbar:{"text-format":Object(j.a)("text-format"),"font-size":Object(j.a)("font-size"),bold:Object(j.a)("bold"),italic:Object(j.a)("italic"),underline:Object(j.a)("underline"),"font-color":Object(j.a)("font-color"),"quotation-layout":Object(j.a)("quotation-layout"),"content-mode-justify":Object(j.a)("content-mode-justify"),"wrapping-layout":Object(j.a)("wrapping-layout-drop-down"),"line-height":Object(j.a)("line-height"),"special-letter":Object(j.a)("special-letter"),speller:Object(j.a)("speller"),"translation-right-label":Object(j.a)("translation-right-label"),"separator-bar":Object(j.a)("separator-bar")},contextToolbar:{"quotation-layout":Object(j.a)("quotation-layout"),"to-text":Object(j.a)("to-text"),delete:Object(j.a)("delete"),translation:Object(j.a)("translation"),"separator-bar":Object(j.a)("separator-bar")}},L=T;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/toolbar/quotation-button-set-map.js",localName:t}})}catch(e){}}(T,"default")}();var E={propertyToolbar:function(e){var t=e.configAgent,o=e.selectedComponents,n=e.selectionInfoStore,r=t.get("productConfig.quotation.layouts"),i=["text-format","font-size","separator-bar","bold","italic","underline","font-color"];(!(r&&1===r.length)&&i.push("separator-bar","quotation-layout"),i.push("separator-bar","content-mode-justify","wrapping-layout","separator-bar","line-height","special-letter"),"cursor"===n.mode||"block"===n.mode)&&(o.every(function(e){return e.translationEnabled})&&i.push("separator-bar","translation-right-label"));return i.push("separator-bar","speller"),i},contextToolbar:function(e){var t=e.configAgent,o=e.defaultButtonSet;if(o)return o;var n=t.get("productConfig.quotation.layouts");return n&&1===n.length?["to-text","separator-bar","delete"]:["quotation-layout","separator-bar","to-text","separator-bar","delete"]}},N=E;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/toolbar/quotation-button-resolver.js",localName:t}})}catch(e){}}(E,"default")}();var x=function(e){function t(){return e.call(this,{buttonSetMap:L,buttonResolver:N})||this}return s()(t,e),t}(n.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/toolbar/index.js",localName:t}})}catch(e){}}(x,"QuotationComponentToolbar")}();var D=n.q.extend({name:"QuotationComponent",view:k,useCase:_,service:P,store:g.a,toolbar:x}),R=D;t.a=R;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/index.js",localName:t}})}catch(e){}}e(D,"QuotationComponent"),e(R,"default")}()},747:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(54),a=o.n(i),s=o(0),c=o.n(s),l=o(49),u=o.n(l),p=o(53),d=o.n(p),h=o(50),f=o(48),m=o(335),g=o(51),y=o(63),b=o(82),_=o(73),v=o(211),C=o(88),O=function(e){return f.b.createElement("div",{className:"se-image-status-404"},f.b.createElement("div",{className:"se-image-status-404-detail"},f.b.createElement("p",{className:"se-image-status-404-text"},e)))},S=O,k=S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/error-image.jsx",localName:t}})}catch(e){}}e(O,"ErrorImage"),e(S,"default")}();var I=o(714),w=function(e){var t=e.label,o=e.enabled,n=e.onClick;return o?f.b.createElement("button",{type:"button",className:"se-image-delete-button",onClick:n},f.b.createElement("span",{className:"se-blind"},t)):null};w.propTypes={label:f.a.string,enabled:f.a.bool,onClick:f.a.func};var P=w,j=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/delete-button.jsx",localName:t}})}catch(e){}}e(w,"DeleteButton"),e(P,"default")}();var T=o(715),L=function(e){var t=e.label;return e.enabled?f.b.createElement("span",{className:"se-image-link-icon"},f.b.createElement("span",{className:"se-blind"},t)):null};L.propTypes={label:f.a.string,enabled:f.a.bool};var E=L,N=E;function x(){}!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/link-mark.jsx",localName:t}})}catch(e){}}e(L,"LinkMark"),e(E,"default")}();var D=function(e){var t=e.id,o=e.isVR360Format,n=e.enabled,r=e.label,i=e.onClick,a="vr360-toggle-"+t;return n?f.b.createElement("div",{className:"se-360vr-toggle-container"},f.b.createElement("div",{className:"se-360vr-toggle",onClick:i},f.b.createElement("input",{type:"checkbox",id:a,checked:o,onChange:x,className:"se-360vr-toggle-checkbox"}),f.b.createElement("label",{htmlFor:a,className:"se-360vr-toggle-label"},f.b.createElement("span",{className:"se-blind"},r)))):null};D.propTypes={id:f.a.string,isVR360Format:f.a.bool,enabled:f.a.bool,label:f.a.string,onClick:f.a.func};var R=D,A=R;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/vr360-toggle-button.jsx",localName:t}})}catch(e){}}e(x,"empty"),e(D,"VR360Button"),e(R,"default")}();var M,B=o(67),U={TOP_CENTER:"top-center",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_CENTER:"bottom-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right"},V=(M=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._refineLayerPosition()},o.componentDidUpdate=function(){this._refineLayerPosition()},o.render=function(){var e=this.props.mediaTags;if(Object(y.a)(e))return null;var t=this._resolveImageTags(e);return f.b.createElement("div",{ref:this._tagWrapperRef,className:"se-image-tag-area"},t)},o._tagWrapperRef=function(e){this._tagWrapper=e},o._resolveImageTags=function(e){var t=this,o=this.props.onDoubleClick;return e.map(function(e,n){var i=r()({},{top:e.point.y+"%"},{left:e.point.x+"%"}),a=d()(["se-image-tag","se-image-tag-custom"]),s=t._resolveImageTagLinks(e.links);return f.b.createElement("div",{key:"tag-"+n,"data-top":""+e.point.y,"data-left":""+e.point.x,className:a,style:i,onDoubleClick:o},f.b.createElement("div",{className:"se-image-tag-layer"},f.b.createElement("div",{className:"se-image-tag-layer-dim"}),s))})},o._resolveImageTagLinks=function(e){return e.map(function(e,t){var o=d()({"se-image-tag-detail":!0,"se-image-tag-simple-detail":"none"===e.iconType}),n=d()(["se-image-tag-detail-icon","se-image-tag-detail-icon-"+e.iconType]);return f.b.createElement("div",{key:"link-"+t,className:o},f.b.createElement("span",{className:n}),f.b.createElement("strong",{className:"se-image-tag-detail-title"},""+e.title),e.description&&f.b.createElement("p",{className:"se-image-tag-detail-descripion"},""+e.description))})},o._refineLayerPosition=function(){var e=this.props,t=e.mediaTags,o=e.imageWidth,n=e.imageHeight;Object(y.a)(t)||this._changeTagLayerArrowStyle(o,n)},o._changeTagLayerArrowStyle=function(e,t){var o=this._tagWrapper.querySelectorAll(".se-image-tag");Object(B.a)(o,function(o){var n=o.querySelector(".se-image-tag-layer"),r=n.offsetWidth,i=n.offsetHeight,a=r/e*100,s=i/t*100,c=Number(o.dataset.top)||0,l=Number(o.dataset.left)||0,u="top",p="center";s+c>100&&(u="bottom"),l-a/2<0?p="left":a/2+l>100&&(p="right"),o.classList.remove("se-image-tag-pin-position-"+U.TOP_CENTER),o.classList.remove("se-image-tag-pin-position-"+U.TOP_LEFT),o.classList.remove("se-image-tag-pin-position-"+U.TOP_RIGHT),o.classList.remove("se-image-tag-pin-position-"+U.BOTTOM_CENTER),o.classList.remove("se-image-tag-pin-position-"+U.BOTTOM_LEFT),o.classList.remove("se-image-tag-pin-position-"+U.BOTTOM_RIGHT),o.classList.add("se-image-tag-pin-position-"+u+"-"+p)})},t}(f.b.Component),u()(M.prototype,"_tagWrapperRef",[g.autobind],Object.getOwnPropertyDescriptor(M.prototype,"_tagWrapperRef"),M.prototype),M);V.propTypes={mediaTags:f.a.oneOfType([f.a.object,f.a.array]),imageWidth:f.a.number,imageHeight:f.a.number,onDoubleClick:f.a.func};var F=V,z=F;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/image-tag.jsx",localName:t}})}catch(e){}}e("se-image-tag-pin-position","TAG_POSITION_CLASS_PREFIX"),e(U,"TAG_POSITION_CLASS"),e(V,"ImageTag"),e(F,"default")}();var W,G,H,q,J=o(716),K=o(60),Y=o.n(K),X=o(1),Q=o.n(X),Z=o(57),$=o.n(Z),ee=(o(61),o(649)),te=o(131),oe=o(25),ne=[{className:"se-resizer-top-left",index:0},{className:"se-resizer-bottom-left",index:1},{className:"se-resizer-top-right",index:2},{className:"se-resizer-bottom-right",index:3}],re={POSITIVE_X:2,POSITIVE_Y:1},ie={0:"se-top-left-clicked",1:"se-bottom-left-clicked",2:"se-top-right-clicked",3:"se-bottom-right-clicked"},ae=(W=function(e){function t(t){var o;o=e.call(this,t)||this,Y()(o,"_index",G,$()(o)),Y()(o,"_width",H,$()(o)),Y()(o,"_height",q,$()(o)),o._prevX=0,o._renderResizer=function(e,t){var n=e.index,r=e.style,i=e.className;return f.b.createElement("div",{key:t,className:"se-resizer "+i,style:r,onMouseDown:o._handleMouseDown(n)})},o._handleMouseDown=Object(oe.a)(function(e){return function(t){t.preventDefault(),o._attachEventHandlers(),o._prevX=o._scrollTarget.scrollLeft+t.pageX,o._index=e,o.props.resizing.set(!0)}}),o._handleMouseMove=function(e){o._resizeGuideBox(e),e.stopPropagation()},o._resizeGuideBox=Object(te.a)(function(e){var t=o._getSizeByDeltaWidth(o._getDeltaWidthByEvent(e));o._width=t[0],o._height=t[1]},50),o._handleMouseUp=function(e){var t=o.props,n=t.store,r=t.useCase;o._detachEventHandlers(),r.handleMouseUpOnResizer(n,o._width,o._height),o._resizeGuideBox.cancel(),o._index=null,o.props.resizing.set(!1),ee.a.log(e,"imect.resizer")},o._attachEventHandlers=function(){document.addEventListener("mousemove",o._handleMouseMove,!0),document.addEventListener("mouseup",o._handleMouseUp)},o._detachEventHandlers=function(){document.removeEventListener("mousemove",o._handleMouseMove,!0),document.removeEventListener("mouseup",o._handleMouseUp)},o._configAgent=h.V.get("configAgent");var n=t.store,r=n.width,i=n.height,a=n.originalWidth,s=n.originalHeight,c=t.minWidth,l=t.minHeight,u=t.maxWidth;return o._width=r,o._height=i,o._ratioOfWidthToHeight=a/s,o._minWidth=c||o._configAgent.get("editorInfo.imageMinimumWidth"),o._minHeight=l||o._configAgent.get("editorInfo.imageMinimumHeight"),o._maxWidth=u||o._configAgent.get("productConfig.documentWidth"),o}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._scrollTarget=h.V.get("domAccessor").getScrollTarget()},o.componentWillUnmount=function(){this._detachEventHandlers()},o.render=function(){var e=this.props,t=e.show,o=e.store;return o.width,o.height,o.originalWidth,o.originalHeight,t&&this._renderResizers()},o.componentWillReact=function(){var e=this.props.store,t=e.width,o=e.originalWidth,n=e.originalHeight;this._ratioOfWidthToHeight=o/n;var r=t!==this._prevWidth||this._prevOrgWidth!==o||this._prevOrgHeight!==n,i=r?t:this._width,a=r?Math.floor(t/this._ratioOfWidthToHeight):this._height;this._width=i,this._height=a,this._prevWidth=t,this._prevOrgWidth=o,this._prevOrgHeight=n},o._renderResizers=function(){var e,t=d()("se-resize-guide-box",((e={})[ie[this._index]]=this._resizing,e["se-is-resizing"]=this._resizing,e));return this._width&&this._height?f.b.createElement("div",{className:t,style:{width:this._width,height:this._height}},this._resizing&&this._renderStyleTagForCursor(),this._resizing&&this._renderBackgroundImage(),this._resizing&&this._renderResizeInfo(),ne.map(this._renderResizer)):null},o._renderBackgroundImage=function(){return f.b.createElement("div",{className:"se-resize-guide-box-bg",style:{backgroundImage:'url("'+this.props.store.src+'")'}})},o._renderStyleTagForCursor=function(){var e=[1,2].includes(this._index)?"nesw-resize":"nwse-resize";return f.b.createElement("style",{dangerouslySetInnerHTML:{__html:".se-body * {cursor: "+e+" !important}"}})},o._renderResizeInfo=function(){return f.b.createElement("div",{className:"se-resize-px-info "+[ie[this._index]]},this._width," ",f.b.createElement("span",{className:"se-resize-px-info-multiply"})," ",this._height)},o._getDeltaWidthByEvent=function(e){var t=this._scrollTarget.scrollLeft+e.pageX-this._prevX;return this._index&re.POSITIVE_X?t:-t},o._getSizeByDeltaWidth=function(e){var t=this.props.store.width,o=t+e,n=(t+e)/this._ratioOfWidthToHeight;return n<this._minHeight&&(n=this._minHeight,o=this._minHeight*this._ratioOfWidthToHeight),o<this._minWidth?n=(o=this._minWidth)/this._ratioOfWidthToHeight:o>this._maxWidth&&(n=(o=this._maxWidth)/this._ratioOfWidthToHeight),[o,n].map(Math.floor)},Q()(t,[{key:"_resizing",get:function(){return null!==this._index}}]),t}(f.b.Component),u()(W.prototype,"_resizing",[f.e],Object.getOwnPropertyDescriptor(W.prototype,"_resizing"),W.prototype),G=u()(W.prototype,"_index",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=u()(W.prototype,"_width",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=u()(W.prototype,"_height",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W);ae.defaultProps={show:!1},ae.propTypes={children:f.a.oneOfType([f.a.element,f.a.array]),useCase:f.a.object.isRequired,store:f.a.object.isRequired,minWidth:f.a.number,minHeight:f.a.number,maxWidth:f.a.number,maxHeight:f.a.number,show:f.a.bool,resizing:f.a.object};var se=Object(m.b)(ae),ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/resizer/index.jsx",localName:t}})}catch(e){}}e(ne,"RESIZER_INFO"),e(re,"CHECK_BITS"),e(ie,"CLICKED_RESIZER_CLASS"),e("se-resize-guide-box","GUIDE_BOX_DEFAULT_CLASS"),e(ae,"Resizer"),e(se,"default")}();var le,ue,pe,de=o(217),he={LOADING:"loading",COMPLETE:"complete",ERROR:"error"},fe=(pe=ue=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={status:he.LOADING},o._src="",o._resizing=f.g.box(!1),o}c()(t,e);var o=t.prototype;return o.UNSAFE_componentWillUpdate=function(e){this._src&&this._src!==e.store.src&&this._resetComponent()},o.render=function(){var e=this.props,t=e.children,o=e.store,n=this.state.status,r=this._resolveWrapperRestProps();return f.b.createElement(_.a,a()({ctype:"image",store:o},r),this._renderImageTag(),this._renderResizer(),n===he.ERROR?this._renderErrorImage():this._renderImage(),this._renderImagePlaceholder(),this._renderBtnRepresentative(),this._renderBtnDelete(),this._renderVR360Mark(),this._renderVR360Toggle(),this._renderBtnLocation(),this._renderLinkMark(),t)},o._renderResizer=function(){var e=this.props,t=e.store,o=e.useCase;if(e.resizable){var n=t.selection,r=t.contentMode,i="single"===n&&[h.r.NORMAL,h.r.FIT].includes(r);return f.b.createElement(ce,{show:i,store:t,useCase:o,resizing:this._resizing})}},o._resolveWrapperRestProps=function(){return{className:this._resolveWrapperClassName(),id:this.props.store.id,style:this._resolveWrapperStyle(),draggable:this.props.additionalOption.hasCoverLayer}},o._resolveWrapperClassName=function(){var e,t=this.props.className;return d()(((e={})[t]=!0,e["se-is-progress"]=this._isProgressing(),e["se-is-resizing"]=this._resizing.get(),e))},o._resolveWrapperStyle=function(){var e=this.props,t=e.store,o=e.additionalOption.backgroundImage,n=r()({},this.props.style);return o&&(n.backgroundImage="url('"+t.src+"')"),n},o._isProgressing=function(){var e=this.props.store,t=e.internalResource,o=e.path,n=e.src,r=e.phase,i=t&&""===o&&""!==n;return r===h.N.PROCESSING||i},o._renderImagePlaceholder=function(){if(!this._isProgressing())return null;var e=this.props.store,t=e.width,o=e.height,n=this._resolveImageAreaStyle();return Object(v.a)({inlineStyle:n,message:this.props.i18n("imageUnit:uploading"),width:t,height:o})},o._encodeURI=function(e){try{e=decodeURIComponent(e)}catch(e){}return encodeURI(e)},o._renderImage=function(){var e=this.props.store,t=e.phase,o=e.src,n=e.alt,r=e.width,i=e.id,a=e.originalWidth,s=e.originalHeight,c=e.selection;if("processing"===t)return null;this._src=o;var l=this._encodeURI(this._src);return f.b.createElement(b.a,{unitId:i,compStore:e},f.b.createElement(C.b,{src:l,type:"none"!==c||this.context.readOnly?C.a.normal:C.a.lazyLoad,alt:n,className:"se-image-resource",width:r,originalWidth:a,originalHeight:s,onLoad:this._handleLoadImage,onError:this._handleErrorImage,onMouseDown:this._handleMouseDownImage,onClick:this._handleClickImage,onDragStart:this._handleDragStart,onDoubleClick:this._handleDblClickImage}))},o._renderErrorImage=function(){var e=this.props.store,t=e.id;return f.b.createElement(b.a,{unitId:t,compStore:e},k(this.props.i18n("imageComponent:image_404")))},o._renderBtnRepresentative=function(){var e=this.props,t=e.store,o=e.additionalOption,n=e.labelThumbnail;return this._resizing.get()?null:f.b.createElement(I.a,{store:t,additionalOption:o,labelThumbnail:n,status:this.state.status,onClick:this._handleClickBtnRepresentative})},o._renderBtnDelete=function(){return j({label:this.props.labelDeleteImage,enabled:!this._isProgressing(),onClick:this._handleClickBtnDelete})},o._renderImageTag=function(){var e=this.props,t=e.useMediaTag,o=e.store,n=o.width,r=o.height,i=o.displayFormat,a=o.mediaTags,s=[h.C.NORMAL,h.C.ANIMATED].includes(i);return t&&!Object(y.a)(a)&&s?f.b.createElement(z,{mediaTags:a,imageWidth:n,imageHeight:r,onDoubleClick:this._handleDblClickImage}):null},o._renderVR360Mark=function(){var e=this.props,t=e.labelThisIs360VR,o=e.store.displayFormat;return Object(T.a)({label:t,enabled:o===h.C.PANORAMA||o===h.C.VR360,onDoubleClick:this._handleDblClickImage})},o._renderVR360Toggle=function(){var e=this.props,t=e.store,o=e.labelUse360vr;return A({id:t.id,isVR360Format:t.displayFormat===h.C.PANORAMA,enabled:t.format===h.C.PANORAMA&&this.state.status===he.COMPLETE,label:o,onClick:this._handleToggleVR360Display})},o._renderBtnLocation=function(){var e=this.props,t=e.additionalOption.showLocationButton,o=e.store.place,n=o&&t;return Object(J.a)({enabled:n,locationInfo:o,onMouseDown:this._handleMouseDownLocation,onClick:this._handleClickLocation})},o._renderLinkMark=function(){var e=this.props,t=e.labelLink,o=e.store.link;return N({label:t,enabled:!!o})},o._resolveImageAreaStyle=function(){var e=this.props.store,t=e.width;return{paddingTop:""+e.height/t*100+"%"}},o._handleLoadImage=function(){var e=he.COMPLETE;this.state.status!==e&&(this.setState({status:e}),this.props.onCompleteImage(e))},o._handleErrorImage=function(){var e=he.ERROR;this.setState({status:e}),this.props.onCompleteImage(e)},o._handleMouseDownImage=function(e){this.props.onMouseDown(e)},o._handleClickImage=function(e){this.props.onClick(e)},o._handleDblClickImage=function(e){this.props.onDoubleClick(e,this.props.store)},o._handleDragStart=function(e){this.props.onDragStart(e)},o._handleClickBtnRepresentative=function(e){this.props.onClickRepresentative(e,this.props.store)},o._handleClickBtnDelete=function(e){e.stopPropagation(),this.props.onClickDelete(e,this.props.store)},o._handleToggleVR360Display=function(e){e.preventDefault(),this.props.onToggleVR360Display(e)},o._resetComponent=function(){this.state.status!==he.LOADING&&this.setState({status:he.LOADING})},o._handleClickLocation=function(){this.props.onClickLocation()},o._handleMouseDownLocation=function(e){e.nativeEvent.stopImmediatePropagation()},t}(f.b.Component),ue.contextType=de.a,le=pe,u()(le.prototype,"_renderImagePlaceholder",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderImagePlaceholder"),le.prototype),u()(le.prototype,"_renderBtnRepresentative",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderBtnRepresentative"),le.prototype),u()(le.prototype,"_renderBtnDelete",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderBtnDelete"),le.prototype),u()(le.prototype,"_renderVR360Mark",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderVR360Mark"),le.prototype),u()(le.prototype,"_renderVR360Toggle",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderVR360Toggle"),le.prototype),u()(le.prototype,"_renderBtnLocation",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderBtnLocation"),le.prototype),u()(le.prototype,"_handleLoadImage",[g.autobind],Object.getOwnPropertyDescriptor(le.prototype,"_handleLoadImage"),le.prototype),u()(le.prototype,"_handleErrorImage",[g.autobind],Object.getOwnPropertyDescriptor(le.prototype,"_handleErrorImage"),le.prototype),u()(le.prototype,"_handleMouseDownImage",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleMouseDownImage"),le.prototype),u()(le.prototype,"_handleClickImage",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickImage"),le.prototype),u()(le.prototype,"_handleDblClickImage",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleDblClickImage"),le.prototype),u()(le.prototype,"_handleDragStart",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleDragStart"),le.prototype),u()(le.prototype,"_handleClickBtnRepresentative",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickBtnRepresentative"),le.prototype),u()(le.prototype,"_handleClickBtnDelete",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickBtnDelete"),le.prototype),u()(le.prototype,"_handleToggleVR360Display",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleToggleVR360Display"),le.prototype),u()(le.prototype,"_handleClickLocation",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickLocation"),le.prototype),u()(le.prototype,"_handleMouseDownLocation",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleMouseDownLocation"),le.prototype),le);fe.defaultProps={className:"",style:{},onMouseDown:function(){},onDoubleClick:function(){},onClick:function(){},onClickRepresentative:function(){},onClickDelete:function(){},onClickLocation:function(){},onToggleVR360Display:function(){},onDragStart:function(){},onCompleteImage:function(){},additionalOption:{},resizable:!1},fe.propTypes={className:f.a.string,store:f.a.object,style:f.a.object,onMouseDown:f.a.func,onDoubleClick:f.a.func,onClick:f.a.func,onClickRepresentative:f.a.func,onClickDelete:f.a.func,onClickLocation:f.a.func,onDragStart:f.a.func,onCompleteImage:f.a.func,onToggleVR360Display:f.a.func,children:f.a.oneOfType([f.a.element,f.a.array]),i18n:f.a.func,labelLink:f.a.string.isRequired,labelThumbnail:f.a.string.isRequired,labelDeleteImage:f.a.string.isRequired,labelThisIs360VR:f.a.string.isRequired,labelUse360vr:f.a.string.isRequired,additionalOption:f.a.object,resizable:f.a.bool};var me=Object(m.b)(fe);t.a=me;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/index.jsx",localName:t}})}catch(e){}}e(he,"STATUS"),e(fe,"ImageUnit"),e(me,"default")}()},753:function(e,t,o){"use strict";var n=o(50),r=o(1209),i=o(370),a=o(0),s=o.n(a),c=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.updatePlacesMap=function(e){this._store.updatePlacesMap(e)},o.updateProperty=function(e){this._store.updateProperty(e)},o.setDateAt=function(e,t){this._store.setDateAt(e,t)},o.setNotification=function(e){this._store.setNotification(e)},o.setRepetition=function(e){this._store.setRepetition(e)},o.enableEmptyTitleWarning=function(){this._store.enableEmptyTitleWarning()},o.disableEmptyTitleWarning=function(){this._store.disableEmptyTitleWarning()},o.setRepetitionInfo=function(e){this._store.setRepetitionInfo(e)},o.showAndHideRepetitionWarning=function(){this._store.showAndHideRepetitionWarning()},o.removePlacesMap=function(){this._store.updatePlacesMap(null)},o.toScheduleComponentData=function(){return this._store.toScheduleComponentData()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(n.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/service/index.js",localName:t}})}catch(e){}}(c,"ScheduleLayerService")}();var l=o(371),u=o(186),p=n.G.extend({name:"ScheduleLayer",view:Object(r.a)({Loader:function(){return Promise.all([o.e(73),o.e(34)]).then(o.bind(null,1254))}}),useCase:i.a,service:c,store:l.a,consts:u.i}),d=p;t.a=d;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/index.js",localName:t}})}catch(e){}}e(p,"ScheduleLayer"),e(d,"default")}()},754:function(e,t,o){"use strict";var n=o(12),r=o.n(n),i=o(18),a=o.n(i),s=o(49),c=o.n(s),l=o(50),u=o(51),p=o(48),d=o(648),h=o(1),f=o.n(h),m=function(){function e(e){var t=e.id,o=e.code,n=e.file,r=e.errorCodeMap,i=void 0===r?{}:r,a=e.errorDescriptionMap,s=void 0===a?{}:a;this.id=t,this.code=o||n.code,this.file=n,this.errorCodeMap=i,this.errorDescriptionMap=s}return f()(e,[{key:"fileName",get:function(){return this.file.name}},{key:"fileSize",get:function(){return this.file.size}},{key:"cause",get:function(){return this.errorCodeMap[this.code]}},{key:"description",get:function(){var e=this.errorDescriptionMap[this.code];return"UNSUPPORTED_VIDEO"===this.code&&(e=this.file.name+e),e}},{key:"descriptionWithoutFileName",get:function(){return this.errorDescriptionMap[this.code]}}]),e}(),g=m;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/video-upload-error/index.js",localName:t}})}catch(e){}}e(m,"VideoUploadError"),e(g,"default")}();var y,b,_=o(678);o.d(t,"a",function(){return S});var v=10,C=(y=function(){function e(){this._videoUploadLayerService=l.V.get("videoUploadLayerService"),this._videoComponentService=l.V.get("videoComponentService"),this._videoUploadService=l.V.get("videoUploadService"),this._editingService=l.V.get("editingService"),this._alertLayerService=l.V.get("alertLayerService"),this._i18n=l.V.get("i18n")}var t=e.prototype;return t.insertVideo=function(){this._videoUploadLayerService.open(),this._videoUploadService.openUploader(void 0,{success:this._onUploadSuccess.bind(this),error:this._onUploadError.bind(this),close:this._onUploadClose.bind(this)})},t._close=function(){this._videoUploadLayerService.close()},t._onUploadSuccess=function(e){var t=this;this._preprocForMaxCountCheck(e,function(e){var o=e.map(function(e){return t._videoComponentService.createVideoComponent(e)});o.length>0&&t._editingService.insert({sourceComponents:o})}),this._close()},t._onUploadError=function(){this._close(),this._alertLayerService.open({type:"alert",title:this._i18n("videoComponent:upload_failed"),description:this._i18n("videoComponent:server_fall_over_error")})},t._onUploadClose=function(){this._close()},t._preprocForMaxCountCheck=function(e,t){if(this._videoUploadService.isExceededMaxCount(e)){var o=this._videoUploadService.videoMaxUploadCount;this._alertLayerService.open({type:"alert",title:this._i18n("limits:title_exceeded_count_by_max"),description:this._i18n("limits:video_description_exceeded_count_by_max",{maxCount:o}),isDimUse:!1,onClickConfirm:function(){t(e)},onClickCancel:function(){t(e)}})}else t&&t(e)},e}(),c()(y.prototype,"_onUploadSuccess",[u.history,p.d],Object.getOwnPropertyDescriptor(y.prototype,"_onUploadSuccess"),y.prototype),c()(y.prototype,"_onUploadClose",[p.d],Object.getOwnPropertyDescriptor(y.prototype,"_onUploadClose"),y.prototype),y),O=function(){function e(){this._videoComponentService=l.V.get("videoComponentService"),this._videoUploadService=l.V.get("videoUploadService"),this._editingService=l.V.get("editingService"),this._alertLayerService=l.V.get("alertLayerService"),this._uploadProgressLayerService=l.V.get("uploadProgressLayerService"),this._toastLayerService=l.V.get("toastLayerService"),this._configAgent=l.V.get("configAgent"),this._i18n=l.V.get("i18n"),this._progressStatus={totalCount:0,progressCount:0,errorInfos:[]},this._errorCodeMap={EXCEEDED_UPLOAD_COUNT:this._i18n("errorCauseMap:limitation_by_session_count"),EXCEEDED_UPLOAD_SIZE:this._i18n("errorCauseMap:limitation_by_session_size"),INVALID_PARAMETER:this._i18n("errorCauseMap:invalid_parameter")},this._errorCodeDescription={EXCEEDED_UPLOAD_COUNT:this._i18n("naverVideoUploader:UP_TO_N_CAN_BE_DONE").replace(/%s/g,v),EXCEEDED_UPLOAD_SIZE:this._i18n("errorDescriptionMap:limitation_by_session_size",{maxImageUploadSize:this._configAgent.get("infraConfig.video.maxVideoUploadSize")}),INVALID_PARAMETER:this._i18n("errorDescriptionMap:invalid_parameter")}}var t=e.prototype;return t.insertVideo=function(){var e=this;this._videoUploadService.openFileDialog({accept:"video/*",multiple:!0}).then(function(t){t.length>0&&e._preprocForLimits(t,function(t){e._videoUploadService.openUploader(t,{onStart:e._onOpenProgress.bind(e),onEachStart:e._onEachUploadStart.bind(e),onEachProgress:e._onEachUploadProgress.bind(e),onEachComplete:e._onEachUploadComplete.bind(e),onEachError:e._onEachUploadError.bind(e),onError:e._onError.bind(e),onEnd:e._onCloseProgress.bind(e)})})})},t._insertVideoComponent=function(e){var t=this._videoComponentService.createVideoComponent(e);this._editingService.insert({sourceComponents:[t]})},t._onOpenProgress=function(e){var t=e.count;this._progressStatus.totalCount+=t,this._progressStatus.progressCount+=t,this._uploadProgressLayerService.start({title:this._i18n("videoUploader:ready"),description:this._i18n("videoUploader:file_count",{fileCount:this._progressStatus.totalCount}),totalCount:this._progressStatus.totalCount})},t._onError=function(e){var t=this,o=e.unprocessedFiles,n=void 0===o?[]:o,r=this._progressStatus.errorInfos,i=n.map(function(e){return t._makeVideoUploadErrorInfo(e,"INVALID_PARAMETER")});r.push.apply(r,i),this._clearUpload(r)},t._onCloseProgress=function(){if(this._progressStatus.progressCount<=0){var e=this._progressStatus.errorInfos;this._clearUpload(e)}},t._clearUpload=function(e){var t=this;e.length>0&&this._alertLayerService.open(this._reolveAlertInfos(e)),this._progressStatus.totalCount=0,this._progressStatus.progressCount=0,this._progressStatus.errorInfos=[],setTimeout(function(){t._uploadProgressLayerService.end()},1e3)},t._onEachUploadStart=function(){},t._onEachUploadProgress=function(){},t._onEachUploadComplete=function(e){var t=this,o=e.fileName,n=e.fileSize;this._insertVideoComponent(e),this._progressStatus.progressCount--,this._uploadProgressLayerService.update({title:o,description:""+d.a.fileSizeSI(n),doneStateResolver:function(){return{title:t._i18n("videoUploader:completed"),description:t._i18n("videoUploader:video_inserted")}}})},t._onEachUploadError=function(e){var t=e.file,o=this._progressStatus.errorInfos,n=this._makeVideoUploadErrorInfo(t,"INVALID_PARAMETER");this._progressStatus.progressCount--,o.push(n)},t._preprocForLimits=function(){var e=a()(r.a.mark(function e(t,o){var n=this;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=function(e){return e}),e.next=3,this._checkMaxCountInDocument(t).then(function(e){return n._checkLimits(e)}).then(function(e){return o(e)}).catch(_.a);case 3:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._checkMaxCountInDocument=function(e){var t=this;return new Promise(function(o,n){var r=t._videoUploadService.isExceededMaxCount(e),i=t._videoUploadService.videoMaxUploadCount;r&&t._alertLayerService.open({type:"alert",title:t._i18n("limits:title_exceeded_count_by_max"),description:t._i18n("limits:video_description_exceeded_count_by_max",{maxCount:i}),isDimUse:!1,onClickConfirm:function(){o(e)},onClickCancel:function(){n()}}),o(e)})},t._checkLimits=function(e){var t=this,o=this._configAgent.get("infraConfig.video.maxVideoUploadSize"),n=e.reduce(function(e,n){var r=n.size,i=e.validFiles,a=e.invalidFileInfos;return r>o?a.push({file:n,code:"EXCEEDED_UPLOAD_SIZE"}):i.length+t._progressStatus.totalCount>=v?a.push({file:n,code:"EXCEEDED_UPLOAD_COUNT"}):i.push(n),e},{validFiles:[],invalidFileInfos:[]}),r=n.validFiles,i=n.invalidFileInfos;if(i.length>0){var a=this._progressStatus.errorInfos;a.push.apply(a,this._makeErrorInfos(i))}return r},t._makeErrorInfos=function(e){var t=this;return e.map(function(e){var o=e.file,n=e.code;return t._makeVideoUploadErrorInfo(o,n)})},t._makeVideoUploadErrorInfo=function(e,t){var o=e.id;return new m({id:o,code:t,file:e,errorCodeMap:this._errorCodeMap,errorDescriptionMap:this._errorDescriptionMap})},t._reolveAlertInfos=function(){var e=this._progressStatus.errorInfos,t=e.length,o={};return o.title=this._i18n("imageBehavior:upload_failed"),o.type="file",o.description=this._i18n("imageBehavior:upload_failed_desc",{failUploadCount:t}),o.errorList=e,o},e}(),S=(b=function(){function e(){this._videoUploadUseCaseImple=this._getVideoUploadUseCase()}var t=e.prototype;return t._getVideoUploadUseCase=function(){return"simple"===l.V.get("configAgent").get("modules.videoUploader.config.uploadMode")?new O:new C},t.insertVideo=function(){this._videoUploadUseCaseImple.insertVideo()},e}(),c()(b.prototype,"insertVideo",[u.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(b.prototype,"insertVideo"),b.prototype),b);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/video-insert-use-case.js",localName:t}})}catch(e){}}e(v,"MAX_UPLOAD_COUNT_PER_PROCESS"),e(C,"LegacyVideoUploadUseCase"),e(O,"SimpleVideoUploadUseCase"),e(S,"VideoInsertUseCase")}()},757:function(e,t,o){"use strict";var n,r,i,a,s=o(0),c=o.n(s),l=o(50),u=o(72),p=o(60),d=o.n(p),h=o(49),f=o.n(h),m=(o(61),o(1)),g=o.n(m),y=o(48),b=l.F.DECIMAL,_=l.F.BULLET,v=l.F.NONE,C=l.F.UL,O=l.F.OL,S=[C,O],k=[b],I=function(e){return k.includes(e)?O:C},w=function(){var e=new M({type:null,level:-1});return e._filler=!1,e},P=function(e){var t=e.listType,o=e.listLevel;return new M({type:t,level:o,paragraph:e})},j=function(e,t){void 0===t&&(t=I(e.type));var o=e.level,n=new M({type:t,level:o});return n.appendChild(e),n},T=function(e){var t=e.getChildAt(0),o=t.type,n=t.level,r=new M({type:o,level:n-1});return r.appendChild(e),j(r)},L=function(e,t,o,n){void 0===o&&(o=0);var r=e.spliceChildren(o,n);t.appendChild.apply(t,r)},E=function(e){return e.parent.children.findIndex(function(t){return t===e})},N=function(e){return e.parent.getChildAt(E(e)-1)},x=function(e){var t=w(),o=new A(t);return e.forEach(function(e){var t=P(e),n=t.level,r=t.type,i=o.peek(),a=i.level;if(a<n){for(var s=j(t),c=[],l=n-a,u=s;--l;){var p=(u=T(u)).getChildAt(0);c.unshift(u,p)}i.appendChild(u),o.push.apply(o,c.concat([s,t]))}else{a>n&&o.popUntilSize(1+2*(n+1));var d=o.pop(),h=o.pop(),f=d.type,m=h.type;if(f===r||r===v||f===v&&(m===O&&r===b||m===C&&r===_))h.appendChild(t),o.push(h,t);else{var g=o.pop(),y=j(t);g.appendChild(y),o.push(g,y,t)}}}),t},D=function(e){var t=e.parent,o=e.children,n=E(e),r=E(t);if(0===n)if(r>0){var i=t.parent,a=i.getChildAt(r-1),s=a.degree-1;if(1===t.degree){var c;i.removeChildAt(r),i.refineChildren(),e.removeAllChildren(),t.increaseLevel(),(c=a.getChildAt(s)).appendChild.apply(c,[t].concat(o.slice()))}else{var l;t.removeChildAt(n),e.removeAllChildren();var u=j(e,t.type);u.increaseLevel(),(l=a.getChildAt(s)).appendChild.apply(l,[u].concat(o.slice()))}}else{t.removeChildAt(n),e.removeAllChildren();var p=e.clone(),d=j(e,t.type);d.increaseLevel(),p.appendChild.apply(p,[d].concat(o.slice())),t.appendChildAt(n,p)}else{var h=t.getChildAt(n-1);t.removeChildAt(n),e.removeAllChildren();var f=j(e,t.type);f.increaseLevel(),h.appendChild.apply(h,[f].concat(o.slice()))}},R=function(e){var t=e.parent,o=t.parent,n=o.parent,r=n.parent,i=E(e),a=E(t),s=E(o),c=E(n);if(0!==i){var l=[],u=t.clone();if(e.degree){var p=e.getChildAt(0).getChildAt(0).clone();p.decreaseLevel(),L(e,p),l.push(j(p))}if(L(t,u,i+1),t.removeChildAt(i),e.decreaseLevel(),u.degree&&l.push(u),e.appendChild.apply(e,l),L(o,e,a+1),t.type===n.type)n.appendChildAt(s+1,e);else{var d=j(e,t.type),h=n.clone();L(n,h,s+1),h.degree?r.appendChildAt(c+1,d,h):r.appendChildAt(c+1,d)}}else{t.removeChildAt(i),t.degree||o.removeChildAt(a);var f=[];if(e.degree){var m=e.getChildAt(0).getChildAt(0).clone();m.decreaseLevel(),L(e,m),f.push(j(m))}if(e.decreaseLevel(),e.appendChild.apply(e,f),t.type===n.type)o.filler&&0===a?(n.removeChildAt(s),L(o,e,a),n.appendChildAt(s,e)):(L(o,e,a),n.appendChildAt(s+1,e));else{L(o,e,a);var g=j(e,t.type),y=n.clone();L(n,y,s+1),y.degree?r.appendChildAt(c+1,g,y):r.appendChildAt(c+1,g)}}},A=function(){function e(e){this._data=e?[e]:[]}var t=e.prototype;return t.pop=function(){return this._data.pop()},t.popUntilSize=function(e){for(var t=[];this.size>e;)t.push(this.pop());return t},t.push=function(){var e;(e=this._data).push.apply(e,arguments)},t.prepend=function(){var e;(e=this._data).unshift.apply(e,arguments)},t.peek=function(){return this._data[this.size-1]},g()(e,[{key:"size",get:function(){return this._data.length}}]),e}(),M=(n=function(){function e(e){d()(this,"_children",r,this),d()(this,"_type",i,this),d()(this,"_filler",a,this),this._parent=null,this.key=l.ab.generate(),this._initialize(e)}var t=e.prototype;return t._initialize=function(e){var t=e.type,o=e.level,n=e.paragraph,r=void 0===n?null:n;this._type=t,this._level=o,this._paragraph=r,this._filler=!(S.includes(t)||r),this._size=r?1:0},t.convertToFiller=function(){this._paragraph=null,this._filler=!0,this._updateSize()},t.getChildAt=function(e){return 0<=e&&e<this.degree?this.children[e]:null},t.spliceChildren=function(e,t){return this._spliceChildren(e,t)},t.appendChild=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.appendChildAt.apply(this,[this.degree].concat(t))},t.appendChildAt=function(e){for(var t,o=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.length&&(r.forEach(function(e){e._parent=o}),(t=this.children).splice.apply(t,[e,0].concat(r)),this.refineChildren(),this._updateSize())},t.refineChildren=function(){this.degree<=1||(S.includes(this.type)?this._refineChildrenOfWrapper():this._refineChildrenOfInner())},t._refineChildrenOfWrapper=function(){for(var e=this.children[this.degree-1],t=this.degree-2;t>=0;t--){var o=this.children[t];e.filler&&(this.removeChildAt(t+1),o.appendChild.apply(o,e.children)),e=o}},t._refineChildrenOfInner=function(){for(var e=this.children[this.degree-1],t=this.degree-2;t>=0;t--){var o=this.children[t],n=e.children[0];if(n.filler){var r=o.children[o.degree-1];r.appendChild.apply(r,n.children),e.removeChildAt(0),e.degree||(e=this.getChildAt(t+2)||{},this.removeChildAt(t+1))}e.type===o.type&&(o.appendChild.apply(o,e.children),this.removeChildAt(t+1)),e=o}},t.removeChildAt=function(e){this._spliceChildren(e,1)},t._spliceChildren=function(e,t){void 0===t&&(t=this.degree-e);var o=this.children.splice(e,t);return o.forEach(function(e){e._parent=null}),this._updateSize(),this.removeEmptyChildren(),o},t.removeAllChildren=function(){this._children=[],this._updateSize()},t.updateType=function(e){this._type!==e&&(this._type=e)},t.increaseLevel=function(){this._level++,this._children.forEach(function(e){e.increaseLevel()})},t.decreaseLevel=function(){this._level--,this._children.forEach(function(e){e.decreaseLevel()})},t._updateSize=function(){this._size=this.children.reduce(function(e,t){return e+=t.size},0)+(this.paragraph?1:0),this._parent&&this._parent._updateSize()},t.removeEmptyChildren=function(e){void 0===e&&(e=!1);for(var t=this.degree-1;t>=0;t--)this.children[t].size||this.children.splice(t,1);e&&this.parent&&this.parent.removeEmptyChildren(e)},t.findNodeWithPath=function(e,t){if(void 0===t&&(t=[]),this.paragraph&&e--,!this.degree||-1===e)return[this,t];for(var o=0;o<this.degree;o++){var n=this.children[o];if(e<n.size)return t.push(o),n.findNodeWithPath(e,t);e-=n.size}return[null,[]]},t.clone=function(t){var o=(void 0===t?{}:t).paragraph,n=void 0!==o&&o;return new e({type:this.type,level:this.level,paragraph:n?this.paragraph:null})},g()(e,[{key:"type",get:function(){return this._type}},{key:"level",get:function(){return this._level}},{key:"paragraph",get:function(){return this._paragraph}},{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return this._children}},{key:"filler",get:function(){return this._filler}},{key:"degree",get:function(){return this.children.length}},{key:"size",get:function(){return this._size}}]),e}(),r=f()(n.prototype,"_children",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=f()(n.prototype,"_type",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=f()(n.prototype,"_filler",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/tree-helper.js",localName:t}})}catch(e){}}e(b,"DECIMAL"),e(_,"BULLET"),e(v,"NONE"),e(C,"UL"),e(O,"OL"),e(S,"WRAPPER_TYPES"),e(k,"OL_CHILDREN_TYPES"),e(I,"getWrapperType"),e(w,"createRoot"),e(P,"createNodeFromParagraph"),e(j,"createWrapperNode"),e(T,"createFillerWrapperNode"),e(L,"adoptChildrenOut"),e(E,"indexInSiblings"),e(N,"getPrevSibling"),e(x,"constructTree"),e(D,"increaseNodeLevel"),e(R,"decreaseNodeLevel"),e(A,"Stack"),e(M,"Node")}(),o.d(t,"a",function(){return G});var B=l.F.DECIMAL,U=l.F.BULLET,V=l.F.NONE,F=l.F.UL,z=l.F.OL,W=[F,z],G=function(e){function t(t){var o,n=t.paragraphs,r=void 0===n?[]:n,i=t.root,a=void 0===i?null:i;return(o=e.call(this)||this).paragraphs=r,o.root=a||x(r),o}c()(t,e);var o=t.prototype;return o.mergeWith=function(e){var t,o,n,r,i=this.root.getChildAt(this.root.degree-1),a=e.root.getChildAt(0),s=e.root.size;return 0===s?this:0===this.root.size?e:this.root.size>=s?(i.type===a.type&&(i.appendChild.apply(i,a.children),e.root.removeChildAt(0)),(n=this.root).appendChild.apply(n,e.root.children),(r=this.paragraphs).push.apply(r,e.paragraphs),this):(i.type===a.type&&(a.appendChildAt.apply(a,[0].concat(i.children.slice())),this.root.removeChildAt(this.root.degree-1)),(t=e.root).appendChildAt.apply(t,[0].concat(this.root.children.slice())),(o=e.paragraphs).unshift.apply(o,this.paragraphs),e)},o._indexOf=function(e){return this.paragraphs.findIndex(function(t){return t.id===e.id})},o.hasParagraph=function(e){return this._indexOf(e)>-1},o.updateListType=function(e){var t=this.findMatchedNodeWithPath(e)[0],o=e.listType;t.type!==o&&this._updateType(t,o)},o.updateListLevel=function(e){var t=this.findMatchedNodeWithPath(e)[0],o=e.listLevel-t.level;0!==o&&this._updateLevelByDiff(t,o)},o._updateType=function(e,t){if(W.includes(e.type)){if(e.parent.refineChildren(),!e.parent.filler)return;this._updateType(e.parent,t)}else{e.updateType(t);var o=e.parent,n=o.parent,r=E(e),i=E(o),a=e.filler?[e]:this.getNodesInSameListItem(e.paragraph);o.removeChildAt(r);var s=j(e,I(t));a.length>1&&L(o,s,r,a.length-1);var c=o.clone(),l=i+r;L(o,c,r),o.degree||n.removeChildAt(i),c.degree?n.appendChildAt(l,s,c):n.appendChildAt(l,s),0===l&&this._updateType(s,t)}},o._updateLevelByDiff=function(e,t){if(t>0)for(;t--;)D(e);else if(t<0)for(;t++;)R(e)},o.indexOf=function(e){return this._indexOf(e)},o.findMatchedNodeWithPath=function(e){var t=this._indexOf(e);return this.root.findNodeWithPath(t)},o.split=function(e){if(e>=this.paragraphs.length)return[this,null];if(e<=0)return[null,this];var o=this.root.findNodeWithPath(e),n=o[0],r=o[1],i=n;r.reverse().forEach(function(e,t){var o,r=n.parent,a=[i].concat(r.spliceChildren(e+1));0===t&&r.removeChildAt(e),(o=i=r.clone()).appendChild.apply(o,a),n=r});var a=w();L(i,a);var s=new t({root:a,paragraphs:this.paragraphs.splice(e)}),c=s.findMatchedNodeWithPath(s.paragraphs[0])[0];return s._updateType(c,c.type),[this,s]},o.getSiblingType=function(e){return this.findMatchedNodeWithPath(e)[0].parent.type===z?B:U},o.getSiblings=function(e){return this.findMatchedNodeWithPath(e)[0].parent.children.reduce(function(e,t){return t.filler||e.push(t.paragraph),e},[])},o.getNodesInSameListItem=function(e){var t=this.findMatchedNodeWithPath(e),o=t[0],n=t[1],r=n[n.length-1],i=o.parent.children,a=[o];if(o.type===V){for(var s=r-1;s>=0;s--){var c=i[s];if(c.filler||a.push(c),c.type!==V)break}a.reverse()}for(var l=r+1;l<i.length;l++){var u=i[l];if(u.type!==V)break;u.filler||a.push(u)}return a},o.getParagraphsInSameListItem=function(e){return this.getNodesInSameListItem(e).map(function(e){return e.paragraph})},o.addParagraphAfter=function(e,t){var o,n,r,i=this.findMatchedNodeWithPath(e),a=i[0],s=i[1],c=a.children,l=t.map(function(e){return P(e)});(o=Object(u.a)(l)).appendChild.apply(o,c),a.removeAllChildren();var p=Object(u.a)(s),d=this._indexOf(e);(n=a.parent).appendChildAt.apply(n,[p+1].concat(l)),(r=this.paragraphs).splice.apply(r,[d+1,0].concat(t))},o.removeParagraph=function(e){var t=this.findMatchedNodeWithPath(e),o=t[0],n=t[1],r=N(o),i=this._indexOf(e);if(this.paragraphs.splice(i,1),r)o.parent.removeChildAt(n[n.length-1]),r.appendChild.apply(r,o.children);else{o.convertToFiller(),o.removeEmptyChildren(!0);var a=this._getParaAt(i);if(!a)return;var s=this.findMatchedNodeWithPath(a)[0];o.type!==s.type&&this._updateType(s,s.type)}},o._removeParagraphs=function(e){var t=this;e.forEach(function(e){t.removeParagraph(e)})},o._getParaAt=function(e){return 0<=e&&e<this.paragraphs.length?this.paragraphs[e]:null},o.moveParagraphsAfter=function(e,t){this._removeParagraphs(t),this.addParagraphAfter(e,t)},t}(l.w);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/tree-paragraph-store.js",localName:t}})}catch(e){}}e(B,"DECIMAL"),e(U,"BULLET"),e(V,"NONE"),e(F,"UL"),e(z,"OL"),e(W,"WRAPPER_TYPES"),e(G,"TreeParagraphStore")}()},80:function(e,t,o){"use strict";var n,r,i=o(54),a=o.n(i),s=o(17),c=o.n(s),l=o(0),u=o.n(l),p=o(49),d=o.n(p),h=o(48),f=o(51),m=o(138),g=o(55),y=(n=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"alignDropDown:title_inactive",active:"alignDropDown:title_active"}:n,i=e.label,s=void 0===i?"alignDropDown:label":i,l=e.logId,u=void 0===l?"align":l,p=e.options,d=void 0===p?{left:{title:"alignDropDown:left_title",label:"alignDropDown:left_label",logId:"left"},center:{title:"alignDropDown:center_title",label:"alignDropDown:center_label",logId:"center"},right:{title:"alignDropDown:right_title",label:"alignDropDown:right_label",logId:"right"}}:p,f=e.optionType,y=void 0===f?g.c.ICON:f,b=e.useIconUpdate,_=void 0===b||b,v=e.value,C=void 0===v?"":v,O=c()(e,["type","title","label","logId","options","optionType","useIconUpdate","value"]);return h.b.createElement(m.a,a()({},O,{type:o,title:r,label:s,value:C,logId:u,options:d,optionType:y,useIconUpdate:_,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeAlign(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),n),b=y,_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-drop-down-button-view.jsx",localName:t}})}catch(e){}}e(y,"AlignDropDownButtonView"),e(b,"default")}();var v,C=(r=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"alignDropDown:title_inactive",active:"alignDropDown:title_active"}:n,i=e.label,s=void 0===i?"alignDropDown:label":i,l=e.logId,u=void 0===l?"align":l,p=e.options,d=void 0===p?{left:{title:"alignDropDown:left_title",label:"alignDropDown:left_label",logId:"left"},center:{title:"alignDropDown:center_title",label:"alignDropDown:center_label",logId:"center"},right:{title:"alignDropDown:right_title",label:"alignDropDown:right_label",logId:"right"},justify:{title:"alignDropDown:justify_title",label:"alignDropDown:justify_label",logId:"justify"}}:p,f=e.optionType,y=void 0===f?g.c.ICON:f,b=e.value,_=void 0===b?"":b,v=e.useIconUpdate,C=void 0===v||v,O=c()(e,["type","title","label","logId","options","optionType","value","useIconUpdate"]);return h.b.createElement(m.a,a()({},O,{type:o,title:r,label:s,value:_,logId:u,options:d,optionType:y,useIconUpdate:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeAlign(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(r.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(r.prototype,"_handleClickOption"),r.prototype),r),O=C,S=O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-drop-down-with-justify-button-view.jsx",localName:t}})}catch(e){}}e(C,"AlignDropDownWithJustifyButtonView"),e(O,"default")}();var k=(v=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"alignDropDown:title_inactive",active:"alignDropDown:title_active"}:n,i=e.label,s=void 0===i?"alignDropDown:label":i,l=e.logId,u=void 0===l?"align":l,p=e.options,d=void 0===p?{left:{title:"alignDropDown:left_title",label:"alignDropDown:left_label",logId:"left"},center:{title:"alignDropDown:center_title",label:"alignDropDown:center_label",logId:"center"}}:p,f=e.optionType,y=void 0===f?g.c.ICON:f,b=e.value,_=void 0===b?"":b,v=e.useIconUpdate,C=void 0===v||v,O=c()(e,["type","title","label","logId","options","optionType","value","useIconUpdate"]);return h.b.createElement(m.a,a()({},O,{type:o,title:r,label:s,value:_,logId:u,options:d,optionType:y,useIconUpdate:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeAlign(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(v.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleClickOption"),v.prototype),v),I=k,w=I;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-drop-down-without-right-button-view.jsx",localName:t}})}catch(e){}}e(k,"AlignDropDownWithoutRightButtonView"),e(I,"default")}();var P,j,T=o(388),L=(P=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.CYCLE_TOGGLE:t,n=e.title,r=void 0===n?"alignGroup:title":n,i=e.label,s=void 0===i?"alignGroup:label":i,l=e.value,u=void 0===l?"left":l,p=e.groups,d=void 0===p?[{value:"left",title:"alignGroup:left_title",label:"alignGroup:left_label",logId:"left"},{value:"center",title:"alignGroup:center_title",label:"alignGroup:center_label",logId:"center"},{value:"right",title:"alignGroup:right_title",label:"alignGroup:right_label",logId:"right"}]:p,f=c()(e,["type","title","label","value","groups"]);return h.b.createElement(T.a,a()({},f,{type:o,title:r,label:s,value:u,groups:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(P.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(P.prototype,"_changeAlign"),P.prototype),P),E=L,N=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-cycle-button-view.jsx",localName:t}})}catch(e){}}e(L,"AlignCycleButtonView"),e(E,"default")}();var x=(j=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.CYCLE_TOGGLE:t,n=e.title,r=void 0===n?"alignGroupWithJustify:title":n,i=e.label,s=void 0===i?"alignGroupWithJustify:label":i,l=e.value,u=void 0===l?"left":l,p=e.groups,d=void 0===p?[{value:"left",title:"alignGroupWithJustify:left_title",label:"alignGroupWithJustify:left_label",logId:"left"},{value:"center",title:"alignGroupWithJustify:center_title",label:"alignGroupWithJustify:center_label",logId:"center"},{value:"right",title:"alignGroupWithJustify:right_title",label:"alignGroupWithJustify:right_label",logId:"right"},{value:"justify",title:"alignGroupWithJustify:justify_title",label:"alignGroupWithJustify:justify_label",logId:"justify"}]:p,f=c()(e,["type","title","label","value","groups"]);return h.b.createElement(T.a,a()({},f,{type:o,title:r,label:s,value:u,groups:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(j.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_changeAlign"),j.prototype),j),D=x,R=D;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-cycle-with-justify-button-view.jsx",localName:t}})}catch(e){}}e(x,"AlignCycleWithJustifyButtonView"),e(D,"default")}();var A,M,B=o(104),U=(A=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"alignGroup:title":n,i=e.label,s=void 0===i?"alignGroup:label":i,l=e.groups,u=void 0===l?[{value:"left",title:"alignGroup:left_title",label:"alignGroup:left_label",logId:"left"},{value:"center",title:"alignGroup:center_title",label:"alignGroup:center_label",logId:"center"},{value:"right",title:"alignGroup:right_title",label:"alignGroup:right_label",logId:"right"}]:l,p=e.value,d=void 0===p?"":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(B.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(A.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(A.prototype,"_changeAlign"),A.prototype),A),V=U,F=V;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-group-button-view.jsx",localName:t}})}catch(e){}}e(U,"AlignGroupButtonView"),e(V,"default")}();var z,W=(M=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"alignGroupWithJustify:title":n,i=e.label,s=void 0===i?"alignGroupWithJustify:label":i,l=e.groups,u=void 0===l?[{value:"left",title:"alignGroupWithJustify:left_title",label:"alignGroupWithJustify:left_label",logId:"left"},{value:"center",title:"alignGroupWithJustify:center_title",label:"alignGroupWithJustify:center_label",logId:"center"},{value:"right",title:"alignGroupWithJustify:right_title",label:"alignGroupWithJustify:right_label",logId:"right"},{value:"justify",title:"alignGroupWithJustify:justify_title",label:"alignGroupWithJustify:justify_label",logId:"justify"}]:l,p=e.value,d=void 0===p?"left":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(B.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(M.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(M.prototype,"_changeAlign"),M.prototype),M),G=W,H=G;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-group-with-justify-button-view.jsx",localName:t}})}catch(e){}}e(W,"AlignGroupWithJustifyButtonView"),e(G,"default")}();var q=(z=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"alignGroupWithoutRight:title":n,i=e.label,s=void 0===i?"alignGroupWithoutRight:label":i,l=e.groups,u=void 0===l?[{value:"left",title:"alignGroupWithoutRight:left_title",label:"alignGroupWithoutRight:left_label",logId:"left"},{value:"center",title:"alignGroupWithoutRight:center_title",label:"alignGroupWithoutRight:center_label",logId:"center"}]:l,p=e.value,d=void 0===p?"left":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(B.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(z.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(z.prototype,"_changeAlign"),z.prototype),z),J=q,K=J;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-group-without-right-button-view.jsx",localName:t}})}catch(e){}}e(q,"AlignGroupWithoutRightButtonView"),e(J,"default")}();var Y,X=o(284),Q=(Y=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.COLOR_PICKER:t,n=e.title,r=void 0===n?"backgroundColor:title":n,i=e.label,s=void 0===i?"backgroundColor:label":i,l=e.useBackground,u=void 0===l||l,p=e.useCurrentColor,d=void 0===p||p,f=e.option,m=void 0===f?{recentColors:[]}:f,y=e.value,b=void 0===y?"":y,_=e.defaultValue,v=void 0===_?"#fff":_,C=e.logId,O=void 0===C?"bgcolor":C,S=c()(e,["type","title","label","useBackground","useCurrentColor","option","value","defaultValue","logId"]);return h.b.createElement(X.a,a()({},S,{type:o,title:r,label:s,useBackground:u,useCurrentColor:d,option:m,value:b,defaultValue:v,logId:O,onChange:this._handleChange,recentColors:m.recentColors}))},o._handleChange=function(e){var t=this.props,o=t.useCase,n=t.onClickSelector;o.changeBackgroundColor(e),n(e)},t}(h.b.Component),d()(Y.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Y.prototype,"_handleChange"),Y.prototype),Y),Z=Q,$=Z;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/background-color-button-view.jsx",localName:t}})}catch(e){}}e(Q,"BackgroundColorButtonView"),e(Z,"default")}();var ee=o(686),te=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.SEPARATOR_BAR:t,n=c()(e,["type"]);return h.b.createElement(ee.a,a()({},n,{type:o}))},t}(h.b.Component),oe=te,ne=oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/separator-bar-view.jsx",localName:t}})}catch(e){}}e(te,"SeparatorBarView"),e(oe,"default")}();var re,ie=o(103),ae=(re=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"bold:title_inactive",active:"bold:title_active"}:i,l=e.label,u=void 0===l?"bold:label":l,p=e.logId,d=void 0===p?"bold":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(ie.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleBold(e)},t}(h.b.Component),d()(re.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(re.prototype,"_handleChange"),re.prototype),re),se=ae,ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/bold-button-view.jsx",localName:t}})}catch(e){}}e(ae,"BoldButtonView"),e(se,"default")}();var le,ue=o(687),pe=o(688),de=(le=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupWithoutExtendPagefull:title":n,i=e.label,s=void 0===i?"contentModeGroupWithoutExtendPagefull:label":i,l=e.groups,u=void 0===l?[{value:"normal",title:"contentModeGroupWithoutExtendPagefull:normal_title",label:"contentModeGroupWithoutExtendPagefull:normal_label",logId:"arrnml"},{value:"fit",title:"contentModeGroupWithoutExtendPagefull:fit_title",label:"contentModeGroupWithoutExtendPagefull:fit_label",logId:"arrfit"}]:l,p=e.value,d=void 0===p?"fit":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(B.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(h.b.Component),d()(le.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(le.prototype,"_handleChange"),le.prototype),le),he=de,fe=he;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-without-extend-pagefull-button-view.jsx",localName:t}})}catch(e){}}e(de,"ContentModeGroupWithoutExtendPagefullButtonView"),e(he,"default")}();var me,ge,ye=o(690),be=o(689),_e=o(691),ve=o(692),Ce=(me=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"dropCap:title_inactive",active:"dropCap:title_active"}:i,l=e.label,u=void 0===l?"dropCap:label":l,p=e.logId,d=void 0===p?"dropcap":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(ie.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleDropCap(e)},t}(h.b.Component),d()(me.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(me.prototype,"_handleChange"),me.prototype),me),Oe=Ce,Se=Oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/drop-cap-button-view.jsx",localName:t}})}catch(e){}}e(Ce,"DropCapButtonView"),e(Oe,"default")}();var ke=(ge=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.COLOR_PICKER:t,n=e.title,r=void 0===n?"fontColor:title":n,i=e.label,s=void 0===i?"fontColor:label":i,l=e.option,u=void 0===l?{recentColors:[]}:l,p=e.value,d=void 0===p?"":p,f=e.defaultValue,m=void 0===f?"#000":f,y=e.useCurrentColor,b=void 0===y||y,_=e.logId,v=void 0===_?"color":_,C=c()(e,["type","title","label","option","value","defaultValue","useCurrentColor","logId"]);return h.b.createElement(X.a,a()({},C,{type:o,title:r,label:s,option:u,value:d,defaultValue:m,useCurrentColor:b,logId:v,onChange:this._handleChange,recentColors:u.recentColors}))},o._handleChange=function(e){this.props.useCase.changeFontColor(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(ge.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(ge.prototype,"_handleChange"),ge.prototype),ge),Ie=ke,we=Ie;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/font-color-button-view.jsx",localName:t}})}catch(e){}}e(ke,"FontColorButtonView"),e(Ie,"default")}();var Pe,je=o(188),Te=o(50);function Le(e,t){return void 0===t&&(t=Object.keys(e)),t.reduce(function(t,o){var n=e[o];return n&&(t[o]={label:n.label,class:n.class,logId:n.logId}),t},{})}var Ee,Ne=(Pe=function(e){function t(t){var o;return(o=e.call(this,t)||this)._fontSpec=Te.V.get("fontManager").getCurrentFontSpec(),o}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.LABEL_SELECT:t,n=e.title,r=void 0===n?"fontFamily:title":n,i=e.label,s=void 0===i?"fontFamily:label":i,l=e.hasIcon,u=void 0!==l&&l,p=e.value,d=void 0===p?"system":p,f=e.logId,m=void 0===f?"font":f,y=e.highlight,b=e.config,_=c()(e,["type","title","label","hasIcon","value","logId","highlight","config"]),v=Le(this._fontSpec,b&&b.allowList);return h.b.createElement(je.a,a()({},_,{type:o,title:r,label:s,hasIcon:u,logId:m,onClickOption:this._handleClickOption,options:v,highlight:y,value:d||Object.keys(v)[0]}))},o._handleClickOption=function(e){this.props.useCase.changeFontFamily(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(Pe.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Pe.prototype,"_handleClickOption"),Pe.prototype),Pe),xe=Ne,De=xe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/font-family-button-view.jsx",localName:t}})}catch(e){}}e(Le,"makeOptions"),e(Ne,"FontFamilyButtonView"),e(xe,"default")}();var Re,Ae=(Ee=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.LABEL_SELECT:t,n=e.title,r=void 0===n?"fontSizeCode:title":n,i=e.label,s=void 0===i?"fontSizeCode:label":i,l=e.hasIcon,u=void 0!==l&&l,p=e.value,d=void 0===p?"fs16":p,f=e.logId,m=void 0===f?"size":f,y=e.options,b=void 0===y?{fs11:{label:"fontSizeCode:label_fs11",logId:"size11"},fs13:{label:"fontSizeCode:label_fs13",logId:"size13"},fs15:{label:"fontSizeCode:label_fs15",logId:"size15"},fs16:{label:"fontSizeCode:label_fs16",logId:"size16"},fs19:{label:"fontSizeCode:label_fs19",logId:"size19"},fs24:{label:"fontSizeCode:label_fs24",logId:"size24"},fs28:{label:"fontSizeCode:label_fs28",logId:"size28"},fs30:{label:"fontSizeCode:label_fs30",logId:"size30"},fs34:{label:"fontSizeCode:label_fs34",logId:"size34"},fs38:{label:"fontSizeCode:label_fs38",logId:"size38"}}:y,_=c()(e,["type","title","label","hasIcon","value","logId","options"]);return h.b.createElement(je.a,a()({},_,{type:o,title:r,label:s,hasIcon:u,value:d,logId:m,options:b,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeFontSize(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(Ee.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Ee.prototype,"_handleClickOption"),Ee.prototype),Ee),Me=Ae,Be=Me;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/font-size-button-view.jsx",localName:t}})}catch(e){}}e(Ae,"FontSizeButtonView"),e(Me,"default")}();var Ue,Ve=(Re=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"italic:title_inactive",active:"italic:title_active"}:i,l=e.label,u=void 0===l?"italic:label":l,p=e.logId,d=void 0===p?"italic":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(ie.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleClick}))},o._handleClick=function(e){this.props.useCase.toggleItalic(e)},t}(h.b.Component),d()(Re.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Re.prototype,"_handleClick"),Re.prototype),Re),Fe=Ve,ze=Fe;function We(e,t,o){var n=""===e.value,r=!1===Object.keys(o).includes(t);return n&&(r&&""!==t)}!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/italic-button-view.jsx",localName:t}})}catch(e){}}e(Ve,"ItalicButtonView"),e(Fe,"default")}();var Ge={150:{label:"lineHeight:label_150",logId:"line150"},160:{label:"lineHeight:label_160",logId:"line160"},170:{label:"lineHeight:label_170",logId:"line170"},180:{label:"lineHeight:label_180",logId:"line180"},190:{label:"lineHeight:label_190",logId:"line190"},200:{label:"lineHeight:label_200",logId:"line200"},210:{label:"lineHeight:label_210",logId:"line210"},"option-value":{label:"",useInput:!0,placeholder:"lineHeight:placeholder",logId:"linec"}},He=(Ue=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"lineHeight:title_inactive",active:"lineHeight:title_active"}:n,i=e.label,s=void 0===i?"lineHeight:label":i,l=e.applyLabel,u=void 0===l?"lineHeight:apply_label":l,p=e.value,d=void 0===p?"":p,f=e.logId,y=void 0===f?"line":f,b=e.options,_=void 0===b?Ge:b,v=e.optionType,C=void 0===v?g.c.TEXT:v,O=c()(e,["type","title","label","applyLabel","value","logId","options","optionType"]),S=(100*d).toFixed();return h.b.createElement(m.a,a()({},O,{type:o,title:r,label:s,applyLabel:u,value:S,logId:y,options:_,optionType:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){var t=this.props,o=t.value,n=void 0===o?"":o,r=t.options,i=void 0===r?Ge:r,a=t.useCase,s=t.onClickSelector;We(e,n,i)&&(e.value=(100*n).toFixed()),a.changeLineHeight(e),s(e)},t}(h.b.Component),d()(Ue.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Ue.prototype,"_handleClickOption"),Ue.prototype),Ue);He.propTypes={useCase:h.a.object,onClickSelector:h.a.func};var qe=He,Je=qe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/line-height-button-view.jsx",localName:t}})}catch(e){}}e(We,"shouldReplaceInputValue"),e(Ge,"DEFAULT_OPTIONS"),e(He,"LineHeightButtonView"),e(qe,"default")}();var Ke,Ye=o(507),Xe=o(187),Qe=o(385),Ze=(Ke=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.CUSTOM_LAYER:t,n=e.value,r=void 0===n?"":n,i=e.title,s=void 0===i?{inactive:"link:title_inactive",active:"link:title_active"}:i,l=e.label,u=void 0===l?"link:label":l,p=e.labelVisible,d=void 0!==p&&p,f=e.selectIfHasValue,m=void 0===f||f,y=e.onValidateValue,b=void 0===y?Ye.a.hasValue:y,_=e.custom,v=void 0===_?{CustomLayer:Qe.a,customProps:{placeholder:"link:custom_placeholder",applyLabel:"link:apply_label"}}:_,C=e.logId,O=void 0===C?"urllink":C,S=c()(e,["type","value","title","label","labelVisible","selectIfHasValue","onValidateValue","custom","logId"]);return h.b.createElement(Xe.a,a()({},S,{type:o,title:s,label:u,labelVisible:d,selectIfHasValue:m,onValidateValue:b,logId:O,custom:v,onClick:this._handleClick,onChange:this._handleChange,value:r||""}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeLink(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(Ke.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Ke.prototype,"_handleClick"),Ke.prototype),d()(Ke.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Ke.prototype,"_handleChange"),Ke.prototype),Ke),$e=Ze,et=$e;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/link-button-view.jsx",localName:t}})}catch(e){}}e(Ze,"LinkButtonView"),e($e,"default")}();var tt,ot=o(693),nt=(tt=function(e){function t(){var t;t=e.call(this)||this;var o=Te.V.get("configAgent");return t._allowLayouts=o.get("productConfig.sectionTitle.layouts"),t}u()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.type,n=void 0===o?g.a.GROUP_TOGGLE:o,r=t.title,i=void 0===r?"sectionTitleLayout:title":r,s=t.label,l=void 0===s?"sectionTitleLayout:label":s,u=t.value,p=void 0===u?"default":u,d=t.groups,f=void 0===d?[{value:"default",title:"sectionTitleLayout:default_title",label:"sectionTitleLayout:default_label",logId:"section-title-layout-default"},{value:"heading1",title:"sectionTitleLayout:heading1_title",label:"sectionTitleLayout:heading1_label",logId:"section-title-layout-heading1"},{value:"heading2",title:"sectionTitleLayout:heading2_title",label:"sectionTitleLayout:heading2_label",logId:"section-title-layout-heading2"}]:d,m=c()(t,["type","title","label","value","groups"]),y=f;return this._allowLayouts&&(y=y.filter(function(t){return e._allowLayouts.includes(t.value)})),h.b.createElement(B.a,a()({},m,{type:n,title:i,label:l,value:p,groups:y,onChange:this._handleChange}))},o._handleChange=function(e){var t=e.value;this.props.useCase.changeLayout({value:t}),this.props.onClickSelector(e)},t}(h.b.Component),d()(tt.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(tt.prototype,"_handleChange"),tt.prototype),tt),rt=nt,it=rt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/section-title-layout-button-view.jsx",localName:t}})}catch(e){}}e(nt,"SectionTitleLayoutButtonView"),e(rt,"default")}();var at,st,ct=o(62),lt=function(){return Te.V.get("domAccessor").getScrollTarget(document.documentElement).scrollTop},ut=function(e,t,o,n){var r=lt(),i=n+r,a=e+t+r,s=a+350;return s>i?a-(s-i)-50:a},pt=(at=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"specialLetter:title":n,i=e.label,s=void 0===i?"specialLetter:label":i,l=e.logId,u=void 0===l?"spclet":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){var t=e.event,o=Te.V.get("domAccessor").getContentContainer().getBoundingClientRect(),n=o.left,r=(o.top,o.bottom),i=t.currentTarget.getBoundingClientRect(),a=i.top,s=i.left,c=i.height,l={pageX:s+i.width-n,pageY:ut(a,c,0,r),activated:"text"};this.props.useCase.openSpecialLetter(l)},t}(h.b.Component),d()(at.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(at.prototype,"_handleClick"),at.prototype),at),dt=pt,ht=dt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/special-letter-button-view.jsx",localName:t}})}catch(e){}}e(350,"SPECIAL_LETTER_PANE_HEIGHT"),e(-50,"ADJUSTED_TOP_MARGIN"),e(lt,"findScrollTop"),e(ut,"calculateFineY"),e(pt,"SpecialLetterButtonView"),e(dt,"default")}();var ft,mt=(st=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"speller:title":n,i=e.label,s=void 0===i?"speller:label":i,l=e.logId,u=void 0===l?"spl":l,p=e.labelVisible,d=void 0===p||p,f=c()(e,["type","title","label","logId","labelVisible"]);return h.b.createElement(ct.a,a()({},f,{type:o,title:r,label:s,logId:u,labelVisible:d,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.startSpellCheck()},t}(h.b.Component),d()(st.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(st.prototype,"_handleClick"),st.prototype),st),gt=mt,yt=gt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/speller-button-view.jsx",localName:t}})}catch(e){}}e(mt,"SpellerButtonView"),e(gt,"default")}();var bt,_t=(ft=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"strikeThrough:title_inactive",active:"strikeThrough:title_active"}:i,l=e.label,u=void 0===l?"strikeThrough:label":l,p=e.logId,d=void 0===p?"strike":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(ie.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggleStrikeThrough()},t}(h.b.Component),d()(ft.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(ft.prototype,"_handleChange"),ft.prototype),ft),vt=_t,Ct=vt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/strikethrough-button-view.jsx",localName:t}})}catch(e){}}e(_t,"StrikeThroughButtonView"),e(vt,"default")}();var Ot,St=(bt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"subscript:title_inactive",active:"subscript:title_active"}:i,l=e.label,u=void 0===l?"subscript:label":l,p=e.logId,d=void 0===p?"subsct":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(ie.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggleSubscript()},t}(h.b.Component),d()(bt.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(bt.prototype,"_handleChange"),bt.prototype),bt),kt=St,It=kt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/subscript-button-view.jsx",localName:t}})}catch(e){}}e(St,"SubscriptButtonView"),e(kt,"default")}();var wt=(Ot=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"superscript:title_inactive",active:"superscript:title_active"}:i,l=e.label,u=void 0===l?"superscript:label":l,p=e.logId,d=void 0===p?"supsct":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(ie.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggleSuperscript()},t}(h.b.Component),d()(Ot.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Ot.prototype,"_handleChange"),Ot.prototype),Ot),Pt=wt,jt=Pt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/superscript-button-view.jsx",localName:t}})}catch(e){}}e(wt,"SuperscriptButtonView"),e(Pt,"default")}();var Tt,Lt,Et=o(696),Nt=o(1),xt=o.n(Nt),Dt=(Tt=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=Te.V.get("configAgent"),o._option={heading1:{title:"textFormatDropdown:heading1_title",label:"textFormatDropdown:heading1_label",ctype:"sectionTitle",logId:"fmtHeading1"},heading2:{title:"textFormatDropdown:heading2_title",label:"textFormatDropdown:heading2_label",ctype:"sectionTitle",logId:"fmtHeading2"},default:{title:"textFormatDropdown:text_title",label:"textFormatDropdown:text_label",ctype:"text",logId:"fmtDefault"}},o}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"textFormatDropdown:title_inactive",active:"textFormatDropdown:title_active"}:n,i=e.label,s=void 0===i?"textFormatDropdown:label":i,l=e.logId,u=void 0===l?"fmt":l,p=e.options,d=void 0===p?this._option:p,f=e.optionType,y=void 0===f?g.c.TEXT:f,b=e.useIconUpdate,_=void 0===b||b,v=e.value,C=void 0===v?"":v,O=c()(e,["type","title","label","logId","options","optionType","useIconUpdate","value"]);return h.b.createElement(m.a,a()({},O,{type:o,title:r,label:s,value:C,logId:u,disabled:!this.isEnabledTextLayout,options:d,optionType:y,useIconUpdate:_,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){var t=this._refineClickMeta(e),o=t.textFormat,n=t.layout;this.props.useCase.changeTextLayout(o,n,g.b),this.props.onClickSelector(e)},o._refineClickMeta=function(e){var t=e.value;return{textFormat:this._option[t].ctype,layout:t}},xt()(t,[{key:"isEnabledTextLayout",get:function(){return this.props.useCase.isEnabledTextLayout(g.b)}}]),t}(h.b.Component),d()(Tt.prototype,"isEnabledTextLayout",[h.e],Object.getOwnPropertyDescriptor(Tt.prototype,"isEnabledTextLayout"),Tt.prototype),d()(Tt.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"_handleClickOption"),Tt.prototype),Tt),Rt=Dt,At=Rt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/text-format-drop-down-bitton-view.jsx",localName:t}})}catch(e){}}e(Dt,"TextFormatDropDownButtonView"),e(Rt,"default")}();var Mt=(Lt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"underline:title_inactive",active:"underline:title_active"}:i,l=e.label,u=void 0===l?"underline:label":l,p=e.logId,d=void 0===p?"underline":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(ie.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleUnderline(e)},t}(h.b.Component),d()(Lt.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Lt.prototype,"_handleChange"),Lt.prototype),Lt),Bt=Mt,Ut=Bt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/underline-button-view.jsx",localName:t}})}catch(e){}}e(Mt,"UnderlineButtonView"),e(Bt,"default")}();var Vt,Ft,zt=o(697),Wt=o(698),Gt=(Vt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"library:title",active:"library:title"}:n,i=e.label,s=void 0===i?"library:label":i,l=e.logId,u=void 0===l?"lib":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(ie.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggle(e)},t}(h.b.Component),d()(Vt.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Vt.prototype,"_handleChange"),Vt.prototype),Vt),Ht=Gt,qt=Ht;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/library-button-view.jsx",localName:t}})}catch(e){}}e(Gt,"LibraryButtonView"),e(Ht,"default")}();var Jt=(Ft=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"codeInsert:title":n,i=e.label,s=void 0===i?"codeInsert:label":i,l=e.logId,u=void 0===l?"code":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,logId:u,label:s,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertSourceCode()},t}(h.b.Component),d()(Ft.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Ft.prototype,"_handleClick"),Ft.prototype),Ft),Kt=Jt,Yt=Kt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/code-insert-button-view.jsx",localName:t}})}catch(e){}}e(Jt,"CodeInsertButtonView"),e(Kt,"default")}();var Xt,Qt=o(154),Zt=o(389),$t=(Xt=function(e){function t(){var t;t=e.call(this)||this;var o=Te.V.get("configAgent").get("productConfig.horizontalLine")||{};return t._allowLayouts=o.layouts,t._useBasicButton=o.useBasicButton,t}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.title,o=void 0===t?"horizontalLineInsert:title":t,n=e.label,r=void 0===n?"horizontalLineInsert:label":n,i=e.selectorLabel,s=void 0===i?"horizontalLineInsert:selector_label":i,l=e.logId,u=void 0===l?"horizt":l,p=e.options,d=void 0===p?{default:{label:"horizontalLineInsert:default_label",logId:"horizt0"},line1:{label:"horizontalLineInsert:line1_label",logId:"horizt1"},line2:{label:"horizontalLineInsert:line2_label",logId:"horizt2"},line3:{label:"horizontalLineInsert:line3_label",logId:"horizt3"},line4:{label:"horizontalLineInsert:line4_label",logId:"horizt4"},line5:{label:"horizontalLineInsert:line5_label",logId:"horizt5"},line6:{label:"horizontalLineInsert:line6_label",logId:"horizt6"},line7:{label:"horizontalLineInsert:line7_label",logId:"horizt7"}}:p,f=c()(e,["title","label","selectorLabel","logId","options"]),m=d,y=Zt.a,b=g.a.ICON_SELECT;return this._allowLayouts&&(m=Object(Qt.a)(m,this._allowLayouts)),this._useBasicButton&&(y=ct.a,b=g.a.BASIC),h.b.createElement(y,a()({},f,{type:b,title:o,label:r,selectorLabel:s,logId:u,options:m,onClick:this._handleClick,onClickOption:this._handleClickOption}))},o._handleClick=function(e){var t=e.selectedValue;this.props.useCase.insertHorizontalLine(t)},o._handleClickOption=function(e){var t=e.value;this.props.useCase.insertHorizontalLine(t),this.props.onClickSelector(e)},t}(h.b.Component),d()(Xt.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Xt.prototype,"_handleClick"),Xt.prototype),d()(Xt.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Xt.prototype,"_handleClickOption"),Xt.prototype),Xt),eo=$t,to=eo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/horizontal-line-insert-button-view.jsx",localName:t}})}catch(e){}}e($t,"HorizontalLineInsertButtonView"),e(eo,"default")}();var oo,no,ro=o(700),io=(oo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"formulaInsert:title":n,i=e.label,s=void 0===i?"formulaInsert:label":i,l=e.logId,u=void 0===l?"formula":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.insertFormula(e)},t}(h.b.Component),d()(oo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(oo.prototype,"_handleClick"),oo.prototype),oo),ao=io,so=ao;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/formula-insert-button-view.jsx",localName:t}})}catch(e){}}e(io,"FormulaInsertButtonView"),e(ao,"default")}();var co,lo=(no=function(e){function t(){var t;t=e.call(this)||this;var o=Te.V.get("configAgent").get("productConfig.quotation")||{};return t._allowLayouts=o.layouts,t._useBasicButton=o.useBasicButton,t}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.title,o=void 0===t?"quotationInsert:title":t,n=e.label,r=void 0===n?"quotationInsert:label":n,i=e.selectorLabel,s=void 0===i?"quotationInsert:selector_label":i,l=e.logId,u=void 0===l?"quota":l,p=e.options,d=void 0===p?{default:{label:"quotationInsert:default_label",logId:"quota0"},quotation_line:{label:"quotationInsert:line_label",logId:"quota1"},quotation_bubble:{label:"quotationInsert:bubble_label",logId:"quota2"},quotation_underline:{label:"quotationInsert:underline_label",logId:"quota3"},quotation_postit:{label:"quotationInsert:postit_label",logId:"quota4"},quotation_corner:{label:"quotationInsert:corner_label",logId:"quota5"}}:p,f=c()(e,["title","label","selectorLabel","logId","options"]),m=d,y=Zt.a,b=g.a.ICON_SELECT;return this._allowLayouts&&(m=Object(Qt.a)(m,this._allowLayouts)),this._useBasicButton&&(y=ct.a,b=g.a.BASIC),h.b.createElement(y,a()({},f,{type:b,title:o,label:r,selectorLabel:s,logId:u,options:m,onClick:this._handleClick,onClickOption:this._handleClickOption}))},o._handleClick=function(e){var t=e.selectedValue;this._useBasicButton?this.props.useCase.changeTextLayout(t):this.props.useCase.insertQuotation(t)},o._handleClickOption=function(e){var t=e.value;this.props.useCase.insertQuotation(t),this.props.onClickSelector(e)},t}(h.b.Component),d()(no.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(no.prototype,"_handleClick"),no.prototype),d()(no.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(no.prototype,"_handleClickOption"),no.prototype),no),uo=lo,po=uo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/quotation-insert-button-view.jsx",localName:t}})}catch(e){}}e(lo,"QuotationInsertButtonView"),e(uo,"default")}();var ho,fo=(co=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"tableInsert:title":n,i=e.label,s=void 0===i?"tableInsert:label":i,l=e.logId,u=void 0===l?"table":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertTable()},t}(h.b.Component),d()(co.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(co.prototype,"_handleClick"),co.prototype),co),mo=fo,go=mo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/table-insert-button-view.jsx",localName:t}})}catch(e){}}e(fo,"TableInsertButtonView"),e(mo,"default")}();var yo=(ho=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"videoInsert:title":n,i=e.label,s=void 0===i?"videoInsert:label":i,l=e.logId,u=void 0===l?"video":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.insertVideo(e)},t}(h.b.Component),d()(ho.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(ho.prototype,"_handleClick"),ho.prototype),ho);yo.propTypes={useCase:h.a.object};var bo,_o=yo,vo=_o;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/video-insert-button-view.jsx",localName:t}})}catch(e){}}e(yo,"VideoInsertButtonView"),e(_o,"default")}();var Co,Oo=(bo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"audioInsert:title":n,i=e.label,s=void 0===i?"audioInsert:label":i,l=c()(e,["type","title","label"]);return h.b.createElement(ct.a,a()({},l,{type:o,title:r,label:s,onClick:this._insertAudio}))},o._insertAudio=function(e){this.props.useCase.insertAudio(e)},t}(h.b.Component),d()(bo.prototype,"_insertAudio",[f.autobind],Object.getOwnPropertyDescriptor(bo.prototype,"_insertAudio"),bo.prototype),bo),So=Oo,ko=So;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/audio-insert-button-view.jsx",localName:t}})}catch(e){}}e(Oo,"AudioInsertButtonView"),e(So,"default")}();var Io,wo=(Co=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"socialMediaImageInsert:title":n,i=e.label,s=void 0===i?"socialMediaImageInsert:label":i,l=e.logId,u=void 0===l?"snsimg":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openPopup()},t}(h.b.Component),d()(Co.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Co.prototype,"_handleClick"),Co.prototype),Co),Po=wo,jo=Po;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/social-media-image-insert-button-view.jsx",localName:t}})}catch(e){}}e(wo,"SocialMediaImageInsertButtonView"),e(Po,"default")}();var To,Lo=(Io=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"fileInsert:title":n,i=e.label,s=void 0===i?"fileInsert:label":i,l=e.logId,u=void 0===l?"file":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertFile()},t}(h.b.Component),d()(Io.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Io.prototype,"_handleClick"),Io.prototype),Io),Eo=Lo,No=Eo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/file-insert-button-view.jsx",localName:t}})}catch(e){}}e(Lo,"FileInsertButtonView"),e(Eo,"default")}();var xo,Do=(To=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"oglinkInsert:title":n,i=e.label,s=void 0===i?"oglinkInsert:label":i,l=e.logId,u=void 0===l?"link":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openLinkLayer()},t}(h.b.Component),d()(To.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(To.prototype,"_handleClick"),To.prototype),To),Ro=Do,Ao=Ro;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/oglink-insert-button-view.jsx",localName:t}})}catch(e){}}e(Do,"OglinkInsertButtonView"),e(Ro,"default")}();var Mo,Bo=(xo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"mapInsert:title":n,i=e.label,s=void 0===i?"mapInsert:label":i,l=e.logId,u=void 0===l?"map":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openPlacePopup()},t}(h.b.Component),d()(xo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(xo.prototype,"_handleClick"),xo.prototype),xo),Uo=Bo,Vo=Uo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/map-insert-button-view.jsx",localName:t}})}catch(e){}}e(Bo,"MapInsertButtonView"),e(Uo,"default")}();var Fo,zo=(Mo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"scheduleInsert:title":n,i=e.label,s=void 0===i?"scheduleInsert:label":i,l=e.logId,u=void 0===l?"schedule":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openScheduleLayer()},t}(h.b.Component),d()(Mo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Mo.prototype,"_handleClick"),Mo.prototype),Mo),Wo=zo,Go=Wo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/schedule-insert-button-view.jsx",localName:t}})}catch(e){}}e(zo,"ScheduleInsertButtonView"),e(Wo,"default")}();var Ho=(Fo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"searchButton:title",active:"searchButton:title"}:n,i=e.label,s=void 0===i?"searchButton:label":i,l=e.logId,u=void 0===l?"search":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(ie.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()(Fo.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Fo.prototype,"_handleChange"),Fo.prototype),Fo);Ho.propTypes={useCase:h.a.object};var qo,Jo=Ho,Ko=Jo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/search-button-view.jsx",localName:t}})}catch(e){}}e(Ho,"SearchButtonView"),e(Jo,"default")}();var Yo=(qo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"moment:title",active:"moment:title"}:n,i=e.label,s=void 0===i?"moment:label":i,l=e.logId,u=void 0===l?"moment":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(ie.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()(qo.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(qo.prototype,"_handleChange"),qo.prototype),qo);Yo.propTypes={useCase:h.a.object};var Xo,Qo=Yo,Zo=Qo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/moment-button-view.jsx",localName:t}})}catch(e){}}e(Yo,"MomentButtonView"),e(Qo,"default")}();var $o,en=(Xo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"stickerInsert:title",active:"stickerInsert:title"}:n,i=e.label,s=void 0===i?"stickerInsert:label":i,l=e.logId,u=void 0===l?"sticker":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(ie.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()(Xo.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Xo.prototype,"_handleChange"),Xo.prototype),Xo),tn=en,on=tn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/sticker-insert-button-view.jsx",localName:t}})}catch(e){}}e(en,"StickerButtonView"),e(tn,"default")}();var nn=($o=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"template:title",active:"template:title"}:n,i=e.label,s=void 0===i?"template:label":i,l=e.logId,u=void 0===l?"template":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(ie.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()($o.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor($o.prototype,"_handleChange"),$o.prototype),$o),rn=nn,an=rn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/template-button-view.jsx",localName:t}})}catch(e){}}e(nn,"TemplateButtonView"),e(rn,"default")}();var sn,cn=o(704),ln=(sn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"toText:title":n,i=e.label,s=void 0===i?"toText:label":i,l=e.logId,u=void 0===l?"fmttext":l,p=e.labelVisible,d=void 0===p||p,f=c()(e,["type","title","label","logId","labelVisible"]);return h.b.createElement(ct.a,a()({},f,{type:o,title:r,label:s,logId:u,labelVisible:d,onClick:this._handleClick}))},o._handleClick=function(e){e.value="text",this.props.useCase.changeTextFormat(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(sn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(sn.prototype,"_handleClick"),sn.prototype),sn),un=ln,pn=un;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/to-text-button-view.jsx",localName:t}})}catch(e){}}e(ln,"ToTextButtonView"),e(un,"default")}();var dn,hn,fn=o(210),mn=o(261),gn=o(262),yn=o(263),bn=o(264),_n=o(265),vn=o(705),Cn=o(706),On=(dn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"videoResizing:title_inactive",active:"videoResizing:title_active"}:n,i=e.label,s=void 0===i?"videoResizing:label":i,l=e.labelVisible,u=void 0===l||l,p=e.isSelected,d=void 0!==p&&p,f=e.custom,m=void 0===f?{CustomLayer:Cn.a,customProps:{applyAllLabel:"videoResizing:apply_all_label",widthLabel:"videoResizing:width_label",heightLabel:"videoResizing:height_label",resetLabel:"videoResizing:reset_label",applyLabel:"videoResizing:apply_label"}}:f,y=e.logId,b=void 0===y?"qsize":y,_=c()(e,["type","title","label","labelVisible","isSelected","custom","logId"]);return h.b.createElement(Xe.a,a()({},_,{type:o,title:r,label:s,labelVisible:u,isSelected:d,custom:m,logId:b,onClick:this._handleClick,onChange:this._handleChange}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeSize(e)},t}(h.b.Component),d()(dn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(dn.prototype,"_handleClick"),dn.prototype),d()(dn.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(dn.prototype,"_handleChange"),dn.prototype),dn),Sn=On,kn=Sn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/video-resizing-button-view.jsx",localName:t}})}catch(e){}}e(On,"VideoResizingButtonView"),e(Sn,"default")}();var In=(hn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"inlineImage:title":n,i=e.logId,s=void 0===i?"inline":i,l=c()(e,["type","title","logId"]);return h.b.createElement(ct.a,a()({},l,{type:o,title:r,logId:s,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.convertImageToNode()},t}(h.b.Component),d()(hn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(hn.prototype,"_handleClick"),hn.prototype),hn),wn=In,Pn=wn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/inline-image-button-view.jsx",localName:t}})}catch(e){}}e(In,"InlineImageButtonView"),e(wn,"default")}();var jn=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._handleClick=function(){t.props.useCase.open()},t}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"translationLayer:translate":n,i=e.logId,s=void 0===i?"translation":i,l=c()(e,["type","title","logId"]);return h.b.createElement(ct.a,a()({},l,{type:o,title:r,logId:s,onClick:this._handleClick}))},t}(h.b.Component);jn.propTypes={useCase:h.a.shape({open:h.a.func.isRequired}).isRequired};var Tn=jn,Ln=Tn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/translation-button-view.jsx",localName:t}})}catch(e){}}e(jn,"TranslationButtonView"),e(Tn,"default")}();var En=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._handleClick=function(){t.props.useCase.open()},t}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"translationLayer:translate":n,i=e.label,s=void 0===i?"translationLayer:translate":i,l=e.logId,u=void 0===l?"translation":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({},p,{type:o,title:r,label:s,logId:u,labelVisible:!0,onClick:this._handleClick}))},t}(h.b.Component);En.propTypes={useCase:h.a.shape({open:h.a.func.isRequired}).isRequired};var Nn=En,xn=Nn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/translation-right-label-button-view.jsx",localName:t}})}catch(e){}}e(En,"TranslationRightLabelButtonView"),e(Nn,"default")}();var Dn,Rn=o(59),An=o.n(Rn),Mn=o(53),Bn=o.n(Mn),Un=o(335),Vn=o(122),Fn=(Dn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.documentToolbarIconType,a=t.moreViewButton,s=t.deviceType,c=t.option,l=t.type,u=t.focused,p=t.logAreaId,d=t.highlight,f=c.label,m=c.logId,y=c.title,b=c.useBeta,_=s===Te.t.DESKTOP,v=r===g.e.DOCUMENT,C=i===g.d.TEXT_ICON,O=Bn()("se-"+n+"-toolbar-button",((e={})["se-"+r+"-toolbar-"+l+"-button"]=!v||!a,e["se-"+r+"-toolbar-"+l+"-more-button"]=v&&a,e["se-"+i+"-toolbar-button"]=_&&v,e)),S=C?"se-toolbar-label":"se-blind";return h.b.createElement(Vn.a,{focused:u,namespace:r,logAreaId:p,logId:m,type:l,dataName:o,className:O,useBeta:b,highlight:d,onClick:this._handleClick},h.b.createElement("span",{className:"se-toolbar-custom-icon"}),h.b.createElement("span",{className:S,"aria-hidden":_},f),_&&h.b.createElement("span",{className:"se-toolbar-tooltip"},y))},o._handleClick=function(e){var t=this.props.option,o=t.onClick,n=void 0===o?function(){}:o,r=c()(t,["onClick"]);document.activeElement&&document.activeElement.blur(),n(An()({event:e.nativeEvent},r))},t}(h.b.Component),d()(Dn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Dn.prototype,"_handleClick"),Dn.prototype),Dn);Fn.defaultProps={id:"",focused:!1,name:"custom",namespace:"",logAreaId:"",highlight:{}},Fn.propTypes={type:h.a.oneOf([g.a.CUSTOM]).isRequired,id:h.a.string,focused:h.a.bool,name:h.a.string,namespace:h.a.string,deviceType:h.a.string,documentToolbarIconType:h.a.string,moreViewButton:h.a.bool,logAreaId:h.a.string,option:h.a.object.isRequired,highlight:h.a.object};var zn=Object(Un.b)(Fn),Wn=zn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/custom-button.jsx",localName:t}})}catch(e){}}e(Fn,"CustomButton"),e(zn,"default")}();var Gn=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.CUSTOM:t,n=c()(e,["type"]);return n.id=n.option.name,n.name=n.option.name,h.b.createElement(Wn,a()({type:o},n))},t}(h.b.Component),Hn=Gn,qn=Hn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/additional-button-view.jsx",localName:t}})}catch(e){}}e(Gn,"AdditionalButtonView"),e(Hn,"default")}();var Jn,Kn=o(216),Yn=o(1210),Xn=(Jn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.options,n=t.optionType,r=Bn()("se-toolbar-"+n+"-option","se-"+n+"-option"),i=o.map(function(t,o){var n=t.buttonView,r=An()({moreViewButton:!0},t.props),i=t.id;return h.b.createElement("div",{key:t.buttonName+"_"+o,className:"__more_view_option se-more-view-option-item se-more-view-option-"+i,onClick:e._handleClickOption},n(r))});return h.b.createElement("div",{className:r},i)},o._handleClickOption=function(e){this.props.onClickOption(e)},t}(h.b.Component),d()(Jn.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Jn.prototype,"_handleClickOption"),Jn.prototype),Jn);Xn.defaultProps={id:"",name:"",optionType:"",options:{},onClickOption:{}},Xn.propTypes={id:h.a.string,name:h.a.string,optionType:h.a.string,options:h.a.oneOfType([h.a.array,h.a.object]),onClickOption:h.a.func};var Qn,Zn=Object(Un.b)(Xn),$n=Zn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/more-view-option.jsx",localName:t}})}catch(e){}}e(Xn,"MoreViewOption"),e(Zn,"default")}();var er=(Qn=function(e){function t(){var t;return(t=e.call(this)||this).state={opened:!1},t}u()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-more-view-"+this.props.namespace;Yn.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-more-view-"+this.props.namespace;Yn.a.off(e)},o.render=function(){var e,t=this.props,o=t.id,n=t.title,r=t.label,i=t.name,a=t.type,s=t.namespace,c=t.documentToolbarIconType,l=t.deviceType,u=t.options,p=t.i18n,d=t.logAreaId,f=t.focused,m=t.logId,y=o,b=this.state.opened,_=p(r),v=l===Te.t.DESKTOP,C=s===g.e.DOCUMENT,O=c===g.d.TEXT_ICON,S=Bn()("se-more-view-button-container","__select-container","__more-view-container"),k=Bn()("se-"+s+"-toolbar-more-view-button","se-"+i+"-toolbar-button",((e={})["se-"+c+"-toolbar-button"]=v&&C,e["se-is-activated"]=b,e)),I=O?"se-toolbar-label":"se-blind",w=p(n[b?"active":"inactive"]);return h.b.createElement("div",{className:S,"data-type":a,"data-name":i},h.b.createElement(Vn.a,{focused:f,namespace:s,logAreaId:d,logId:m,type:a,dataName:y,className:k,handleClick:this.handleClick,i18n:p,ariaExpanded:""+b,ariaHasPopup:"true"},h.b.createElement("span",{className:"se-toolbar-icon"}),h.b.createElement("span",{className:I,"aria-hidden":v},_),v&&h.b.createElement("span",{className:"se-toolbar-tooltip"},w)),b&&h.b.createElement($n,{id:o,name:i,options:u,namespace:s,optionType:g.c.MORE_VIEW,onClickOption:this.onClickOption,i18n:p}))},o.onClickOption=function(e){var t=e.target,o=Kn.a.closest(t,".__select-container").dataset.type,n=t.dataset.role;this.props.namespace===g.e.DOCUMENT&&(n&&("selector"===n||this._isSubMenuButtonType(o))||this._changeMoreViewDisplay(!1))},o.handleClick=function(e){var t=this.state.opened;this._changeMoreViewDisplay(!t);var o=this.props,n=o.onClickSelector,r=o.type,i=o.id,a=o.name,s=o.title,c=o.label,l=o.isActivated;n.apply(this,[{event:e,type:r,id:i,name:a,title:s,label:c,isActivated:l}])},o._handleClickButtonOutside=function(e){var t=e.target,o=this.props.namespace,n=this.state.opened;if(o===g.e.DOCUMENT){var r=Kn.a.isOutsideElementbySelector(t,".__select-container");n&&r&&this._changeMoreViewDisplay(!1)}},o._changeMoreViewDisplay=function(e){this.setState({opened:e})},o._isSubMenuButtonType=function(e){return[g.a.ICON_SELECT].includes(e)},t}(h.b.Component),d()(Qn.prototype,"onClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Qn.prototype,"onClickOption"),Qn.prototype),d()(Qn.prototype,"handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Qn.prototype,"handleClick"),Qn.prototype),d()(Qn.prototype,"_handleClickButtonOutside",[f.autobind],Object.getOwnPropertyDescriptor(Qn.prototype,"_handleClickButtonOutside"),Qn.prototype),Qn);er.defaultProps={name:"",id:"",label:"",title:{inactive:"",active:""},isActivated:!1,namespace:"",focused:!1,options:{},onClickSelector:function(){},i18n:function(e){return e}},er.propTypes={type:h.a.oneOf([g.a.MORE_VIEW]).isRequired,id:h.a.string,name:h.a.string,label:h.a.string,title:h.a.shape({inactive:h.a.string,active:h.a.string}),namespace:h.a.string,documentToolbarIconType:h.a.string,deviceType:h.a.string,isActivated:h.a.bool,focused:h.a.bool,options:h.a.oneOfType([h.a.array,h.a.object]),onClickSelector:h.a.func,i18n:h.a.func,logAreaId:h.a.string,logId:h.a.string};var tr=Object(Un.b)(er),or=tr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/more-view-button.jsx",localName:t}})}catch(e){}}e(er,"MoreViewButton"),e(tr,"default")}();var nr,rr=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.MORE_VIEW:t,n=e.title,r=void 0===n?{inactive:"moreViewButton:title_inactive",active:"moreViewButton:title_active"}:n,i=e.label,s=void 0===i?"moreViewButton:label":i,l=e.logId,u=void 0===l?"moveView":l,p=e.options,d=c()(e,["type","title","label","logId","options"]);return h.b.createElement(or,a()({},d,{type:o,title:r,label:s,logId:u,options:p}))},t}(h.b.Component),ir=rr,ar=ir;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/more-view-button-view.jsx",localName:t}})}catch(e){}}e(rr,"MoreViewButtonView"),e(ir,"default")}();var sr=(nr=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"list:title_inactive",active:"list:title_active"}:n,i=e.label,s=void 0===i?"list:label":i,l=e.value,u=void 0===l?"":l,p=e.logId,d=void 0===p?"list":p,f=e.useHighlight,y=void 0===f||f,b=e.useIconUpdate,_=void 0===b||b,v=e.options,C=void 0===v?{bullet:{title:"list:bullet",label:"list:bullet",logId:"listbullet"},decimal:{title:"list:decimal",label:"list:decimal",logId:"listdecimal"},reset:{title:"list:reset_label",label:"list:reset_label",logId:"listreset"}}:v,O=c()(e,["type","title","label","value","logId","useHighlight","useIconUpdate","options"]);return h.b.createElement(m.a,a()({},O,{type:o,title:r,label:s,value:u,logId:d,options:C,useHighlight:y,useIconUpdate:_,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeListType(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(nr.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(nr.prototype,"_handleClickOption"),nr.prototype),nr),cr=sr,lr=cr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/list-drop-down-button-view.jsx",localName:t}})}catch(e){}}e(sr,"ListDropDownButtonView"),e(cr,"default")}();var ur,pr,dr=o(63),hr=(ur=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.TOGGLE:t,n=e.value,r=e.title,i=void 0===r?{inactive:"imageTag:title",active:"imageTag:title"}:r,s=e.label,l=void 0===s?"imageTag:label":s,u=e.logId,p=void 0===u?"imgtag":u,d=c()(e,["type","value","title","label","logId"]),f=!Object(dr.a)(n);return h.b.createElement(ie.a,a()({},d,{type:o,value:f,title:i,label:l,logId:p,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.openImageTagPopup()},t}(h.b.Component),d()(ur.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(ur.prototype,"_handleChange"),ur.prototype),ur),fr=hr,mr=fr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-tag-button-view.jsx",localName:t}})}catch(e){}}e(hr,"ImageTagButtonView"),e(fr,"default")}();var gr=(pr=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.a.BASIC:t,n=e.title,r=void 0===n?"talktalkInsert:title":n,i=e.label,s=void 0===i?"talktalkInsert:label":i,l=e.logId,u=void 0===l?"talktalk":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(ct.a,a()({type:o,title:r,label:s,logId:u},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openTalktalkEditLayer()},t}(h.b.Component),d()(pr.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(pr.prototype,"_handleClick"),pr.prototype),pr),yr=gr,br=yr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/talktalk-insert-button-view.jsx",localName:t}})}catch(e){}}e(gr,"TalktalkInsertButtonView"),e(yr,"default")}();var _r,vr,Cr=o(707),Or=o(257),Sr=o(684),kr=(_r=function(){function e(){this._propertyChangeService=Te.V.get("propertyChangeService")}return e.prototype.changeAlign=function(e){this._propertyChangeService.updateStyle(e)},e}(),d()(_r.prototype,"changeAlign",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(_r.prototype,"changeAlign"),_r.prototype),_r),Ir=kr,wr=Ir;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/align-button-use-case.js",localName:t}})}catch(e){}}e(kr,"AlignButtonUseCase"),e(Ir,"default")}();var Pr,jr=(vr=function(){function e(){this._editingService=Te.V.get("editingService")}return e.prototype.erase=function(){this._editingService.eraseComponent()},e}(),d()(vr.prototype,"erase",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(vr.prototype,"erase"),vr.prototype),vr),Tr=jr,Lr=Tr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/delete-button-use-case.js",localName:t}})}catch(e){}}e(jr,"DeleteButtonUseCase"),e(Tr,"default")}();var Er=(Pr=function(){function e(){this._editingService=Te.V.get("editingService")}return e.prototype.erase=function(){this._editingService.erase(void 0,Te.u.RIGHT)},e}(),d()(Pr.prototype,"erase",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(Pr.prototype,"erase"),Pr.prototype),Pr),Nr=Er,xr=Nr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/delete-multi-comp-button-use-case.js",localName:t}})}catch(e){}}e(Er,"DeleteMultiCompButtonUseCase"),e(Nr,"default")}();var Dr,Rr,Ar,Mr,Br,Ur,Vr,Fr,zr=o(12),Wr=o.n(zr),Gr=o(18),Hr=o.n(Gr),qr=(Dr=Object(f.history)({sync:!1}),Rr=Object(f.history)({sync:!1}),Ar=Object(f.history)({sync:!1}),Mr=Object(f.history)({sync:!1}),Br=Object(f.history)({sync:!1}),Ur=Object(f.history)({sync:!1}),Vr=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=Te.V.get("i18n"),t._propertyChangeService=Te.V.get("propertyChangeService"),t._toastLayerService=Te.V.get("toastLayerService"),t._imageEditService=Te.V.get("imageEditService"),t._imageUploadService=Te.V.get("imageUploadService"),t._imageComponentService=Te.V.get("imageComponentService"),t._imageBehavior=Te.V.get("imageBehavior"),t._placeLayerService=Te.V.get("placeLayerService"),t}u()(t,e);var o=t.prototype;return o.changeImage=function(){var e=Hr()(Wr.a.mark(function e(){var t,o,n=this;return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return t=e.sent,o=this._imageComponentService.getFirstSelectedImageComp().id,e.next=6,this._imageBehavior.changeImage({targetStoreId:o,selectedImages:t}).then(function(e){var t=e.invalidImageErrors;return n._imageBehavior.cleanUpImage(t),e});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=Hr()(Wr.a.mark(function e(t){var o;return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageComponentService.getFirstSelectedImageComp().id,e.next=3,this._imageEditService.editImage({activeCompId:o,direct:t});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Hr()(Wr.a.mark(function e(){return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=Hr()(Wr.a.mark(function e(){return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=Hr()(Wr.a.mark(function e(){return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=Hr()(Wr.a.mark(function e(){return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.changeSize=function(e){var t=this._imageComponentService.checkLimitedSize(e),o=t.hasBiggerThanContentWidth,n=t.hasSmallerThanMinHeight,r=t.hasSmallerThanMinWidth,i=e.value,a=i.isReset;this._propertyChangeService.changeSize(i,"image"),a||(o?this._toastLayerService.warningMessage(this._i18n("imageComponent:update_has_bigger_image")):r||r&&n?this._toastLayerService.warningMessage(this._i18n("imageComponent:update_has_smaller_image_width")):n&&this._toastLayerService.warningMessage(this._i18n("imageComponent:update_has_smaller_image")))},o.convertImageToNode=function(){this._imageComponentService.convertImageToNode()},o.editLocation=function(){var e=Hr()(Wr.a.mark(function e(){var t,o,n;return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._imageComponentService.getFirstSelectedImageComp(),o=t.place,t.locationEditable){e.next=5;break}return this._imageComponentService.showLocationMinimumImageWidthWarning(),e.abrupt("return");case 5:return e.next=7,this._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:o?[o]:[]});case 7:(n=e.sent)&&this._imageComponentService.updatePlace(t.id,n.places[0]);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(Te.m),d()(Vr.prototype,"changeImage",[f.sentryCatch,f.preventOnComponentProcessing,Dr,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"changeImage"),Vr.prototype),d()(Vr.prototype,"editImage",[f.sentryCatch,f.preventOnDocumentProcessing,Rr,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"editImage"),Vr.prototype),d()(Vr.prototype,"adjustImage",[f.sentryCatch,f.preventOnDocumentProcessing,Ar,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"adjustImage"),Vr.prototype),d()(Vr.prototype,"cropImage",[f.sentryCatch,f.preventOnDocumentProcessing,Mr,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"cropImage"),Vr.prototype),d()(Vr.prototype,"filterImage",[f.sentryCatch,f.preventOnDocumentProcessing,Br,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"filterImage"),Vr.prototype),d()(Vr.prototype,"changeSize",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"changeSize"),Vr.prototype),d()(Vr.prototype,"convertImageToNode",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"convertImageToNode"),Vr.prototype),d()(Vr.prototype,"editLocation",[f.preventOnComponentProcessing,Ur,h.d],Object.getOwnPropertyDescriptor(Vr.prototype,"editLocation"),Vr.prototype),Vr);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/image-button-use-case.js",localName:t}})}catch(e){}}(qr,"ImageButtonUseCase")}();var Jr=(Fr=function(e){function t(){var t;(t=e.call(this)||this)._toastLayerService=Te.V.get("toastLayerService"),t._propertyChangeService=Te.V.get("propertyChangeService"),t._configAgent=Te.V.get("configAgent"),t._i18n=Te.V.get("i18n"),t._videoComponentService=Te.V.get("videoComponentService");var o=t._configAgent.get("editorInfo");return t._config={videoMinimumWidth:o.videoMinimumWidth,videoMinimumHeight:o.videoMinimumHeight,documentWidth:t._configAgent.get("productConfig.documentWidth")},t}return u()(t,e),t.prototype.changeSize=function(e){var t=this._videoComponentService.checkLimitedSize(e),o=t.hasBiggerThanContentWidth,n=t.hasSmallerThanMinHeight,r=t.hasSmallerThanMinWidth,i=e.value,a=i.isReset;this._propertyChangeService.changeSize(i,"video"),a||(o?this._toastLayerService.warningMessage(this._i18n("video:max_width")):r||r&&n?this._toastLayerService.warningMessage(this._i18n("video:min_width")):n&&this._toastLayerService.warningMessage(this._i18n("video:min_height")))},t}(Te.m),d()(Fr.prototype,"changeSize",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(Fr.prototype,"changeSize"),Fr.prototype),Fr);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/video-button-use-case.js",localName:t}})}catch(e){}}(Jr,"VideoButtonUseCase")}();var Kr,Yr=o(260),Xr=o(117),Qr=o(110),Zr=o(121),$r={CHANGE_MODE:"CHANGE_MODE",INSERT_MODE:"INSERT_MODE"},ei=(Kr=function(){function e(){this._finderService=Te.V.get("finderService"),this._componentFactory=Te.V.get("componentFactory"),this._editingService=Te.V.get("editingService"),this._selectionInfoStore=Te.V.get("selectionInfoStore"),this._propertyChangeService=Te.V.get("propertyChangeService")}var t=e.prototype;return t.changeTextFormat=function(e,t){var o=e.value;this._propertyChangeService.changeTextFormat(o,t)},t.changeTextLayout=function(e,t,o){var n=this._getUpdatedModes();n===$r.CHANGE_MODE?this._changeTextLayout(e,t,o):n===$r.INSERT_MODE&&this._insertComponentByLayout(e,t)},t.isEnabledTextLayout=function(e){void 0===e&&(e=[]);var t=this._finderService.getSelectedComponents(),o=1===t.length;return!Object(Zr.a)(t,function(t){var n=t.ctype;return o&&Object(Qr.a)(e,n)||t.isCaptionFocused&&t.isCaptionFocused()})},t._changeTextLayout=function(e,t,o){this._propertyChangeService.changeTextFormat(e,void 0,o),this._propertyChangeService.changeLayout(t)},t._insertComponentByLayout=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:e,layout:t});this._editingService.insert({sourceComponents:[o]})},t._getUpdatedModes=function(){var e=this._selectionInfoStore.mode,t=this._finderService.getSelectedComponents();switch(e){case Te.O.BLOCK:return $r.CHANGE_MODE;case Te.O.SINGLE_COMP:case Te.O.MULTI_COMP:return $r.INSERT_MODE;case Te.O.CURSOR:return["sectionTitle","text"].includes(Object(Xr.a)(t).ctype)?$r.CHANGE_MODE:$r.INSERT_MODE}return $r.CHANGE_MODE},e}(),d()(Kr.prototype,"changeTextFormat",[f.history,h.d],Object.getOwnPropertyDescriptor(Kr.prototype,"changeTextFormat"),Kr.prototype),d()(Kr.prototype,"changeTextLayout",[f.history,h.d],Object.getOwnPropertyDescriptor(Kr.prototype,"changeTextLayout"),Kr.prototype),Kr),ti=ei,oi=ti;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/text-format-button-use-case.js",localName:t}})}catch(e){}}e($r,"UPDATE_MODES"),e(ei,"TextFormatButtonUseCase"),e(ti,"default")}();var ni,ri=function(e){function t(){var t;return(t=e.call(this)||this)._target="library",t._documentToolbarLayoutService=Te.V.get("documentToolbarLayoutService"),t._panelContainerLayerService=Te.V.get("panelContainerLayerService"),t._libraryPanelLayoutService=Te.V.get("libraryPanelLayoutService"),t}return u()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._libraryPanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o)})},t}(Te.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/library-button-use-case.js",localName:t}})}catch(e){}}(ri,"LibraryButtonUseCase")}();var ii,ai=(ni=function(){function e(){this._specialLetterLayerService=Te.V.get("specialLetterLayerService")}return e.prototype.openSpecialLetter=function(e){this._specialLetterLayerService.toggle(e)},e}(),d()(ni.prototype,"openSpecialLetter",[h.d],Object.getOwnPropertyDescriptor(ni.prototype,"openSpecialLetter"),ni.prototype),ni);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/special-letter-button-use-case.js",localName:t}})}catch(e){}}(ai,"SpecialLetterButtonUseCase")}();var si=(ii=function(){function e(){this._componentFactory=Te.V.get("componentFactory"),this._editingService=Te.V.get("editingService")}return e.prototype.insertSourceCode=function(){var e=this._componentFactory.createComponentWithCompData({ctype:"code"});this._editingService.insert({sourceComponents:[e]})},e}(),d()(ii.prototype,"insertSourceCode",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(ii.prototype,"insertSourceCode"),ii.prototype),ii);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/code-insert-use-case.js",localName:t}})}catch(e){}}(si,"CodeInsertUseCase")}();var ci,li=o(699),ui=o(701),pi=o(390),di=o(702),hi=(ci=function(){function e(){this._editingService=Te.V.get("editingService"),this._tableComponentService=Te.V.get("tableComponentService")}return e.prototype.insertTable=function(){var e=this._tableComponentService.createComponent();this._editingService.insert({sourceComponents:[e]})},e}(),d()(ci.prototype,"insertTable",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(ci.prototype,"insertTable"),ci.prototype),ci);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/table-insert-use-case.js",localName:t}})}catch(e){}}(hi,"TableInsertUseCase")}();var fi,mi,gi,yi=o(754),bi=o(648),_i=1,vi=(fi=Object(f.history)({sync:!1}),mi=function(){function e(){this._configAgent=Te.V.get("configAgent"),this._eventDispatcherService=Te.V.get("eventDispatcherService"),this._componentListStore=Te.V.get("componentListStore"),this._editingService=Te.V.get("editingService"),this._toastLayerService=Te.V.get("toastLayerService"),this._audioUploadService=Te.V.get("audioUploadService"),this._audioComponentService=Te.V.get("audioComponentService"),this._i18n=Te.V.get("i18n"),this.audioMaxUploadCount=this._configAgent.get("infraConfig.audio.maxUploadCount")||_i}var t=e.prototype;return t.insertAudio=function(){var e=Hr()(Wr.a.mark(function e(){var t,o,n,r,i,a,s=this;return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isOverMaxUploadCount()){e.next=3;break}return this._showOverMaxUploadError(),e.abrupt("return");case 3:return e.next=5,this._audioUploadService.openFileDialog();case 5:if(t=e.sent,o=t.validFiles,n=t.invalidFiles,r=o[0]||{},!(n.length>0)){e.next=12;break}return this._showErrorMessage(this._i18n("audioInsertUseCase:error_invalid_ext")),e.abrupt("return");case 12:if(!this._isOverFileSizeLimit(r.size)){e.next=15;break}return this._showFileSizeLimitMessage(),e.abrupt("return");case 15:return i=this._audioComponentService.createAudioComponent(r),a=i.id,this._eventDispatcherService.emit(Te.z.IN_PROGRESS),this._editingService.insert({sourceComponents:[i]}),e.next=21,this._audioUploadService.uploadLocalFile(r,a,{progress:this._onUploadProgress.bind(this)}).then(function(e){s._onUploadSuccess(e,a)}).catch(function(e){s._onUploadError(e,a)});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._isOverMaxUploadCount=function(){return this._componentListStore.countBy("audio")>=this.audioMaxUploadCount},t._isOverFileSizeLimit=function(e){return e>this._configAgent.get("infraConfig.audio.maxAudioUploadSize")},t._showOverMaxUploadError=function(){var e=this._i18n("limits:audio_description_exceeded_count_by_max",{maxcount:this.audioMaxUploadCount});this._showErrorMessage(e)},t._showFileSizeLimitMessage=function(){var e=this._configAgent.get("infraConfig.audio.maxAudioUploadSize"),t=bi.a.convertToMB(e),o=this._i18n("audioComponent:audio_upload_limit_size_msg",{maxlength:t+"MB"});this._showErrorMessage(o)},t._onUploadProgress=function(e,t){this._audioComponentService.updateProgress(t,e)},t._onUploadSuccess=function(e,t){this._audioComponentService.updateComponent(t,e),this._eventDispatcherService.emit(Te.z.PROGRESS_COMPLETED)},t._onUploadError=function(e,t){this._removeAudioComponent(t),this._showErrorMessage(this._i18n("audioComponent:upload_server_error_msg")),this._eventDispatcherService.emit(Te.z.PROGRESS_COMPLETED)},t._showErrorMessage=function(e){this._toastLayerService.warningMessage(e)},t._removeAudioComponent=function(e){this._editingService.eraseComponent(e)},e}(),d()(mi.prototype,"insertAudio",[f.sentryCatch,f.preventOnComponentProcessing,fi,h.d],Object.getOwnPropertyDescriptor(mi.prototype,"insertAudio"),mi.prototype),mi);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/audio-insert-use-case.js",localName:t}})}catch(e){}}e(_i,"DEFAULT_AUDIO_MAX_UPLOAD_COUNT"),e(vi,"AudioInsertUseCase")}();var Ci=(gi=function(){function e(){this._cloudSnsLayerService=Te.V.get("cloudSnsLayerService")}return e.prototype.openPopup=function(){this._cloudSnsLayerService.open()},e}(),d()(gi.prototype,"openPopup",[f.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(gi.prototype,"openPopup"),gi.prototype),gi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/social-media-image-insert-use-case.js",localName:t}})}catch(e){}}(Ci,"SocialMediaImageInsertUseCase")}();var Oi,Si,ki=(Oi=function(e){function t(){var t;return(t=e.call(this)||this)._hasCloudAPI=!!t._configAgent.get("apiInfo.addNCloudFile"),t}return u()(t,e),t.prototype.insertFile=function(){this._hasCloudAPI?this._fileUploadLayerService.open():this.uploadLocalFile()},t}(o(680).a),d()(Oi.prototype,"insertFile",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(Oi.prototype,"insertFile"),Oi.prototype),Oi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/file-insert-use-case.js",localName:t}})}catch(e){}}(ki,"FileInsertUseCase")}();var Ii,wi=(Si=function(){function e(){this._linkLayerService=Te.V.get("linkLayerService")}return e.prototype.openLinkLayer=function(){this._linkLayerService.open()},e}(),d()(Si.prototype,"openLinkLayer",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(Si.prototype,"openLinkLayer"),Si.prototype),Si);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/oglink-insert-use-case.js",localName:t}})}catch(e){}}(wi,"OglinkInsertUseCase")}();var Pi,ji=(Ii=function(){function e(){this._placeLayerService=Te.V.get("placeLayerService")}return e.prototype.openPlacePopup=function(){this._placeLayerService.openPlacePopup()},e}(),d()(Ii.prototype,"openPlacePopup",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(Ii.prototype,"openPlacePopup"),Ii.prototype),Ii);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/map-insert-use-case.js",localName:t}})}catch(e){}}(ji,"MapInsertUseCase")}();var Ti=(Pi=function(){function e(){this._scheduleLayerService=Te.V.get("scheduleLayerService")}return e.prototype.openScheduleLayer=function(){this._scheduleLayerService.open()},e}(),d()(Pi.prototype,"openScheduleLayer",[f.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(Pi.prototype,"openScheduleLayer"),Pi.prototype),Pi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/schedule-insert-use-case.js",localName:t}})}catch(e){}}(Ti,"ScheduleInsertUseCase")}();var Li,Ei=o(703),Ni=function(e){function t(){var t;return(t=e.call(this)||this)._target="moment",t._documentToolbarLayoutService=Te.V.get("documentToolbarLayoutService"),t._panelContainerLayerService=Te.V.get("panelContainerLayerService"),t._momentPanelLayoutService=Te.V.get("momentPanelLayoutService"),t}return u()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._momentPanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o)})},t}(Te.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/moment-button-use-case.js",localName:t}})}catch(e){}}(Ni,"MomentButtonUseCase")}();var xi=(Li=function(){function e(){this._spellCheckLayoutService=Te.V.get("spellCheckLayoutService"),this._toastLayerService=Te.V.get("toastLayerService"),this._loadingLayerService=Te.V.get("loadingLayerService"),this._i18n=Te.V.get("i18n"),this._alertLayerService=Te.V.get("alertLayerService")}var t=e.prototype;return t.startSpellCheck=function(){var e=this._spellCheckLayoutService.getParagraphList();0===e.length?this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata")):this._spellCheck(e)},t._spellCheck=function(){var e=Hr()(Wr.a.mark(function e(t){var o;return Wr.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadingLayerService.open(),e.next=3,this._spellCheckLayoutService.getResultSpellCheck(t);case 3:if(o=e.sent,!1!==this._isValidCheckResult(o)){e.next=6;break}return e.abrupt("return");case 6:this._loadingLayerService.close(),this._spellCheckLayoutService.startSpellCheck(o);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._isValidCheckResult=function(e){return e.aborted?(this._loadingLayerService.close(),!1):e.failed?(this._loadingLayerService.close(),this._alertLayerService.open({type:"alert",title:this._i18n("spellCheckLayout:spell_check_fail_title"),description:this._i18n("spellCheckLayout:spell_check_fail")}),!1):0!==e.length||(this._loadingLayerService.close(),this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata")),!1)},e}(),d()(Li.prototype,"startSpellCheck",[h.d],Object.getOwnPropertyDescriptor(Li.prototype,"startSpellCheck"),Li.prototype),Li);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/speller-button-use-case.js",localName:t}})}catch(e){}}(xi,"SpellerButtonUseCase")}();var Di,Ri,Ai=o(694),Mi=o(695),Bi=(Di=function(e){function t(){var t;return(t=e.call(this)||this)._wrappingParagraphComponentService=Te.V.get("wrappingParagraphComponentService"),t}return u()(t,e),t.prototype.changeWrappingLayout=function(e){var t=e.value;this._wrappingParagraphComponentService.composeWrappingComponent(t)},t}(Te.m),d()(Di.prototype,"changeWrappingLayout",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(Di.prototype,"changeWrappingLayout"),Di.prototype),Di);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/wrapping-layout-button-use-case.js",localName:t}})}catch(e){}}(Bi,"ComposeTextArrangementButtonUseCase")}();var Ui,Vi=(Ri=function(){function e(){this._finderService=Te.V.get("finderService"),this._translationLayerService=Te.V.get("translationLayerService")}return e.prototype.open=function(){var e=this._finderService.getPlainTextWithinSelection();this._translationLayerService.open(e)},e}(),d()(Ri.prototype,"open",[h.d],Object.getOwnPropertyDescriptor(Ri.prototype,"open"),Ri.prototype),Ri);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/translation-button-use-case.js",localName:t}})}catch(e){}}(Vi,"TranslationButtonUseCase")}();var Fi,zi=(Ui=function(){function e(){this._imageTagLayerService=Te.V.get("imageTagLayerService"),this._selectionInfoStore=Te.V.get("selectionInfoStore"),this._imageComponentService=Te.V.get("imageComponentService"),this._alertLayerService=Te.V.get("alertLayerService"),this._i18n=Te.V.get("i18n")}var t=e.prototype;return t._getActiveCompId=function(){return this._selectionInfoStore.start.compId},t.openImageTagPopup=function(){var e=this,t=this._getActiveCompId();this._imageComponentService.isLinkedImage(t)?this._alertLayerService.open({type:"confirm",title:this._i18n("imageTag:confirm_added_link_title"),description:this._i18n("imageTag:confirm_convert_to_tag_description"),onClickConfirm:function(){return e._openImageTagLayer(t)},onClickCancel:function(){return e._alertLayerService.close()}}):this._openImageTagLayer(t)},t._openImageTagLayer=function(e){var t=this._imageComponentService.getMediaTagData(e),o=t.src,n=t.width,r=t.height,i={compId:e,imageUrl:o,tags:t.mediaTags,width:n,height:r};this._imageTagLayerService.open(i)},e}(),d()(Ui.prototype,"openImageTagPopup",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(Ui.prototype,"openImageTagPopup"),Ui.prototype),Ui);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/image-tag-button-use-case.js",localName:t}})}catch(e){}}(zi,"ImageTagButtonUseCase")}();var Wi=(Fi=function(e){function t(){var t;return(t=e.call(this)||this)._talktalkEditLayerService=Te.V.get("talktalkEditLayerService"),t}return u()(t,e),t.prototype.openTalktalkEditLayer=function(){this._talktalkEditLayerService.open()},t}(Te.m),d()(Fi.prototype,"openTalktalkEditLayer",[h.d],Object.getOwnPropertyDescriptor(Fi.prototype,"openTalktalkEditLayer"),Fi.prototype),Fi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/talktalk-insert-button-use-case.js",localName:t}})}catch(e){}}(Wi,"TalktalkInsertButtonUseCase")}(),o.d(t,"a",function(){return Hi});var Gi={"align-drop-down":{view:_,useCase:wr,propertyName:"align",styleName:"align"},"align-drop-down-with-justify":{view:S,useCase:wr,propertyName:"align",styleName:"align"},"align-drop-down-without-right":{view:w,useCase:wr,propertyName:"align",styleName:"align"},"align-group":{view:F,useCase:wr,propertyName:"align",styleName:"align"},"align-group-with-justify":{view:H,useCase:wr,propertyName:"align",styleName:"align"},"align-group-without-right":{view:K,useCase:wr,propertyName:"align",styleName:"align"},"caption-align-group":{view:F,useCase:wr,propertyName:"caption.align",styleName:"align"},"background-color":{view:$,useCase:Or.a,propertyName:"backgroundColor",styleName:"background-color",option:{storagePolicy:{key:"backgroundColor",property:"recentColors"}}},"separator-bar":{view:ne,useCase:Or.a,propertyName:"separatorBar",styleName:"separator-bar"},bold:{view:ce,useCase:Or.a,propertyName:"bold",styleName:"bold"},"to-text":{view:pn,useCase:oi,propertyName:"toText",styleName:"to-text"},"cycle-align":{view:N,useCase:wr,propertyName:"align",styleName:"align"},"cycle-align-with-justify":{view:R,useCase:wr,propertyName:"align",styleName:"align"},"caption-align":{view:N,useCase:wr,propertyName:"caption.align",styleName:"align"},"caption-bold":{view:ce,useCase:Or.a,propertyName:"caption.bold",styleName:"bold"},"caption-link":{view:et,useCase:Sr.a,propertyName:"caption.link.url",styleName:"link"},"content-mode-group":{view:ue.a,useCase:Yr.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-without-default":{view:pe.a,useCase:Yr.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-without-extend-pagefull":{view:fe,useCase:Yr.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-without-pagefull":{view:be.a,useCase:Yr.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-fit-and-extend":{view:ye.a,useCase:Yr.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-justify":{view:_e.a,useCase:Yr.a,propertyName:"contentMode",styleName:"object-arrangement-fit"},delete:{view:ve.a,useCase:Lr,styleName:"delete"},"drop-cap":{view:Se,useCase:Or.a,propertyName:"dropCap",styleName:"drop-cap"},"font-color":{view:we,useCase:Or.a,propertyName:"fontColor",styleName:"font-color",option:{storagePolicy:{key:"fontColor",property:"recentColors"}}},"font-family":{view:De,useCase:Or.a,propertyName:"fontFamily",styleName:"font-family"},"font-size":{view:Be,useCase:Or.a,propertyName:"fontSizeCode",styleName:"font-size-code"},"image-link":{view:et,useCase:Sr.a,propertyName:"link.value",styleName:"link"},italic:{view:ze,useCase:Or.a,propertyName:"italic",styleName:"italic"},"line-height":{view:Je,useCase:Or.a,propertyName:"lineHeight",styleName:"line-height"},"text-link":{view:et,useCase:Sr.a,propertyName:"link.url",styleName:"link"},"quotation-layout":{view:ot.a,useCase:Yr.a,propertyName:"layout",styleName:"quotation"},"section-title-layout":{view:it,useCase:Yr.a,propertyName:"layout",styleName:"section-title"},"special-letter":{view:ht,useCase:ai,styleName:"special-letter"},speller:{view:yt,useCase:xi,styleName:"speller"},sticker:{view:on,useCase:Ai.a,styleName:"sticker"},strikethrough:{view:Ct,useCase:Or.a,propertyName:"strikeThrough",styleName:"strikethrough"},subscript:{view:It,useCase:Or.a,propertyName:"subscript",styleName:"subscript"},superscript:{view:jt,useCase:Or.a,propertyName:"superscript",styleName:"superscript"},template:{view:an,useCase:Mi.a,styleName:"template"},"text-format":{view:Et.a,useCase:oi,propertyName:"textFormat",styleName:"text-format"},"text-format-drop-down":{view:At,useCase:oi,propertyName:"textLayout",styleName:"text-format"},underline:{view:Ut,useCase:Or.a,propertyName:"underline",styleName:"underline"},"wrapping-layout-drop-down":{view:zt.a,useCase:Bi,styleName:"text-arrangement"},"wrapping-layout-group":{view:Wt.a,useCase:Bi,propertyName:"wrappingLayout",styleName:"text-arrangement"},code:{view:Yt,useCase:si,styleName:"code"},"horizontal-line":{view:to,useCase:li.a,styleName:"insert-horizontal-line"},image:{view:ro.a,useCase:ui.a,styleName:"image"},formula:{view:so,useCase:pi.a,styleName:"formula"},quotation:{view:po,useCase:di.a,styleName:"insert-quotation"},table:{view:go,useCase:hi,styleName:"table"},video:{view:vo,useCase:yi.a,styleName:"video"},audio:{view:ko,useCase:vi,styleName:"audio"},"social-media-image":{view:jo,useCase:Ci,styleName:"social-media-image"},file:{view:No,useCase:ki,styleName:"file"},library:{view:qt,useCase:ri,styleName:"library"},oglink:{view:Ao,useCase:wi,styleName:"oglink"},map:{view:Vo,useCase:ji,styleName:"map"},schedule:{view:Go,useCase:Ti,styleName:"schedule"},search:{view:Ko,useCase:Ei.a,styleName:"search"},"to-quotation":{view:cn.a,useCase:oi,styleName:"to-quotation"},"image-edit-right-label":{view:fn.a,useCase:qr,styleName:"image-edit"},"image-edit":{view:mn.a,useCase:qr,styleName:"image-edit"},"image-adjust":{view:gn.a,useCase:qr,styleName:"image-adjust"},"image-crop":{view:yn.a,useCase:qr,styleName:"image-crop"},"image-filter":{view:bn.a,useCase:qr,styleName:"image-filter"},"image-replacement":{view:_n.a,useCase:qr,styleName:"image-replacement"},"image-resizing":{view:vn.a,useCase:qr,propertyName:"size",styleName:"resizing"},"image-location":{view:Cr.a,useCase:qr,styleName:"image-location"},"video-resizing":{view:kn,useCase:Jr,propertyName:"size",styleName:"resizing"},"inline-image":{view:Pn,useCase:qr,styleName:"inline-image"},"delete-with-selection":{view:ve.a,useCase:xr,styleName:"delete"},"additional-button":{view:qn,useCase:function(){},styleName:"additional-button"},"more-view":{view:ar,useCase:function(){},styleName:"more-view"},list:{view:lr,useCase:Or.a,propertyName:"list",styleName:"list"},"image-tag":{view:mr,useCase:zi,propertyName:"mediaTags",styleName:"image-tag"},talktalk:{view:br,useCase:Wi,styleName:"talktalk"},moment:{view:Zo,useCase:Ni,styleName:"moment"},translation:{view:Ln,useCase:Vi,styleName:"translation"},"translation-right-label":{view:xn,useCase:Vi,styleName:"translation"}};function Hi(e){return Gi[e]}var qi={getDefaultButton:Hi};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(Gi,"buttons"),e(Hi,"getDefaultButton"),e(qi,"default")}()},81:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o.n(a),c=o(50),l=o(48),u=o(335),p=o(51),d=o(53),h=o.n(d),f=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=l.b.createRef(),o}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){var e=this.props.store;e&&(this._disposeReaction=l.f.reaction(function(){return e.selection},this._handleSelectionChange))},o.componentDidMount=function(){var e=this.props.store;e&&this._updateSelectionClass(e.selection)},o.componentWillUnmount=function(){this._disposeReaction&&this._disposeReaction()},o.render=function(){var e=this.props,t=e.className,o=e.id,n=e.ctype,r=e.layout,i=e.contentMode,a=e.children,s=e.head,c=e.tail,u=e.i18n,p=this._resolveClassName({className:t,ctype:n,layout:r}),d=this._resolveContentClassName(i),h=this._resolveTitle(n,u),f=this._renderEdgeButton();return l.b.createElement("div",{ref:this._elementRef,className:p,id:o,"data-compid":o,"data-a11y-title":h},f,s,l.b.createElement("div",{className:d,ref:this._ref},a),c)},o._ref=function(e){this.content=e},o._handleSelectionChange=function(e){this._updateSelectionClass(e)},o._updateSelectionClass=function(e){var t=this._elementRef.current;"none"===e?t.classList.remove("se-is-selected"):t.classList.add("se-is-selected")},o._resolveClassName=function(e){var t,o=e.className,n=e.ctype,r=e.layout,i=((t={})["se-component se-"+n]=!!n,t["se-l-"+(r||"default")]=!0,t);if(this._elementRef.current){var a=this._elementRef.current;i["se-is-selected"]=a.classList.contains("se-is-selected")}return h()([o,i])},o._resolveContentClassName=function(e){var t,o=this.props.contentClassName;return h()(((t={})[o]=!!o,t["se-component-content"]=!0,t["se-component-content-"+e]=!!e,t))},o._resolveTitle=function(){var e=this.props,t=e.ctype;return(0,e.i18n)(t+"Component:title","")},o._renderEdgeButton=function(){var e=this.props,t=e.id,o=e.ctype;return!["documentTitle","text","sectionTitle"].includes(o)?l.b.createElement("button",{className:"se-component-edge-button se-component-edge-button-top __edge-area",type:"button","tab-index":"-1","data-compid":t,"data-direction":c.x.TOP}):null},t}(l.b.Component),s()(n.prototype,"_ref",[p.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),s()(n.prototype,"_handleSelectionChange",[p.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleSelectionChange"),n.prototype),n);f.defaultProps={id:"",ctype:"",layout:"",contentMode:"",className:"",head:null,tail:null,children:null},f.propTypes={id:l.a.string,store:l.a.instanceOf(c.b),forwardRef:l.a.oneOfType([l.a.func,l.a.shape({current:l.a.instanceOf(Element)})]),ctype:l.a.string,layout:l.a.string,contentMode:l.a.string,className:l.a.string,contentClassName:l.a.string,head:l.a.element,tail:l.a.element,children:l.a.node,i18n:l.a.func.isRequired};var m=Object(u.b)(f);t.a=m,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/component-wrapper/index.jsx",localName:t}})}catch(e){}}e(f,"ComponentWrapper"),e(m,"default")}()},82:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(48),s=o(335),c=o(53),l=o.n(c),u=o(50),p=((n={})[u.x.TOP]="se-drop-indicator-top",n[u.x.LEFT]="se-drop-indicator-left",n[u.x.RIGHT]="se-drop-indicator-right",n[u.x.BOTTOM]="se-drop-indicator-bottom",n),d=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.children,o=e.unitId,n=e.compId,r=e.style,i=this._resolveClassName();return a.b.createElement("div",{className:i,style:r,"data-unitid":o,"data-compid":n,"data-direction":u.x.TOP},t)},o._resolveClassName=function(){var e=this.props,t=e.compStore,o=e.className,n=t.dragAndDrop,r=n.isOnDrop,i=n.direction,a=["se-drop-indicator",o];return r&&a.push(p[i]),l()(a)},t}(a.b.Component);d.defaultProps={compId:"",unitId:"",children:null,compStore:{dragAndDrop:{isOnDrop:!1,direction:"",dragDataType:""}},className:"",style:{}},d.propTypes={compId:a.a.string,unitId:a.a.string,children:a.a.oneOfType([a.a.element,a.a.array]),compStore:a.a.object,style:a.a.object,className:a.a.string};var h=Object(s.b)(d);t.a=h,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/drop-indicator/index.jsx",localName:t}})}catch(e){}}e(p,"INDICATE_CLASSNAME_MAP"),e(d,"DropIndicator"),e(h,"default")}()},84:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(49),p=o.n(u),d=o(48),h=o(335),f=o(50),m=o(53),g=o.n(m),y=o(51),b=function(e){return!!(e&f.J.UP)},_=function(e){return!!(e&f.J.DOWN)},v=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._i18n=f.V.get("i18n"),o.state={containerWidth:1/0},o}l()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){var e=this.props.container;if(e){var t=e.current;this._updateContainerWidth(t)}},o.componentWillUnmount=function(){this._clearTimeout()},o.render=function(){var e=this.props.blockWrapperProps,t=e.captionFocused,o=void 0!==t&&t,n=e.selection,r=e.movableType,i=e.imageLoaded,a=void 0===i||i,s=(e.contentMode,e.align),c={display:"block"};!a||o||"single"!==n||r===f.J.NONE?(c.display="none",this._displayed=!1):this._displayed=!0;var l=this.state.containerWidth<100&&(!s||"left"===s||"justify"===s),u=g()({"se-component-layer-move":!0,"se-component-layer-move-position-right":!l,"se-component-layer-move-position-left":l});return d.b.createElement("div",{className:u,style:c},d.b.createElement("button",{type:"button",className:"se-component-button-move se-component-button-move-up",disabled:!b(r),onClick:this._handleMoveToPrev},d.b.createElement("span",{className:"se-blind"},this._i18n("verticalMoveButton:up"))),d.b.createElement("button",{type:"button",className:"se-component-button-move se-component-button-move-down",disabled:!_(r),onClick:this._handleMoveToNext},d.b.createElement("span",{className:"se-blind"},this._i18n("verticalMoveButton:down"))))},o._updateContainerWidth=function(e){var t=this;e&&e.offsetWidth<10?(this._clearTimeout(),this._timer=setTimeout(function(){t.setState(function(){return{containerWidth:e.offsetWidth}})},300)):this.state.containerWidth!==e.offsetWidth&&this.setState(function(){return{containerWidth:e.offsetWidth}})},o._clearTimeout=function(){this._timer&&clearTimeout(this._timer)},o._handleMoveToPrev=function(){this.props.onMoveToPrev()},o._handleMoveToNext=function(){this.props.onMoveToNext()},t}(d.b.Component),p()(n.prototype,"_handleMoveToPrev",[y.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToPrev"),n.prototype),p()(n.prototype,"_handleMoveToNext",[y.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToNext"),n.prototype),n);v.defaultProps={movableType:0,blockWrapperProps:{},onMoveToPrev:function(){},onMoveToNext:function(){}},v.propTypes={movableType:d.a.number,onMoveToPrev:d.a.func,onMoveToNext:d.a.func,blockWrapperProps:d.a.object,container:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})])};var C,O=Object(h.b)(v),S=O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/block-wrapper/vertical-move-button.jsx",localName:t}})}catch(e){}}e(b,"isShowUp"),e(_,"isShowDown"),e(v,"VerticalMoveButton"),e(O,"default")}();var k="se-is-block-selected",I=(C=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=d.b.createRef(),o._originBlockWrapperProps=null,o._deviceType=null,o}l()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._deviceType=f.V.get("configAgent").get("productEnv.deviceType"),this._observeSelectionChanged()},o.componentDidMount=function(){var e=this._decideSelection(this.props.blockWrapperProps.selection);this._updateSelectionClasses(e),this._originBlockWrapperProps=this.props.blockWrapperProps},o.componentDidUpdate=function(){this._wasBlockWrapperChanged()&&this._reobserveSelectionChanged()},o.componentWillUnmount=function(){this._unobserveSelectionChanged()},o.render=function(){var e=this.props,t=(e.forwardRef,e.children),o=e.className,n=e.blockWrapperProps,r=e.hasSelection,a=(e.parentProps,e.onMoveToPrev,e.onMoveToNext,s()(e,["forwardRef","children","className","blockWrapperProps","hasSelection","parentProps","onMoveToPrev","onMoveToNext"])),c=n.ctype,l=this._resolveClassName({className:o,blockWrapperProps:n,hasSelection:r}),u=this._getDOMReference(),p="image"===c||"video"===c;return this._deviceType===f.t.MOBILE&&p?d.b.createElement("div",i()({},a,{className:l,ref:u}),t[0],this._renderVerticalMoveButton(),t[1]):d.b.createElement("div",i()({},a,{className:l,ref:u}),t,this._renderVerticalMoveButton())},o._renderVerticalMoveButton=function(){return this._deviceType===f.t.MOBILE?d.b.createElement(S,i()({},this.props,{container:this._getDOMReference()})):null},o._getDOMReference=function(){return this.props.forwardRef||this._elementRef},o._handleSelectionChange=function(e){var t=e.selection,o=e.blockSelected;this._updateSelectionClasses(this._decideSelection(t,o))},o._updateSelectionClasses=function(e){var t=this._getDOMReference().current;if(t){var o=t.classList,n=this.props.blockWrapperProps.captionFocused,r=void 0!==n&&n;"none"===e?o.remove("se-is-selected"):o.add("se-is-selected"),"single"===e||"multi"===e||r?(o.add("se-is-activated"),o.remove(k)):"block"===e?(o.add(k),o.remove("se-is-activated")):(o.remove(k),o.remove("se-is-activated"))}},o._decideSelection=function(e,t){return t?"block":this.props.hasSelection?e:null},o._resolveClassName=function(e){var t,o=e.className,n=e.blockWrapperProps,r=n.ctype,i=n.layout,a=n.align,s=((t={})["se-section se-section-"+r]=!!r,t["se-l-"+(i||"default")]=!0,t["se-section-align-"+(a||"left")]=!0,t),c=this._getDOMReference().current;if(c){var l=c.classList;s[k]=l.contains(k),s["se-is-selected"]=l.contains("se-is-selected"),s["se-is-activated"]=l.contains("se-is-activated")}return g()([s,o])},o._observeSelectionChanged=function(){var e=this.props,t=e.blockWrapperProps,o=e.parentProps,n=void 0===o?{}:o;this._disposeReaction=d.f.reaction(function(){return{selection:t.selection,blockSelected:n.isBlockSelected}},this._handleSelectionChange,{fireImmediately:!0}),this._originBlockWrapperProps=t},o._unobserveSelectionChanged=function(){this._disposeReaction()},o._reobserveSelectionChanged=function(){this._unobserveSelectionChanged(),this._observeSelectionChanged()},o._wasBlockWrapperChanged=function(){return this._originBlockWrapperProps!==this.props.blockWrapperProps},t}(d.b.Component),p()(C.prototype,"_handleSelectionChange",[y.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleSelectionChange"),C.prototype),C);I.defaultProps={className:"",children:null,blockWrapperProps:{},hasSelection:!0,onMoveToPrev:function(){},onMoveToNext:function(){}},I.propTypes={forwardRef:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})]),className:d.a.string,children:d.a.oneOfType([d.a.element,d.a.array]),blockWrapperProps:d.a.object,hasSelection:d.a.bool,onMoveToNext:d.a.func,onMoveToPrev:d.a.func};var w=Object(h.b)(I);t.a=w;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/block-wrapper/index.jsx",localName:t}})}catch(e){}}e(k,"blockedClass"),e("se-is-selected","selectedClass"),e("se-is-activated","activatedClass"),e(I,"BlockWrapper"),e(w,"default")}()},88:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(54),a=o.n(i),s=o(60),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=(o(61),o(49)),f=o.n(h),m=o(126),g=o(154),y=o(51),b=o(48),_=o(335),v=o(86),C=function(){function e(e,t){this._prevElement=null,this._callback=e,this._replacement=t}var t=e.prototype;return t.replaceWith=function(e){var t=this;e&&e!==this._prevElement&&(this._stop(),this._prevElement=e,this._replacement.add(e,function(e){t._callback(e)}))},t.stop=function(){this._stop()},t._stop=function(){this._prevElement&&this._replacement.remove(this._prevElement)},e}(),O=function(){function e(e){var t=this;this._elementMap=new WeakMap,this._callback=function(e){e.forEach(function(e){var o=e.target;t._elementMap.get(o)(e)})},this._io=new IntersectionObserver(this._callback,e)}var t=e.prototype;return t.add=function(e,t){this._elementMap.has(e)||(this._elementMap.set(e,t),this._io.observe(e))},t.remove=function(e){this._elementMap.delete(e),this._io.unobserve(e)},t.disconnect=function(){this._elementMap.clear(),this._io.disconnect()},t.createItem=function(e){return new C(e,this)},e}(),S={_replacements:[],create:function(e){if(!e)throw new Error("need options");var t=this._replacements.find(function(t){return Object(v.a)(t.key,e)});return t?t.value:(this._replacements.push(t={key:e,value:new O(e)}),t.value)}},k=S,I=k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/img/intersection-observer-controller.js",localName:t}})}catch(e){}}e(C,"ReplaceItem"),e(O,"Replacement"),e(S,"IntersectionObserverController"),e(k,"default")}();var w,P,j=o(50);o.d(t,"a",function(){return T});var T={lazyLoad:Symbol("lazyLoad"),normal:Symbol("normal"),autoReplace:Symbol("autoReplace")},L=function(){function e(e,t){void 0===e&&(e={}),this._dataArray=[],this._reverseArray=[],this._map=null,this._maxLength=10,this._map=new Map(Object.entries(e)),this._dataArray=Object.keys(e),this._maxLength=t}var t=e.prototype;return t.get=function(e){return this.has(e)?this._map.get(e):null},t.set=function(e,t){var o=this._dataArray.length,n=this._reverseArray.length,r=o+n,i=this.has(e);if(r>=this._maxLength&&!i){var a=this._maxLength+1-r,s=a-n;s<=0?this._deleteCount(a):(this._deleteCount(this._reverseArray.length),this._reverseArray=this._dataArray.reverse(),this._dataArray=[],this._deleteCount(s))}i||this._dataArray.push(e),this._map.set(e,t)},t.has=function(e){return this._map.has(e)},t._deleteCount=function(e){for(var t=0;t<e;t++){var o=this._reverseArray.pop();this._delete(o)}},t._delete=function(e){this._map.delete(e)},e}(),E=function(e){return function(t,o){void 0===t&&(t="auto"),void 0===o&&(o="auto");var n=t+","+o;if(e.has(n))return e.get(n);var r="data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+o+'" viewBox="0 0 '+t+" "+o+'"><rect width="100%" height="100%" fill="#FCFCFC"/></svg>');return e.set(n,r),r}}(new L({},100)),N=function(e){return e!==T.normal},x=(w=function(e){function t(t){var o;(o=e.call(this,t)||this)._mounted=!1,c()(o,"_shown",P,u()(o)),o.state={src:null,imageWidth:0,imageHeight:0},o._domAccessor=j.V.get("domAccessor"),o._elementRef=t.elementRef||b.b.createRef();var n=o._domAccessor.getScrollTarget(),r=n&&"BODY"===n.nodeName?void 0:n;return o._replacement=I.create({root:r,threshold:0,rootMargin:"100% 0% 100% 0%"}),o._resetIOC(),o}d()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._mounted=!0,this._loadImageSource(this.props)},o.componentDidMount=function(){this._replace.replaceWith(this._elementRef.current)},o.UNSAFE_componentWillReceiveProps=function(e){this._loadImageSource(e)},o.componentDidUpdate=function(e){this.props.type!==e.type&&this._resetIOC(),this._replace.replaceWith(this._elementRef.current)},o.componentWillUnmount=function(){this._mounted=!1,this._replace.stop()},o.render=function(){var e=this.state,t=e.src,o=e.imageWidth,n=e.imageHeight,r=this.props,i=r.width,s=r.height,c=r.originalWidth,l=r.originalHeight,u=this._filterImageAttrs(),p=o||c||i,d=n||l||s;return t&&this._isVisible(this.props)?b.b.createElement("img",a()({ref:this._elementRef,src:t},u)):!t&&p&&d?b.b.createElement("img",a()({ref:this._elementRef,src:E(p,d)},u)):b.b.createElement("span",{ref:this._elementRef})},o._filterImageAttrs=function(){return Object(m.a)(this.props,["src","onLoad","onError","forceTriggerOnloadEvent","originalHeight","originalWidth","elementRef","type"])},o._isVisible=function(e){return this.context.readOnly||!N(e.type)||this._shown},o._loadImageSource=function(e){var t=e.forceTriggerOnloadEvent,o=e.src;if((t||this.state.src!==o)&&"string"==typeof o&&this._isVisible(e)){var n=new Image;n.onerror=this._handleOnError,n.onload=this._handleOnLoad.bind(this,e),n.src=o}},o._handleOnLoad=function(e,t){if(this._mounted){var o=t.currentTarget;(e.forceTriggerOnloadEvent||o.src!==this.state.src)&&(N(this.props.type)||(this._shown=!0),this.setState({src:o.src,imageWidth:o.width,imageHeight:o.height}),this._callOnLoadEvent(o))}},o._callOnLoadEvent=function(e){var t=this._filterImageAttrs(),o=Object(g.a)(e,["width","height"]);this.props.onLoad(r()({},e,o,t))},o._handleOnError=function(e){this._mounted&&(this.setState({src:null}),this.props.onError(e))},o._replaceCallback=function(e){return e.isIntersecting!==this._shown&&(this.props.type!==T.autoReplace&&this._shown||(this._shown=!this._shown),this._shown&&this._loadImageSource(this.props),!0)},o._resetIOC=function(){this._replace&&this._replace.stop(),N(this.props.type)&&this._domAccessor.getBodyContainer()?this._replace=this._replacement.createItem(this._replaceCallback):this._replace={replaceWith:function(){},stop:function(){}}},t}(b.b.Component),f()(w.prototype,"_handleOnLoad",[y.autobind],Object.getOwnPropertyDescriptor(w.prototype,"_handleOnLoad"),w.prototype),f()(w.prototype,"_handleOnError",[y.autobind],Object.getOwnPropertyDescriptor(w.prototype,"_handleOnError"),w.prototype),f()(w.prototype,"_replaceCallback",[y.autobind],Object.getOwnPropertyDescriptor(w.prototype,"_replaceCallback"),w.prototype),P=f()(w.prototype,"_shown",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w);x.defaultProps={elementRef:null,src:null,onLoad:function(){},onError:function(){},forceTriggerOnloadEvent:!1,type:T.normal},x.propTypes={elementRef:b.a.oneOfType([b.a.func,b.a.shape({current:b.a.instanceOf(Element)})]),src:b.a.oneOfType([b.a.string,b.a.object]),onLoad:b.a.func,onError:b.a.func,forceTriggerOnloadEvent:b.a.bool,type:b.a.symbol};var D=Object(_.b)(x);t.b=D;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/img/index.jsx",localName:t}})}catch(e){}}e(T,"TYPE"),e(L,"Cache"),e(E,"getDummy"),e(N,"isNeedIOC"),e(x,"Img"),e(D,"default")}()},94:function(e,t,o){"use strict";var n,r=o(54),i=o.n(r),a=o(0),s=o.n(a),c=o(49),l=o.n(c),u=o(48),p=o(53),d=o.n(p),h=o(1190),f=o(50),m=o(1026),g=o(51),y=o(57),b=o.n(y),_=o(1027),v=o.n(_),C=o(64),O=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this).bindDragStart=o._bindDragStart.bind(b()(o)),o.bindDragMove=o._bindDragMove.bind(b()(o)),o.bindDragEnd=o._bindDragEnd.bind(b()(o)),o.bindPointerDown=o._bindPointerDown.bind(b()(o)),o.bindPointerMove=o._bindPointerMove.bind(b()(o)),o.bindPointerUp=o._bindPointerUp.bind(b()(o)),o._draggable=null,o.rootElement=null,o}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._draggable=this.createDraggable(this.rootElement,{containment:".se-wrap"}),this._draggable.on("dragStart",this.bindDragStart),this._draggable.on("dragMove",this.bindDragMove),this._draggable.on("dragEnd",this.bindDragEnd),this._draggable.on("pointerDown",this.bindPointerDown),this._draggable.on("pointerMove",this.bindPointerMove),this._draggable.on("pointerUp",this.bindPointerUp)},o.componentWillUnmount=function(){this._draggable.off("dragStart",this.bindDragStart),this._draggable.off("dragMove",this.bindDragMove),this._draggable.off("dragEnd",this.bindDragEnd),this._draggable.off("pointerDown",this.bindPointerDown),this._draggable.off("pointerMove",this.bindPointerMove),this._draggable.off("pointerUp",this.bindPointerUp),this._draggable.destroy()},o.render=function(){var e=this.props,t=e.inlineStyle,o=e.className,n=Object(C.a)({},t),r=d()(["__dragHandler","draggable",o]);return u.b.createElement("div",{className:r,ref:this._ref,style:n},this.props.children)},o._ref=function(e){this.rootElement=e},o.createDraggable=function(e,t){return new v.a(e,t)},o._bindDragStart=function(e,t){this.props.dragStart(e,t)},o._bindDragMove=function(e,t,o){this.props.dragMove(e,t,o)},o._bindDragEnd=function(e,t){this.props.dragEnd(e,t)},o._bindPointerDown=function(e,t){this.props.pointerDown(e,t)},o._bindPointerMove=function(e,t,o){this.props.pointerMove(e,t,o)},o._bindPointerUp=function(e,t){this.props.pointerUp(e,t)},t}(u.b.Component),l()(n.prototype,"_ref",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);O.defaultProps={children:null,dragStart:function(){},dragMove:function(){},dragEnd:function(){},pointerDown:function(){},pointerMove:function(){},pointerUp:function(){},inlineStyle:{},className:""},O.propTypes={children:u.a.element,dragStart:u.a.func,dragMove:u.a.func,dragEnd:u.a.func,pointerDown:u.a.func,pointerMove:u.a.func,pointerUp:u.a.func,inlineStyle:u.a.object,className:u.a.string};var S=O,k=S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/drag-handler/index.jsx",localName:t}})}catch(e){}}e(O,"DragHandler"),e(S,"default")}();var I,w=o(240),P=o(649),j={top:"se-popup-position-top",bottom:"se-popup-position-bottom",center:"se-popup-position-center",top_right:"se-popup-position-top-right"},T={white:"se-popup-dim-white",black:"se-popup-dim-black",transparent:"se-popup-dim-transparent"},L=(I=function(e){function t(t){var o;return(o=e.call(this,t)||this)._movePoint={leftPos:0,topPos:0},o._rootRef=u.b.createRef(),o._dragHandlerRef=u.b.createRef(),o._dimmedRef=u.b.createRef(),o._domAccessor=f.V.get("domAccessor"),o._draggingZone=o.props.draggingZone,o}s()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._storeKey="POPUP_POS_"+this.props.popupId,this.setState({popupId:this.props.popupId,opened:this.props.opened||!1,isDimUse:this.props.isDimUse,isDraggable:this.props.isDraggable||!1,position:this._getStartPosition()||null})},o.componentDidMount=function(){this._checkDndPosition(),this._attachEvents()},o.UNSAFE_componentWillReceiveProps=function(e){this.setState(function(t){return{opened:e.opened||!1,isDimUse:e.isDimUse||!1,position:e.position||t.position}})},o.componentDidUpdate=function(){this._checkDndPosition()},o.componentWillUnmount=function(){this._detachEvents()},o.render=function(){var e=this.props,t=e.className,o=e.dimColor,n=e.useFocusLock,r=this.state,i=r.isDraggable,a=r.position,s=r.popupId,c=d()([t||""]),l=d()(["se-popup-dim",T[o]]),p=this._getPositionClass(a),f=d()([].concat(["se-popup",c,p,{"se-popup-draggable":i}])),m={animationDuration:this.state.animationDuration},g=n?h.a:u.b.Fragment;return u.b.createElement(g,null,u.b.createElement("div",{className:f,onMouseUp:this._handleMouseUp,ref:this._rootRef},this._drawDimArea(l),u.b.createElement("div",{className:"se-popup-container __se-pop-layer",style:m,"data-layerid":s},this.props.children),this._drawDragHandler()))},o._attachEvents=function(){this.props.isDraggable&&this._domAccessor.getScrollTarget(window).addEventListener("scroll",this._handleScrollEvent),this._dimmedRef.current&&(this._dimmedRef.current.addEventListener("wheel",this._handleWheelDimmedArea,w.a.NON_PASSIVE_OPTION),this._scrollLock())},o._detachEvents=function(){this._domAccessor.getScrollTarget(window).removeEventListener("scroll",this._handleScrollEvent),this._dimmedRef.current&&(this._dimmedRef.current.removeEventListener("wheel",this._handleWheelDimmedArea,w.a.NON_PASSIVE_OPTION),this._scrollUnLock())},o._handleWheelDimmedArea=function(e){e.preventDefault()},o._scrollLock=function(){if(!this._disableScroll){var e=window,t=e.pageXOffset,o=e.pageYOffset;this._disableScroll=function(){return window.scrollTo(t,o)},window.addEventListener("scroll",this._disableScroll,!1)}},o._scrollUnLock=function(){window.removeEventListener("scroll",this._disableScroll,!1),this._disableScroll=null},o._handleScrollEvent=function(){this._resetPosition()},o._resetPosition=function(){this._movePoint=this._adjustPointToBeContained({x:0,y:0},this.state.position),this.setState({position:this._movePoint})},o._handleMouseUp=function(e){P.a.log(e.nativeEvent)},o._getStartPosition=function(){var e=this.props.position||null;return!this.props.isDraggable||null===this._storeKey||null!==e&&"object"==typeof e?e:m.a.get(this._storeKey)},o._getPositionClass=function(e){return"string"==typeof e&&j[e]||""},o._isModeless=function(){var e=this.state,t=e.isDraggable,o=e.isDimUse;return!0===t||!1===o},o._drawDimArea=function(e){return this._isModeless()?"":u.b.createElement("div",{className:e,onClick:this._handleClickDimmedArea,ref:this._dimmedRef})},o._drawDragHandler=function(){if(!1!==this.state.isDraggable){var e=this.state.position||{},t=e.topPos,o=e.leftPos,n={inlineStyle:{top:(t||0)+"px",left:(o||0)+"px"},className:"se-popup-draghandler",dragMove:this._handleDragMove,dragEnd:this._handleDragEnd};return u.b.createElement(k,i()({},n,{ref:this._dragHandlerRef}))}},o._checkDndPosition=function(){var e=this.state,t=e.opened,o=e.isDraggable,n=e.position;if(!1!==t&&!1!==o)if(null!==n&&"object"==typeof n){var r=this._adjustPointToBeContained({x:0,y:0},n);this._movePopupOn(r)}else this._initializePositionState()},o._movePopupOn=function(e){var t=e.topPos,o=e.leftPos,n=this._rootRef.current;n.style.top=t+"px",n.style.left=o+"px";var r=this._dragHandlerRef.current;r.rootElement.style.top=t+"px",r.rootElement.style.left=o+"px"},o._initializePositionState=function(){var e=this._rootRef.current,t=Math.floor((window.innerHeight-e.offsetHeight)/2),o=Math.floor((window.innerWidth-e.offsetWidth)/2);this._changePositionState({topPos:t,leftPos:o})},o._handleDragMove=function(e,t,o){this._movePoint=this._adjustPointToBeContained(o,this.state.position),this._movePopupOn(this._movePoint)},o._keepInContainer=function(e,t){var o,n,r=this._rootRef.current,i=r.offsetHeight,a=r.offsetWidth,s=0,c=0;if("browser"===this._draggingZone)o=window.innerHeight-i,n=window.innerWidth-a;else{var l=this._domAccessor.getContentContainer().getBoundingClientRect();s=l.top,c=l.left,o=l.bottom-i,n=c+l.width-a}return{topPos:this._getProperPosition(e,s,o),leftPos:this._getProperPosition(t,c,n)}},o._getProperPosition=function(e,t,o){return e>o?o:e<t?t:e},o._adjustPointToBeContained=function(e,t){var o=t.topPos,n=t.leftPos;return this._keepInContainer(o+e.y,n+e.x)},o._handleDragEnd=function(){this._changePositionState(this._movePoint),this.props.onDragEndPopup()},o._handleClickDimmedArea=function(){this.props.useDimClose&&this._closePopup()},o._changePositionState=function(e){this.setState({position:e}),this._storeKey&&m.a.set(this._storeKey,e)},o._closePopup=function(){this.setState({opened:!1})},t}(u.b.Component),l()(I.prototype,"_handleWheelDimmedArea",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleWheelDimmedArea"),I.prototype),l()(I.prototype,"_handleScrollEvent",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleScrollEvent"),I.prototype),l()(I.prototype,"_handleMouseUp",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleMouseUp"),I.prototype),l()(I.prototype,"_handleDragMove",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleDragMove"),I.prototype),l()(I.prototype,"_handleDragEnd",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleDragEnd"),I.prototype),l()(I.prototype,"_handleClickDimmedArea",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleClickDimmedArea"),I.prototype),I);L.defaultProps={popupId:"",opened:!1,isDimUse:!0,useDimClose:!1,isDraggable:!1,useFocusLock:!1,dimColor:"transparent",position:null,children:null,className:"",onDragEndPopup:function(){}},L.propTypes={popupId:u.a.string.isRequired,opened:u.a.bool,isDimUse:u.a.bool,isDraggable:u.a.bool,useFocusLock:u.a.bool,dimColor:u.a.oneOf(["transparent","white","black"]),position:u.a.oneOfType([u.a.string,u.a.shape({topPos:u.a.number,leftPos:u.a.number})]),children:u.a.oneOfType([u.a.element,u.a.array]),className:u.a.string,useDimClose:u.a.bool,onDragEndPopup:u.a.func};var E=L;t.a=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/popup-layer/index.jsx",localName:t}})}catch(e){}}e(j,"POSITION_CLASS"),e(T,"DIM_CLASS"),e(L,"PopupLayer"),e(E,"default")}()}}]);